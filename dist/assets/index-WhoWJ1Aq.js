var CSe=Object.defineProperty;var AY=t=>{throw TypeError(t)};var kSe=(t,e,n)=>e in t?CSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ee=(t,e,n)=>kSe(t,typeof e!="symbol"?e+"":e,n),vP=(t,e,n)=>e.has(t)||AY("Cannot "+n);var H=(t,e,n)=>(vP(t,e,"read from private field"),n?n.call(t):e.get(t)),ve=(t,e,n)=>e.has(t)?AY("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),te=(t,e,n,r)=>(vP(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Fe=(t,e,n)=>(vP(t,e,"access private method"),n);var l0=(t,e,n,r)=>({set _(i){te(t,e,i,n)},get _(){return H(t,e,r)}});function SSe(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ql=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Ks(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function w3(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Wce={exports:{}},OI={},Hce={exports:{}},_n={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uA=Symbol.for("react.element"),_Se=Symbol.for("react.portal"),ISe=Symbol.for("react.fragment"),TSe=Symbol.for("react.strict_mode"),$Se=Symbol.for("react.profiler"),NSe=Symbol.for("react.provider"),PSe=Symbol.for("react.context"),RSe=Symbol.for("react.forward_ref"),jSe=Symbol.for("react.suspense"),OSe=Symbol.for("react.memo"),MSe=Symbol.for("react.lazy"),CY=Symbol.iterator;function DSe(t){return t===null||typeof t!="object"?null:(t=CY&&t[CY]||t["@@iterator"],typeof t=="function"?t:null)}var Vce={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qce=Object.assign,Gce={};function b3(t,e,n){this.props=t,this.context=e,this.refs=Gce,this.updater=n||Vce}b3.prototype.isReactComponent={};b3.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};b3.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Kce(){}Kce.prototype=b3.prototype;function Kz(t,e,n){this.props=t,this.context=e,this.refs=Gce,this.updater=n||Vce}var Yz=Kz.prototype=new Kce;Yz.constructor=Kz;qce(Yz,b3.prototype);Yz.isPureReactComponent=!0;var kY=Array.isArray,Yce=Object.prototype.hasOwnProperty,Qz={current:null},Qce={key:!0,ref:!0,__self:!0,__source:!0};function Zce(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Yce.call(e,r)&&!Qce.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:uA,type:t,key:s,ref:o,props:i,_owner:Qz.current}}function BSe(t,e){return{$$typeof:uA,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zz(t){return typeof t=="object"&&t!==null&&t.$$typeof===uA}function LSe(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var SY=/\/+/g;function xP(t,e){return typeof t=="object"&&t!==null&&t.key!=null?LSe(""+t.key):e.toString(36)}function g9(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case uA:case _Se:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+xP(o,0):r,kY(i)?(n="",t!=null&&(n=t.replace(SY,"$&/")+"/"),g9(i,e,n,"",function(c){return c})):i!=null&&(Zz(i)&&(i=BSe(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(SY,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",kY(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+xP(s,a);o+=g9(s,e,n,l,i)}else if(l=DSe(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+xP(s,a++),o+=g9(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function NC(t,e,n){if(t==null)return t;var r=[],i=0;return g9(t,r,"","",function(s){return e.call(n,s,i++)}),r}function FSe(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ga={current:null},y9={transition:null},USe={ReactCurrentDispatcher:ga,ReactCurrentBatchConfig:y9,ReactCurrentOwner:Qz};function Jce(){throw Error("act(...) is not supported in production builds of React.")}_n.Children={map:NC,forEach:function(t,e,n){NC(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return NC(t,function(){e++}),e},toArray:function(t){return NC(t,function(e){return e})||[]},only:function(t){if(!Zz(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_n.Component=b3;_n.Fragment=ISe;_n.Profiler=$Se;_n.PureComponent=Kz;_n.StrictMode=TSe;_n.Suspense=jSe;_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=USe;_n.act=Jce;_n.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qce({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Qz.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Yce.call(e,l)&&!Qce.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:uA,type:t.type,key:i,ref:s,props:r,_owner:o}};_n.createContext=function(t){return t={$$typeof:PSe,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NSe,_context:t},t.Consumer=t};_n.createElement=Zce;_n.createFactory=function(t){var e=Zce.bind(null,t);return e.type=t,e};_n.createRef=function(){return{current:null}};_n.forwardRef=function(t){return{$$typeof:RSe,render:t}};_n.isValidElement=Zz;_n.lazy=function(t){return{$$typeof:MSe,_payload:{_status:-1,_result:t},_init:FSe}};_n.memo=function(t,e){return{$$typeof:OSe,type:t,compare:e===void 0?null:e}};_n.startTransition=function(t){var e=y9.transition;y9.transition={};try{t()}finally{y9.transition=e}};_n.unstable_act=Jce;_n.useCallback=function(t,e){return ga.current.useCallback(t,e)};_n.useContext=function(t){return ga.current.useContext(t)};_n.useDebugValue=function(){};_n.useDeferredValue=function(t){return ga.current.useDeferredValue(t)};_n.useEffect=function(t,e){return ga.current.useEffect(t,e)};_n.useId=function(){return ga.current.useId()};_n.useImperativeHandle=function(t,e,n){return ga.current.useImperativeHandle(t,e,n)};_n.useInsertionEffect=function(t,e){return ga.current.useInsertionEffect(t,e)};_n.useLayoutEffect=function(t,e){return ga.current.useLayoutEffect(t,e)};_n.useMemo=function(t,e){return ga.current.useMemo(t,e)};_n.useReducer=function(t,e,n){return ga.current.useReducer(t,e,n)};_n.useRef=function(t){return ga.current.useRef(t)};_n.useState=function(t){return ga.current.useState(t)};_n.useSyncExternalStore=function(t,e,n){return ga.current.useSyncExternalStore(t,e,n)};_n.useTransition=function(){return ga.current.useTransition()};_n.version="18.3.1";Hce.exports=_n;var x=Hce.exports;const Ae=Ks(x),N4=SSe({__proto__:null,default:Ae},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zSe=x,WSe=Symbol.for("react.element"),HSe=Symbol.for("react.fragment"),VSe=Object.prototype.hasOwnProperty,qSe=zSe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GSe={key:!0,ref:!0,__self:!0,__source:!0};function Xce(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)VSe.call(e,r)&&!GSe.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:WSe,type:t,key:s,ref:o,props:i,_owner:qSe.current}}OI.Fragment=HSe;OI.jsx=Xce;OI.jsxs=Xce;Wce.exports=OI;var d=Wce.exports,eue={exports:{}},nc={},tue={exports:{}},nue={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(_,P){var L=_.length;_.push(P);e:for(;0<L;){var O=L-1>>>1,I=_[O];if(0<i(I,P))_[O]=P,_[L]=I,L=O;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var P=_[0],L=_.pop();if(L!==P){_[0]=L;e:for(var O=0,I=_.length,D=I>>>1;O<D;){var Y=2*(O+1)-1,M=_[Y],Q=Y+1,ee=_[Q];if(0>i(M,L))Q<I&&0>i(ee,M)?(_[O]=ee,_[Q]=L,O=Q):(_[O]=M,_[Y]=L,O=Y);else if(Q<I&&0>i(ee,L))_[O]=ee,_[Q]=L,O=Q;else break e}}return P}function i(_,P){var L=_.sortIndex-P.sortIndex;return L!==0?L:_.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(_){for(var P=n(c);P!==null;){if(P.callback===null)r(c);else if(P.startTime<=_)r(c),P.sortIndex=P.expirationTime,e(l,P);else break;P=n(c)}}function A(_){if(g=!1,b(_),!m)if(n(l)!==null)m=!0,S(E);else{var P=n(c);P!==null&&T(A,P.startTime-_)}}function E(_,P){m=!1,g&&(g=!1,w(R),R=-1),p=!0;var L=f;try{for(b(P),h=n(l);h!==null&&(!(h.expirationTime>P)||_&&!W());){var O=h.callback;if(typeof O=="function"){h.callback=null,f=h.priorityLevel;var I=O(h.expirationTime<=P);P=t.unstable_now(),typeof I=="function"?h.callback=I:h===n(l)&&r(l),b(P)}else r(l);h=n(l)}if(h!==null)var D=!0;else{var Y=n(c);Y!==null&&T(A,Y.startTime-P),D=!1}return D}finally{h=null,f=L,p=!1}}var $=!1,N=null,R=-1,j=5,F=-1;function W(){return!(t.unstable_now()-F<j)}function V(){if(N!==null){var _=t.unstable_now();F=_;var P=!0;try{P=N(!0,_)}finally{P?B():($=!1,N=null)}}else $=!1}var B;if(typeof v=="function")B=function(){v(V)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,C=k.port2;k.port1.onmessage=V,B=function(){C.postMessage(null)}}else B=function(){y(V,0)};function S(_){N=_,$||($=!0,B())}function T(_,P){R=y(function(){_(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_){_.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,S(E))},t.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<_?Math.floor(1e3/_):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(_){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var L=f;f=P;try{return _()}finally{f=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_,P){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var L=f;f=_;try{return P()}finally{f=L}},t.unstable_scheduleCallback=function(_,P,L){var O=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?O+L:O):L=O,_){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=L+I,_={id:u++,callback:P,priorityLevel:_,startTime:L,expirationTime:I,sortIndex:-1},L>O?(_.sortIndex=L,e(c,_),n(l)===null&&_===n(c)&&(g?(w(R),R=-1):g=!0,T(A,L-O))):(_.sortIndex=I,e(l,_),m||p||(m=!0,S(E))),_},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(_){var P=f;return function(){var L=f;f=P;try{return _.apply(this,arguments)}finally{f=L}}}})(nue);tue.exports=nue;var KSe=tue.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YSe=x,Gl=KSe;function Ze(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rue=new Set,P4={};function Ew(t,e){hx(t,e),hx(t+"Capture",e)}function hx(t,e){for(P4[t]=e,t=0;t<e.length;t++)rue.add(e[t])}var Np=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zM=Object.prototype.hasOwnProperty,QSe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_Y={},IY={};function ZSe(t){return zM.call(IY,t)?!0:zM.call(_Y,t)?!1:QSe.test(t)?IY[t]=!0:(_Y[t]=!0,!1)}function JSe(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XSe(t,e,n,r){if(e===null||typeof e>"u"||JSe(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ya(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var qs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qs[t]=new ya(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qs[e]=new ya(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qs[t]=new ya(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qs[t]=new ya(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qs[t]=new ya(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qs[t]=new ya(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qs[t]=new ya(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qs[t]=new ya(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qs[t]=new ya(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jz=/[\-:]([a-z])/g;function Xz(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jz,Xz);qs[e]=new ya(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jz,Xz);qs[e]=new ya(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jz,Xz);qs[e]=new ya(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qs[t]=new ya(t,1,!1,t.toLowerCase(),null,!1,!1)});qs.xlinkHref=new ya("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qs[t]=new ya(t,1,!1,t.toLowerCase(),null,!0,!0)});function eW(t,e,n,r){var i=qs.hasOwnProperty(e)?qs[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XSe(e,n,i,r)&&(n=null),r||i===null?ZSe(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var n0=YSe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,PC=Symbol.for("react.element"),ev=Symbol.for("react.portal"),tv=Symbol.for("react.fragment"),tW=Symbol.for("react.strict_mode"),WM=Symbol.for("react.profiler"),iue=Symbol.for("react.provider"),sue=Symbol.for("react.context"),nW=Symbol.for("react.forward_ref"),HM=Symbol.for("react.suspense"),VM=Symbol.for("react.suspense_list"),rW=Symbol.for("react.memo"),K0=Symbol.for("react.lazy"),oue=Symbol.for("react.offscreen"),TY=Symbol.iterator;function y5(t){return t===null||typeof t!="object"?null:(t=TY&&t[TY]||t["@@iterator"],typeof t=="function"?t:null)}var si=Object.assign,EP;function f6(t){if(EP===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);EP=e&&e[1]||""}return`
`+EP+t}var AP=!1;function CP(t,e){if(!t||AP)return"";AP=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{AP=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?f6(t):""}function e_e(t){switch(t.tag){case 5:return f6(t.type);case 16:return f6("Lazy");case 13:return f6("Suspense");case 19:return f6("SuspenseList");case 0:case 2:case 15:return t=CP(t.type,!1),t;case 11:return t=CP(t.type.render,!1),t;case 1:return t=CP(t.type,!0),t;default:return""}}function qM(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tv:return"Fragment";case ev:return"Portal";case WM:return"Profiler";case tW:return"StrictMode";case HM:return"Suspense";case VM:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sue:return(t.displayName||"Context")+".Consumer";case iue:return(t._context.displayName||"Context")+".Provider";case nW:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rW:return e=t.displayName||null,e!==null?e:qM(t.type)||"Memo";case K0:e=t._payload,t=t._init;try{return qM(t(e))}catch{}}return null}function t_e(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qM(e);case 8:return e===tW?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function lg(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function aue(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function n_e(t){var e=aue(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function RC(t){t._valueTracker||(t._valueTracker=n_e(t))}function lue(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=aue(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function OS(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function GM(t,e){var n=e.checked;return si({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $Y(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=lg(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cue(t,e){e=e.checked,e!=null&&eW(t,"checked",e,!1)}function KM(t,e){cue(t,e);var n=lg(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?YM(t,e.type,n):e.hasOwnProperty("defaultValue")&&YM(t,e.type,lg(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function NY(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function YM(t,e,n){(e!=="number"||OS(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var p6=Array.isArray;function Fv(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+lg(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function QM(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ze(91));return si({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function PY(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ze(92));if(p6(n)){if(1<n.length)throw Error(Ze(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:lg(n)}}function uue(t,e){var n=lg(e.value),r=lg(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function RY(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function due(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ZM(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?due(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jC,hue=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jC=jC||document.createElement("div"),jC.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jC.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function R4(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var z6={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r_e=["Webkit","ms","Moz","O"];Object.keys(z6).forEach(function(t){r_e.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),z6[e]=z6[t]})});function fue(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||z6.hasOwnProperty(t)&&z6[t]?(""+e).trim():e+"px"}function pue(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fue(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var i_e=si({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function JM(t,e){if(e){if(i_e[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ze(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ze(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ze(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ze(62))}}function XM(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eD=null;function iW(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tD=null,Uv=null,zv=null;function jY(t){if(t=fA(t)){if(typeof tD!="function")throw Error(Ze(280));var e=t.stateNode;e&&(e=FI(e),tD(t.stateNode,t.type,e))}}function mue(t){Uv?zv?zv.push(t):zv=[t]:Uv=t}function gue(){if(Uv){var t=Uv,e=zv;if(zv=Uv=null,jY(t),e)for(t=0;t<e.length;t++)jY(e[t])}}function yue(t,e){return t(e)}function wue(){}var kP=!1;function bue(t,e,n){if(kP)return t(e,n);kP=!0;try{return yue(t,e,n)}finally{kP=!1,(Uv!==null||zv!==null)&&(wue(),gue())}}function j4(t,e){var n=t.stateNode;if(n===null)return null;var r=FI(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ze(231,e,typeof n));return n}var nD=!1;if(Np)try{var w5={};Object.defineProperty(w5,"passive",{get:function(){nD=!0}}),window.addEventListener("test",w5,w5),window.removeEventListener("test",w5,w5)}catch{nD=!1}function s_e(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var W6=!1,MS=null,DS=!1,rD=null,o_e={onError:function(t){W6=!0,MS=t}};function a_e(t,e,n,r,i,s,o,a,l){W6=!1,MS=null,s_e.apply(o_e,arguments)}function l_e(t,e,n,r,i,s,o,a,l){if(a_e.apply(this,arguments),W6){if(W6){var c=MS;W6=!1,MS=null}else throw Error(Ze(198));DS||(DS=!0,rD=c)}}function Aw(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vue(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function OY(t){if(Aw(t)!==t)throw Error(Ze(188))}function c_e(t){var e=t.alternate;if(!e){if(e=Aw(t),e===null)throw Error(Ze(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return OY(i),t;if(s===r)return OY(i),e;s=s.sibling}throw Error(Ze(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ze(189))}}if(n.alternate!==r)throw Error(Ze(190))}if(n.tag!==3)throw Error(Ze(188));return n.stateNode.current===n?t:e}function xue(t){return t=c_e(t),t!==null?Eue(t):null}function Eue(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Eue(t);if(e!==null)return e;t=t.sibling}return null}var Aue=Gl.unstable_scheduleCallback,MY=Gl.unstable_cancelCallback,u_e=Gl.unstable_shouldYield,d_e=Gl.unstable_requestPaint,$i=Gl.unstable_now,h_e=Gl.unstable_getCurrentPriorityLevel,sW=Gl.unstable_ImmediatePriority,Cue=Gl.unstable_UserBlockingPriority,BS=Gl.unstable_NormalPriority,f_e=Gl.unstable_LowPriority,kue=Gl.unstable_IdlePriority,MI=null,Nh=null;function p_e(t){if(Nh&&typeof Nh.onCommitFiberRoot=="function")try{Nh.onCommitFiberRoot(MI,t,void 0,(t.current.flags&128)===128)}catch{}}var id=Math.clz32?Math.clz32:y_e,m_e=Math.log,g_e=Math.LN2;function y_e(t){return t>>>=0,t===0?32:31-(m_e(t)/g_e|0)|0}var OC=64,MC=4194304;function m6(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function LS(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=m6(a):(s&=o,s!==0&&(r=m6(s)))}else o=n&~i,o!==0?r=m6(o):s!==0&&(r=m6(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-id(e),i=1<<n,r|=t[n],e&=~i;return r}function w_e(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b_e(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-id(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=w_e(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function iD(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Sue(){var t=OC;return OC<<=1,!(OC&4194240)&&(OC=64),t}function SP(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function dA(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-id(e),t[e]=n}function v_e(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-id(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function oW(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-id(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var lr=0;function _ue(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Iue,aW,Tue,$ue,Nue,sD=!1,DC=[],qm=null,Gm=null,Km=null,O4=new Map,M4=new Map,im=[],x_e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function DY(t,e){switch(t){case"focusin":case"focusout":qm=null;break;case"dragenter":case"dragleave":Gm=null;break;case"mouseover":case"mouseout":Km=null;break;case"pointerover":case"pointerout":O4.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":M4.delete(e.pointerId)}}function b5(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=fA(e),e!==null&&aW(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function E_e(t,e,n,r,i){switch(e){case"focusin":return qm=b5(qm,t,e,n,r,i),!0;case"dragenter":return Gm=b5(Gm,t,e,n,r,i),!0;case"mouseover":return Km=b5(Km,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return O4.set(s,b5(O4.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,M4.set(s,b5(M4.get(s)||null,t,e,n,r,i)),!0}return!1}function Pue(t){var e=ky(t.target);if(e!==null){var n=Aw(e);if(n!==null){if(e=n.tag,e===13){if(e=vue(n),e!==null){t.blockedOn=e,Nue(t.priority,function(){Tue(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function w9(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=oD(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);eD=r,n.target.dispatchEvent(r),eD=null}else return e=fA(n),e!==null&&aW(e),t.blockedOn=n,!1;e.shift()}return!0}function BY(t,e,n){w9(t)&&n.delete(e)}function A_e(){sD=!1,qm!==null&&w9(qm)&&(qm=null),Gm!==null&&w9(Gm)&&(Gm=null),Km!==null&&w9(Km)&&(Km=null),O4.forEach(BY),M4.forEach(BY)}function v5(t,e){t.blockedOn===e&&(t.blockedOn=null,sD||(sD=!0,Gl.unstable_scheduleCallback(Gl.unstable_NormalPriority,A_e)))}function D4(t){function e(i){return v5(i,t)}if(0<DC.length){v5(DC[0],t);for(var n=1;n<DC.length;n++){var r=DC[n];r.blockedOn===t&&(r.blockedOn=null)}}for(qm!==null&&v5(qm,t),Gm!==null&&v5(Gm,t),Km!==null&&v5(Km,t),O4.forEach(e),M4.forEach(e),n=0;n<im.length;n++)r=im[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<im.length&&(n=im[0],n.blockedOn===null);)Pue(n),n.blockedOn===null&&im.shift()}var Wv=n0.ReactCurrentBatchConfig,FS=!0;function C_e(t,e,n,r){var i=lr,s=Wv.transition;Wv.transition=null;try{lr=1,lW(t,e,n,r)}finally{lr=i,Wv.transition=s}}function k_e(t,e,n,r){var i=lr,s=Wv.transition;Wv.transition=null;try{lr=4,lW(t,e,n,r)}finally{lr=i,Wv.transition=s}}function lW(t,e,n,r){if(FS){var i=oD(t,e,n,r);if(i===null)MP(t,e,r,US,n),DY(t,r);else if(E_e(i,t,e,n,r))r.stopPropagation();else if(DY(t,r),e&4&&-1<x_e.indexOf(t)){for(;i!==null;){var s=fA(i);if(s!==null&&Iue(s),s=oD(t,e,n,r),s===null&&MP(t,e,r,US,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else MP(t,e,r,null,n)}}var US=null;function oD(t,e,n,r){if(US=null,t=iW(r),t=ky(t),t!==null)if(e=Aw(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vue(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return US=t,null}function Rue(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(h_e()){case sW:return 1;case Cue:return 4;case BS:case f_e:return 16;case kue:return 536870912;default:return 16}default:return 16}}var Om=null,cW=null,b9=null;function jue(){if(b9)return b9;var t,e=cW,n=e.length,r,i="value"in Om?Om.value:Om.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return b9=i.slice(t,1<r?1-r:void 0)}function v9(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function BC(){return!0}function LY(){return!1}function rc(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?BC:LY,this.isPropagationStopped=LY,this}return si(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=BC)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=BC)},persist:function(){},isPersistent:BC}),e}var v3={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uW=rc(v3),hA=si({},v3,{view:0,detail:0}),S_e=rc(hA),_P,IP,x5,DI=si({},hA,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dW,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==x5&&(x5&&t.type==="mousemove"?(_P=t.screenX-x5.screenX,IP=t.screenY-x5.screenY):IP=_P=0,x5=t),_P)},movementY:function(t){return"movementY"in t?t.movementY:IP}}),FY=rc(DI),__e=si({},DI,{dataTransfer:0}),I_e=rc(__e),T_e=si({},hA,{relatedTarget:0}),TP=rc(T_e),$_e=si({},v3,{animationName:0,elapsedTime:0,pseudoElement:0}),N_e=rc($_e),P_e=si({},v3,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),R_e=rc(P_e),j_e=si({},v3,{data:0}),UY=rc(j_e),O_e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M_e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D_e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B_e(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=D_e[t])?!!e[t]:!1}function dW(){return B_e}var L_e=si({},hA,{key:function(t){if(t.key){var e=O_e[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=v9(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?M_e[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dW,charCode:function(t){return t.type==="keypress"?v9(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?v9(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),F_e=rc(L_e),U_e=si({},DI,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zY=rc(U_e),z_e=si({},hA,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dW}),W_e=rc(z_e),H_e=si({},v3,{propertyName:0,elapsedTime:0,pseudoElement:0}),V_e=rc(H_e),q_e=si({},DI,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G_e=rc(q_e),K_e=[9,13,27,32],hW=Np&&"CompositionEvent"in window,H6=null;Np&&"documentMode"in document&&(H6=document.documentMode);var Y_e=Np&&"TextEvent"in window&&!H6,Oue=Np&&(!hW||H6&&8<H6&&11>=H6),WY=" ",HY=!1;function Mue(t,e){switch(t){case"keyup":return K_e.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Due(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nv=!1;function Q_e(t,e){switch(t){case"compositionend":return Due(e);case"keypress":return e.which!==32?null:(HY=!0,WY);case"textInput":return t=e.data,t===WY&&HY?null:t;default:return null}}function Z_e(t,e){if(nv)return t==="compositionend"||!hW&&Mue(t,e)?(t=jue(),b9=cW=Om=null,nv=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Oue&&e.locale!=="ko"?null:e.data;default:return null}}var J_e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VY(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!J_e[t.type]:e==="textarea"}function Bue(t,e,n,r){mue(r),e=zS(e,"onChange"),0<e.length&&(n=new uW("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var V6=null,B4=null;function X_e(t){Yue(t,0)}function BI(t){var e=sv(t);if(lue(e))return t}function e7e(t,e){if(t==="change")return e}var Lue=!1;if(Np){var $P;if(Np){var NP="oninput"in document;if(!NP){var qY=document.createElement("div");qY.setAttribute("oninput","return;"),NP=typeof qY.oninput=="function"}$P=NP}else $P=!1;Lue=$P&&(!document.documentMode||9<document.documentMode)}function GY(){V6&&(V6.detachEvent("onpropertychange",Fue),B4=V6=null)}function Fue(t){if(t.propertyName==="value"&&BI(B4)){var e=[];Bue(e,B4,t,iW(t)),bue(X_e,e)}}function t7e(t,e,n){t==="focusin"?(GY(),V6=e,B4=n,V6.attachEvent("onpropertychange",Fue)):t==="focusout"&&GY()}function n7e(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return BI(B4)}function r7e(t,e){if(t==="click")return BI(e)}function i7e(t,e){if(t==="input"||t==="change")return BI(e)}function s7e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hd=typeof Object.is=="function"?Object.is:s7e;function L4(t,e){if(hd(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zM.call(e,i)||!hd(t[i],e[i]))return!1}return!0}function KY(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function YY(t,e){var n=KY(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=KY(n)}}function Uue(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Uue(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zue(){for(var t=window,e=OS();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=OS(t.document)}return e}function fW(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function o7e(t){var e=zue(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Uue(n.ownerDocument.documentElement,n)){if(r!==null&&fW(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=YY(n,s);var o=YY(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var a7e=Np&&"documentMode"in document&&11>=document.documentMode,rv=null,aD=null,q6=null,lD=!1;function QY(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lD||rv==null||rv!==OS(r)||(r=rv,"selectionStart"in r&&fW(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),q6&&L4(q6,r)||(q6=r,r=zS(aD,"onSelect"),0<r.length&&(e=new uW("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=rv)))}function LC(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var iv={animationend:LC("Animation","AnimationEnd"),animationiteration:LC("Animation","AnimationIteration"),animationstart:LC("Animation","AnimationStart"),transitionend:LC("Transition","TransitionEnd")},PP={},Wue={};Np&&(Wue=document.createElement("div").style,"AnimationEvent"in window||(delete iv.animationend.animation,delete iv.animationiteration.animation,delete iv.animationstart.animation),"TransitionEvent"in window||delete iv.transitionend.transition);function LI(t){if(PP[t])return PP[t];if(!iv[t])return t;var e=iv[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Wue)return PP[t]=e[n];return t}var Hue=LI("animationend"),Vue=LI("animationiteration"),que=LI("animationstart"),Gue=LI("transitionend"),Kue=new Map,ZY="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kg(t,e){Kue.set(t,e),Ew(e,[t])}for(var RP=0;RP<ZY.length;RP++){var jP=ZY[RP],l7e=jP.toLowerCase(),c7e=jP[0].toUpperCase()+jP.slice(1);kg(l7e,"on"+c7e)}kg(Hue,"onAnimationEnd");kg(Vue,"onAnimationIteration");kg(que,"onAnimationStart");kg("dblclick","onDoubleClick");kg("focusin","onFocus");kg("focusout","onBlur");kg(Gue,"onTransitionEnd");hx("onMouseEnter",["mouseout","mouseover"]);hx("onMouseLeave",["mouseout","mouseover"]);hx("onPointerEnter",["pointerout","pointerover"]);hx("onPointerLeave",["pointerout","pointerover"]);Ew("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ew("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ew("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ew("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ew("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ew("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var g6="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u7e=new Set("cancel close invalid load scroll toggle".split(" ").concat(g6));function JY(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,l_e(r,e,void 0,t),t.currentTarget=null}function Yue(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;JY(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;JY(i,a,c),s=l}}}if(DS)throw t=rD,DS=!1,rD=null,t}function Rr(t,e){var n=e[fD];n===void 0&&(n=e[fD]=new Set);var r=t+"__bubble";n.has(r)||(Que(e,t,2,!1),n.add(r))}function OP(t,e,n){var r=0;e&&(r|=4),Que(n,t,r,e)}var FC="_reactListening"+Math.random().toString(36).slice(2);function F4(t){if(!t[FC]){t[FC]=!0,rue.forEach(function(n){n!=="selectionchange"&&(u7e.has(n)||OP(n,!1,t),OP(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[FC]||(e[FC]=!0,OP("selectionchange",!1,e))}}function Que(t,e,n,r){switch(Rue(e)){case 1:var i=C_e;break;case 4:i=k_e;break;default:i=lW}n=i.bind(null,e,n,t),i=void 0,!nD||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function MP(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ky(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}bue(function(){var c=s,u=iW(n),h=[];e:{var f=Kue.get(t);if(f!==void 0){var p=uW,m=t;switch(t){case"keypress":if(v9(n)===0)break e;case"keydown":case"keyup":p=F_e;break;case"focusin":m="focus",p=TP;break;case"focusout":m="blur",p=TP;break;case"beforeblur":case"afterblur":p=TP;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=FY;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=I_e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=W_e;break;case Hue:case Vue:case que:p=N_e;break;case Gue:p=V_e;break;case"scroll":p=S_e;break;case"wheel":p=G_e;break;case"copy":case"cut":case"paste":p=R_e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=zY}var g=(e&4)!==0,y=!g&&t==="scroll",w=g?f!==null?f+"Capture":null:f;g=[];for(var v=c,b;v!==null;){b=v;var A=b.stateNode;if(b.tag===5&&A!==null&&(b=A,w!==null&&(A=j4(v,w),A!=null&&g.push(U4(v,A,b)))),y)break;v=v.return}0<g.length&&(f=new p(f,m,null,n,u),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==eD&&(m=n.relatedTarget||n.fromElement)&&(ky(m)||m[Pp]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?ky(m):null,m!==null&&(y=Aw(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=FY,A="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=zY,A="onPointerLeave",w="onPointerEnter",v="pointer"),y=p==null?f:sv(p),b=m==null?f:sv(m),f=new g(A,v+"leave",p,n,u),f.target=y,f.relatedTarget=b,A=null,ky(u)===c&&(g=new g(w,v+"enter",m,n,u),g.target=b,g.relatedTarget=y,A=g),y=A,p&&m)t:{for(g=p,w=m,v=0,b=g;b;b=ib(b))v++;for(b=0,A=w;A;A=ib(A))b++;for(;0<v-b;)g=ib(g),v--;for(;0<b-v;)w=ib(w),b--;for(;v--;){if(g===w||w!==null&&g===w.alternate)break t;g=ib(g),w=ib(w)}g=null}else g=null;p!==null&&XY(h,f,p,g,!1),m!==null&&y!==null&&XY(h,y,m,g,!0)}}e:{if(f=c?sv(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=e7e;else if(VY(f))if(Lue)E=i7e;else{E=n7e;var $=t7e}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=r7e);if(E&&(E=E(t,c))){Bue(h,E,n,u);break e}$&&$(t,f,c),t==="focusout"&&($=f._wrapperState)&&$.controlled&&f.type==="number"&&YM(f,"number",f.value)}switch($=c?sv(c):window,t){case"focusin":(VY($)||$.contentEditable==="true")&&(rv=$,aD=c,q6=null);break;case"focusout":q6=aD=rv=null;break;case"mousedown":lD=!0;break;case"contextmenu":case"mouseup":case"dragend":lD=!1,QY(h,n,u);break;case"selectionchange":if(a7e)break;case"keydown":case"keyup":QY(h,n,u)}var N;if(hW)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else nv?Mue(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Oue&&n.locale!=="ko"&&(nv||R!=="onCompositionStart"?R==="onCompositionEnd"&&nv&&(N=jue()):(Om=u,cW="value"in Om?Om.value:Om.textContent,nv=!0)),$=zS(c,R),0<$.length&&(R=new UY(R,t,null,n,u),h.push({event:R,listeners:$}),N?R.data=N:(N=Due(n),N!==null&&(R.data=N)))),(N=Y_e?Q_e(t,n):Z_e(t,n))&&(c=zS(c,"onBeforeInput"),0<c.length&&(u=new UY("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=N))}Yue(h,e)})}function U4(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zS(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=j4(t,n),s!=null&&r.unshift(U4(t,s,i)),s=j4(t,e),s!=null&&r.push(U4(t,s,i))),t=t.return}return r}function ib(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function XY(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=j4(n,s),l!=null&&o.unshift(U4(n,l,a))):i||(l=j4(n,s),l!=null&&o.push(U4(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var d7e=/\r\n?/g,h7e=/\u0000|\uFFFD/g;function eQ(t){return(typeof t=="string"?t:""+t).replace(d7e,`
`).replace(h7e,"")}function UC(t,e,n){if(e=eQ(e),eQ(t)!==e&&n)throw Error(Ze(425))}function WS(){}var cD=null,uD=null;function dD(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hD=typeof setTimeout=="function"?setTimeout:void 0,f7e=typeof clearTimeout=="function"?clearTimeout:void 0,tQ=typeof Promise=="function"?Promise:void 0,p7e=typeof queueMicrotask=="function"?queueMicrotask:typeof tQ<"u"?function(t){return tQ.resolve(null).then(t).catch(m7e)}:hD;function m7e(t){setTimeout(function(){throw t})}function DP(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),D4(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);D4(e)}function Ym(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nQ(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var x3=Math.random().toString(36).slice(2),xh="__reactFiber$"+x3,z4="__reactProps$"+x3,Pp="__reactContainer$"+x3,fD="__reactEvents$"+x3,g7e="__reactListeners$"+x3,y7e="__reactHandles$"+x3;function ky(t){var e=t[xh];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Pp]||n[xh]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=nQ(t);t!==null;){if(n=t[xh])return n;t=nQ(t)}return e}t=n,n=t.parentNode}return null}function fA(t){return t=t[xh]||t[Pp],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sv(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ze(33))}function FI(t){return t[z4]||null}var pD=[],ov=-1;function Sg(t){return{current:t}}function Lr(t){0>ov||(t.current=pD[ov],pD[ov]=null,ov--)}function Sr(t,e){ov++,pD[ov]=t.current,t.current=e}var cg={},Mo=Sg(cg),Ga=Sg(!1),D1=cg;function fx(t,e){var n=t.type.contextTypes;if(!n)return cg;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ka(t){return t=t.childContextTypes,t!=null}function HS(){Lr(Ga),Lr(Mo)}function rQ(t,e,n){if(Mo.current!==cg)throw Error(Ze(168));Sr(Mo,e),Sr(Ga,n)}function Zue(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ze(108,t_e(t)||"Unknown",i));return si({},n,r)}function VS(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cg,D1=Mo.current,Sr(Mo,t),Sr(Ga,Ga.current),!0}function iQ(t,e,n){var r=t.stateNode;if(!r)throw Error(Ze(169));n?(t=Zue(t,e,D1),r.__reactInternalMemoizedMergedChildContext=t,Lr(Ga),Lr(Mo),Sr(Mo,t)):Lr(Ga),Sr(Ga,n)}var Uf=null,UI=!1,BP=!1;function Jue(t){Uf===null?Uf=[t]:Uf.push(t)}function w7e(t){UI=!0,Jue(t)}function _g(){if(!BP&&Uf!==null){BP=!0;var t=0,e=lr;try{var n=Uf;for(lr=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Uf=null,UI=!1}catch(i){throw Uf!==null&&(Uf=Uf.slice(t+1)),Aue(sW,_g),i}finally{lr=e,BP=!1}}return null}var av=[],lv=0,qS=null,GS=0,Fc=[],Uc=0,B1=null,fp=1,pp="";function ey(t,e){av[lv++]=GS,av[lv++]=qS,qS=t,GS=e}function Xue(t,e,n){Fc[Uc++]=fp,Fc[Uc++]=pp,Fc[Uc++]=B1,B1=t;var r=fp;t=pp;var i=32-id(r)-1;r&=~(1<<i),n+=1;var s=32-id(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,fp=1<<32-id(e)+i|n<<i|r,pp=s+t}else fp=1<<s|n<<i|r,pp=t}function pW(t){t.return!==null&&(ey(t,1),Xue(t,1,0))}function mW(t){for(;t===qS;)qS=av[--lv],av[lv]=null,GS=av[--lv],av[lv]=null;for(;t===B1;)B1=Fc[--Uc],Fc[Uc]=null,pp=Fc[--Uc],Fc[Uc]=null,fp=Fc[--Uc],Fc[Uc]=null}var Wl=null,Ul=null,qr=!1,Yu=null;function ede(t,e){var n=qc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function sQ(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wl=t,Ul=Ym(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wl=t,Ul=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=B1!==null?{id:fp,overflow:pp}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qc(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wl=t,Ul=null,!0):!1;default:return!1}}function mD(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gD(t){if(qr){var e=Ul;if(e){var n=e;if(!sQ(t,e)){if(mD(t))throw Error(Ze(418));e=Ym(n.nextSibling);var r=Wl;e&&sQ(t,e)?ede(r,n):(t.flags=t.flags&-4097|2,qr=!1,Wl=t)}}else{if(mD(t))throw Error(Ze(418));t.flags=t.flags&-4097|2,qr=!1,Wl=t}}}function oQ(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wl=t}function zC(t){if(t!==Wl)return!1;if(!qr)return oQ(t),qr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dD(t.type,t.memoizedProps)),e&&(e=Ul)){if(mD(t))throw tde(),Error(Ze(418));for(;e;)ede(t,e),e=Ym(e.nextSibling)}if(oQ(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ze(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ul=Ym(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ul=null}}else Ul=Wl?Ym(t.stateNode.nextSibling):null;return!0}function tde(){for(var t=Ul;t;)t=Ym(t.nextSibling)}function px(){Ul=Wl=null,qr=!1}function gW(t){Yu===null?Yu=[t]:Yu.push(t)}var b7e=n0.ReactCurrentBatchConfig;function E5(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ze(309));var r=n.stateNode}if(!r)throw Error(Ze(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ze(284));if(!n._owner)throw Error(Ze(290,t))}return t}function WC(t,e){throw t=Object.prototype.toString.call(e),Error(Ze(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function aQ(t){var e=t._init;return e(t._payload)}function nde(t){function e(w,v){if(t){var b=w.deletions;b===null?(w.deletions=[v],w.flags|=16):b.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function i(w,v){return w=Xm(w,v),w.index=0,w.sibling=null,w}function s(w,v,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<v?(w.flags|=2,v):b):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,b,A){return v===null||v.tag!==6?(v=VP(b,w.mode,A),v.return=w,v):(v=i(v,b),v.return=w,v)}function l(w,v,b,A){var E=b.type;return E===tv?u(w,v,b.props.children,A,b.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===K0&&aQ(E)===v.type)?(A=i(v,b.props),A.ref=E5(w,v,b),A.return=w,A):(A=_9(b.type,b.key,b.props,null,w.mode,A),A.ref=E5(w,v,b),A.return=w,A)}function c(w,v,b,A){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=qP(b,w.mode,A),v.return=w,v):(v=i(v,b.children||[]),v.return=w,v)}function u(w,v,b,A,E){return v===null||v.tag!==7?(v=w1(b,w.mode,A,E),v.return=w,v):(v=i(v,b),v.return=w,v)}function h(w,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=VP(""+v,w.mode,b),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case PC:return b=_9(v.type,v.key,v.props,null,w.mode,b),b.ref=E5(w,null,v),b.return=w,b;case ev:return v=qP(v,w.mode,b),v.return=w,v;case K0:var A=v._init;return h(w,A(v._payload),b)}if(p6(v)||y5(v))return v=w1(v,w.mode,b,null),v.return=w,v;WC(w,v)}return null}function f(w,v,b,A){var E=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:a(w,v,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case PC:return b.key===E?l(w,v,b,A):null;case ev:return b.key===E?c(w,v,b,A):null;case K0:return E=b._init,f(w,v,E(b._payload),A)}if(p6(b)||y5(b))return E!==null?null:u(w,v,b,A,null);WC(w,b)}return null}function p(w,v,b,A,E){if(typeof A=="string"&&A!==""||typeof A=="number")return w=w.get(b)||null,a(v,w,""+A,E);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case PC:return w=w.get(A.key===null?b:A.key)||null,l(v,w,A,E);case ev:return w=w.get(A.key===null?b:A.key)||null,c(v,w,A,E);case K0:var $=A._init;return p(w,v,b,$(A._payload),E)}if(p6(A)||y5(A))return w=w.get(b)||null,u(v,w,A,E,null);WC(v,A)}return null}function m(w,v,b,A){for(var E=null,$=null,N=v,R=v=0,j=null;N!==null&&R<b.length;R++){N.index>R?(j=N,N=null):j=N.sibling;var F=f(w,N,b[R],A);if(F===null){N===null&&(N=j);break}t&&N&&F.alternate===null&&e(w,N),v=s(F,v,R),$===null?E=F:$.sibling=F,$=F,N=j}if(R===b.length)return n(w,N),qr&&ey(w,R),E;if(N===null){for(;R<b.length;R++)N=h(w,b[R],A),N!==null&&(v=s(N,v,R),$===null?E=N:$.sibling=N,$=N);return qr&&ey(w,R),E}for(N=r(w,N);R<b.length;R++)j=p(N,w,R,b[R],A),j!==null&&(t&&j.alternate!==null&&N.delete(j.key===null?R:j.key),v=s(j,v,R),$===null?E=j:$.sibling=j,$=j);return t&&N.forEach(function(W){return e(w,W)}),qr&&ey(w,R),E}function g(w,v,b,A){var E=y5(b);if(typeof E!="function")throw Error(Ze(150));if(b=E.call(b),b==null)throw Error(Ze(151));for(var $=E=null,N=v,R=v=0,j=null,F=b.next();N!==null&&!F.done;R++,F=b.next()){N.index>R?(j=N,N=null):j=N.sibling;var W=f(w,N,F.value,A);if(W===null){N===null&&(N=j);break}t&&N&&W.alternate===null&&e(w,N),v=s(W,v,R),$===null?E=W:$.sibling=W,$=W,N=j}if(F.done)return n(w,N),qr&&ey(w,R),E;if(N===null){for(;!F.done;R++,F=b.next())F=h(w,F.value,A),F!==null&&(v=s(F,v,R),$===null?E=F:$.sibling=F,$=F);return qr&&ey(w,R),E}for(N=r(w,N);!F.done;R++,F=b.next())F=p(N,w,R,F.value,A),F!==null&&(t&&F.alternate!==null&&N.delete(F.key===null?R:F.key),v=s(F,v,R),$===null?E=F:$.sibling=F,$=F);return t&&N.forEach(function(V){return e(w,V)}),qr&&ey(w,R),E}function y(w,v,b,A){if(typeof b=="object"&&b!==null&&b.type===tv&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case PC:e:{for(var E=b.key,$=v;$!==null;){if($.key===E){if(E=b.type,E===tv){if($.tag===7){n(w,$.sibling),v=i($,b.props.children),v.return=w,w=v;break e}}else if($.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===K0&&aQ(E)===$.type){n(w,$.sibling),v=i($,b.props),v.ref=E5(w,$,b),v.return=w,w=v;break e}n(w,$);break}else e(w,$);$=$.sibling}b.type===tv?(v=w1(b.props.children,w.mode,A,b.key),v.return=w,w=v):(A=_9(b.type,b.key,b.props,null,w.mode,A),A.ref=E5(w,v,b),A.return=w,w=A)}return o(w);case ev:e:{for($=b.key;v!==null;){if(v.key===$)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(w,v.sibling),v=i(v,b.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=qP(b,w.mode,A),v.return=w,w=v}return o(w);case K0:return $=b._init,y(w,v,$(b._payload),A)}if(p6(b))return m(w,v,b,A);if(y5(b))return g(w,v,b,A);WC(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(w,v.sibling),v=i(v,b),v.return=w,w=v):(n(w,v),v=VP(b,w.mode,A),v.return=w,w=v),o(w)):n(w,v)}return y}var mx=nde(!0),rde=nde(!1),KS=Sg(null),YS=null,cv=null,yW=null;function wW(){yW=cv=YS=null}function bW(t){var e=KS.current;Lr(KS),t._currentValue=e}function yD(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hv(t,e){YS=t,yW=cv=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(za=!0),t.firstContext=null)}function Zc(t){var e=t._currentValue;if(yW!==t)if(t={context:t,memoizedValue:e,next:null},cv===null){if(YS===null)throw Error(Ze(308));cv=t,YS.dependencies={lanes:0,firstContext:t}}else cv=cv.next=t;return e}var Sy=null;function vW(t){Sy===null?Sy=[t]:Sy.push(t)}function ide(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,vW(e)):(n.next=i.next,i.next=n),e.interleaved=n,Rp(t,r)}function Rp(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Y0=!1;function xW(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sde(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yp(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qm(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Vn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Rp(t,n)}return i=r.interleaved,i===null?(e.next=e,vW(r)):(e.next=i.next,i.next=e),r.interleaved=e,Rp(t,n)}function x9(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oW(t,n)}}function lQ(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function QS(t,e,n,r){var i=t.updateQueue;Y0=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(f=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=si({},h,f);break e;case 2:Y0=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);F1|=o,t.lanes=o,t.memoizedState=h}}function cQ(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ze(191,i));i.call(r)}}}var pA={},Ph=Sg(pA),W4=Sg(pA),H4=Sg(pA);function _y(t){if(t===pA)throw Error(Ze(174));return t}function EW(t,e){switch(Sr(H4,e),Sr(W4,t),Sr(Ph,pA),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ZM(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ZM(e,t)}Lr(Ph),Sr(Ph,e)}function gx(){Lr(Ph),Lr(W4),Lr(H4)}function ode(t){_y(H4.current);var e=_y(Ph.current),n=ZM(e,t.type);e!==n&&(Sr(W4,t),Sr(Ph,n))}function AW(t){W4.current===t&&(Lr(Ph),Lr(W4))}var Xr=Sg(0);function ZS(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var LP=[];function CW(){for(var t=0;t<LP.length;t++)LP[t]._workInProgressVersionPrimary=null;LP.length=0}var E9=n0.ReactCurrentDispatcher,FP=n0.ReactCurrentBatchConfig,L1=0,ii=null,ts=null,ys=null,JS=!1,G6=!1,V4=0,v7e=0;function no(){throw Error(Ze(321))}function kW(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hd(t[n],e[n]))return!1;return!0}function SW(t,e,n,r,i,s){if(L1=s,ii=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,E9.current=t===null||t.memoizedState===null?C7e:k7e,t=n(r,i),G6){s=0;do{if(G6=!1,V4=0,25<=s)throw Error(Ze(301));s+=1,ys=ts=null,e.updateQueue=null,E9.current=S7e,t=n(r,i)}while(G6)}if(E9.current=XS,e=ts!==null&&ts.next!==null,L1=0,ys=ts=ii=null,JS=!1,e)throw Error(Ze(300));return t}function _W(){var t=V4!==0;return V4=0,t}function eh(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ys===null?ii.memoizedState=ys=t:ys=ys.next=t,ys}function Jc(){if(ts===null){var t=ii.alternate;t=t!==null?t.memoizedState:null}else t=ts.next;var e=ys===null?ii.memoizedState:ys.next;if(e!==null)ys=e,ts=t;else{if(t===null)throw Error(Ze(310));ts=t,t={memoizedState:ts.memoizedState,baseState:ts.baseState,baseQueue:ts.baseQueue,queue:ts.queue,next:null},ys===null?ii.memoizedState=ys=t:ys=ys.next=t}return ys}function q4(t,e){return typeof e=="function"?e(t):e}function UP(t){var e=Jc(),n=e.queue;if(n===null)throw Error(Ze(311));n.lastRenderedReducer=t;var r=ts,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((L1&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ii.lanes|=u,F1|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,hd(r,e.memoizedState)||(za=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ii.lanes|=s,F1|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zP(t){var e=Jc(),n=e.queue;if(n===null)throw Error(Ze(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);hd(s,e.memoizedState)||(za=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ade(){}function lde(t,e){var n=ii,r=Jc(),i=e(),s=!hd(r.memoizedState,i);if(s&&(r.memoizedState=i,za=!0),r=r.queue,IW(dde.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ys!==null&&ys.memoizedState.tag&1){if(n.flags|=2048,G4(9,ude.bind(null,n,r,i,e),void 0,null),Cs===null)throw Error(Ze(349));L1&30||cde(n,e,i)}return i}function cde(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ii.updateQueue,e===null?(e={lastEffect:null,stores:null},ii.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ude(t,e,n,r){e.value=n,e.getSnapshot=r,hde(e)&&fde(t)}function dde(t,e,n){return n(function(){hde(e)&&fde(t)})}function hde(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hd(t,n)}catch{return!0}}function fde(t){var e=Rp(t,1);e!==null&&sd(e,t,1,-1)}function uQ(t){var e=eh();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:q4,lastRenderedState:t},e.queue=t,t=t.dispatch=A7e.bind(null,ii,t),[e.memoizedState,t]}function G4(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ii.updateQueue,e===null?(e={lastEffect:null,stores:null},ii.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function pde(){return Jc().memoizedState}function A9(t,e,n,r){var i=eh();ii.flags|=t,i.memoizedState=G4(1|e,n,void 0,r===void 0?null:r)}function zI(t,e,n,r){var i=Jc();r=r===void 0?null:r;var s=void 0;if(ts!==null){var o=ts.memoizedState;if(s=o.destroy,r!==null&&kW(r,o.deps)){i.memoizedState=G4(e,n,s,r);return}}ii.flags|=t,i.memoizedState=G4(1|e,n,s,r)}function dQ(t,e){return A9(8390656,8,t,e)}function IW(t,e){return zI(2048,8,t,e)}function mde(t,e){return zI(4,2,t,e)}function gde(t,e){return zI(4,4,t,e)}function yde(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wde(t,e,n){return n=n!=null?n.concat([t]):null,zI(4,4,yde.bind(null,e,t),n)}function TW(){}function bde(t,e){var n=Jc();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kW(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vde(t,e){var n=Jc();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kW(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function xde(t,e,n){return L1&21?(hd(n,e)||(n=Sue(),ii.lanes|=n,F1|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,za=!0),t.memoizedState=n)}function x7e(t,e){var n=lr;lr=n!==0&&4>n?n:4,t(!0);var r=FP.transition;FP.transition={};try{t(!1),e()}finally{lr=n,FP.transition=r}}function Ede(){return Jc().memoizedState}function E7e(t,e,n){var r=Jm(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ade(t))Cde(e,n);else if(n=ide(t,e,n,r),n!==null){var i=ca();sd(n,t,r,i),kde(n,e,r)}}function A7e(t,e,n){var r=Jm(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ade(t))Cde(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,hd(a,o)){var l=e.interleaved;l===null?(i.next=i,vW(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=ide(t,e,i,r),n!==null&&(i=ca(),sd(n,t,r,i),kde(n,e,r))}}function Ade(t){var e=t.alternate;return t===ii||e!==null&&e===ii}function Cde(t,e){G6=JS=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kde(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oW(t,n)}}var XS={readContext:Zc,useCallback:no,useContext:no,useEffect:no,useImperativeHandle:no,useInsertionEffect:no,useLayoutEffect:no,useMemo:no,useReducer:no,useRef:no,useState:no,useDebugValue:no,useDeferredValue:no,useTransition:no,useMutableSource:no,useSyncExternalStore:no,useId:no,unstable_isNewReconciler:!1},C7e={readContext:Zc,useCallback:function(t,e){return eh().memoizedState=[t,e===void 0?null:e],t},useContext:Zc,useEffect:dQ,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,A9(4194308,4,yde.bind(null,e,t),n)},useLayoutEffect:function(t,e){return A9(4194308,4,t,e)},useInsertionEffect:function(t,e){return A9(4,2,t,e)},useMemo:function(t,e){var n=eh();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=eh();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=E7e.bind(null,ii,t),[r.memoizedState,t]},useRef:function(t){var e=eh();return t={current:t},e.memoizedState=t},useState:uQ,useDebugValue:TW,useDeferredValue:function(t){return eh().memoizedState=t},useTransition:function(){var t=uQ(!1),e=t[0];return t=x7e.bind(null,t[1]),eh().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ii,i=eh();if(qr){if(n===void 0)throw Error(Ze(407));n=n()}else{if(n=e(),Cs===null)throw Error(Ze(349));L1&30||cde(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,dQ(dde.bind(null,r,s,t),[t]),r.flags|=2048,G4(9,ude.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=eh(),e=Cs.identifierPrefix;if(qr){var n=pp,r=fp;n=(r&~(1<<32-id(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=V4++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=v7e++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},k7e={readContext:Zc,useCallback:bde,useContext:Zc,useEffect:IW,useImperativeHandle:wde,useInsertionEffect:mde,useLayoutEffect:gde,useMemo:vde,useReducer:UP,useRef:pde,useState:function(){return UP(q4)},useDebugValue:TW,useDeferredValue:function(t){var e=Jc();return xde(e,ts.memoizedState,t)},useTransition:function(){var t=UP(q4)[0],e=Jc().memoizedState;return[t,e]},useMutableSource:ade,useSyncExternalStore:lde,useId:Ede,unstable_isNewReconciler:!1},S7e={readContext:Zc,useCallback:bde,useContext:Zc,useEffect:IW,useImperativeHandle:wde,useInsertionEffect:mde,useLayoutEffect:gde,useMemo:vde,useReducer:zP,useRef:pde,useState:function(){return zP(q4)},useDebugValue:TW,useDeferredValue:function(t){var e=Jc();return ts===null?e.memoizedState=t:xde(e,ts.memoizedState,t)},useTransition:function(){var t=zP(q4)[0],e=Jc().memoizedState;return[t,e]},useMutableSource:ade,useSyncExternalStore:lde,useId:Ede,unstable_isNewReconciler:!1};function Ou(t,e){if(t&&t.defaultProps){e=si({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function wD(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:si({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var WI={isMounted:function(t){return(t=t._reactInternals)?Aw(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ca(),i=Jm(t),s=yp(r,i);s.payload=e,n!=null&&(s.callback=n),e=Qm(t,s,i),e!==null&&(sd(e,t,i,r),x9(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ca(),i=Jm(t),s=yp(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Qm(t,s,i),e!==null&&(sd(e,t,i,r),x9(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ca(),r=Jm(t),i=yp(n,r);i.tag=2,e!=null&&(i.callback=e),e=Qm(t,i,r),e!==null&&(sd(e,t,r,n),x9(e,t,r))}};function hQ(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!L4(n,r)||!L4(i,s):!0}function Sde(t,e,n){var r=!1,i=cg,s=e.contextType;return typeof s=="object"&&s!==null?s=Zc(s):(i=Ka(e)?D1:Mo.current,r=e.contextTypes,s=(r=r!=null)?fx(t,i):cg),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=WI,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function fQ(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&WI.enqueueReplaceState(e,e.state,null)}function bD(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},xW(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Zc(s):(s=Ka(e)?D1:Mo.current,i.context=fx(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(wD(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&WI.enqueueReplaceState(i,i.state,null),QS(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function yx(t,e){try{var n="",r=e;do n+=e_e(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function WP(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vD(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var _7e=typeof WeakMap=="function"?WeakMap:Map;function _de(t,e,n){n=yp(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){t_||(t_=!0,$D=r),vD(t,e)},n}function Ide(t,e,n){n=yp(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){vD(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){vD(t,e),typeof r!="function"&&(Zm===null?Zm=new Set([this]):Zm.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function pQ(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new _7e;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=U7e.bind(null,t,e,n),e.then(t,t))}function mQ(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function gQ(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yp(-1,1),e.tag=2,Qm(n,e,1))),n.lanes|=1),t)}var I7e=n0.ReactCurrentOwner,za=!1;function Ho(t,e,n,r){e.child=t===null?rde(e,null,n,r):mx(e,t.child,n,r)}function yQ(t,e,n,r,i){n=n.render;var s=e.ref;return Hv(e,i),r=SW(t,e,n,r,s,i),n=_W(),t!==null&&!za?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,jp(t,e,i)):(qr&&n&&pW(e),e.flags|=1,Ho(t,e,r,i),e.child)}function wQ(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!DW(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Tde(t,e,s,r,i)):(t=_9(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:L4,n(o,r)&&t.ref===e.ref)return jp(t,e,i)}return e.flags|=1,t=Xm(s,r),t.ref=e.ref,t.return=e,e.child=t}function Tde(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(L4(s,r)&&t.ref===e.ref)if(za=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(za=!0);else return e.lanes=t.lanes,jp(t,e,i)}return xD(t,e,n,r,i)}function $de(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sr(dv,Il),Il|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Sr(dv,Il),Il|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Sr(dv,Il),Il|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Sr(dv,Il),Il|=r;return Ho(t,e,i,n),e.child}function Nde(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xD(t,e,n,r,i){var s=Ka(n)?D1:Mo.current;return s=fx(e,s),Hv(e,i),n=SW(t,e,n,r,s,i),r=_W(),t!==null&&!za?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,jp(t,e,i)):(qr&&r&&pW(e),e.flags|=1,Ho(t,e,n,i),e.child)}function bQ(t,e,n,r,i){if(Ka(n)){var s=!0;VS(e)}else s=!1;if(Hv(e,i),e.stateNode===null)C9(t,e),Sde(e,n,r),bD(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Zc(c):(c=Ka(n)?D1:Mo.current,c=fx(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&fQ(e,o,r,c),Y0=!1;var f=e.memoizedState;o.state=f,QS(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Ga.current||Y0?(typeof u=="function"&&(wD(e,n,u,r),l=e.memoizedState),(a=Y0||hQ(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,sde(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ou(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Zc(l):(l=Ka(n)?D1:Mo.current,l=fx(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&fQ(e,o,r,l),Y0=!1,f=e.memoizedState,o.state=f,QS(e,r,o,i);var m=e.memoizedState;a!==h||f!==m||Ga.current||Y0?(typeof p=="function"&&(wD(e,n,p,r),m=e.memoizedState),(c=Y0||hQ(e,n,c,r,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ED(t,e,n,r,s,i)}function ED(t,e,n,r,i,s){Nde(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&iQ(e,n,!1),jp(t,e,s);r=e.stateNode,I7e.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=mx(e,t.child,null,s),e.child=mx(e,null,a,s)):Ho(t,e,a,s),e.memoizedState=r.state,i&&iQ(e,n,!0),e.child}function Pde(t){var e=t.stateNode;e.pendingContext?rQ(t,e.pendingContext,e.pendingContext!==e.context):e.context&&rQ(t,e.context,!1),EW(t,e.containerInfo)}function vQ(t,e,n,r,i){return px(),gW(i),e.flags|=256,Ho(t,e,n,r),e.child}var AD={dehydrated:null,treeContext:null,retryLane:0};function CD(t){return{baseLanes:t,cachePool:null,transitions:null}}function Rde(t,e,n){var r=e.pendingProps,i=Xr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Sr(Xr,i&1),t===null)return gD(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=qI(o,r,0,null),t=w1(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=CD(n),e.memoizedState=AD,t):$W(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return T7e(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Xm(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Xm(a,s):(s=w1(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?CD(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=AD,r}return s=t.child,t=s.sibling,r=Xm(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $W(t,e){return e=qI({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function HC(t,e,n,r){return r!==null&&gW(r),mx(e,t.child,null,n),t=$W(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function T7e(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=WP(Error(Ze(422))),HC(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=qI({mode:"visible",children:r.children},i,0,null),s=w1(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&mx(e,t.child,null,o),e.child.memoizedState=CD(o),e.memoizedState=AD,s);if(!(e.mode&1))return HC(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ze(419)),r=WP(s,r,void 0),HC(t,e,o,r)}if(a=(o&t.childLanes)!==0,za||a){if(r=Cs,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Rp(t,i),sd(r,t,i,-1))}return MW(),r=WP(Error(Ze(421))),HC(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=z7e.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ul=Ym(i.nextSibling),Wl=e,qr=!0,Yu=null,t!==null&&(Fc[Uc++]=fp,Fc[Uc++]=pp,Fc[Uc++]=B1,fp=t.id,pp=t.overflow,B1=e),e=$W(e,r.children),e.flags|=4096,e)}function xQ(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yD(t.return,e,n)}function HP(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function jde(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ho(t,e,r.children,n),r=Xr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xQ(t,n,e);else if(t.tag===19)xQ(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Sr(Xr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ZS(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),HP(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ZS(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}HP(e,!0,n,null,s);break;case"together":HP(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function C9(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jp(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),F1|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ze(153));if(e.child!==null){for(t=e.child,n=Xm(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xm(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $7e(t,e,n){switch(e.tag){case 3:Pde(e),px();break;case 5:ode(e);break;case 1:Ka(e.type)&&VS(e);break;case 4:EW(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Sr(KS,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Sr(Xr,Xr.current&1),e.flags|=128,null):n&e.child.childLanes?Rde(t,e,n):(Sr(Xr,Xr.current&1),t=jp(t,e,n),t!==null?t.sibling:null);Sr(Xr,Xr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jde(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Sr(Xr,Xr.current),r)break;return null;case 22:case 23:return e.lanes=0,$de(t,e,n)}return jp(t,e,n)}var Ode,kD,Mde,Dde;Ode=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kD=function(){};Mde=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,_y(Ph.current);var s=null;switch(n){case"input":i=GM(t,i),r=GM(t,r),s=[];break;case"select":i=si({},i,{value:void 0}),r=si({},r,{value:void 0}),s=[];break;case"textarea":i=QM(t,i),r=QM(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=WS)}JM(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(P4.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(P4.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Rr("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Dde=function(t,e,n,r){n!==r&&(e.flags|=4)};function A5(t,e){if(!qr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ro(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function N7e(t,e,n){var r=e.pendingProps;switch(mW(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ro(e),null;case 1:return Ka(e.type)&&HS(),ro(e),null;case 3:return r=e.stateNode,gx(),Lr(Ga),Lr(Mo),CW(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zC(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yu!==null&&(RD(Yu),Yu=null))),kD(t,e),ro(e),null;case 5:AW(e);var i=_y(H4.current);if(n=e.type,t!==null&&e.stateNode!=null)Mde(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ze(166));return ro(e),null}if(t=_y(Ph.current),zC(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[xh]=e,r[z4]=s,t=(e.mode&1)!==0,n){case"dialog":Rr("cancel",r),Rr("close",r);break;case"iframe":case"object":case"embed":Rr("load",r);break;case"video":case"audio":for(i=0;i<g6.length;i++)Rr(g6[i],r);break;case"source":Rr("error",r);break;case"img":case"image":case"link":Rr("error",r),Rr("load",r);break;case"details":Rr("toggle",r);break;case"input":$Y(r,s),Rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Rr("invalid",r);break;case"textarea":PY(r,s),Rr("invalid",r)}JM(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&UC(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&UC(r.textContent,a,t),i=["children",""+a]):P4.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Rr("scroll",r)}switch(n){case"input":RC(r),NY(r,s,!0);break;case"textarea":RC(r),RY(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=WS)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=due(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[xh]=e,t[z4]=r,Ode(t,e,!1,!1),e.stateNode=t;e:{switch(o=XM(n,r),n){case"dialog":Rr("cancel",t),Rr("close",t),i=r;break;case"iframe":case"object":case"embed":Rr("load",t),i=r;break;case"video":case"audio":for(i=0;i<g6.length;i++)Rr(g6[i],t);i=r;break;case"source":Rr("error",t),i=r;break;case"img":case"image":case"link":Rr("error",t),Rr("load",t),i=r;break;case"details":Rr("toggle",t),i=r;break;case"input":$Y(t,r),i=GM(t,r),Rr("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=si({},r,{value:void 0}),Rr("invalid",t);break;case"textarea":PY(t,r),i=QM(t,r),Rr("invalid",t);break;default:i=r}JM(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?pue(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hue(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&R4(t,l):typeof l=="number"&&R4(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(P4.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Rr("scroll",t):l!=null&&eW(t,s,l,o))}switch(n){case"input":RC(t),NY(t,r,!1);break;case"textarea":RC(t),RY(t);break;case"option":r.value!=null&&t.setAttribute("value",""+lg(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Fv(t,!!r.multiple,s,!1):r.defaultValue!=null&&Fv(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=WS)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ro(e),null;case 6:if(t&&e.stateNode!=null)Dde(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ze(166));if(n=_y(H4.current),_y(Ph.current),zC(e)){if(r=e.stateNode,n=e.memoizedProps,r[xh]=e,(s=r.nodeValue!==n)&&(t=Wl,t!==null))switch(t.tag){case 3:UC(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&UC(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xh]=e,e.stateNode=r}return ro(e),null;case 13:if(Lr(Xr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qr&&Ul!==null&&e.mode&1&&!(e.flags&128))tde(),px(),e.flags|=98560,s=!1;else if(s=zC(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Ze(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ze(317));s[xh]=e}else px(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ro(e),s=!1}else Yu!==null&&(RD(Yu),Yu=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xr.current&1?rs===0&&(rs=3):MW())),e.updateQueue!==null&&(e.flags|=4),ro(e),null);case 4:return gx(),kD(t,e),t===null&&F4(e.stateNode.containerInfo),ro(e),null;case 10:return bW(e.type._context),ro(e),null;case 17:return Ka(e.type)&&HS(),ro(e),null;case 19:if(Lr(Xr),s=e.memoizedState,s===null)return ro(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)A5(s,!1);else{if(rs!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ZS(t),o!==null){for(e.flags|=128,A5(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Sr(Xr,Xr.current&1|2),e.child}t=t.sibling}s.tail!==null&&$i()>wx&&(e.flags|=128,r=!0,A5(s,!1),e.lanes=4194304)}else{if(!r)if(t=ZS(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),A5(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!qr)return ro(e),null}else 2*$i()-s.renderingStartTime>wx&&n!==1073741824&&(e.flags|=128,r=!0,A5(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=$i(),e.sibling=null,n=Xr.current,Sr(Xr,r?n&1|2:n&1),e):(ro(e),null);case 22:case 23:return OW(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Il&1073741824&&(ro(e),e.subtreeFlags&6&&(e.flags|=8192)):ro(e),null;case 24:return null;case 25:return null}throw Error(Ze(156,e.tag))}function P7e(t,e){switch(mW(e),e.tag){case 1:return Ka(e.type)&&HS(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gx(),Lr(Ga),Lr(Mo),CW(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return AW(e),null;case 13:if(Lr(Xr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ze(340));px()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Lr(Xr),null;case 4:return gx(),null;case 10:return bW(e.type._context),null;case 22:case 23:return OW(),null;case 24:return null;default:return null}}var VC=!1,ko=!1,R7e=typeof WeakSet=="function"?WeakSet:Set,xt=null;function uv(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fi(t,e,r)}else n.current=null}function SD(t,e,n){try{n()}catch(r){fi(t,e,r)}}var EQ=!1;function j7e(t,e){if(cD=FS,t=zue(),fW(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(uD={focusedElem:t,selectionRange:n},FS=!1,xt=e;xt!==null;)if(e=xt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xt=t;else for(;xt!==null;){e=xt;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:Ou(e.type,g),y);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ze(163))}}catch(A){fi(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,xt=t;break}xt=e.return}return m=EQ,EQ=!1,m}function K6(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&SD(e,n,s)}i=i.next}while(i!==r)}}function HI(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _D(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Bde(t){var e=t.alternate;e!==null&&(t.alternate=null,Bde(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xh],delete e[z4],delete e[fD],delete e[g7e],delete e[y7e])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Lde(t){return t.tag===5||t.tag===3||t.tag===4}function AQ(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Lde(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ID(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=WS));else if(r!==4&&(t=t.child,t!==null))for(ID(t,e,n),t=t.sibling;t!==null;)ID(t,e,n),t=t.sibling}function TD(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(TD(t,e,n),t=t.sibling;t!==null;)TD(t,e,n),t=t.sibling}var Os=null,Ku=!1;function c0(t,e,n){for(n=n.child;n!==null;)Fde(t,e,n),n=n.sibling}function Fde(t,e,n){if(Nh&&typeof Nh.onCommitFiberUnmount=="function")try{Nh.onCommitFiberUnmount(MI,n)}catch{}switch(n.tag){case 5:ko||uv(n,e);case 6:var r=Os,i=Ku;Os=null,c0(t,e,n),Os=r,Ku=i,Os!==null&&(Ku?(t=Os,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Os.removeChild(n.stateNode));break;case 18:Os!==null&&(Ku?(t=Os,n=n.stateNode,t.nodeType===8?DP(t.parentNode,n):t.nodeType===1&&DP(t,n),D4(t)):DP(Os,n.stateNode));break;case 4:r=Os,i=Ku,Os=n.stateNode.containerInfo,Ku=!0,c0(t,e,n),Os=r,Ku=i;break;case 0:case 11:case 14:case 15:if(!ko&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&SD(n,e,o),i=i.next}while(i!==r)}c0(t,e,n);break;case 1:if(!ko&&(uv(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){fi(n,e,a)}c0(t,e,n);break;case 21:c0(t,e,n);break;case 22:n.mode&1?(ko=(r=ko)||n.memoizedState!==null,c0(t,e,n),ko=r):c0(t,e,n);break;default:c0(t,e,n)}}function CQ(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new R7e),e.forEach(function(r){var i=W7e.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yu(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Os=a.stateNode,Ku=!1;break e;case 3:Os=a.stateNode.containerInfo,Ku=!0;break e;case 4:Os=a.stateNode.containerInfo,Ku=!0;break e}a=a.return}if(Os===null)throw Error(Ze(160));Fde(s,o,i),Os=null,Ku=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){fi(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ude(e,t),e=e.sibling}function Ude(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yu(e,t),Md(t),r&4){try{K6(3,t,t.return),HI(3,t)}catch(g){fi(t,t.return,g)}try{K6(5,t,t.return)}catch(g){fi(t,t.return,g)}}break;case 1:yu(e,t),Md(t),r&512&&n!==null&&uv(n,n.return);break;case 5:if(yu(e,t),Md(t),r&512&&n!==null&&uv(n,n.return),t.flags&32){var i=t.stateNode;try{R4(i,"")}catch(g){fi(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&cue(i,s),XM(a,o);var c=XM(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?pue(i,h):u==="dangerouslySetInnerHTML"?hue(i,h):u==="children"?R4(i,h):eW(i,u,h,c)}switch(a){case"input":KM(i,s);break;case"textarea":uue(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Fv(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Fv(i,!!s.multiple,s.defaultValue,!0):Fv(i,!!s.multiple,s.multiple?[]:"",!1))}i[z4]=s}catch(g){fi(t,t.return,g)}}break;case 6:if(yu(e,t),Md(t),r&4){if(t.stateNode===null)throw Error(Ze(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){fi(t,t.return,g)}}break;case 3:if(yu(e,t),Md(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{D4(e.containerInfo)}catch(g){fi(t,t.return,g)}break;case 4:yu(e,t),Md(t);break;case 13:yu(e,t),Md(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(RW=$i())),r&4&&CQ(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(ko=(c=ko)||u,yu(e,t),ko=c):yu(e,t),Md(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(xt=t,u=t.child;u!==null;){for(h=xt=u;xt!==null;){switch(f=xt,p=f.child,f.tag){case 0:case 11:case 14:case 15:K6(4,f,f.return);break;case 1:uv(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){fi(r,n,g)}}break;case 5:uv(f,f.return);break;case 22:if(f.memoizedState!==null){SQ(h);continue}}p!==null?(p.return=f,xt=p):SQ(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=fue("display",o))}catch(g){fi(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){fi(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yu(e,t),Md(t),r&4&&CQ(t);break;case 21:break;default:yu(e,t),Md(t)}}function Md(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Lde(n)){var r=n;break e}n=n.return}throw Error(Ze(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(R4(i,""),r.flags&=-33);var s=AQ(t);TD(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=AQ(t);ID(t,a,o);break;default:throw Error(Ze(161))}}catch(l){fi(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function O7e(t,e,n){xt=t,zde(t)}function zde(t,e,n){for(var r=(t.mode&1)!==0;xt!==null;){var i=xt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||VC;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ko;a=VC;var c=ko;if(VC=o,(ko=l)&&!c)for(xt=i;xt!==null;)o=xt,l=o.child,o.tag===22&&o.memoizedState!==null?_Q(i):l!==null?(l.return=o,xt=l):_Q(i);for(;s!==null;)xt=s,zde(s),s=s.sibling;xt=i,VC=a,ko=c}kQ(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,xt=s):kQ(t)}}function kQ(t){for(;xt!==null;){var e=xt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ko||HI(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ko)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ou(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&cQ(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}cQ(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&D4(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ze(163))}ko||e.flags&512&&_D(e)}catch(f){fi(e,e.return,f)}}if(e===t){xt=null;break}if(n=e.sibling,n!==null){n.return=e.return,xt=n;break}xt=e.return}}function SQ(t){for(;xt!==null;){var e=xt;if(e===t){xt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,xt=n;break}xt=e.return}}function _Q(t){for(;xt!==null;){var e=xt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{HI(4,e)}catch(l){fi(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){fi(e,i,l)}}var s=e.return;try{_D(e)}catch(l){fi(e,s,l)}break;case 5:var o=e.return;try{_D(e)}catch(l){fi(e,o,l)}}}catch(l){fi(e,e.return,l)}if(e===t){xt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,xt=a;break}xt=e.return}}var M7e=Math.ceil,e_=n0.ReactCurrentDispatcher,NW=n0.ReactCurrentOwner,Kc=n0.ReactCurrentBatchConfig,Vn=0,Cs=null,qi=null,Hs=0,Il=0,dv=Sg(0),rs=0,K4=null,F1=0,VI=0,PW=0,Y6=null,Da=null,RW=0,wx=1/0,Of=null,t_=!1,$D=null,Zm=null,qC=!1,Mm=null,n_=0,Q6=0,ND=null,k9=-1,S9=0;function ca(){return Vn&6?$i():k9!==-1?k9:k9=$i()}function Jm(t){return t.mode&1?Vn&2&&Hs!==0?Hs&-Hs:b7e.transition!==null?(S9===0&&(S9=Sue()),S9):(t=lr,t!==0||(t=window.event,t=t===void 0?16:Rue(t.type)),t):1}function sd(t,e,n,r){if(50<Q6)throw Q6=0,ND=null,Error(Ze(185));dA(t,n,r),(!(Vn&2)||t!==Cs)&&(t===Cs&&(!(Vn&2)&&(VI|=n),rs===4&&sm(t,Hs)),Ya(t,r),n===1&&Vn===0&&!(e.mode&1)&&(wx=$i()+500,UI&&_g()))}function Ya(t,e){var n=t.callbackNode;b_e(t,e);var r=LS(t,t===Cs?Hs:0);if(r===0)n!==null&&MY(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&MY(n),e===1)t.tag===0?w7e(IQ.bind(null,t)):Jue(IQ.bind(null,t)),p7e(function(){!(Vn&6)&&_g()}),n=null;else{switch(_ue(r)){case 1:n=sW;break;case 4:n=Cue;break;case 16:n=BS;break;case 536870912:n=kue;break;default:n=BS}n=Qde(n,Wde.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Wde(t,e){if(k9=-1,S9=0,Vn&6)throw Error(Ze(327));var n=t.callbackNode;if(Vv()&&t.callbackNode!==n)return null;var r=LS(t,t===Cs?Hs:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=r_(t,r);else{e=r;var i=Vn;Vn|=2;var s=Vde();(Cs!==t||Hs!==e)&&(Of=null,wx=$i()+500,y1(t,e));do try{L7e();break}catch(a){Hde(t,a)}while(!0);wW(),e_.current=s,Vn=i,qi!==null?e=0:(Cs=null,Hs=0,e=rs)}if(e!==0){if(e===2&&(i=iD(t),i!==0&&(r=i,e=PD(t,i))),e===1)throw n=K4,y1(t,0),sm(t,r),Ya(t,$i()),n;if(e===6)sm(t,r);else{if(i=t.current.alternate,!(r&30)&&!D7e(i)&&(e=r_(t,r),e===2&&(s=iD(t),s!==0&&(r=s,e=PD(t,s))),e===1))throw n=K4,y1(t,0),sm(t,r),Ya(t,$i()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ze(345));case 2:ty(t,Da,Of);break;case 3:if(sm(t,r),(r&130023424)===r&&(e=RW+500-$i(),10<e)){if(LS(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ca(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hD(ty.bind(null,t,Da,Of),e);break}ty(t,Da,Of);break;case 4:if(sm(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-id(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=$i()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*M7e(r/1960))-r,10<r){t.timeoutHandle=hD(ty.bind(null,t,Da,Of),r);break}ty(t,Da,Of);break;case 5:ty(t,Da,Of);break;default:throw Error(Ze(329))}}}return Ya(t,$i()),t.callbackNode===n?Wde.bind(null,t):null}function PD(t,e){var n=Y6;return t.current.memoizedState.isDehydrated&&(y1(t,e).flags|=256),t=r_(t,e),t!==2&&(e=Da,Da=n,e!==null&&RD(e)),t}function RD(t){Da===null?Da=t:Da.push.apply(Da,t)}function D7e(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!hd(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sm(t,e){for(e&=~PW,e&=~VI,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-id(e),r=1<<n;t[n]=-1,e&=~r}}function IQ(t){if(Vn&6)throw Error(Ze(327));Vv();var e=LS(t,0);if(!(e&1))return Ya(t,$i()),null;var n=r_(t,e);if(t.tag!==0&&n===2){var r=iD(t);r!==0&&(e=r,n=PD(t,r))}if(n===1)throw n=K4,y1(t,0),sm(t,e),Ya(t,$i()),n;if(n===6)throw Error(Ze(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ty(t,Da,Of),Ya(t,$i()),null}function jW(t,e){var n=Vn;Vn|=1;try{return t(e)}finally{Vn=n,Vn===0&&(wx=$i()+500,UI&&_g())}}function U1(t){Mm!==null&&Mm.tag===0&&!(Vn&6)&&Vv();var e=Vn;Vn|=1;var n=Kc.transition,r=lr;try{if(Kc.transition=null,lr=1,t)return t()}finally{lr=r,Kc.transition=n,Vn=e,!(Vn&6)&&_g()}}function OW(){Il=dv.current,Lr(dv)}function y1(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,f7e(n)),qi!==null)for(n=qi.return;n!==null;){var r=n;switch(mW(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&HS();break;case 3:gx(),Lr(Ga),Lr(Mo),CW();break;case 5:AW(r);break;case 4:gx();break;case 13:Lr(Xr);break;case 19:Lr(Xr);break;case 10:bW(r.type._context);break;case 22:case 23:OW()}n=n.return}if(Cs=t,qi=t=Xm(t.current,null),Hs=Il=e,rs=0,K4=null,PW=VI=F1=0,Da=Y6=null,Sy!==null){for(e=0;e<Sy.length;e++)if(n=Sy[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Sy=null}return t}function Hde(t,e){do{var n=qi;try{if(wW(),E9.current=XS,JS){for(var r=ii.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}JS=!1}if(L1=0,ys=ts=ii=null,G6=!1,V4=0,NW.current=null,n===null||n.return===null){rs=1,K4=e,qi=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Hs,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=mQ(o);if(p!==null){p.flags&=-257,gQ(p,o,a,s,e),p.mode&1&&pQ(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){pQ(s,c,e),MW();break e}l=Error(Ze(426))}}else if(qr&&a.mode&1){var y=mQ(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),gQ(y,o,a,s,e),gW(yx(l,a));break e}}s=l=yx(l,a),rs!==4&&(rs=2),Y6===null?Y6=[s]:Y6.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=_de(s,l,e);lQ(s,w);break e;case 1:a=l;var v=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Zm===null||!Zm.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=Ide(s,a,e);lQ(s,A);break e}}s=s.return}while(s!==null)}Gde(n)}catch(E){e=E,qi===n&&n!==null&&(qi=n=n.return);continue}break}while(!0)}function Vde(){var t=e_.current;return e_.current=XS,t===null?XS:t}function MW(){(rs===0||rs===3||rs===2)&&(rs=4),Cs===null||!(F1&268435455)&&!(VI&268435455)||sm(Cs,Hs)}function r_(t,e){var n=Vn;Vn|=2;var r=Vde();(Cs!==t||Hs!==e)&&(Of=null,y1(t,e));do try{B7e();break}catch(i){Hde(t,i)}while(!0);if(wW(),Vn=n,e_.current=r,qi!==null)throw Error(Ze(261));return Cs=null,Hs=0,rs}function B7e(){for(;qi!==null;)qde(qi)}function L7e(){for(;qi!==null&&!u_e();)qde(qi)}function qde(t){var e=Yde(t.alternate,t,Il);t.memoizedProps=t.pendingProps,e===null?Gde(t):qi=e,NW.current=null}function Gde(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=P7e(n,e),n!==null){n.flags&=32767,qi=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rs=6,qi=null;return}}else if(n=N7e(n,e,Il),n!==null){qi=n;return}if(e=e.sibling,e!==null){qi=e;return}qi=e=t}while(e!==null);rs===0&&(rs=5)}function ty(t,e,n){var r=lr,i=Kc.transition;try{Kc.transition=null,lr=1,F7e(t,e,n,r)}finally{Kc.transition=i,lr=r}return null}function F7e(t,e,n,r){do Vv();while(Mm!==null);if(Vn&6)throw Error(Ze(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ze(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(v_e(t,s),t===Cs&&(qi=Cs=null,Hs=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qC||(qC=!0,Qde(BS,function(){return Vv(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Kc.transition,Kc.transition=null;var o=lr;lr=1;var a=Vn;Vn|=4,NW.current=null,j7e(t,n),Ude(n,t),o7e(uD),FS=!!cD,uD=cD=null,t.current=n,O7e(n),d_e(),Vn=a,lr=o,Kc.transition=s}else t.current=n;if(qC&&(qC=!1,Mm=t,n_=i),s=t.pendingLanes,s===0&&(Zm=null),p_e(n.stateNode),Ya(t,$i()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(t_)throw t_=!1,t=$D,$D=null,t;return n_&1&&t.tag!==0&&Vv(),s=t.pendingLanes,s&1?t===ND?Q6++:(Q6=0,ND=t):Q6=0,_g(),null}function Vv(){if(Mm!==null){var t=_ue(n_),e=Kc.transition,n=lr;try{if(Kc.transition=null,lr=16>t?16:t,Mm===null)var r=!1;else{if(t=Mm,Mm=null,n_=0,Vn&6)throw Error(Ze(331));var i=Vn;for(Vn|=4,xt=t.current;xt!==null;){var s=xt,o=s.child;if(xt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(xt=c;xt!==null;){var u=xt;switch(u.tag){case 0:case 11:case 15:K6(8,u,s)}var h=u.child;if(h!==null)h.return=u,xt=h;else for(;xt!==null;){u=xt;var f=u.sibling,p=u.return;if(Bde(u),u===c){xt=null;break}if(f!==null){f.return=p,xt=f;break}xt=p}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}xt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,xt=o;else e:for(;xt!==null;){if(s=xt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:K6(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,xt=w;break e}xt=s.return}}var v=t.current;for(xt=v;xt!==null;){o=xt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,xt=b;else e:for(o=v;xt!==null;){if(a=xt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:HI(9,a)}}catch(E){fi(a,a.return,E)}if(a===o){xt=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,xt=A;break e}xt=a.return}}if(Vn=i,_g(),Nh&&typeof Nh.onPostCommitFiberRoot=="function")try{Nh.onPostCommitFiberRoot(MI,t)}catch{}r=!0}return r}finally{lr=n,Kc.transition=e}}return!1}function TQ(t,e,n){e=yx(n,e),e=_de(t,e,1),t=Qm(t,e,1),e=ca(),t!==null&&(dA(t,1,e),Ya(t,e))}function fi(t,e,n){if(t.tag===3)TQ(t,t,n);else for(;e!==null;){if(e.tag===3){TQ(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zm===null||!Zm.has(r))){t=yx(n,t),t=Ide(e,t,1),e=Qm(e,t,1),t=ca(),e!==null&&(dA(e,1,t),Ya(e,t));break}}e=e.return}}function U7e(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ca(),t.pingedLanes|=t.suspendedLanes&n,Cs===t&&(Hs&n)===n&&(rs===4||rs===3&&(Hs&130023424)===Hs&&500>$i()-RW?y1(t,0):PW|=n),Ya(t,e)}function Kde(t,e){e===0&&(t.mode&1?(e=MC,MC<<=1,!(MC&130023424)&&(MC=4194304)):e=1);var n=ca();t=Rp(t,e),t!==null&&(dA(t,e,n),Ya(t,n))}function z7e(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Kde(t,n)}function W7e(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ze(314))}r!==null&&r.delete(e),Kde(t,n)}var Yde;Yde=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ga.current)za=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return za=!1,$7e(t,e,n);za=!!(t.flags&131072)}else za=!1,qr&&e.flags&1048576&&Xue(e,GS,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;C9(t,e),t=e.pendingProps;var i=fx(e,Mo.current);Hv(e,n),i=SW(null,e,r,t,i,n);var s=_W();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ka(r)?(s=!0,VS(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xW(e),i.updater=WI,e.stateNode=i,i._reactInternals=e,bD(e,r,t,n),e=ED(null,e,r,!0,s,n)):(e.tag=0,qr&&s&&pW(e),Ho(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(C9(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=V7e(r),t=Ou(r,t),i){case 0:e=xD(null,e,r,t,n);break e;case 1:e=bQ(null,e,r,t,n);break e;case 11:e=yQ(null,e,r,t,n);break e;case 14:e=wQ(null,e,r,Ou(r.type,t),n);break e}throw Error(Ze(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ou(r,i),xD(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ou(r,i),bQ(t,e,r,i,n);case 3:e:{if(Pde(e),t===null)throw Error(Ze(387));r=e.pendingProps,s=e.memoizedState,i=s.element,sde(t,e),QS(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=yx(Error(Ze(423)),e),e=vQ(t,e,r,n,i);break e}else if(r!==i){i=yx(Error(Ze(424)),e),e=vQ(t,e,r,n,i);break e}else for(Ul=Ym(e.stateNode.containerInfo.firstChild),Wl=e,qr=!0,Yu=null,n=rde(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(px(),r===i){e=jp(t,e,n);break e}Ho(t,e,r,n)}e=e.child}return e;case 5:return ode(e),t===null&&gD(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,dD(r,i)?o=null:s!==null&&dD(r,s)&&(e.flags|=32),Nde(t,e),Ho(t,e,o,n),e.child;case 6:return t===null&&gD(e),null;case 13:return Rde(t,e,n);case 4:return EW(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=mx(e,null,r,n):Ho(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ou(r,i),yQ(t,e,r,i,n);case 7:return Ho(t,e,e.pendingProps,n),e.child;case 8:return Ho(t,e,e.pendingProps.children,n),e.child;case 12:return Ho(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Sr(KS,r._currentValue),r._currentValue=o,s!==null)if(hd(s.value,o)){if(s.children===i.children&&!Ga.current){e=jp(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=yp(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),yD(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ze(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),yD(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ho(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Hv(e,n),i=Zc(i),r=r(i),e.flags|=1,Ho(t,e,r,n),e.child;case 14:return r=e.type,i=Ou(r,e.pendingProps),i=Ou(r.type,i),wQ(t,e,r,i,n);case 15:return Tde(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ou(r,i),C9(t,e),e.tag=1,Ka(r)?(t=!0,VS(e)):t=!1,Hv(e,n),Sde(e,r,i),bD(e,r,i,n),ED(null,e,r,!0,t,n);case 19:return jde(t,e,n);case 22:return $de(t,e,n)}throw Error(Ze(156,e.tag))};function Qde(t,e){return Aue(t,e)}function H7e(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qc(t,e,n,r){return new H7e(t,e,n,r)}function DW(t){return t=t.prototype,!(!t||!t.isReactComponent)}function V7e(t){if(typeof t=="function")return DW(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nW)return 11;if(t===rW)return 14}return 2}function Xm(t,e){var n=t.alternate;return n===null?(n=qc(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _9(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")DW(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case tv:return w1(n.children,i,s,e);case tW:o=8,i|=8;break;case WM:return t=qc(12,n,e,i|2),t.elementType=WM,t.lanes=s,t;case HM:return t=qc(13,n,e,i),t.elementType=HM,t.lanes=s,t;case VM:return t=qc(19,n,e,i),t.elementType=VM,t.lanes=s,t;case oue:return qI(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case iue:o=10;break e;case sue:o=9;break e;case nW:o=11;break e;case rW:o=14;break e;case K0:o=16,r=null;break e}throw Error(Ze(130,t==null?t:typeof t,""))}return e=qc(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function w1(t,e,n,r){return t=qc(7,t,r,e),t.lanes=n,t}function qI(t,e,n,r){return t=qc(22,t,r,e),t.elementType=oue,t.lanes=n,t.stateNode={isHidden:!1},t}function VP(t,e,n){return t=qc(6,t,null,e),t.lanes=n,t}function qP(t,e,n){return e=qc(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function q7e(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=SP(0),this.expirationTimes=SP(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=SP(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function BW(t,e,n,r,i,s,o,a,l){return t=new q7e(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=qc(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xW(s),t}function G7e(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ev,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Zde(t){if(!t)return cg;t=t._reactInternals;e:{if(Aw(t)!==t||t.tag!==1)throw Error(Ze(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ka(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ze(171))}if(t.tag===1){var n=t.type;if(Ka(n))return Zue(t,n,e)}return e}function Jde(t,e,n,r,i,s,o,a,l){return t=BW(n,r,!0,t,i,s,o,a,l),t.context=Zde(null),n=t.current,r=ca(),i=Jm(n),s=yp(r,i),s.callback=e??null,Qm(n,s,i),t.current.lanes=i,dA(t,i,r),Ya(t,r),t}function GI(t,e,n,r){var i=e.current,s=ca(),o=Jm(i);return n=Zde(n),e.context===null?e.context=n:e.pendingContext=n,e=yp(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qm(i,e,o),t!==null&&(sd(t,i,o,s),x9(t,i,o)),o}function i_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $Q(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function LW(t,e){$Q(t,e),(t=t.alternate)&&$Q(t,e)}function K7e(){return null}var Xde=typeof reportError=="function"?reportError:function(t){console.error(t)};function FW(t){this._internalRoot=t}KI.prototype.render=FW.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ze(409));GI(t,e,null,null)};KI.prototype.unmount=FW.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;U1(function(){GI(null,t,null,null)}),e[Pp]=null}};function KI(t){this._internalRoot=t}KI.prototype.unstable_scheduleHydration=function(t){if(t){var e=$ue();t={blockedOn:null,target:t,priority:e};for(var n=0;n<im.length&&e!==0&&e<im[n].priority;n++);im.splice(n,0,t),n===0&&Pue(t)}};function UW(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function YI(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function NQ(){}function Y7e(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=i_(o);s.call(c)}}var o=Jde(e,r,t,0,null,!1,!1,"",NQ);return t._reactRootContainer=o,t[Pp]=o.current,F4(t.nodeType===8?t.parentNode:t),U1(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=i_(l);a.call(c)}}var l=BW(t,0,!1,null,null,!1,!1,"",NQ);return t._reactRootContainer=l,t[Pp]=l.current,F4(t.nodeType===8?t.parentNode:t),U1(function(){GI(e,l,n,r)}),l}function QI(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=i_(o);a.call(l)}}GI(e,o,t,i)}else o=Y7e(n,e,t,i,r);return i_(o)}Iue=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=m6(e.pendingLanes);n!==0&&(oW(e,n|1),Ya(e,$i()),!(Vn&6)&&(wx=$i()+500,_g()))}break;case 13:U1(function(){var r=Rp(t,1);if(r!==null){var i=ca();sd(r,t,1,i)}}),LW(t,1)}};aW=function(t){if(t.tag===13){var e=Rp(t,134217728);if(e!==null){var n=ca();sd(e,t,134217728,n)}LW(t,134217728)}};Tue=function(t){if(t.tag===13){var e=Jm(t),n=Rp(t,e);if(n!==null){var r=ca();sd(n,t,e,r)}LW(t,e)}};$ue=function(){return lr};Nue=function(t,e){var n=lr;try{return lr=t,e()}finally{lr=n}};tD=function(t,e,n){switch(e){case"input":if(KM(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=FI(r);if(!i)throw Error(Ze(90));lue(r),KM(r,i)}}}break;case"textarea":uue(t,n);break;case"select":e=n.value,e!=null&&Fv(t,!!n.multiple,e,!1)}};yue=jW;wue=U1;var Q7e={usingClientEntryPoint:!1,Events:[fA,sv,FI,mue,gue,jW]},C5={findFiberByHostInstance:ky,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Z7e={bundleType:C5.bundleType,version:C5.version,rendererPackageName:C5.rendererPackageName,rendererConfig:C5.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:n0.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xue(t),t===null?null:t.stateNode},findFiberByHostInstance:C5.findFiberByHostInstance||K7e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var GC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!GC.isDisabled&&GC.supportsFiber)try{MI=GC.inject(Z7e),Nh=GC}catch{}}nc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q7e;nc.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!UW(e))throw Error(Ze(200));return G7e(t,e,null,n)};nc.createRoot=function(t,e){if(!UW(t))throw Error(Ze(299));var n=!1,r="",i=Xde;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=BW(t,1,!1,null,null,n,!1,r,i),t[Pp]=e.current,F4(t.nodeType===8?t.parentNode:t),new FW(e)};nc.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ze(188)):(t=Object.keys(t).join(","),Error(Ze(268,t)));return t=xue(e),t=t===null?null:t.stateNode,t};nc.flushSync=function(t){return U1(t)};nc.hydrate=function(t,e,n){if(!YI(e))throw Error(Ze(200));return QI(null,t,e,!0,n)};nc.hydrateRoot=function(t,e,n){if(!UW(t))throw Error(Ze(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Xde;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Jde(e,null,t,1,n??null,i,!1,s,o),t[Pp]=e.current,F4(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new KI(e)};nc.render=function(t,e,n){if(!YI(e))throw Error(Ze(200));return QI(null,t,e,!1,n)};nc.unmountComponentAtNode=function(t){if(!YI(t))throw Error(Ze(40));return t._reactRootContainer?(U1(function(){QI(null,null,t,!1,function(){t._reactRootContainer=null,t[Pp]=null})}),!0):!1};nc.unstable_batchedUpdates=jW;nc.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!YI(n))throw Error(Ze(200));if(t==null||t._reactInternals===void 0)throw Error(Ze(38));return QI(t,e,n,!1,r)};nc.version="18.3.1-next-f1338f8080-20240426";function ehe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ehe)}catch(t){console.error(t)}}ehe(),eue.exports=nc;var Kl=eue.exports;const the=Ks(Kl);var nhe,PQ=Kl;nhe=PQ.createRoot,PQ.hydrateRoot;const J7e=1,X7e=1e6;let GP=0;function eIe(){return GP=(GP+1)%Number.MAX_SAFE_INTEGER,GP.toString()}const KP=new Map,RQ=t=>{if(KP.has(t))return;const e=setTimeout(()=>{KP.delete(t),Z6({type:"REMOVE_TOAST",toastId:t})},X7e);KP.set(t,e)},tIe=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,J7e)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?RQ(n):t.toasts.forEach(r=>{RQ(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},I9=[];let T9={toasts:[]};function Z6(t){T9=tIe(T9,t),I9.forEach(e=>{e(T9)})}function s_({...t}){const e=eIe(),n=i=>Z6({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Z6({type:"DISMISS_TOAST",toastId:e});return Z6({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function wa(){const[t,e]=x.useState(T9);return x.useEffect(()=>(I9.push(e),()=>{const n=I9.indexOf(e);n>-1&&I9.splice(n,1)}),[t]),{...t,toast:s_,dismiss:n=>Z6({type:"DISMISS_TOAST",toastId:n})}}function Ni(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function jQ(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function rhe(...t){return e=>{let n=!1;const r=t.map(i=>{const s=jQ(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():jQ(t[i],null)}}}}function Yl(...t){return x.useCallback(rhe(...t),t)}function mA(t,e=[]){let n=[];function r(s,o){const a=x.createContext(o),l=n.length;n=[...n,o];const c=h=>{var w;const{scope:f,children:p,...m}=h,g=((w=f==null?void 0:f[t])==null?void 0:w[l])||a,y=x.useMemo(()=>m,Object.values(m));return d.jsx(g.Provider,{value:y,children:p})};c.displayName=s+"Provider";function u(h,f){var g;const p=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,m=x.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>x.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,nIe(i,...e)]}function nIe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function o_(t){const e=iIe(t),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,a=x.Children.toArray(s),l=a.find(oIe);if(l){const c=l.props.children,u=a.map(h=>h===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:h);return d.jsx(e,{...o,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,u):null})}return d.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var rIe=o_("Slot");function iIe(t){const e=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const o=lIe(i),a=aIe(s,i.props);return i.type!==x.Fragment&&(a.ref=r?rhe(r,o):o),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ihe=Symbol("radix.slottable");function sIe(t){const e=({children:n})=>d.jsx(d.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=ihe,e}function oIe(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ihe}function aIe(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function lIe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function cIe(t){const e=t+"CollectionProvider",[n,r]=mA(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:w}=g,v=Ae.useRef(null),b=Ae.useRef(new Map).current;return d.jsx(i,{scope:y,itemMap:b,collectionRef:v,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=o_(a),c=Ae.forwardRef((g,y)=>{const{scope:w,children:v}=g,b=s(a,w),A=Yl(y,b.collectionRef);return d.jsx(l,{ref:A,children:v})});c.displayName=a;const u=t+"CollectionItemSlot",h="data-radix-collection-item",f=o_(u),p=Ae.forwardRef((g,y)=>{const{scope:w,children:v,...b}=g,A=Ae.useRef(null),E=Yl(y,A),$=s(u,w);return Ae.useEffect(()=>($.itemMap.set(A,{ref:A,...b}),()=>void $.itemMap.delete(A))),d.jsx(f,{[h]:"",ref:E,children:v})});p.displayName=u;function m(g){const y=s(t+"CollectionConsumer",g);return Ae.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort(($,N)=>b.indexOf($.ref.current)-b.indexOf(N.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},m,r]}var uIe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ys=uIe.reduce((t,e)=>{const n=o_(`Primitive.${e}`),r=x.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function she(t,e){t&&Kl.flushSync(()=>t.dispatchEvent(e))}function ug(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function dIe(t,e=globalThis==null?void 0:globalThis.document){const n=ug(t);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var hIe="DismissableLayer",jD="dismissableLayer.update",fIe="dismissableLayer.pointerDownOutside",pIe="dismissableLayer.focusOutside",OQ,ohe=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zW=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=x.useContext(ohe),[u,h]=x.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),m=Yl(e,N=>h(N)),g=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(y),v=u?g.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,A=v>=w,E=gIe(N=>{const R=N.target,j=[...c.branches].some(F=>F.contains(R));!A||j||(i==null||i(N),o==null||o(N),N.defaultPrevented||a==null||a())},f),$=yIe(N=>{const R=N.target;[...c.branches].some(F=>F.contains(R))||(s==null||s(N),o==null||o(N),N.defaultPrevented||a==null||a())},f);return dIe(N=>{v===c.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&a&&(N.preventDefault(),a()))},f),x.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(OQ=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),MQ(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=OQ)}},[u,f,n,c]),x.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),MQ())},[u,c]),x.useEffect(()=>{const N=()=>p({});return document.addEventListener(jD,N),()=>document.removeEventListener(jD,N)},[]),d.jsx(Ys.div,{...l,ref:m,style:{pointerEvents:b?A?"auto":"none":void 0,...t.style},onFocusCapture:Ni(t.onFocusCapture,$.onFocusCapture),onBlurCapture:Ni(t.onBlurCapture,$.onBlurCapture),onPointerDownCapture:Ni(t.onPointerDownCapture,E.onPointerDownCapture)})});zW.displayName=hIe;var mIe="DismissableLayerBranch",ahe=x.forwardRef((t,e)=>{const n=x.useContext(ohe),r=x.useRef(null),i=Yl(e,r);return x.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),d.jsx(Ys.div,{...t,ref:i})});ahe.displayName=mIe;function gIe(t,e=globalThis==null?void 0:globalThis.document){const n=ug(t),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){lhe(fIe,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function yIe(t,e=globalThis==null?void 0:globalThis.document){const n=ug(t),r=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!r.current&&lhe(pIe,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function MQ(){const t=new CustomEvent(jD);document.dispatchEvent(t)}function lhe(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?she(i,s):i.dispatchEvent(s)}var wIe=zW,bIe=ahe,dg=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},vIe="Portal",che=x.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=x.useState(!1);dg(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?the.createPortal(d.jsx(Ys.div,{...r,ref:e}),o):null});che.displayName=vIe;function xIe(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var ZI=t=>{const{present:e,children:n}=t,r=EIe(e),i=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),s=Yl(r.ref,AIe(i));return typeof n=="function"||r.isPresent?x.cloneElement(i,{ref:s}):null};ZI.displayName="Presence";function EIe(t){const[e,n]=x.useState(),r=x.useRef(null),i=x.useRef(t),s=x.useRef("none"),o=t?"mounted":"unmounted",[a,l]=xIe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const c=KC(r.current);s.current=a==="mounted"?c:"none"},[a]),dg(()=>{const c=r.current,u=i.current;if(u!==t){const f=s.current,p=KC(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),dg(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=p=>{const g=KC(r.current).includes(p.animationName);if(p.target===e&&g&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},f=p=>{p.target===e&&(s.current=KC(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function KC(t){return(t==null?void 0:t.animationName)||"none"}function AIe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var CIe=N4[" useInsertionEffect ".trim().toString()]||dg;function uhe({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=kIe({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=x.useRef(t!==void 0);x.useEffect(()=>{const h=u.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=x.useCallback(u=>{var h;if(a){const f=SIe(u)?u(t):u;f!==t&&((h=o.current)==null||h.call(o,f))}else s(u)},[a,t,s,o]);return[l,c]}function kIe({defaultProp:t,onChange:e}){const[n,r]=x.useState(t),i=x.useRef(n),s=x.useRef(e);return CIe(()=>{s.current=e},[e]),x.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function SIe(t){return typeof t=="function"}var _Ie=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),IIe="VisuallyHidden",JI=x.forwardRef((t,e)=>d.jsx(Ys.span,{...t,ref:e,style:{..._Ie,...t.style}}));JI.displayName=IIe;var TIe=JI,WW="ToastProvider",[HW,$Ie,NIe]=cIe("Toast"),[dhe,wKt]=mA("Toast",[NIe]),[PIe,XI]=dhe(WW),hhe=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=x.useState(null),[c,u]=x.useState(0),h=x.useRef(!1),f=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${WW}\`. Expected non-empty \`string\`.`),d.jsx(HW.Provider,{scope:e,children:d.jsx(PIe,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:x.useCallback(()=>u(p=>p+1),[]),onToastRemove:x.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};hhe.displayName=WW;var fhe="ToastViewport",RIe=["F8"],OD="toast.viewportPause",MD="toast.viewportResume",phe=x.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=RIe,label:i="Notifications ({hotkey})",...s}=t,o=XI(fhe,n),a=$Ie(n),l=x.useRef(null),c=x.useRef(null),u=x.useRef(null),h=x.useRef(null),f=Yl(e,h,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;x.useEffect(()=>{const y=w=>{var b;r.length!==0&&r.every(A=>w[A]||w.code===A)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),x.useEffect(()=>{const y=l.current,w=h.current;if(m&&y&&w){const v=()=>{if(!o.isClosePausedRef.current){const $=new CustomEvent(OD);w.dispatchEvent($),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const $=new CustomEvent(MD);w.dispatchEvent($),o.isClosePausedRef.current=!1}},A=$=>{!y.contains($.relatedTarget)&&b()},E=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",v),y.addEventListener("focusout",A),y.addEventListener("pointermove",v),y.addEventListener("pointerleave",E),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",v),y.removeEventListener("focusout",A),y.removeEventListener("pointermove",v),y.removeEventListener("pointerleave",E),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[m,o.isClosePausedRef]);const g=x.useCallback(({tabbingDirection:y})=>{const v=a().map(b=>{const A=b.ref.current,E=[A,...qIe(A)];return y==="forwards"?E:E.reverse()});return(y==="forwards"?v.reverse():v).flat()},[a]);return x.useEffect(()=>{const y=h.current;if(y){const w=v=>{var E,$,N;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const R=document.activeElement,j=v.shiftKey;if(v.target===y&&j){(E=c.current)==null||E.focus();return}const V=g({tabbingDirection:j?"backwards":"forwards"}),B=V.findIndex(k=>k===R);YP(V.slice(B+1))?v.preventDefault():j?($=c.current)==null||$.focus():(N=u.current)==null||N.focus()}};return y.addEventListener("keydown",w),()=>y.removeEventListener("keydown",w)}},[a,g]),d.jsxs(bIe,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&d.jsx(DD,{ref:c,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});YP(y)}}),d.jsx(HW.Slot,{scope:n,children:d.jsx(Ys.ol,{tabIndex:-1,...s,ref:f})}),m&&d.jsx(DD,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});YP(y)}})]})});phe.displayName=fhe;var mhe="ToastFocusProxy",DD=x.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=XI(mhe,n);return d.jsx(JI,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});DD.displayName=mhe;var gA="Toast",jIe="toast.swipeStart",OIe="toast.swipeMove",MIe="toast.swipeCancel",DIe="toast.swipeEnd",ghe=x.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a,l]=uhe({prop:r,defaultProp:i??!0,onChange:s,caller:gA});return d.jsx(ZI,{present:n||a,children:d.jsx(FIe,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:ug(t.onPause),onResume:ug(t.onResume),onSwipeStart:Ni(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ni(t.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ni(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ni(t.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});ghe.displayName=gA;var[BIe,LIe]=dhe(gA,{onClose(){}}),FIe=x.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...m}=t,g=XI(gA,n),[y,w]=x.useState(null),v=Yl(e,k=>w(k)),b=x.useRef(null),A=x.useRef(null),E=i||g.duration,$=x.useRef(0),N=x.useRef(E),R=x.useRef(0),{onToastAdd:j,onToastRemove:F}=g,W=ug(()=>{var C;(y==null?void 0:y.contains(document.activeElement))&&((C=g.viewport)==null||C.focus()),o()}),V=x.useCallback(k=>{!k||k===1/0||(window.clearTimeout(R.current),$.current=new Date().getTime(),R.current=window.setTimeout(W,k))},[W]);x.useEffect(()=>{const k=g.viewport;if(k){const C=()=>{V(N.current),c==null||c()},S=()=>{const T=new Date().getTime()-$.current;N.current=N.current-T,window.clearTimeout(R.current),l==null||l()};return k.addEventListener(OD,S),k.addEventListener(MD,C),()=>{k.removeEventListener(OD,S),k.removeEventListener(MD,C)}}},[g.viewport,E,l,c,V]),x.useEffect(()=>{s&&!g.isClosePausedRef.current&&V(E)},[s,E,g.isClosePausedRef,V]),x.useEffect(()=>(j(),()=>F()),[j,F]);const B=x.useMemo(()=>y?Ahe(y):null,[y]);return g.viewport?d.jsxs(d.Fragment,{children:[B&&d.jsx(UIe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:B}),d.jsx(BIe,{scope:n,onClose:W,children:Kl.createPortal(d.jsx(HW.ItemSlot,{scope:n,children:d.jsx(wIe,{asChild:!0,onEscapeKeyDown:Ni(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||W(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Ys.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ni(t.onKeyDown,k=>{k.key==="Escape"&&(a==null||a(k.nativeEvent),k.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,W()))}),onPointerDown:Ni(t.onPointerDown,k=>{k.button===0&&(b.current={x:k.clientX,y:k.clientY})}),onPointerMove:Ni(t.onPointerMove,k=>{if(!b.current)return;const C=k.clientX-b.current.x,S=k.clientY-b.current.y,T=!!A.current,_=["left","right"].includes(g.swipeDirection),P=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,L=_?P(0,C):0,O=_?0:P(0,S),I=k.pointerType==="touch"?10:2,D={x:L,y:O},Y={originalEvent:k,delta:D};T?(A.current=D,YC(OIe,h,Y,{discrete:!1})):DQ(D,g.swipeDirection,I)?(A.current=D,YC(jIe,u,Y,{discrete:!1}),k.target.setPointerCapture(k.pointerId)):(Math.abs(C)>I||Math.abs(S)>I)&&(b.current=null)}),onPointerUp:Ni(t.onPointerUp,k=>{const C=A.current,S=k.target;if(S.hasPointerCapture(k.pointerId)&&S.releasePointerCapture(k.pointerId),A.current=null,b.current=null,C){const T=k.currentTarget,_={originalEvent:k,delta:C};DQ(C,g.swipeDirection,g.swipeThreshold)?YC(DIe,p,_,{discrete:!0}):YC(MIe,f,_,{discrete:!0}),T.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),UIe=t=>{const{__scopeToast:e,children:n,...r}=t,i=XI(gA,e),[s,o]=x.useState(!1),[a,l]=x.useState(!1);return HIe(()=>o(!0)),x.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(che,{asChild:!0,children:d.jsx(JI,{...r,children:s&&d.jsxs(d.Fragment,{children:[i.label," ",n]})})})},zIe="ToastTitle",yhe=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Ys.div,{...r,ref:e})});yhe.displayName=zIe;var WIe="ToastDescription",whe=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Ys.div,{...r,ref:e})});whe.displayName=WIe;var bhe="ToastAction",vhe=x.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(Ehe,{altText:n,asChild:!0,children:d.jsx(VW,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${bhe}\`. Expected non-empty \`string\`.`),null)});vhe.displayName=bhe;var xhe="ToastClose",VW=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=LIe(xhe,n);return d.jsx(Ehe,{asChild:!0,children:d.jsx(Ys.button,{type:"button",...r,ref:e,onClick:Ni(t.onClick,i.onClose)})})});VW.displayName=xhe;var Ehe=x.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return d.jsx(Ys.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Ahe(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),VIe(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Ahe(r))}}),e}function YC(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?she(i,s):i.dispatchEvent(s)}var DQ=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function HIe(t=()=>{}){const e=ug(t);dg(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function VIe(t){return t.nodeType===t.ELEMENT_NODE}function qIe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function YP(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var GIe=hhe,Che=phe,khe=ghe,She=yhe,_he=whe,Ihe=vhe,The=VW;function $he(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=$he(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Nhe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=$he(t))&&(r&&(r+=" "),r+=e);return r}const BQ=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,LQ=Nhe,Phe=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return LQ(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],h=s==null?void 0:s[c];if(u===null)return null;const f=BQ(u)||BQ(h);return i[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[h,f]=u;return f===void 0||(c[h]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:f,...p}=u;return Object.entries(p).every(m=>{let[g,y]=m;return Array.isArray(y)?y.includes({...s,...a}[g]):{...s,...a}[g]===y})?[...c,h,f]:c},[]);return LQ(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KIe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rhe=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YIe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QIe=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>x.createElement("svg",{ref:l,...YIe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Rhe("lucide",i),...a},[...o.map(([c,u])=>x.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=(t,e)=>{const n=x.forwardRef(({className:r,...i},s)=>x.createElement(QIe,{ref:s,iconNode:e,className:Rhe(`lucide-${KIe(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FQ=Xt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=Xt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=Xt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=Xt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZIe=Xt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JIe=Xt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=Xt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=Xt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XIe=Xt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jhe=Xt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eTe=Xt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ohe=Xt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tTe=Xt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mhe=Xt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UQ=Xt("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=Xt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nTe=Xt("Diff",[["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 10h14",key:"elsbfy"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=Xt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dhe=Xt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rTe=Xt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zQ=Xt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iTe=Xt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=Xt("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sTe=Xt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oTe=Xt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aTe=Xt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bhe=Xt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=Xt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lTe=Xt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cTe=Xt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uTe=Xt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=Xt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=Xt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=Xt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dTe=Xt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=Xt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lhe=Xt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=Xt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=Xt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hTe=Xt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fTe=Xt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WQ=Xt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=Xt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=Xt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),KW="-",pTe=t=>{const e=gTe(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(KW);return a[0]===""&&a.length!==1&&a.shift(),Fhe(a,e)||mTe(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Fhe=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Fhe(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(KW);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},HQ=/^\[(.+)\]$/,mTe=t=>{if(HQ.test(t)){const e=HQ.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},gTe=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return wTe(Object.entries(t.classGroups),n).forEach(([s,o])=>{zD(o,r,s,e)}),r},zD=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:VQ(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(yTe(i)){zD(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{zD(o,VQ(e,s),n,r)})})},VQ=(t,e)=>{let n=t;return e.split(KW).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},yTe=t=>t.isThemeGetter,wTe=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,bTe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},Uhe="!",vTe=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,h;for(let y=0;y<a.length;y++){let w=a[y];if(c===0){if(w===i&&(r||a.slice(y,y+s)===e)){l.push(a.slice(u,y)),u=y+s;continue}if(w==="/"){h=y;continue}}w==="["?c++:w==="]"&&c--}const f=l.length===0?a:a.substring(u),p=f.startsWith(Uhe),m=p?f.substring(1):f,g=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},xTe=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},ETe=t=>({cache:bTe(t.cacheSize),parseClassName:vTe(t),...pTe(t)}),ATe=/\s+/,CTe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(ATe);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(c);let m=!!p,g=r(m?f.substring(0,p):f);if(!g){if(!m){a=c+(a.length>0?" "+a:a);continue}if(g=r(f),!g){a=c+(a.length>0?" "+a:a);continue}m=!1}const y=xTe(u).join(":"),w=h?y+Uhe:y,v=w+g;if(s.includes(v))continue;s.push(v);const b=i(g,m);for(let A=0;A<b.length;++A){const E=b[A];s.push(w+E)}a=c+(a.length>0?" "+a:a)}return a};function kTe(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=zhe(e))&&(r&&(r+=" "),r+=n);return r}const zhe=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=zhe(t[r]))&&(n&&(n+=" "),n+=e);return n};function STe(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,h)=>h(u),t());return n=ETe(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=CTe(l,n);return i(l,u),u}return function(){return s(kTe.apply(null,arguments))}}const Nr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Whe=/^\[(?:([a-z-]+):)?(.+)\]$/i,_Te=/^\d+\/\d+$/,ITe=new Set(["px","full","screen"]),TTe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$Te=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,NTe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,PTe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,RTe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gf=t=>qv(t)||ITe.has(t)||_Te.test(t),u0=t=>A3(t,"length",UTe),qv=t=>!!t&&!Number.isNaN(Number(t)),ZP=t=>A3(t,"number",qv),k5=t=>!!t&&Number.isInteger(Number(t)),jTe=t=>t.endsWith("%")&&qv(t.slice(0,-1)),ln=t=>Whe.test(t),d0=t=>TTe.test(t),OTe=new Set(["length","size","percentage"]),MTe=t=>A3(t,OTe,Hhe),DTe=t=>A3(t,"position",Hhe),BTe=new Set(["image","url"]),LTe=t=>A3(t,BTe,WTe),FTe=t=>A3(t,"",zTe),S5=()=>!0,A3=(t,e,n)=>{const r=Whe.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},UTe=t=>$Te.test(t)&&!NTe.test(t),Hhe=()=>!1,zTe=t=>PTe.test(t),WTe=t=>RTe.test(t),HTe=()=>{const t=Nr("colors"),e=Nr("spacing"),n=Nr("blur"),r=Nr("brightness"),i=Nr("borderColor"),s=Nr("borderRadius"),o=Nr("borderSpacing"),a=Nr("borderWidth"),l=Nr("contrast"),c=Nr("grayscale"),u=Nr("hueRotate"),h=Nr("invert"),f=Nr("gap"),p=Nr("gradientColorStops"),m=Nr("gradientColorStopPositions"),g=Nr("inset"),y=Nr("margin"),w=Nr("opacity"),v=Nr("padding"),b=Nr("saturate"),A=Nr("scale"),E=Nr("sepia"),$=Nr("skew"),N=Nr("space"),R=Nr("translate"),j=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",ln,e],V=()=>[ln,e],B=()=>["",gf,u0],k=()=>["auto",qv,ln],C=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],S=()=>["solid","dashed","dotted","double","none"],T=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",ln],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[qv,ln];return{cacheSize:500,separator:":",theme:{colors:[S5],spacing:[gf,u0],blur:["none","",d0,ln],brightness:O(),borderColor:[t],borderRadius:["none","","full",d0,ln],borderSpacing:V(),borderWidth:B(),contrast:O(),grayscale:P(),hueRotate:O(),invert:P(),gap:V(),gradientColorStops:[t],gradientColorStopPositions:[jTe,u0],inset:W(),margin:W(),opacity:O(),padding:V(),saturate:O(),scale:O(),sepia:P(),skew:O(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",ln]}],container:["container"],columns:[{columns:[d0]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...C(),ln]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",k5,ln]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ln]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",k5,ln]}],"grid-cols":[{"grid-cols":[S5]}],"col-start-end":[{col:["auto",{span:["full",k5,ln]},ln]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[S5]}],"row-start-end":[{row:["auto",{span:[k5,ln]},ln]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ln]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ln]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ln,e]}],"min-w":[{"min-w":[ln,e,"min","max","fit"]}],"max-w":[{"max-w":[ln,e,"none","full","min","max","fit","prose",{screen:[d0]},d0]}],h:[{h:[ln,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ln,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ln,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ln,e,"auto","min","max","fit"]}],"font-size":[{text:["base",d0,u0]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ZP]}],"font-family":[{font:[S5]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ln]}],"line-clamp":[{"line-clamp":["none",qv,ZP]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gf,ln]}],"list-image":[{"list-image":["none",ln]}],"list-style-type":[{list:["none","disc","decimal",ln]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...S(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",gf,u0]}],"underline-offset":[{"underline-offset":["auto",gf,ln]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ln]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ln]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...C(),DTe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",MTe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},LTe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...S(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:S()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...S()]}],"outline-offset":[{"outline-offset":[gf,ln]}],"outline-w":[{outline:[gf,u0]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[gf,u0]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",d0,FTe]}],"shadow-color":[{shadow:[S5]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...T(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":T()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",d0,ln]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ln]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",ln]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",ln]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[k5,ln]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ln]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ln]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ln]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[gf,u0,ZP]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},VTe=STe(HTe);function ua(...t){return VTe(Nhe(t))}const qTe=GIe,Vhe=x.forwardRef(({className:t,...e},n)=>d.jsx(Che,{ref:n,className:ua("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Vhe.displayName=Che.displayName;const GTe=Phe("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),qhe=x.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(khe,{ref:r,className:ua(GTe({variant:e}),t),...n}));qhe.displayName=khe.displayName;const KTe=x.forwardRef(({className:t,...e},n)=>d.jsx(Ihe,{ref:n,className:ua("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));KTe.displayName=Ihe.displayName;const Ghe=x.forwardRef(({className:t,...e},n)=>d.jsx(The,{ref:n,className:ua("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(bA,{className:"h-4 w-4"})}));Ghe.displayName=The.displayName;const Khe=x.forwardRef(({className:t,...e},n)=>d.jsx(She,{ref:n,className:ua("text-sm font-semibold",t),...e}));Khe.displayName=She.displayName;const Yhe=x.forwardRef(({className:t,...e},n)=>d.jsx(_he,{ref:n,className:ua("text-sm opacity-90",t),...e}));Yhe.displayName=_he.displayName;function YTe(){const{toasts:t}=wa();return d.jsxs(qTe,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return d.jsxs(qhe,{...s,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(Khe,{children:n}),r&&d.jsx(Yhe,{children:r})]}),i,d.jsx(Ghe,{})]},e)}),d.jsx(Vhe,{})]})}var qQ=["light","dark"],QTe="(prefers-color-scheme: dark)",ZTe=x.createContext(void 0),JTe={setTheme:t=>{},themes:[]},XTe=()=>{var t;return(t=x.useContext(ZTe))!=null?t:JTe};x.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=i?qQ.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(m,g=!1,y=!0)=>{let w=o?o[m]:m,v=g?m+"|| ''":`'${w}'`,b="";return i&&y&&!g&&qQ.includes(m)&&(b+=`d.style.colorScheme = '${m}';`),n==="class"?g||w?b+=`c.add(${v})`:b+="null":w&&(b+=`d[s](n,${v})`),b},p=t?`!function(){${u}${f(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${QTe}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(s,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(s,!1,!1)};}${h}}catch(t){}}();`;return x.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var e$e=t=>{switch(t){case"success":return r$e;case"info":return s$e;case"warning":return i$e;case"error":return o$e;default:return null}},t$e=Array(12).fill(0),n$e=({visible:t,className:e})=>Ae.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Ae.createElement("div",{className:"sonner-spinner"},t$e.map((n,r)=>Ae.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),r$e=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),i$e=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),s$e=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),o$e=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),a$e=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ae.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ae.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),l$e=()=>{let[t,e]=Ae.useState(document.hidden);return Ae.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},WD=1,c$e=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:WD++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0,o,a=i.then(async c=>{if(o=["resolve",c],Ae.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(d$e(c)&&!c.ok){s=!1;let u=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:u,description:h})}else if(n.success!==void 0){s=!1;let u=typeof n.success=="function"?await n.success(c):n.success,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:u,description:h})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){s=!1;let u=typeof n.error=="function"?await n.error(c):n.error,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:u,description:h})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,u)=>a.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||WD++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Na=new c$e,u$e=(t,e)=>{let n=(e==null?void 0:e.id)||WD++;return Na.addToast({title:t,...e,id:n}),n},d$e=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",h$e=u$e,f$e=()=>Na.toasts,p$e=()=>Na.getActiveToasts();Object.assign(h$e,{success:Na.success,info:Na.info,warning:Na.warning,error:Na.error,custom:Na.custom,message:Na.message,promise:Na.promise,dismiss:Na.dismiss,loading:Na.loading},{getHistory:f$e,getToasts:p$e});function m$e(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}m$e(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function QC(t){return t.label!==void 0}var g$e=3,y$e="32px",w$e="16px",GQ=4e3,b$e=356,v$e=14,x$e=20,E$e=200;function wu(...t){return t.filter(Boolean).join(" ")}function A$e(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var C$e=t=>{var e,n,r,i,s,o,a,l,c,u,h;let{invert:f,toast:p,unstyled:m,interacting:g,setHeights:y,visibleToasts:w,heights:v,index:b,toasts:A,expanded:E,removeToast:$,defaultRichColors:N,closeButton:R,style:j,cancelButtonStyle:F,actionButtonStyle:W,className:V="",descriptionClassName:B="",duration:k,position:C,gap:S,loadingIcon:T,expandByDefault:_,classNames:P,icons:L,closeButtonAriaLabel:O="Close toast",pauseWhenPageIsHidden:I}=t,[D,Y]=Ae.useState(null),[M,Q]=Ae.useState(null),[ee,J]=Ae.useState(!1),[oe,de]=Ae.useState(!1),[ae,he]=Ae.useState(!1),[be,fe]=Ae.useState(!1),[ke,we]=Ae.useState(!1),[Ue,Me]=Ae.useState(0),[_e,xe]=Ae.useState(0),Oe=Ae.useRef(p.duration||k||GQ),Le=Ae.useRef(null),Ce=Ae.useRef(null),De=b===0,Ve=b+1<=w,rt=p.type,G=p.dismissible!==!1,U=p.className||"",z=p.descriptionClassName||"",X=Ae.useMemo(()=>v.findIndex(ot=>ot.toastId===p.id)||0,[v,p.id]),ne=Ae.useMemo(()=>{var ot;return(ot=p.closeButton)!=null?ot:R},[p.closeButton,R]),ie=Ae.useMemo(()=>p.duration||k||GQ,[p.duration,k]),ce=Ae.useRef(0),Be=Ae.useRef(0),Xe=Ae.useRef(0),Ye=Ae.useRef(null),[et,Pe]=C.split("-"),Tt=Ae.useMemo(()=>v.reduce((ot,Qt,q)=>q>=X?ot:ot+Qt.height,0),[v,X]),dn=l$e(),Bt=p.invert||f,He=rt==="loading";Be.current=Ae.useMemo(()=>X*S+Tt,[X,Tt]),Ae.useEffect(()=>{Oe.current=ie},[ie]),Ae.useEffect(()=>{J(!0)},[]),Ae.useEffect(()=>{let ot=Ce.current;if(ot){let Qt=ot.getBoundingClientRect().height;return xe(Qt),y(q=>[{toastId:p.id,height:Qt,position:p.position},...q]),()=>y(q=>q.filter(K=>K.toastId!==p.id))}},[y,p.id]),Ae.useLayoutEffect(()=>{if(!ee)return;let ot=Ce.current,Qt=ot.style.height;ot.style.height="auto";let q=ot.getBoundingClientRect().height;ot.style.height=Qt,xe(q),y(K=>K.find(se=>se.toastId===p.id)?K.map(se=>se.toastId===p.id?{...se,height:q}:se):[{toastId:p.id,height:q,position:p.position},...K])},[ee,p.title,p.description,y,p.id]);let Ln=Ae.useCallback(()=>{de(!0),Me(Be.current),y(ot=>ot.filter(Qt=>Qt.toastId!==p.id)),setTimeout(()=>{$(p)},E$e)},[p,$,y,Be]);Ae.useEffect(()=>{if(p.promise&&rt==="loading"||p.duration===1/0||p.type==="loading")return;let ot;return E||g||I&&dn?(()=>{if(Xe.current<ce.current){let Qt=new Date().getTime()-ce.current;Oe.current=Oe.current-Qt}Xe.current=new Date().getTime()})():Oe.current!==1/0&&(ce.current=new Date().getTime(),ot=setTimeout(()=>{var Qt;(Qt=p.onAutoClose)==null||Qt.call(p,p),Ln()},Oe.current)),()=>clearTimeout(ot)},[E,g,p,rt,I,dn,Ln]),Ae.useEffect(()=>{p.delete&&Ln()},[Ln,p.delete]);function En(){var ot,Qt,q;return L!=null&&L.loading?Ae.createElement("div",{className:wu(P==null?void 0:P.loader,(ot=p==null?void 0:p.classNames)==null?void 0:ot.loader,"sonner-loader"),"data-visible":rt==="loading"},L.loading):T?Ae.createElement("div",{className:wu(P==null?void 0:P.loader,(Qt=p==null?void 0:p.classNames)==null?void 0:Qt.loader,"sonner-loader"),"data-visible":rt==="loading"},T):Ae.createElement(n$e,{className:wu(P==null?void 0:P.loader,(q=p==null?void 0:p.classNames)==null?void 0:q.loader),visible:rt==="loading"})}return Ae.createElement("li",{tabIndex:0,ref:Ce,className:wu(V,U,P==null?void 0:P.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,P==null?void 0:P.default,P==null?void 0:P[rt],(n=p==null?void 0:p.classNames)==null?void 0:n[rt]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:N,"data-styled":!(p.jsx||p.unstyled||m),"data-mounted":ee,"data-promise":!!p.promise,"data-swiped":ke,"data-removed":oe,"data-visible":Ve,"data-y-position":et,"data-x-position":Pe,"data-index":b,"data-front":De,"data-swiping":ae,"data-dismissible":G,"data-type":rt,"data-invert":Bt,"data-swipe-out":be,"data-swipe-direction":M,"data-expanded":!!(E||_&&ee),style:{"--index":b,"--toasts-before":b,"--z-index":A.length-b,"--offset":`${oe?Ue:Be.current}px`,"--initial-height":_?"auto":`${_e}px`,...j,...p.style},onDragEnd:()=>{he(!1),Y(null),Ye.current=null},onPointerDown:ot=>{He||!G||(Le.current=new Date,Me(Be.current),ot.target.setPointerCapture(ot.pointerId),ot.target.tagName!=="BUTTON"&&(he(!0),Ye.current={x:ot.clientX,y:ot.clientY}))},onPointerUp:()=>{var ot,Qt,q,K;if(be||!G)return;Ye.current=null;let se=Number(((ot=Ce.current)==null?void 0:ot.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),re=Number(((Qt=Ce.current)==null?void 0:Qt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),le=new Date().getTime()-((q=Le.current)==null?void 0:q.getTime()),ge=D==="x"?se:re,$e=Math.abs(ge)/le;if(Math.abs(ge)>=x$e||$e>.11){Me(Be.current),(K=p.onDismiss)==null||K.call(p,p),Q(D==="x"?se>0?"right":"left":re>0?"down":"up"),Ln(),fe(!0),we(!1);return}he(!1),Y(null)},onPointerMove:ot=>{var Qt,q,K,se;if(!Ye.current||!G||((Qt=window.getSelection())==null?void 0:Qt.toString().length)>0)return;let re=ot.clientY-Ye.current.y,le=ot.clientX-Ye.current.x,ge=(q=t.swipeDirections)!=null?q:A$e(C);!D&&(Math.abs(le)>1||Math.abs(re)>1)&&Y(Math.abs(le)>Math.abs(re)?"x":"y");let $e={x:0,y:0};D==="y"?(ge.includes("top")||ge.includes("bottom"))&&(ge.includes("top")&&re<0||ge.includes("bottom")&&re>0)&&($e.y=re):D==="x"&&(ge.includes("left")||ge.includes("right"))&&(ge.includes("left")&&le<0||ge.includes("right")&&le>0)&&($e.x=le),(Math.abs($e.x)>0||Math.abs($e.y)>0)&&we(!0),(K=Ce.current)==null||K.style.setProperty("--swipe-amount-x",`${$e.x}px`),(se=Ce.current)==null||se.style.setProperty("--swipe-amount-y",`${$e.y}px`)}},ne&&!p.jsx?Ae.createElement("button",{"aria-label":O,"data-disabled":He,"data-close-button":!0,onClick:He||!G?()=>{}:()=>{var ot;Ln(),(ot=p.onDismiss)==null||ot.call(p,p)},className:wu(P==null?void 0:P.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(s=L==null?void 0:L.close)!=null?s:a$e):null,p.jsx||x.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:Ae.createElement(Ae.Fragment,null,rt||p.icon||p.promise?Ae.createElement("div",{"data-icon":"",className:wu(P==null?void 0:P.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||En():null,p.type!=="loading"?p.icon||(L==null?void 0:L[rt])||e$e(rt):null):null,Ae.createElement("div",{"data-content":"",className:wu(P==null?void 0:P.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},Ae.createElement("div",{"data-title":"",className:wu(P==null?void 0:P.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?Ae.createElement("div",{"data-description":"",className:wu(B,z,P==null?void 0:P.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),x.isValidElement(p.cancel)?p.cancel:p.cancel&&QC(p.cancel)?Ae.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||F,onClick:ot=>{var Qt,q;QC(p.cancel)&&G&&((q=(Qt=p.cancel).onClick)==null||q.call(Qt,ot),Ln())},className:wu(P==null?void 0:P.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,x.isValidElement(p.action)?p.action:p.action&&QC(p.action)?Ae.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||W,onClick:ot=>{var Qt,q;QC(p.action)&&((q=(Qt=p.action).onClick)==null||q.call(Qt,ot),!ot.defaultPrevented&&Ln())},className:wu(P==null?void 0:P.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function KQ(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function k$e(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",a=s?w$e:y$e;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var S$e=x.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:h,duration:f,style:p,visibleToasts:m=g$e,toastOptions:g,dir:y=KQ(),gap:w=v$e,loadingIcon:v,icons:b,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:E}=t,[$,N]=Ae.useState([]),R=Ae.useMemo(()=>Array.from(new Set([r].concat($.filter(I=>I.position).map(I=>I.position)))),[$,r]),[j,F]=Ae.useState([]),[W,V]=Ae.useState(!1),[B,k]=Ae.useState(!1),[C,S]=Ae.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),T=Ae.useRef(null),_=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=Ae.useRef(null),L=Ae.useRef(!1),O=Ae.useCallback(I=>{N(D=>{var Y;return(Y=D.find(M=>M.id===I.id))!=null&&Y.delete||Na.dismiss(I.id),D.filter(({id:M})=>M!==I.id)})},[]);return Ae.useEffect(()=>Na.subscribe(I=>{if(I.dismiss){N(D=>D.map(Y=>Y.id===I.id?{...Y,delete:!0}:Y));return}setTimeout(()=>{the.flushSync(()=>{N(D=>{let Y=D.findIndex(M=>M.id===I.id);return Y!==-1?[...D.slice(0,Y),{...D[Y],...I},...D.slice(Y+1)]:[I,...D]})})})}),[]),Ae.useEffect(()=>{if(u!=="system"){S(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?S("dark"):S("light")),typeof window>"u")return;let I=window.matchMedia("(prefers-color-scheme: dark)");try{I.addEventListener("change",({matches:D})=>{S(D?"dark":"light")})}catch{I.addListener(({matches:Y})=>{try{S(Y?"dark":"light")}catch(M){console.error(M)}})}},[u]),Ae.useEffect(()=>{$.length<=1&&V(!1)},[$]),Ae.useEffect(()=>{let I=D=>{var Y,M;i.every(Q=>D[Q]||D.code===Q)&&(V(!0),(Y=T.current)==null||Y.focus()),D.code==="Escape"&&(document.activeElement===T.current||(M=T.current)!=null&&M.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[i]),Ae.useEffect(()=>{if(T.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,L.current=!1)}},[T.current]),Ae.createElement("section",{ref:e,"aria-label":`${A} ${_}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((I,D)=>{var Y;let[M,Q]=I.split("-");return $.length?Ae.createElement("ol",{key:I,dir:y==="auto"?KQ():y,tabIndex:-1,ref:T,className:a,"data-sonner-toaster":!0,"data-theme":C,"data-y-position":M,"data-lifted":W&&$.length>1&&!s,"data-x-position":Q,style:{"--front-toast-height":`${((Y=j[0])==null?void 0:Y.height)||0}px`,"--width":`${b$e}px`,"--gap":`${w}px`,...p,...k$e(l,c)},onBlur:ee=>{L.current&&!ee.currentTarget.contains(ee.relatedTarget)&&(L.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||L.current||(L.current=!0,P.current=ee.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{B||V(!1)},onDragEnd:()=>V(!1),onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||k(!0)},onPointerUp:()=>k(!1)},$.filter(ee=>!ee.position&&D===0||ee.position===I).map((ee,J)=>{var oe,de;return Ae.createElement(C$e,{key:ee.id,icons:b,index:J,toast:ee,defaultRichColors:h,duration:(oe=g==null?void 0:g.duration)!=null?oe:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:m,closeButton:(de=g==null?void 0:g.closeButton)!=null?de:o,interacting:B,position:I,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:O,toasts:$.filter(ae=>ae.position==ee.position),heights:j.filter(ae=>ae.position==ee.position),setHeights:F,expandByDefault:s,gap:w,loadingIcon:v,expanded:W,pauseWhenPageIsHidden:E,swipeDirections:t.swipeDirections})})):null}))});const _$e=({...t})=>{const{theme:e="system"}=XTe();return d.jsx(S$e,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},I$e=["top","right","bottom","left"],Op=Math.min,So=Math.max,Y4=Math.round,ZC=Math.floor,Rh=t=>({x:t,y:t}),T$e={left:"right",right:"left",bottom:"top",top:"bottom"},$$e={start:"end",end:"start"};function HD(t,e,n){return So(t,Op(e,n))}function Yh(t,e){return typeof t=="function"?t(e):t}function Mp(t){return t.split("-")[0]}function C3(t){return t.split("-")[1]}function YW(t){return t==="x"?"y":"x"}function QW(t){return t==="y"?"height":"width"}const N$e=new Set(["top","bottom"]);function Sh(t){return N$e.has(Mp(t))?"y":"x"}function ZW(t){return YW(Sh(t))}function P$e(t,e,n){n===void 0&&(n=!1);const r=C3(t),i=ZW(t),s=QW(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=l_(o)),[o,l_(o)]}function R$e(t){const e=l_(t);return[VD(t),e,VD(e)]}function VD(t){return t.replace(/start|end/g,e=>$$e[e])}const YQ=["left","right"],QQ=["right","left"],j$e=["top","bottom"],O$e=["bottom","top"];function M$e(t,e,n){switch(t){case"top":case"bottom":return n?e?QQ:YQ:e?YQ:QQ;case"left":case"right":return e?j$e:O$e;default:return[]}}function D$e(t,e,n,r){const i=C3(t);let s=M$e(Mp(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(VD)))),s}function l_(t){return t.replace(/left|right|bottom|top/g,e=>T$e[e])}function B$e(t){return{top:0,right:0,bottom:0,left:0,...t}}function Qhe(t){return typeof t!="number"?B$e(t):{top:t,right:t,bottom:t,left:t}}function c_(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function ZQ(t,e,n){let{reference:r,floating:i}=t;const s=Sh(e),o=ZW(e),a=QW(o),l=Mp(e),c=s==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-i.width,y:h};break;default:p={x:r.x,y:r.y}}switch(C3(e)){case"start":p[o]-=f*(n&&c?-1:1);break;case"end":p[o]+=f*(n&&c?-1:1);break}return p}const L$e=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=ZQ(c,r,l),f=r,p={},m=0;for(let g=0;g<a.length;g++){const{name:y,fn:w}=a[g],{x:v,y:b,data:A,reset:E}=await w({x:u,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});u=v??u,h=b??h,p={...p,[y]:{...p[y],...A}},E&&m<=50&&(m++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(c=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:u,y:h}=ZQ(c,f,l)),g=-1)}return{x:u,y:h,placement:f,strategy:i,middlewareData:p}};async function bx(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Yh(e,t),m=Qhe(p),y=a[f?h==="floating"?"reference":"floating":h],w=c_(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},E=c_(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:b,strategy:l}):v);return{top:(w.top-E.top+m.top)/A.y,bottom:(E.bottom-w.bottom+m.bottom)/A.y,left:(w.left-E.left+m.left)/A.x,right:(E.right-w.right+m.right)/A.x}}const F$e=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Yh(t,e)||{};if(c==null)return{};const h=Qhe(u),f={x:n,y:r},p=ZW(i),m=QW(p),g=await o.getDimensions(c),y=p==="y",w=y?"top":"left",v=y?"bottom":"right",b=y?"clientHeight":"clientWidth",A=s.reference[m]+s.reference[p]-f[p]-s.floating[m],E=f[p]-s.reference[p],$=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let N=$?$[b]:0;(!N||!await(o.isElement==null?void 0:o.isElement($)))&&(N=a.floating[b]||s.floating[m]);const R=A/2-E/2,j=N/2-g[m]/2-1,F=Op(h[w],j),W=Op(h[v],j),V=F,B=N-g[m]-W,k=N/2-g[m]/2+R,C=HD(V,k,B),S=!l.arrow&&C3(i)!=null&&k!==C&&s.reference[m]/2-(k<V?F:W)-g[m]/2<0,T=S?k<V?k-V:k-B:0;return{[p]:f[p]+T,data:{[p]:C,centerOffset:k-C-T,...S&&{alignmentOffset:T}},reset:S}}}),U$e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...y}=Yh(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=Mp(i),v=Sh(a),b=Mp(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=f||(b||!g?[l_(a)]:R$e(a)),$=m!=="none";!f&&$&&E.push(...D$e(a,g,m,A));const N=[a,...E],R=await bx(e,y),j=[];let F=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&j.push(R[w]),h){const k=P$e(i,o,A);j.push(R[k[0]],R[k[1]])}if(F=[...F,{placement:i,overflows:j}],!j.every(k=>k<=0)){var W,V;const k=(((W=s.flip)==null?void 0:W.index)||0)+1,C=N[k];if(C&&(!(h==="alignment"?v!==Sh(C):!1)||F.every(_=>_.overflows[0]>0&&Sh(_.placement)===v)))return{data:{index:k,overflows:F},reset:{placement:C}};let S=(V=F.filter(T=>T.overflows[0]<=0).sort((T,_)=>T.overflows[1]-_.overflows[1])[0])==null?void 0:V.placement;if(!S)switch(p){case"bestFit":{var B;const T=(B=F.filter(_=>{if($){const P=Sh(_.placement);return P===v||P==="y"}return!0}).map(_=>[_.placement,_.overflows.filter(P=>P>0).reduce((P,L)=>P+L,0)]).sort((_,P)=>_[1]-P[1])[0])==null?void 0:B[0];T&&(S=T);break}case"initialPlacement":S=a;break}if(i!==S)return{reset:{placement:S}}}return{}}}};function JQ(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function XQ(t){return I$e.some(e=>t[e]>=0)}const z$e=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Yh(t,e);switch(r){case"referenceHidden":{const s=await bx(e,{...i,elementContext:"reference"}),o=JQ(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:XQ(o)}}}case"escaped":{const s=await bx(e,{...i,altBoundary:!0}),o=JQ(s,n.floating);return{data:{escapedOffsets:o,escaped:XQ(o)}}}default:return{}}}}},Zhe=new Set(["left","top"]);async function W$e(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Mp(n),a=C3(n),l=Sh(n)==="y",c=Zhe.has(o)?-1:1,u=s&&l?-1:1,h=Yh(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const H$e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await W$e(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},V$e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:w,y:v}=y;return{x:w,y:v}}},...l}=Yh(t,e),c={x:n,y:r},u=await bx(e,l),h=Sh(Mp(i)),f=YW(h);let p=c[f],m=c[h];if(s){const y=f==="y"?"top":"left",w=f==="y"?"bottom":"right",v=p+u[y],b=p-u[w];p=HD(v,p,b)}if(o){const y=h==="y"?"top":"left",w=h==="y"?"bottom":"right",v=m+u[y],b=m-u[w];m=HD(v,m,b)}const g=a.fn({...e,[f]:p,[h]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:s,[h]:o}}}}}},q$e=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Yh(t,e),u={x:n,y:r},h=Sh(i),f=YW(h);let p=u[f],m=u[h];const g=Yh(a,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const b=f==="y"?"height":"width",A=s.reference[f]-s.floating[b]+y.mainAxis,E=s.reference[f]+s.reference[b]-y.mainAxis;p<A?p=A:p>E&&(p=E)}if(c){var w,v;const b=f==="y"?"width":"height",A=Zhe.has(Mp(i)),E=s.reference[h]-s.floating[b]+(A&&((w=o.offset)==null?void 0:w[h])||0)+(A?0:y.crossAxis),$=s.reference[h]+s.reference[b]+(A?0:((v=o.offset)==null?void 0:v[h])||0)-(A?y.crossAxis:0);m<E?m=E:m>$&&(m=$)}return{[f]:p,[h]:m}}}},G$e=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Yh(t,e),u=await bx(e,c),h=Mp(i),f=C3(i),p=Sh(i)==="y",{width:m,height:g}=s.floating;let y,w;h==="top"||h==="bottom"?(y=h,w=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=h,y=f==="end"?"top":"bottom");const v=g-u.top-u.bottom,b=m-u.left-u.right,A=Op(g-u[y],v),E=Op(m-u[w],b),$=!e.middlewareData.shift;let N=A,R=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=v),$&&!f){const F=So(u.left,0),W=So(u.right,0),V=So(u.top,0),B=So(u.bottom,0);p?R=m-2*(F!==0||W!==0?F+W:So(u.left,u.right)):N=g-2*(V!==0||B!==0?V+B:So(u.top,u.bottom))}await l({...e,availableWidth:R,availableHeight:N});const j=await o.getDimensions(a.floating);return m!==j.width||g!==j.height?{reset:{rects:!0}}:{}}}};function tT(){return typeof window<"u"}function k3(t){return Jhe(t)?(t.nodeName||"").toLowerCase():"#document"}function Hl(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function af(t){var e;return(e=(Jhe(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Jhe(t){return tT()?t instanceof Node||t instanceof Hl(t).Node:!1}function ta(t){return tT()?t instanceof Element||t instanceof Hl(t).Element:!1}function Qh(t){return tT()?t instanceof HTMLElement||t instanceof Hl(t).HTMLElement:!1}function eZ(t){return!tT()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Hl(t).ShadowRoot}const K$e=new Set(["inline","contents"]);function vA(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=fd(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!K$e.has(i)}const Y$e=new Set(["table","td","th"]);function Q$e(t){return Y$e.has(k3(t))}const Z$e=[":popover-open",":modal"];function nT(t){return Z$e.some(e=>{try{return t.matches(e)}catch{return!1}})}const J$e=["transform","translate","scale","rotate","perspective"],X$e=["transform","translate","scale","rotate","perspective","filter"],eNe=["paint","layout","strict","content"];function JW(t){const e=XW(),n=ta(t)?fd(t):t;return J$e.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||X$e.some(r=>(n.willChange||"").includes(r))||eNe.some(r=>(n.contain||"").includes(r))}function tNe(t){let e=hg(t);for(;Qh(e)&&!vx(e);){if(JW(e))return e;if(nT(e))return null;e=hg(e)}return null}function XW(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const nNe=new Set(["html","body","#document"]);function vx(t){return nNe.has(k3(t))}function fd(t){return Hl(t).getComputedStyle(t)}function rT(t){return ta(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function hg(t){if(k3(t)==="html")return t;const e=t.assignedSlot||t.parentNode||eZ(t)&&t.host||af(t);return eZ(e)?e.host:e}function Xhe(t){const e=hg(t);return vx(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qh(e)&&vA(e)?e:Xhe(e)}function Q4(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Xhe(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Hl(i);if(s){const a=qD(o);return e.concat(o,o.visualViewport||[],vA(i)?i:[],a&&n?Q4(a):[])}return e.concat(i,Q4(i,[],n))}function qD(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function efe(t){const e=fd(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Qh(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Y4(n)!==s||Y4(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function eH(t){return ta(t)?t:t.contextElement}function Gv(t){const e=eH(t);if(!Qh(e))return Rh(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=efe(e);let o=(s?Y4(n.width):n.width)/r,a=(s?Y4(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const rNe=Rh(0);function tfe(t){const e=Hl(t);return!XW()||!e.visualViewport?rNe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function iNe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Hl(t)?!1:e}function z1(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=eH(t);let o=Rh(1);e&&(r?ta(r)&&(o=Gv(r)):o=Gv(t));const a=iNe(s,n,r)?tfe(s):Rh(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(s){const f=Hl(s),p=r&&ta(r)?Hl(r):r;let m=f,g=qD(m);for(;g&&r&&p!==m;){const y=Gv(g),w=g.getBoundingClientRect(),v=fd(g),b=w.left+(g.clientLeft+parseFloat(v.paddingLeft))*y.x,A=w.top+(g.clientTop+parseFloat(v.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,h*=y.y,l+=b,c+=A,m=Hl(g),g=qD(m)}}return c_({width:u,height:h,x:l,y:c})}function tH(t,e){const n=rT(t).scrollLeft;return e?e.left+n:z1(af(t)).left+n}function nfe(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:tH(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function sNe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=af(r),a=e?nT(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Rh(1);const u=Rh(0),h=Qh(r);if((h||!h&&!s)&&((k3(r)!=="body"||vA(o))&&(l=rT(r)),Qh(r))){const p=z1(r);c=Gv(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const f=o&&!h&&!s?nfe(o,l,!0):Rh(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function oNe(t){return Array.from(t.getClientRects())}function aNe(t){const e=af(t),n=rT(t),r=t.ownerDocument.body,i=So(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=So(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+tH(t);const a=-n.scrollTop;return fd(r).direction==="rtl"&&(o+=So(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function lNe(t,e){const n=Hl(t),r=af(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=XW();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}const cNe=new Set(["absolute","fixed"]);function uNe(t,e){const n=z1(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Qh(t)?Gv(t):Rh(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function tZ(t,e,n){let r;if(e==="viewport")r=lNe(t,n);else if(e==="document")r=aNe(af(t));else if(ta(e))r=uNe(e,n);else{const i=tfe(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return c_(r)}function rfe(t,e){const n=hg(t);return n===e||!ta(n)||vx(n)?!1:fd(n).position==="fixed"||rfe(n,e)}function dNe(t,e){const n=e.get(t);if(n)return n;let r=Q4(t,[],!1).filter(a=>ta(a)&&k3(a)!=="body"),i=null;const s=fd(t).position==="fixed";let o=s?hg(t):t;for(;ta(o)&&!vx(o);){const a=fd(o),l=JW(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&cNe.has(i.position)||vA(o)&&!l&&rfe(t,o))?r=r.filter(u=>u!==o):i=a,o=hg(o)}return e.set(t,r),r}function hNe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?nT(e)?[]:dNe(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const h=tZ(e,u,i);return c.top=So(h.top,c.top),c.right=Op(h.right,c.right),c.bottom=Op(h.bottom,c.bottom),c.left=So(h.left,c.left),c},tZ(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function fNe(t){const{width:e,height:n}=efe(t);return{width:e,height:n}}function pNe(t,e,n){const r=Qh(e),i=af(e),s=n==="fixed",o=z1(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Rh(0);function c(){l.x=tH(i)}if(r||!r&&!s)if((k3(e)!=="body"||vA(i))&&(a=rT(e)),r){const p=z1(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?nfe(i,a):Rh(0),h=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:h,y:f,width:o.width,height:o.height}}function JP(t){return fd(t).position==="static"}function nZ(t,e){if(!Qh(t)||fd(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return af(t)===n&&(n=n.ownerDocument.body),n}function ife(t,e){const n=Hl(t);if(nT(t))return n;if(!Qh(t)){let i=hg(t);for(;i&&!vx(i);){if(ta(i)&&!JP(i))return i;i=hg(i)}return n}let r=nZ(t,e);for(;r&&Q$e(r)&&JP(r);)r=nZ(r,e);return r&&vx(r)&&JP(r)&&!JW(r)?n:r||tNe(t)||n}const mNe=async function(t){const e=this.getOffsetParent||ife,n=this.getDimensions,r=await n(t.floating);return{reference:pNe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function gNe(t){return fd(t).direction==="rtl"}const yNe={convertOffsetParentRelativeRectToViewportRelativeRect:sNe,getDocumentElement:af,getClippingRect:hNe,getOffsetParent:ife,getElementRects:mNe,getClientRects:oNe,getDimensions:fNe,getScale:Gv,isElement:ta,isRTL:gNe};function sfe(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function wNe(t,e){let n=null,r;const i=af(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:h,width:f,height:p}=c;if(a||e(),!f||!p)return;const m=ZC(h),g=ZC(i.clientWidth-(u+f)),y=ZC(i.clientHeight-(h+p)),w=ZC(u),b={rootMargin:-m+"px "+-g+"px "+-y+"px "+-w+"px",threshold:So(0,Op(1,l))||1};let A=!0;function E($){const N=$[0].intersectionRatio;if(N!==l){if(!A)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!sfe(c,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(E,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,b)}n.observe(t)}return o(!0),s}function ofe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=eH(t),u=i||s?[...c?Q4(c):[],...Q4(e)]:[];u.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const h=c&&a?wNe(c,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(w=>{let[v]=w;v&&v.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let m,g=l?z1(t):null;l&&y();function y(){const w=z1(t);g&&!sfe(g,w)&&n(),g=w,m=requestAnimationFrame(y)}return n(),()=>{var w;u.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),h==null||h(),(w=p)==null||w.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const XP=bx,bNe=H$e,vNe=V$e,xNe=U$e,ENe=G$e,ANe=z$e,rZ=F$e,CNe=q$e,kNe=(t,e,n)=>{const r=new Map,i={platform:yNe,...n},s={...i.platform,_c:r};return L$e(t,e,{...i,platform:s})};var SNe=typeof document<"u",_Ne=function(){},$9=SNe?x.useLayoutEffect:_Ne;function u_(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!u_(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!u_(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function afe(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function iZ(t,e){const n=afe(t);return Math.round(e*n)/n}function eR(t){const e=x.useRef(t);return $9(()=>{e.current=t}),e}function lfe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,h]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=x.useState(r);u_(f,r)||p(r);const[m,g]=x.useState(null),[y,w]=x.useState(null),v=x.useCallback(_=>{_!==$.current&&($.current=_,g(_))},[]),b=x.useCallback(_=>{_!==N.current&&(N.current=_,w(_))},[]),A=s||m,E=o||y,$=x.useRef(null),N=x.useRef(null),R=x.useRef(u),j=l!=null,F=eR(l),W=eR(i),V=eR(c),B=x.useCallback(()=>{if(!$.current||!N.current)return;const _={placement:e,strategy:n,middleware:f};W.current&&(_.platform=W.current),kNe($.current,N.current,_).then(P=>{const L={...P,isPositioned:V.current!==!1};k.current&&!u_(R.current,L)&&(R.current=L,Kl.flushSync(()=>{h(L)}))})},[f,e,n,W,V]);$9(()=>{c===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(_=>({..._,isPositioned:!1})))},[c]);const k=x.useRef(!1);$9(()=>(k.current=!0,()=>{k.current=!1}),[]),$9(()=>{if(A&&($.current=A),E&&(N.current=E),A&&E){if(F.current)return F.current(A,E,B);B()}},[A,E,B,F,j]);const C=x.useMemo(()=>({reference:$,floating:N,setReference:v,setFloating:b}),[v,b]),S=x.useMemo(()=>({reference:A,floating:E}),[A,E]),T=x.useMemo(()=>{const _={position:n,left:0,top:0};if(!S.floating)return _;const P=iZ(S.floating,u.x),L=iZ(S.floating,u.y);return a?{..._,transform:"translate("+P+"px, "+L+"px)",...afe(S.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:L}},[n,a,S.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:B,refs:C,elements:S,floatingStyles:T}),[u,B,C,S,T])}const INe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?rZ({element:r.current,padding:i}).fn(n):{}:r?rZ({element:r,padding:i}).fn(n):{}}}},nH=(t,e)=>({...bNe(t),options:[t,e]}),cfe=(t,e)=>({...vNe(t),options:[t,e]}),TNe=(t,e)=>({...CNe(t),options:[t,e]}),ufe=(t,e)=>({...xNe(t),options:[t,e]}),dfe=(t,e)=>({...ENe(t),options:[t,e]}),$Ne=(t,e)=>({...ANe(t),options:[t,e]}),NNe=(t,e)=>({...INe(t),options:[t,e]});var PNe="Arrow",hfe=x.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return d.jsx(Ys.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});hfe.displayName=PNe;var RNe=hfe;function ffe(t){const[e,n]=x.useState(void 0);return dg(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var pfe="Popper",[mfe,gfe]=mA(pfe),[vKt,yfe]=mfe(pfe),wfe="PopperAnchor",bfe=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=yfe(wfe,n),o=x.useRef(null),a=Yl(e,o);return x.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(Ys.div,{...i,ref:a})});bfe.displayName=wfe;var rH="PopperContent",[jNe,ONe]=mfe(rH),vfe=x.forwardRef((t,e)=>{var ee,J,oe,de,ae,he;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=t,y=yfe(rH,n),[w,v]=x.useState(null),b=Yl(e,be=>v(be)),[A,E]=x.useState(null),$=ffe(A),N=($==null?void 0:$.width)??0,R=($==null?void 0:$.height)??0,j=r+(s!=="center"?"-"+s:""),F=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},W=Array.isArray(c)?c:[c],V=W.length>0,B={padding:F,boundary:W.filter(DNe),altBoundary:V},{refs:k,floatingStyles:C,placement:S,isPositioned:T,middlewareData:_}=lfe({strategy:"fixed",placement:j,whileElementsMounted:(...be)=>ofe(...be,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[nH({mainAxis:i+R,alignmentAxis:o}),l&&cfe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?TNe():void 0,...B}),l&&ufe({...B}),dfe({...B,apply:({elements:be,rects:fe,availableWidth:ke,availableHeight:we})=>{const{width:Ue,height:Me}=fe.reference,_e=be.floating.style;_e.setProperty("--radix-popper-available-width",`${ke}px`),_e.setProperty("--radix-popper-available-height",`${we}px`),_e.setProperty("--radix-popper-anchor-width",`${Ue}px`),_e.setProperty("--radix-popper-anchor-height",`${Me}px`)}}),A&&NNe({element:A,padding:a}),BNe({arrowWidth:N,arrowHeight:R}),f&&$Ne({strategy:"referenceHidden",...B})]}),[P,L]=Afe(S),O=ug(m);dg(()=>{T&&(O==null||O())},[T,O]);const I=(ee=_.arrow)==null?void 0:ee.x,D=(J=_.arrow)==null?void 0:J.y,Y=((oe=_.arrow)==null?void 0:oe.centerOffset)!==0,[M,Q]=x.useState();return dg(()=>{w&&Q(window.getComputedStyle(w).zIndex)},[w]),d.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...C,transform:T?C.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:M,"--radix-popper-transform-origin":[(de=_.transformOrigin)==null?void 0:de.x,(ae=_.transformOrigin)==null?void 0:ae.y].join(" "),...((he=_.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(jNe,{scope:n,placedSide:P,onArrowChange:E,arrowX:I,arrowY:D,shouldHideArrow:Y,children:d.jsx(Ys.div,{"data-side":P,"data-align":L,...g,ref:b,style:{...g.style,animation:T?void 0:"none"}})})})});vfe.displayName=rH;var xfe="PopperArrow",MNe={top:"bottom",right:"left",bottom:"top",left:"right"},Efe=x.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=ONe(xfe,r),o=MNe[s.placedSide];return d.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:d.jsx(RNe,{...i,ref:n,style:{...i.style,display:"block"}})})});Efe.displayName=xfe;function DNe(t){return t!==null}var BNe=t=>({name:"transformOrigin",options:t,fn(e){var y,w,v;const{placement:n,rects:r,middlewareData:i}=e,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=Afe(n),h={start:"0%",center:"50%",end:"100%"}[u],f=(((w=i.arrow)==null?void 0:w.x)??0)+a/2,p=(((v=i.arrow)==null?void 0:v.y)??0)+l/2;let m="",g="";return c==="bottom"?(m=o?h:`${f}px`,g=`${-l}px`):c==="top"?(m=o?h:`${f}px`,g=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,g=o?h:`${p}px`):c==="left"&&(m=`${r.floating.width+l}px`,g=o?h:`${p}px`),{data:{x:m,y:g}}}});function Afe(t){const[e,n="center"]=t.split("-");return[e,n]}var LNe=bfe,FNe=vfe,UNe=Efe,[iT,xKt]=mA("Tooltip",[gfe]),iH=gfe(),Cfe="TooltipProvider",zNe=700,sZ="tooltip.open",[WNe,kfe]=iT(Cfe),Sfe=t=>{const{__scopeTooltip:e,delayDuration:n=zNe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=x.useRef(!0),a=x.useRef(!1),l=x.useRef(0);return x.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),d.jsx(WNe,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:x.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};Sfe.displayName=Cfe;var _fe="Tooltip",[EKt,sT]=iT(_fe),GD="TooltipTrigger",HNe=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=sT(GD,n),s=kfe(GD,n),o=iH(n),a=x.useRef(null),l=Yl(e,a,i.onTriggerChange),c=x.useRef(!1),u=x.useRef(!1),h=x.useCallback(()=>c.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),d.jsx(LNe,{asChild:!0,...o,children:d.jsx(Ys.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Ni(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ni(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Ni(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ni(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Ni(t.onBlur,i.onClose),onClick:Ni(t.onClick,i.onClose)})})});HNe.displayName=GD;var VNe="TooltipPortal",[AKt,qNe]=iT(VNe,{forceMount:void 0}),xx="TooltipContent",Ife=x.forwardRef((t,e)=>{const n=qNe(xx,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=sT(xx,t.__scopeTooltip);return d.jsx(ZI,{present:r||o.open,children:o.disableHoverableContent?d.jsx(Tfe,{side:i,...s,ref:e}):d.jsx(GNe,{side:i,...s,ref:e})})}),GNe=x.forwardRef((t,e)=>{const n=sT(xx,t.__scopeTooltip),r=kfe(xx,t.__scopeTooltip),i=x.useRef(null),s=Yl(e,i),[o,a]=x.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:h}=r,f=x.useCallback(()=>{a(null),h(!1)},[h]),p=x.useCallback((m,g)=>{const y=m.currentTarget,w={x:m.clientX,y:m.clientY},v=JNe(w,y.getBoundingClientRect()),b=XNe(w,v),A=ePe(g.getBoundingClientRect()),E=nPe([...b,...A]);a(E),h(!0)},[h]);return x.useEffect(()=>()=>f(),[f]),x.useEffect(()=>{if(l&&u){const m=y=>p(y,u),g=y=>p(y,l);return l.addEventListener("pointerleave",m),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",g)}}},[l,u,p,f]),x.useEffect(()=>{if(o){const m=g=>{const y=g.target,w={x:g.clientX,y:g.clientY},v=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),b=!tPe(w,o);v?f():b&&(f(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,u,o,c,f]),d.jsx(Tfe,{...t,ref:s})}),[KNe,YNe]=iT(_fe,{isInside:!1}),QNe=sIe("TooltipContent"),Tfe=x.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=sT(xx,n),c=iH(n),{onClose:u}=l;return x.useEffect(()=>(document.addEventListener(sZ,u),()=>document.removeEventListener(sZ,u)),[u]),x.useEffect(()=>{if(l.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),d.jsx(zW,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:d.jsxs(FNe,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(QNe,{children:r}),d.jsx(KNe,{scope:n,isInside:!0,children:d.jsx(TIe,{id:l.contentId,role:"tooltip",children:i||r})})]})})});Ife.displayName=xx;var $fe="TooltipArrow",ZNe=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=iH(n);return YNe($fe,n).isInside?null:d.jsx(UNe,{...i,...r,ref:e})});ZNe.displayName=$fe;function JNe(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function XNe(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function ePe(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function tPe(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,h=l.x,f=l.y;u>r!=f>r&&n<(h-c)*(r-u)/(f-u)+c&&(i=!i)}return i}function nPe(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),rPe(e)}function rPe(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var iPe=Sfe,Nfe=Ife;const sPe=iPe,oPe=x.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(Nfe,{ref:r,sideOffset:e,className:ua("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));oPe.displayName=Nfe.displayName;var oT=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},aPe={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},hm,Gz,Rce,lPe=(Rce=class{constructor(){ve(this,hm,aPe);ve(this,Gz,!1)}setTimeoutProvider(t){te(this,hm,t)}setTimeout(t,e){return H(this,hm).setTimeout(t,e)}clearTimeout(t){H(this,hm).clearTimeout(t)}setInterval(t,e){return H(this,hm).setInterval(t,e)}clearInterval(t){H(this,hm).clearInterval(t)}},hm=new WeakMap,Gz=new WeakMap,Rce),KD=new lPe;function cPe(t){setTimeout(t,0)}var aT=typeof window>"u"||"Deno"in globalThis;function Mu(){}function uPe(t,e){return typeof t=="function"?t(e):t}function dPe(t){return typeof t=="number"&&t>=0&&t!==1/0}function hPe(t,e){return Math.max(t+(e||0)-Date.now(),0)}function YD(t,e){return typeof t=="function"?t(e):t}function fPe(t,e){return typeof t=="function"?t(e):t}function oZ(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==sH(o,e.options))return!1}else if(!J4(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function aZ(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Z4(e.options.mutationKey)!==Z4(s))return!1}else if(!J4(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function sH(t,e){return((e==null?void 0:e.queryKeyHashFn)||Z4)(t)}function Z4(t){return JSON.stringify(t,(e,n)=>QD(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function J4(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>J4(t[n],e[n])):!1}var pPe=Object.prototype.hasOwnProperty;function Pfe(t,e){if(t===e)return t;const n=lZ(t)&&lZ(e);if(!n&&!(QD(t)&&QD(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),o=s.length,a=n?new Array(o):{};let l=0;for(let c=0;c<o;c++){const u=n?c:s[c],h=t[u],f=e[u];if(h===f){a[u]=h,(n?c<i:pPe.call(t,u))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){a[u]=f;continue}const p=Pfe(h,f);a[u]=p,p===h&&l++}return i===o&&l===i?t:a}function lZ(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function QD(t){if(!cZ(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!cZ(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function cZ(t){return Object.prototype.toString.call(t)==="[object Object]"}function mPe(t){return new Promise(e=>{KD.setTimeout(e,t)})}function gPe(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Pfe(t,e):e}function yPe(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function wPe(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var oH=Symbol();function Rfe(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===oH?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Vy,fm,b2,jce,bPe=(jce=class extends oT{constructor(){super();ve(this,Vy);ve(this,fm);ve(this,b2);te(this,b2,e=>{if(!aT&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){H(this,fm)||this.setEventListener(H(this,b2))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,fm))==null||e.call(this),te(this,fm,void 0))}setEventListener(e){var n;te(this,b2,e),(n=H(this,fm))==null||n.call(this),te(this,fm,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){H(this,Vy)!==e&&(te(this,Vy,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof H(this,Vy)=="boolean"?H(this,Vy):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Vy=new WeakMap,fm=new WeakMap,b2=new WeakMap,jce),jfe=new bPe;function vPe(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var xPe=cPe;function EPe(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=xPe;const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Yo=EPe(),v2,pm,x2,Oce,APe=(Oce=class extends oT{constructor(){super();ve(this,v2,!0);ve(this,pm);ve(this,x2);te(this,x2,e=>{if(!aT&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){H(this,pm)||this.setEventListener(H(this,x2))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,pm))==null||e.call(this),te(this,pm,void 0))}setEventListener(e){var n;te(this,x2,e),(n=H(this,pm))==null||n.call(this),te(this,pm,e(this.setOnline.bind(this)))}setOnline(e){H(this,v2)!==e&&(te(this,v2,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return H(this,v2)}},v2=new WeakMap,pm=new WeakMap,x2=new WeakMap,Oce),d_=new APe;function CPe(t){return Math.min(1e3*2**t,3e4)}function Ofe(t){return(t??"online")==="online"?d_.isOnline():!0}var ZD=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Mfe(t){let e=!1,n=0,r;const i=vPe(),s=()=>i.status!=="pending",o=g=>{var y;if(!s()){const w=new ZD(g);f(w),(y=t.onCancel)==null||y.call(t,w)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>jfe.isFocused()&&(t.networkMode==="always"||d_.isOnline())&&t.canRun(),u=()=>Ofe(t.networkMode)&&t.canRun(),h=g=>{s()||(r==null||r(),i.resolve(g))},f=g=>{s()||(r==null||r(),i.reject(g))},p=()=>new Promise(g=>{var y;r=w=>{(s()||c())&&g(w)},(y=t.onPause)==null||y.call(t)}).then(()=>{var g;r=void 0,s()||(g=t.onContinue)==null||g.call(t)}),m=()=>{if(s())return;let g;const y=n===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(h).catch(w=>{var $;if(s())return;const v=t.retry??(aT?0:3),b=t.retryDelay??CPe,A=typeof b=="function"?b(n,w):b,E=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,w);if(e||!E){f(w);return}n++,($=t.onFail)==null||$.call(t,n,w),mPe(A).then(()=>c()?void 0:p()).then(()=>{e?f(w):m()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?m():p().then(m),i)}}var qy,Mce,Dfe=(Mce=class{constructor(){ve(this,qy)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dPe(this.gcTime)&&te(this,qy,KD.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(aT?1/0:5*60*1e3))}clearGcTimeout(){H(this,qy)&&(KD.clearTimeout(H(this,qy)),te(this,qy,void 0))}},qy=new WeakMap,Mce),Gy,E2,$c,Ky,hs,YE,Yy,Fu,$f,Dce,kPe=(Dce=class extends Dfe{constructor(e){super();ve(this,Fu);ve(this,Gy);ve(this,E2);ve(this,$c);ve(this,Ky);ve(this,hs);ve(this,YE);ve(this,Yy);te(this,Yy,!1),te(this,YE,e.defaultOptions),this.setOptions(e.options),this.observers=[],te(this,Ky,e.client),te(this,$c,H(this,Ky).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,te(this,Gy,uZ(this.options)),this.state=e.state??H(this,Gy),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=H(this,hs))==null?void 0:e.promise}setOptions(e){if(this.options={...H(this,YE),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=uZ(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),te(this,Gy,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,$c).remove(this)}setData(e,n){const r=gPe(this.state.data,e,this.options);return Fe(this,Fu,$f).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Fe(this,Fu,$f).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=H(this,hs))==null?void 0:r.promise;return(i=H(this,hs))==null||i.cancel(e),n?n.then(Mu).catch(Mu):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,Gy))}isActive(){return this.observers.some(e=>fPe(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===oH||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>YD(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!hPe(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=H(this,hs))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=H(this,hs))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),H(this,$c).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(H(this,hs)&&(H(this,Yy)?H(this,hs).cancel({revert:!0}):H(this,hs).cancelRetry()),this.scheduleGc()),H(this,$c).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Fe(this,Fu,$f).call(this,{type:"invalidate"})}async fetch(e,n){var l,c,u,h,f,p,m,g,y,w,v,b;if(this.state.fetchStatus!=="idle"&&((l=H(this,hs))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(H(this,hs))return H(this,hs).continueRetry(),H(this,hs).promise}if(e&&this.setOptions(e),!this.options.queryFn){const A=this.observers.find(E=>E.options.queryFn);A&&this.setOptions(A.options)}const r=new AbortController,i=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(te(this,Yy,!0),r.signal)})},s=()=>{const A=Rfe(this.options,n),$=(()=>{const N={client:H(this,Ky),queryKey:this.queryKey,meta:this.meta};return i(N),N})();return te(this,Yy,!1),this.options.persister?this.options.persister(A,$,this):A($)},a=(()=>{const A={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:H(this,Ky),state:this.state,fetchFn:s};return i(A),A})();(c=this.options.behavior)==null||c.onFetch(a,this),te(this,E2,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Fe(this,Fu,$f).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),te(this,hs,Mfe({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:A=>{A instanceof ZD&&A.revert&&this.setState({...H(this,E2),fetchStatus:"idle"}),r.abort()},onFail:(A,E)=>{Fe(this,Fu,$f).call(this,{type:"failed",failureCount:A,error:E})},onPause:()=>{Fe(this,Fu,$f).call(this,{type:"pause"})},onContinue:()=>{Fe(this,Fu,$f).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const A=await H(this,hs).start();if(A===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(A),(p=(f=H(this,$c).config).onSuccess)==null||p.call(f,A,this),(g=(m=H(this,$c).config).onSettled)==null||g.call(m,A,this.state.error,this),A}catch(A){if(A instanceof ZD){if(A.silent)return H(this,hs).promise;if(A.revert){if(this.state.data===void 0)throw A;return this.state.data}}throw Fe(this,Fu,$f).call(this,{type:"error",error:A}),(w=(y=H(this,$c).config).onError)==null||w.call(y,A,this),(b=(v=H(this,$c).config).onSettled)==null||b.call(v,this.state.data,A,this),A}finally{this.scheduleGc()}}},Gy=new WeakMap,E2=new WeakMap,$c=new WeakMap,Ky=new WeakMap,hs=new WeakMap,YE=new WeakMap,Yy=new WeakMap,Fu=new WeakSet,$f=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...SPe(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return te(this,E2,e.manual?i:void 0),i;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Yo.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),H(this,$c).notify({query:this,type:"updated",action:e})})},Dce);function SPe(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ofe(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function uZ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function dZ(t){return{onFetch:(e,n)=>{var u,h,f,p,m;const r=e.options,i=(f=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},w=Rfe(e.options,e.fetchOptions),v=async(b,A,E)=>{if(g)return Promise.reject();if(A==null&&b.pages.length)return Promise.resolve(b);const N=(()=>{const W={client:e.client,queryKey:e.queryKey,pageParam:A,direction:E?"backward":"forward",meta:e.options.meta};return y(W),W})(),R=await w(N),{maxPages:j}=e.options,F=E?wPe:yPe;return{pages:F(b.pages,R,j),pageParams:F(b.pageParams,A,j)}};if(i&&s.length){const b=i==="backward",A=b?_Pe:hZ,E={pages:s,pageParams:o},$=A(r,E);a=await v(E,$,b)}else{const b=t??s.length;do{const A=l===0?o[0]??r.initialPageParam:hZ(r,a);if(l>0&&A==null)break;a=await v(a,A),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function hZ(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function _Pe(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var QE,oh,Uo,Qy,ah,W0,Bce,IPe=(Bce=class extends Dfe{constructor(e){super();ve(this,ah);ve(this,QE);ve(this,oh);ve(this,Uo);ve(this,Qy);te(this,QE,e.client),this.mutationId=e.mutationId,te(this,Uo,e.mutationCache),te(this,oh,[]),this.state=e.state||TPe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){H(this,oh).includes(e)||(H(this,oh).push(e),this.clearGcTimeout(),H(this,Uo).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){te(this,oh,H(this,oh).filter(n=>n!==e)),this.scheduleGc(),H(this,Uo).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){H(this,oh).length||(this.state.status==="pending"?this.scheduleGc():H(this,Uo).remove(this))}continue(){var e;return((e=H(this,Qy))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,c,u,h,f,p,m,g,y,w,v,b,A,E,$,N,R,j;const n=()=>{Fe(this,ah,W0).call(this,{type:"continue"})},r={client:H(this,QE),meta:this.options.meta,mutationKey:this.options.mutationKey};te(this,Qy,Mfe({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(F,W)=>{Fe(this,ah,W0).call(this,{type:"failed",failureCount:F,error:W})},onPause:()=>{Fe(this,ah,W0).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,Uo).canRun(this)}));const i=this.state.status==="pending",s=!H(this,Qy).canStart();try{if(i)n();else{Fe(this,ah,W0).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(o=H(this,Uo).config).onMutate)==null?void 0:a.call(o,e,this,r));const W=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e,r));W!==this.state.context&&Fe(this,ah,W0).call(this,{type:"pending",context:W,variables:e,isPaused:s})}const F=await H(this,Qy).start();return await((h=(u=H(this,Uo).config).onSuccess)==null?void 0:h.call(u,F,e,this.state.context,this,r)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,F,e,this.state.context,r)),await((g=(m=H(this,Uo).config).onSettled)==null?void 0:g.call(m,F,null,this.state.variables,this.state.context,this,r)),await((w=(y=this.options).onSettled)==null?void 0:w.call(y,F,null,e,this.state.context,r)),Fe(this,ah,W0).call(this,{type:"success",data:F}),F}catch(F){try{throw await((b=(v=H(this,Uo).config).onError)==null?void 0:b.call(v,F,e,this.state.context,this,r)),await((E=(A=this.options).onError)==null?void 0:E.call(A,F,e,this.state.context,r)),await((N=($=H(this,Uo).config).onSettled)==null?void 0:N.call($,void 0,F,this.state.variables,this.state.context,this,r)),await((j=(R=this.options).onSettled)==null?void 0:j.call(R,void 0,F,e,this.state.context,r)),F}finally{Fe(this,ah,W0).call(this,{type:"error",error:F})}}finally{H(this,Uo).runNext(this)}}},QE=new WeakMap,oh=new WeakMap,Uo=new WeakMap,Qy=new WeakMap,ah=new WeakSet,W0=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Yo.batch(()=>{H(this,oh).forEach(r=>{r.onMutationUpdate(e)}),H(this,Uo).notify({mutation:this,type:"updated",action:e})})},Bce);function TPe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qf,Uu,ZE,Lce,$Pe=(Lce=class extends oT{constructor(e={}){super();ve(this,Qf);ve(this,Uu);ve(this,ZE);this.config=e,te(this,Qf,new Set),te(this,Uu,new Map),te(this,ZE,0)}build(e,n,r){const i=new IPe({client:e,mutationCache:this,mutationId:++l0(this,ZE)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){H(this,Qf).add(e);const n=JC(e);if(typeof n=="string"){const r=H(this,Uu).get(n);r?r.push(e):H(this,Uu).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(H(this,Qf).delete(e)){const n=JC(e);if(typeof n=="string"){const r=H(this,Uu).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&H(this,Uu).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=JC(e);if(typeof n=="string"){const r=H(this,Uu).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=JC(e);if(typeof n=="string"){const i=(r=H(this,Uu).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Yo.batch(()=>{H(this,Qf).forEach(e=>{this.notify({type:"removed",mutation:e})}),H(this,Qf).clear(),H(this,Uu).clear()})}getAll(){return Array.from(H(this,Qf))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>aZ(n,r))}findAll(e={}){return this.getAll().filter(n=>aZ(e,n))}notify(e){Yo.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Yo.batch(()=>Promise.all(e.map(n=>n.continue().catch(Mu))))}},Qf=new WeakMap,Uu=new WeakMap,ZE=new WeakMap,Lce);function JC(t){var e;return(e=t.options.scope)==null?void 0:e.id}var lh,Fce,NPe=(Fce=class extends oT{constructor(e={}){super();ve(this,lh);this.config=e,te(this,lh,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??sH(i,n);let o=this.get(s);return o||(o=new kPe({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){H(this,lh).has(e.queryHash)||(H(this,lh).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=H(this,lh).get(e.queryHash);n&&(e.destroy(),n===e&&H(this,lh).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Yo.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return H(this,lh).get(e)}getAll(){return[...H(this,lh).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>oZ(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>oZ(e,r)):n}notify(e){Yo.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Yo.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Yo.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},lh=new WeakMap,Fce),ai,mm,gm,A2,C2,ym,k2,S2,Uce,PPe=(Uce=class{constructor(t={}){ve(this,ai);ve(this,mm);ve(this,gm);ve(this,A2);ve(this,C2);ve(this,ym);ve(this,k2);ve(this,S2);te(this,ai,t.queryCache||new NPe),te(this,mm,t.mutationCache||new $Pe),te(this,gm,t.defaultOptions||{}),te(this,A2,new Map),te(this,C2,new Map),te(this,ym,0)}mount(){l0(this,ym)._++,H(this,ym)===1&&(te(this,k2,jfe.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,ai).onFocus())})),te(this,S2,d_.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,ai).onOnline())})))}unmount(){var t,e;l0(this,ym)._--,H(this,ym)===0&&((t=H(this,k2))==null||t.call(this),te(this,k2,void 0),(e=H(this,S2))==null||e.call(this),te(this,S2,void 0))}isFetching(t){return H(this,ai).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return H(this,mm).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,ai).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=H(this,ai).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(YD(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return H(this,ai).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=H(this,ai).get(r.queryHash),s=i==null?void 0:i.state.data,o=uPe(e,s);if(o!==void 0)return H(this,ai).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Yo.batch(()=>H(this,ai).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,ai).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=H(this,ai);Yo.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=H(this,ai);return Yo.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Yo.batch(()=>H(this,ai).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Mu).catch(Mu)}invalidateQueries(t,e={}){return Yo.batch(()=>(H(this,ai).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Yo.batch(()=>H(this,ai).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Mu)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Mu)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=H(this,ai).build(this,e);return n.isStaleByTime(YD(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Mu).catch(Mu)}fetchInfiniteQuery(t){return t.behavior=dZ(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Mu).catch(Mu)}ensureInfiniteQueryData(t){return t.behavior=dZ(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return d_.isOnline()?H(this,mm).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,ai)}getMutationCache(){return H(this,mm)}getDefaultOptions(){return H(this,gm)}setDefaultOptions(t){te(this,gm,t)}setQueryDefaults(t,e){H(this,A2).set(Z4(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...H(this,A2).values()],n={};return e.forEach(r=>{J4(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){H(this,C2).set(Z4(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...H(this,C2).values()],n={};return e.forEach(r=>{J4(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...H(this,gm).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=sH(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===oH&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...H(this,gm).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){H(this,ai).clear(),H(this,mm).clear()}},ai=new WeakMap,mm=new WeakMap,gm=new WeakMap,A2=new WeakMap,C2=new WeakMap,ym=new WeakMap,k2=new WeakMap,S2=new WeakMap,Uce),RPe=x.createContext(void 0),jPe=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(RPe.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function X4(){return X4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X4.apply(this,arguments)}var Dm;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Dm||(Dm={}));const fZ="popstate";function OPe(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return JD("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Lfe(i)}return DPe(e,n,null,t)}function Ki(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bfe(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MPe(){return Math.random().toString(36).substr(2,8)}function pZ(t,e){return{usr:t.state,key:t.key,idx:e}}function JD(t,e,n,r){return n===void 0&&(n=null),X4({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?S3(e):e,{state:n,key:e&&e.key||r||MPe()})}function Lfe(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function S3(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function DPe(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Dm.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(X4({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Dm.Pop;let y=u(),w=y==null?null:y-c;c=y,l&&l({action:a,location:g.location,delta:w})}function f(y,w){a=Dm.Push;let v=JD(g.location,y,w);c=u()+1;let b=pZ(v,c),A=g.createHref(v);try{o.pushState(b,"",A)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(A)}s&&l&&l({action:a,location:g.location,delta:1})}function p(y,w){a=Dm.Replace;let v=JD(g.location,y,w);c=u();let b=pZ(v,c),A=g.createHref(v);o.replaceState(b,"",A),s&&l&&l({action:a,location:g.location,delta:0})}function m(y){let w=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:Lfe(y);return v=v.replace(/ $/,"%20"),Ki(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let g={get action(){return a},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(fZ,h),l=y,()=>{i.removeEventListener(fZ,h),l=null}},createHref(y){return e(i,y)},createURL:m,encodeLocation(y){let w=m(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:p,go(y){return o.go(y)}};return g}var mZ;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mZ||(mZ={}));function BPe(t,e,n){return n===void 0&&(n="/"),LPe(t,e,n,!1)}function LPe(t,e,n,r){let i=typeof e=="string"?S3(e):e,s=zfe(i.pathname||"/",n);if(s==null)return null;let o=Ffe(t);FPe(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=ZPe(s);a=YPe(o[l],c,r)}return a}function Ffe(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ki(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=b1([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Ki(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Ffe(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:GPe(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Ufe(s.path))i(s,o,l)}),e}function Ufe(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Ufe(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function FPe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KPe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const UPe=/^:[\w-]+$/,zPe=3,WPe=2,HPe=1,VPe=10,qPe=-2,gZ=t=>t==="*";function GPe(t,e){let n=t.split("/"),r=n.length;return n.some(gZ)&&(r+=qPe),e&&(r+=WPe),n.filter(i=>!gZ(i)).reduce((i,s)=>i+(UPe.test(s)?zPe:s===""?HPe:VPe),r)}function KPe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function YPe(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=yZ({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=yZ({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:b1([s,h.pathname]),pathnameBase:tRe(b1([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=b1([s,h.pathnameBase]))}return o}function yZ(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=QPe(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let g=a[h]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[h];return p&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function QPe(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Bfe(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ZPe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bfe(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zfe(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function JPe(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?S3(t):t;return{pathname:n?n.startsWith("/")?n:XPe(n,e):e,search:nRe(r),hash:rRe(i)}}function XPe(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function tR(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eRe(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wfe(t,e){let n=eRe(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Hfe(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=S3(t):(i=X4({},t),Ki(!i.pathname||!i.pathname.includes("?"),tR("?","pathname","search",i)),Ki(!i.pathname||!i.pathname.includes("#"),tR("#","pathname","hash",i)),Ki(!i.search||!i.search.includes("#"),tR("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=JPe(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const b1=t=>t.join("/").replace(/\/\/+/g,"/"),tRe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nRe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rRe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iRe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Vfe=["post","put","patch","delete"];new Set(Vfe);const sRe=["get",...Vfe];new Set(sRe);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function e8(){return e8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e8.apply(this,arguments)}const aH=x.createContext(null),oRe=x.createContext(null),xA=x.createContext(null),lT=x.createContext(null),kw=x.createContext({outlet:null,matches:[],isDataRoute:!1}),qfe=x.createContext(null);function EA(){return x.useContext(lT)!=null}function r0(){return EA()||Ki(!1),x.useContext(lT).location}function Gfe(t){x.useContext(xA).static||x.useLayoutEffect(t)}function ur(){let{isDataRoute:t}=x.useContext(kw);return t?bRe():aRe()}function aRe(){EA()||Ki(!1);let t=x.useContext(aH),{basename:e,future:n,navigator:r}=x.useContext(xA),{matches:i}=x.useContext(kw),{pathname:s}=r0(),o=JSON.stringify(Wfe(i,n.v7_relativeSplatPath)),a=x.useRef(!1);return Gfe(()=>{a.current=!0}),x.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Hfe(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:b1([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,s,t])}function lRe(t,e){return cRe(t,e)}function cRe(t,e,n,r){EA()||Ki(!1);let{navigator:i}=x.useContext(xA),{matches:s}=x.useContext(kw),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=r0(),u;if(e){var h;let y=typeof e=="string"?S3(e):e;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||Ki(!1),u=y}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=BPe(t,{pathname:p}),g=pRe(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:b1([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:b1([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return e&&g?x.createElement(lT.Provider,{value:{location:e8({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Dm.Pop}},g):g}function uRe(){let t=wRe(),e=iRe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,null)}const dRe=x.createElement(uRe,null);class hRe extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(kw.Provider,{value:this.props.routeContext},x.createElement(qfe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fRe(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(aH);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(kw.Provider,{value:e},r)}function pRe(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||Ki(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:p}=n,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,m=!1,g=null,y=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||dRe,l&&(c<0&&f===0?(m=!0,y=null):c===f&&(m=!0,y=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),v=()=>{let b;return p?b=g:m?b=y:h.route.Component?b=x.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,x.createElement(fRe,{match:h,routeContext:{outlet:u,matches:w,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?x.createElement(hRe,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var Kfe=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Kfe||{}),h_=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(h_||{});function mRe(t){let e=x.useContext(aH);return e||Ki(!1),e}function gRe(t){let e=x.useContext(oRe);return e||Ki(!1),e}function yRe(t){let e=x.useContext(kw);return e||Ki(!1),e}function Yfe(t){let e=yRe(),n=e.matches[e.matches.length-1];return n.route.id||Ki(!1),n.route.id}function wRe(){var t;let e=x.useContext(qfe),n=gRe(h_.UseRouteError),r=Yfe(h_.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function bRe(){let{router:t}=mRe(Kfe.UseNavigateStable),e=Yfe(h_.UseNavigateStable),n=x.useRef(!1);return Gfe(()=>{n.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,e8({fromRouteId:e},s)))},[t,e])}function vRe(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function XD(t){let{to:e,replace:n,state:r,relative:i}=t;EA()||Ki(!1);let{future:s,static:o}=x.useContext(xA),{matches:a}=x.useContext(kw),{pathname:l}=r0(),c=ur(),u=Hfe(e,Wfe(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(u);return x.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function xi(t){Ki(!1)}function xRe(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Dm.Pop,navigator:s,static:o=!1,future:a}=t;EA()&&Ki(!1);let l=e.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:s,static:o,future:e8({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=S3(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:m="default"}=r,g=x.useMemo(()=>{let y=zfe(u,l);return y==null?null:{location:{pathname:y,search:h,hash:f,state:p,key:m},navigationType:i}},[l,u,h,f,p,m,i]);return g==null?null:x.createElement(xA.Provider,{value:c},x.createElement(lT.Provider,{children:n,value:g}))}function ERe(t){let{children:e,location:n}=t;return lRe(eB(e),n)}new Promise(()=>{});function eB(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let s=[...e,i];if(r.type===x.Fragment){n.push.apply(n,eB(r.props.children,s));return}r.type!==xi&&Ki(!1),!r.props.index||!r.props.children||Ki(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=eB(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const ARe="6";try{window.__reactRouterVersion=ARe}catch{}const CRe="startTransition",wZ=N4[CRe];function kRe(t){let{basename:e,children:n,future:r,window:i}=t,s=x.useRef();s.current==null&&(s.current=OPe({window:i,v5Compat:!0}));let o=s.current,[a,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=x.useCallback(h=>{c&&wZ?wZ(()=>l(h)):l(h)},[l,c]);return x.useLayoutEffect(()=>o.listen(u),[o,u]),x.useEffect(()=>vRe(r),[r]),x.createElement(xRe,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var bZ;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(bZ||(bZ={}));var vZ;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(vZ||(vZ={}));const lH=x.createContext({});function cH(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const cT=x.createContext(null),uH=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class SRe extends x.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function _Re({children:t,isPresent:e}){const n=x.useId(),r=x.useRef(null),i=x.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=x.useContext(uH);return x.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),d.jsx(SRe,{isPresent:e,childRef:r,sizeRef:i,children:x.cloneElement(t,{ref:r})})}const IRe=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=cH(TRe),l=x.useId(),c=x.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),u=x.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c,register:h=>(a.set(h,!1),()=>a.delete(h))}),s?[Math.random(),c]:[n,c]);return x.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),x.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=d.jsx(_Re,{isPresent:n,children:t})),d.jsx(cT.Provider,{value:u,children:t})};function TRe(){return new Map}function Qfe(t=!0){const e=x.useContext(cT);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=x.useId();x.useEffect(()=>{t&&i(s)},[t]);const o=x.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const XC=t=>t.key||"";function xZ(t){const e=[];return x.Children.forEach(t,n=>{x.isValidElement(n)&&e.push(n)}),e}const dH=typeof window<"u",Zfe=dH?x.useLayoutEffect:x.useEffect,Sw=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=Qfe(o),c=x.useMemo(()=>xZ(t),[t]),u=o&&!a?[]:c.map(XC),h=x.useRef(!0),f=x.useRef(c),p=cH(()=>new Map),[m,g]=x.useState(c),[y,w]=x.useState(c);Zfe(()=>{h.current=!1,f.current=c;for(let A=0;A<y.length;A++){const E=XC(y[A]);u.includes(E)?p.delete(E):p.get(E)!==!0&&p.set(E,!1)}},[y,u.length,u.join("-")]);const v=[];if(c!==m){let A=[...c];for(let E=0;E<y.length;E++){const $=y[E],N=XC($);u.includes(N)||(A.splice(E,0,$),v.push($))}s==="wait"&&v.length&&(A=v),w(xZ(A)),g(c);return}const{forceRender:b}=x.useContext(lH);return d.jsx(d.Fragment,{children:y.map(A=>{const E=XC(A),$=o&&!a?!1:c===y||u.includes(E),N=()=>{if(p.has(E))p.set(E,!0);else return;let R=!0;p.forEach(j=>{j||(R=!1)}),R&&(b==null||b(),w(f.current),o&&(l==null||l()),r&&r())};return d.jsx(IRe,{isPresent:$,initial:!h.current||n?void 0:!1,custom:$?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:$?void 0:N,children:A},E)})})},Vl=t=>t;let tB=Vl;function hH(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ex=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},bp=t=>t*1e3,vp=t=>t/1e3,$Re={skipAnimations:!1,useManualTiming:!1};function NRe(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,h=!1)=>{const p=h&&r?e:n;return u&&s.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const ek=["read","resolveKeyframes","update","preRender","render","postRender"],PRe=40;function Jfe(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=ek.reduce((w,v)=>(w[v]=NRe(s),w),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:f}=o,p=()=>{const w=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,PRe),1),i.timestamp=w,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),h.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(p))},m=()=>{n=!0,r=!0,i.isProcessing||t(p)};return{schedule:ek.reduce((w,v)=>{const b=o[v];return w[v]=(A,E=!1,$=!1)=>(n||m(),b.schedule(A,E,$)),w},{}),cancel:w=>{for(let v=0;v<ek.length;v++)o[ek[v]].cancel(w)},state:i,steps:o}}const{schedule:Ur,cancel:fg,state:Ms,steps:nR}=Jfe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vl,!0),Xfe=x.createContext({strict:!1}),EZ={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ax={};for(const t in EZ)Ax[t]={isEnabled:e=>EZ[t].some(n=>!!e[n])};function RRe(t){for(const e in t)Ax[e]={...Ax[e],...t[e]}}const jRe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function f_(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||jRe.has(t)}let epe=t=>!f_(t);function ORe(t){t&&(epe=e=>e.startsWith("on")?!f_(e):t(e))}try{ORe(require("@emotion/is-prop-valid").default)}catch{}function MRe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(epe(i)||n===!0&&f_(i)||!e&&!f_(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function DRe(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const uT=x.createContext({});function t8(t){return typeof t=="string"||Array.isArray(t)}function dT(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const fH=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pH=["initial",...fH];function hT(t){return dT(t.animate)||pH.some(e=>t8(t[e]))}function tpe(t){return!!(hT(t)||t.variants)}function BRe(t,e){if(hT(t)){const{initial:n,animate:r}=t;return{initial:n===!1||t8(n)?n:void 0,animate:t8(r)?r:void 0}}return t.inherit!==!1?e:{}}function LRe(t){const{initial:e,animate:n}=BRe(t,x.useContext(uT));return x.useMemo(()=>({initial:e,animate:n}),[AZ(e),AZ(n)])}function AZ(t){return Array.isArray(t)?t.join(" "):t}const FRe=Symbol.for("motionComponentSymbol");function hv(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function URe(t,e,n){return x.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):hv(n)&&(n.current=r))},[e])}const mH=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zRe="framerAppearId",npe="data-"+mH(zRe),{schedule:gH,cancel:CKt}=Jfe(queueMicrotask,!1),rpe=x.createContext({});function WRe(t,e,n,r,i){var s,o;const{visualElement:a}=x.useContext(uT),l=x.useContext(Xfe),c=x.useContext(cT),u=x.useContext(uH).reducedMotion,h=x.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,p=x.useContext(rpe);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&HRe(h.current,n,i,p);const m=x.useRef(!1);x.useInsertionEffect(()=>{f&&m.current&&f.update(n,c)});const g=n[npe],y=x.useRef(!!g&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return Zfe(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),gH.render(f.render),y.current&&f.animationState&&f.animationState.animateChanges())}),x.useEffect(()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,g)}),y.current=!1))}),f}function HRe(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ipe(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&hv(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function ipe(t){if(t)return t.options.allowProjection!==!1?t.projection:ipe(t.parent)}function VRe({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&RRe(t);function a(c,u){let h;const f={...x.useContext(uH),...c,layoutId:qRe(c)},{isStatic:p}=f,m=LRe(c),g=r(c,p);if(!p&&dH){GRe();const y=KRe(f);h=y.MeasureLayout,m.visualElement=WRe(i,g,f,e,y.ProjectionNode)}return d.jsxs(uT.Provider,{value:m,children:[h&&m.visualElement?d.jsx(h,{visualElement:m.visualElement,...f}):null,n(i,c,URe(g,m.visualElement,u),g,p,m.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=x.forwardRef(a);return l[FRe]=i,l}function qRe({layoutId:t}){const e=x.useContext(lH).id;return e&&t!==void 0?e+"-"+t:t}function GRe(t,e){x.useContext(Xfe).strict}function KRe(t){const{drag:e,layout:n}=Ax;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const YRe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yH(t){return typeof t!="string"||t.includes("-")?!1:!!(YRe.indexOf(t)>-1||/[A-Z]/u.test(t))}function CZ(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function wH(t,e,n,r){if(typeof e=="function"){const[i,s]=CZ(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=CZ(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const nB=t=>Array.isArray(t),QRe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),ZRe=t=>nB(t)?t[t.length-1]||0:t,To=t=>!!(t&&t.getVelocity);function N9(t){const e=To(t)?t.get():t;return QRe(e)?e.toValue():e}function JRe({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:XRe(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const spe=t=>(e,n)=>{const r=x.useContext(uT),i=x.useContext(cT),s=()=>JRe(t,e,r,i);return n?s():cH(s)};function XRe(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=N9(s[f]);let{initial:o,animate:a}=t;const l=hT(t),c=tpe(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?a:o;if(h&&typeof h!="boolean"&&!dT(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const m=wH(t,f[p]);if(m){const{transitionEnd:g,transition:y,...w}=m;for(const v in w){let b=w[v];if(Array.isArray(b)){const A=u?b.length-1:0;b=b[A]}b!==null&&(i[v]=b)}for(const v in g)i[v]=g[v]}}}return i}const _3=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_w=new Set(_3),ope=t=>e=>typeof e=="string"&&e.startsWith(t),ape=ope("--"),eje=ope("var(--"),bH=t=>eje(t)?tje.test(t.split("/*")[0].trim()):!1,tje=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,lpe=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Dp=(t,e,n)=>n>e?e:n<t?t:n,I3={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},n8={...I3,transform:t=>Dp(0,1,t)},tk={...I3,default:1},AA=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),H0=AA("deg"),jh=AA("%"),Ut=AA("px"),nje=AA("vh"),rje=AA("vw"),kZ={...jh,parse:t=>jh.parse(t)/100,transform:t=>jh.transform(t*100)},ije={borderWidth:Ut,borderTopWidth:Ut,borderRightWidth:Ut,borderBottomWidth:Ut,borderLeftWidth:Ut,borderRadius:Ut,radius:Ut,borderTopLeftRadius:Ut,borderTopRightRadius:Ut,borderBottomRightRadius:Ut,borderBottomLeftRadius:Ut,width:Ut,maxWidth:Ut,height:Ut,maxHeight:Ut,top:Ut,right:Ut,bottom:Ut,left:Ut,padding:Ut,paddingTop:Ut,paddingRight:Ut,paddingBottom:Ut,paddingLeft:Ut,margin:Ut,marginTop:Ut,marginRight:Ut,marginBottom:Ut,marginLeft:Ut,backgroundPositionX:Ut,backgroundPositionY:Ut},sje={rotate:H0,rotateX:H0,rotateY:H0,rotateZ:H0,scale:tk,scaleX:tk,scaleY:tk,scaleZ:tk,skew:H0,skewX:H0,skewY:H0,distance:Ut,translateX:Ut,translateY:Ut,translateZ:Ut,x:Ut,y:Ut,z:Ut,perspective:Ut,transformPerspective:Ut,opacity:n8,originX:kZ,originY:kZ,originZ:Ut},SZ={...I3,transform:Math.round},vH={...ije,...sje,zIndex:SZ,size:Ut,fillOpacity:n8,strokeOpacity:n8,numOctaves:SZ},oje={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aje=_3.length;function lje(t,e,n){let r="",i=!0;for(let s=0;s<aje;s++){const o=_3[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=lpe(a,vH[o]);if(!l){i=!1;const u=oje[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function xH(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(_w.has(l)){o=!0;continue}else if(ape(l)){i[l]=c;continue}else{const u=lpe(c,vH[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=lje(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const cje={offset:"stroke-dashoffset",array:"stroke-dasharray"},uje={offset:"strokeDashoffset",array:"strokeDasharray"};function dje(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?cje:uje;t[s.offset]=Ut.transform(-r);const o=Ut.transform(e),a=Ut.transform(n);t[s.array]=`${o} ${a}`}function _Z(t,e,n){return typeof t=="string"?t:Ut.transform(e+n*t)}function hje(t,e,n){const r=_Z(e,t.x,t.width),i=_Z(n,t.y,t.height);return`${r} ${i}`}function EH(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,h){if(xH(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:m}=t;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=hje(m,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&dje(f,o,a,l,!1)}const AH=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),cpe=()=>({...AH(),attrs:{}}),CH=t=>typeof t=="string"&&t.toLowerCase()==="svg";function upe(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const dpe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hpe(t,e,n,r){upe(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(dpe.has(i)?i:mH(i),e.attrs[i])}const p_={};function fje(t){Object.assign(p_,t)}function fpe(t,{layout:e,layoutId:n}){return _w.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!p_[t]||t==="opacity")}function kH(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(To(i[o])||e.style&&To(e.style[o])||fpe(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function ppe(t,e,n){const r=kH(t,e,n);for(const i in t)if(To(t[i])||To(e[i])){const s=_3.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function pje(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const IZ=["x","y","width","height","cx","cy","r"],mje={useVisualState:spe({scrapeMotionValuesFromProps:ppe,createRenderState:cpe,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(_w.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<IZ.length;a++){const l=IZ[a];t[l]!==e[l]&&(o=!0)}o&&Ur.read(()=>{pje(n,r),Ur.render(()=>{EH(r,i,CH(n.tagName),t.transformTemplate),hpe(n,r)})})}})},gje={useVisualState:spe({scrapeMotionValuesFromProps:kH,createRenderState:AH})};function mpe(t,e,n){for(const r in e)!To(e[r])&&!fpe(r,n)&&(t[r]=e[r])}function yje({transformTemplate:t},e){return x.useMemo(()=>{const n=AH();return xH(n,e,t),Object.assign({},n.vars,n.style)},[e])}function wje(t,e){const n=t.style||{},r={};return mpe(r,n,t),Object.assign(r,yje(t,e)),r}function bje(t,e){const n={},r=wje(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function vje(t,e,n,r){const i=x.useMemo(()=>{const s=cpe();return EH(s,e,CH(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};mpe(s,t.style,t),i.style={...s,...i.style}}return i}function xje(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(yH(n)?vje:bje)(r,s,o,n),c=MRe(r,typeof n=="string",t),u=n!==x.Fragment?{...c,...l,ref:i}:{},{children:h}=r,f=x.useMemo(()=>To(h)?h.get():h,[h]);return x.createElement(n,{...u,children:f})}}function Eje(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...yH(r)?mje:gje,preloadedFeatures:t,useRender:xje(i),createVisualElement:e,Component:r};return VRe(o)}}function gpe(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function fT(t,e,n){const r=t.getProps();return wH(r,e,n!==void 0?n:r.custom,t)}const Aje=hH(()=>window.ScrollTimeline!==void 0);class Cje{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(Aje()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class kje extends Cje{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function SH(t,e){return t?t[e]||t.default||t:void 0}const rB=2e4;function ype(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<rB;)e+=n,r=t.next(e);return e>=rB?1/0:e}function _H(t){return typeof t=="function"}function TZ(t,e){t.timeline=e,t.onfinish=null}const IH=t=>Array.isArray(t)&&typeof t[0]=="number",Sje={linearEasing:void 0};function _je(t,e){const n=hH(t);return()=>{var r;return(r=Sje[e])!==null&&r!==void 0?r:n()}}const m_=_je(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wpe=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(Ex(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function bpe(t){return!!(typeof t=="function"&&m_()||!t||typeof t=="string"&&(t in iB||m_())||IH(t)||Array.isArray(t)&&t.every(bpe))}const y6=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,iB={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:y6([0,.65,.55,1]),circOut:y6([.55,0,1,.45]),backIn:y6([.31,.01,.66,-.59]),backOut:y6([.33,1.53,.69,.99])};function vpe(t,e){if(t)return typeof t=="function"&&m_()?wpe(t,e):IH(t)?y6(t):Array.isArray(t)?t.map(n=>vpe(n,e)||iB.easeOut):iB[t]}const $u={x:!1,y:!1};function xpe(){return $u.x||$u.y}function Ije(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function Epe(t,e){const n=Ije(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function $Z(t){return e=>{e.pointerType==="touch"||xpe()||t(e)}}function Tje(t,e,n={}){const[r,i,s]=Epe(t,n),o=$Z(a=>{const{target:l}=a,c=e(a);if(typeof c!="function"||!l)return;const u=$Z(h=>{c(h),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const Ape=(t,e)=>e?t===e?!0:Ape(t,e.parentElement):!1,TH=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,$je=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Nje(t){return $je.has(t.tagName)||t.tabIndex!==-1}const w6=new WeakSet;function NZ(t){return e=>{e.key==="Enter"&&t(e)}}function rR(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Pje=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=NZ(()=>{if(w6.has(n))return;rR(n,"down");const i=NZ(()=>{rR(n,"up")}),s=()=>rR(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function PZ(t){return TH(t)&&!xpe()}function Rje(t,e,n={}){const[r,i,s]=Epe(t,n),o=a=>{const l=a.currentTarget;if(!PZ(a)||w6.has(l))return;w6.add(l);const c=e(a),u=(p,m)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!PZ(p)||!w6.has(l))&&(w6.delete(l),typeof c=="function"&&c(p,{success:m}))},h=p=>{u(p,n.useGlobalTarget||Ape(l,p.target))},f=p=>{u(p,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{!Nje(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",c=>Pje(c,i),i)}),s}function jje(t){return t==="x"||t==="y"?$u[t]?null:($u[t]=!0,()=>{$u[t]=!1}):$u.x||$u.y?null:($u.x=$u.y=!0,()=>{$u.x=$u.y=!1})}const Cpe=new Set(["width","height","top","left","right","bottom",..._3]);let P9;function Oje(){P9=void 0}const Oh={now:()=>(P9===void 0&&Oh.set(Ms.isProcessing||$Re.useManualTiming?Ms.timestamp:performance.now()),P9),set:t=>{P9=t,queueMicrotask(Oje)}};function $H(t,e){t.indexOf(e)===-1&&t.push(e)}function NH(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class PH{constructor(){this.subscriptions=[]}add(e){return $H(this.subscriptions,e),()=>NH(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function kpe(t,e){return e?t*(1e3/e):0}const RZ=30,Mje=t=>!isNaN(parseFloat(t));class Dje{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Oh.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Oh.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Mje(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new PH);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ur.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Oh.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>RZ)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,RZ);return kpe(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function r8(t,e){return new Dje(t,e)}function Bje(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,r8(n))}function Lje(t,e){const n=fT(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=ZRe(s[o]);Bje(t,o,a)}}function Fje(t){return!!(To(t)&&t.add)}function sB(t,e){const n=t.getValue("willChange");if(Fje(n))return n.add(e)}function Spe(t){return t.props[npe]}const _pe=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Uje=1e-7,zje=12;function Wje(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=_pe(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>Uje&&++a<zje);return o}function CA(t,e,n,r){if(t===e&&n===r)return Vl;const i=s=>Wje(s,0,1,t,n);return s=>s===0||s===1?s:_pe(i(s),e,r)}const Ipe=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Tpe=t=>e=>1-t(1-e),$pe=CA(.33,1.53,.69,.99),RH=Tpe($pe),Npe=Ipe(RH),Ppe=t=>(t*=2)<1?.5*RH(t):.5*(2-Math.pow(2,-10*(t-1))),jH=t=>1-Math.sin(Math.acos(t)),Rpe=Tpe(jH),jpe=Ipe(jH),Ope=t=>/^0[^.\s]+$/u.test(t);function Hje(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Ope(t):!0}const J6=t=>Math.round(t*1e5)/1e5,OH=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Vje(t){return t==null}const qje=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,MH=(t,e)=>n=>!!(typeof n=="string"&&qje.test(n)&&n.startsWith(t)||e&&!Vje(n)&&Object.prototype.hasOwnProperty.call(n,e)),Mpe=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(OH);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Gje=t=>Dp(0,255,t),iR={...I3,transform:t=>Math.round(Gje(t))},Iy={test:MH("rgb","red"),parse:Mpe("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+iR.transform(t)+", "+iR.transform(e)+", "+iR.transform(n)+", "+J6(n8.transform(r))+")"};function Kje(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const oB={test:MH("#"),parse:Kje,transform:Iy.transform},fv={test:MH("hsl","hue"),parse:Mpe("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+jh.transform(J6(e))+", "+jh.transform(J6(n))+", "+J6(n8.transform(r))+")"},vo={test:t=>Iy.test(t)||oB.test(t)||fv.test(t),parse:t=>Iy.test(t)?Iy.parse(t):fv.test(t)?fv.parse(t):oB.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Iy.transform(t):fv.transform(t)},Yje=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Qje(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(OH))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Yje))===null||n===void 0?void 0:n.length)||0)>0}const Dpe="number",Bpe="color",Zje="var",Jje="var(",jZ="${}",Xje=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function i8(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(Xje,l=>(vo.test(l)?(r.color.push(s),i.push(Bpe),n.push(vo.parse(l))):l.startsWith(Jje)?(r.var.push(s),i.push(Zje),n.push(l)):(r.number.push(s),i.push(Dpe),n.push(parseFloat(l))),++s,jZ)).split(jZ);return{values:n,split:a,indexes:r,types:i}}function Lpe(t){return i8(t).values}function Fpe(t){const{split:e,types:n}=i8(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===Dpe?s+=J6(i[o]):a===Bpe?s+=vo.transform(i[o]):s+=i[o]}return s}}const eOe=t=>typeof t=="number"?0:t;function tOe(t){const e=Lpe(t);return Fpe(t)(e.map(eOe))}const pg={test:Qje,parse:Lpe,createTransformer:Fpe,getAnimatableNone:tOe},nOe=new Set(["brightness","contrast","saturate","opacity"]);function rOe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(OH)||[];if(!r)return t;const i=n.replace(r,"");let s=nOe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const iOe=/\b([a-z-]*)\(.*?\)/gu,aB={...pg,getAnimatableNone:t=>{const e=t.match(iOe);return e?e.map(rOe).join(" "):t}},sOe={...vH,color:vo,backgroundColor:vo,outlineColor:vo,fill:vo,stroke:vo,borderColor:vo,borderTopColor:vo,borderRightColor:vo,borderBottomColor:vo,borderLeftColor:vo,filter:aB,WebkitFilter:aB},DH=t=>sOe[t];function Upe(t,e){let n=DH(t);return n!==aB&&(n=pg),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const oOe=new Set(["auto","none","0"]);function aOe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!oOe.has(s)&&i8(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Upe(n,i)}const OZ=t=>t===I3||t===Ut,MZ=(t,e)=>parseFloat(t.split(", ")[e]),DZ=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return MZ(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?MZ(s[1],t):0}},lOe=new Set(["x","y","z"]),cOe=_3.filter(t=>!lOe.has(t));function uOe(t){const e=[];return cOe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Cx={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:DZ(4,13),y:DZ(5,14)};Cx.translateX=Cx.x;Cx.translateY=Cx.y;const v1=new Set;let lB=!1,cB=!1;function zpe(){if(cB){const t=Array.from(v1).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=uOe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}cB=!1,lB=!1,v1.forEach(t=>t.complete()),v1.clear()}function Wpe(){v1.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(cB=!0)})}function dOe(){Wpe(),zpe()}class BH{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(v1.add(this),lB||(lB=!0,Ur.read(Wpe),Ur.resolveKeyframes(zpe))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),v1.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,v1.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Hpe=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),hOe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fOe(t){const e=hOe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Vpe(t,e,n=1){const[r,i]=fOe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return Hpe(o)?parseFloat(o):o}return bH(i)?Vpe(i,e,n+1):i}const qpe=t=>e=>e.test(t),pOe={test:t=>t==="auto",parse:t=>t},Gpe=[I3,Ut,jh,H0,rje,nje,pOe],BZ=t=>Gpe.find(qpe(t));class Kpe extends BH{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),bH(c))){const u=Vpe(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Cpe.has(r)||e.length!==2)return;const[i,s]=e,o=BZ(i),a=BZ(s);if(o!==a)if(OZ(o)&&OZ(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Hje(e[i])&&r.push(i);r.length&&aOe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Cx[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Cx[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const LZ=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pg.test(t)||t==="0")&&!t.startsWith("url("));function mOe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function gOe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=LZ(i,e),a=LZ(s,e);return!o||!a?!1:mOe(t)||(n==="spring"||_H(n))&&r}const yOe=t=>t!==null;function pT(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(yOe),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const wOe=40;class Ype{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Oh.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>wOe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&dOe(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Oh.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!gOe(e,r,i,s))if(o)this.options.duration=0;else{l&&l(pT(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ri=(t,e,n)=>t+(e-t)*n;function sR(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function bOe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=sR(l,a,t+1/3),s=sR(l,a,t),o=sR(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function g_(t,e){return n=>n>0?e:t}const oR=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},vOe=[oB,Iy,fv],xOe=t=>vOe.find(e=>e.test(t));function FZ(t){const e=xOe(t);if(!e)return!1;let n=e.parse(t);return e===fv&&(n=bOe(n)),n}const UZ=(t,e)=>{const n=FZ(t),r=FZ(e);if(!n||!r)return g_(t,e);const i={...n};return s=>(i.red=oR(n.red,r.red,s),i.green=oR(n.green,r.green,s),i.blue=oR(n.blue,r.blue,s),i.alpha=ri(n.alpha,r.alpha,s),Iy.transform(i))},EOe=(t,e)=>n=>e(t(n)),kA=(...t)=>t.reduce(EOe),uB=new Set(["none","hidden"]);function AOe(t,e){return uB.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function COe(t,e){return n=>ri(t,e,n)}function LH(t){return typeof t=="number"?COe:typeof t=="string"?bH(t)?g_:vo.test(t)?UZ:_Oe:Array.isArray(t)?Qpe:typeof t=="object"?vo.test(t)?UZ:kOe:g_}function Qpe(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>LH(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function kOe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=LH(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function SOe(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const _Oe=(t,e)=>{const n=pg.createTransformer(e),r=i8(t),i=i8(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?uB.has(t)&&!i.values.length||uB.has(e)&&!r.values.length?AOe(t,e):kA(Qpe(SOe(r,i),i.values),n):g_(t,e)};function Zpe(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ri(t,e,n):LH(t)(t,e)}const IOe=5;function Jpe(t,e,n){const r=Math.max(e-IOe,0);return kpe(n-t(r),e-r)}const ui={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},aR=.001;function TOe({duration:t=ui.duration,bounce:e=ui.bounce,velocity:n=ui.velocity,mass:r=ui.mass}){let i,s,o=1-e;o=Dp(ui.minDamping,ui.maxDamping,o),t=Dp(ui.minDuration,ui.maxDuration,vp(t)),o<1?(i=c=>{const u=c*o,h=u*t,f=u-n,p=dB(c,o),m=Math.exp(-h);return aR-f/p*m},s=c=>{const h=c*o*t,f=h*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,m=Math.exp(-h),g=dB(Math.pow(c,2),o);return(-i(c)+aR>0?-1:1)*((f-p)*m)/g}):(i=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-aR+u*h},s=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,l=NOe(i,s,a);if(t=bp(t),isNaN(l))return{stiffness:ui.stiffness,damping:ui.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const $Oe=12;function NOe(t,e,n){let r=n;for(let i=1;i<$Oe;i++)r=r-t(r)/e(r);return r}function dB(t,e){return t*Math.sqrt(1-e*e)}const POe=["duration","bounce"],ROe=["stiffness","damping","mass"];function zZ(t,e){return e.some(n=>t[n]!==void 0)}function jOe(t){let e={velocity:ui.velocity,stiffness:ui.stiffness,damping:ui.damping,mass:ui.mass,isResolvedFromDuration:!1,...t};if(!zZ(t,ROe)&&zZ(t,POe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Dp(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ui.mass,stiffness:i,damping:s}}else{const n=TOe(t);e={...e,...n,mass:ui.mass},e.isResolvedFromDuration=!0}return e}function Xpe(t=ui.visualDuration,e=ui.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:h,velocity:f,isResolvedFromDuration:p}=jOe({...n,velocity:-vp(n.velocity||0)}),m=f||0,g=c/(2*Math.sqrt(l*u)),y=o-s,w=vp(Math.sqrt(l/u)),v=Math.abs(y)<5;r||(r=v?ui.restSpeed.granular:ui.restSpeed.default),i||(i=v?ui.restDelta.granular:ui.restDelta.default);let b;if(g<1){const E=dB(w,g);b=$=>{const N=Math.exp(-g*w*$);return o-N*((m+g*w*y)/E*Math.sin(E*$)+y*Math.cos(E*$))}}else if(g===1)b=E=>o-Math.exp(-w*E)*(y+(m+w*y)*E);else{const E=w*Math.sqrt(g*g-1);b=$=>{const N=Math.exp(-g*w*$),R=Math.min(E*$,300);return o-N*((m+g*w*y)*Math.sinh(R)+E*y*Math.cosh(R))/E}}const A={calculatedDuration:p&&h||null,next:E=>{const $=b(E);if(p)a.done=E>=h;else{let N=0;g<1&&(N=E===0?bp(m):Jpe(b,E,$));const R=Math.abs(N)<=r,j=Math.abs(o-$)<=i;a.done=R&&j}return a.value=a.done?o:$,a},toString:()=>{const E=Math.min(ype(A),rB),$=wpe(N=>A.next(E*N).value,E,30);return E+"ms "+$}};return A}function WZ({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},p=R=>a!==void 0&&R<a||l!==void 0&&R>l,m=R=>a===void 0?l:l===void 0||Math.abs(a-R)<Math.abs(l-R)?a:l;let g=n*e;const y=h+g,w=o===void 0?y:o(y);w!==y&&(g=w-h);const v=R=>-g*Math.exp(-R/r),b=R=>w+v(R),A=R=>{const j=v(R),F=b(R);f.done=Math.abs(j)<=c,f.value=f.done?w:F};let E,$;const N=R=>{p(f.value)&&(E=R,$=Xpe({keyframes:[f.value,m(f.value)],velocity:Jpe(b,R,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return N(0),{calculatedDuration:null,next:R=>{let j=!1;return!$&&E===void 0&&(j=!0,A(R),N(R)),E!==void 0&&R>=E?$.next(R-E):(!j&&A(R),f)}}}const OOe=CA(.42,0,1,1),MOe=CA(0,0,.58,1),e0e=CA(.42,0,.58,1),DOe=t=>Array.isArray(t)&&typeof t[0]!="number",HZ={linear:Vl,easeIn:OOe,easeInOut:e0e,easeOut:MOe,circIn:jH,circInOut:jpe,circOut:Rpe,backIn:RH,backInOut:Npe,backOut:$pe,anticipate:Ppe},VZ=t=>{if(IH(t)){tB(t.length===4);const[e,n,r,i]=t;return CA(e,n,r,i)}else if(typeof t=="string")return tB(HZ[t]!==void 0),HZ[t];return t};function BOe(t,e,n){const r=[],i=n||Zpe,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Vl:e;a=kA(l,a)}r.push(a)}return r}function LOe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(tB(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=BOe(e,r,i),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=Ex(t[h],t[h+1],u);return a[h](f)};return n?u=>c(Dp(t[0],t[s-1],u)):c}function FOe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ex(0,e,r);t.push(ri(n,1,i))}}function UOe(t){const e=[0];return FOe(e,t.length-1),e}function zOe(t,e){return t.map(n=>n*e)}function WOe(t,e){return t.map(()=>e||e0e).splice(0,t.length-1)}function y_({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=DOe(r)?r.map(VZ):VZ(r),s={done:!1,value:e[0]},o=zOe(n&&n.length===e.length?n:UOe(e),t),a=LOe(o,e,{ease:Array.isArray(i)?i:WOe(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const HOe=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ur.update(e,!0),stop:()=>fg(e),now:()=>Ms.isProcessing?Ms.timestamp:Oh.now()}},VOe={decay:WZ,inertia:WZ,tween:y_,keyframes:y_,spring:Xpe},qOe=t=>t/100;class FH extends Ype{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||BH,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=_H(n)?n:VOe[n]||y_;let l,c;a!==y_&&typeof e[0]!="number"&&(l=kA(qOe,Zpe(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=ype(u));const{calculatedDuration:h}=u,f=h+i,p=f*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:p,repeatType:m,repeatDelay:g,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-f*(this.speed>=0?1:-1),v=this.speed>=0?w<0:w>u;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let b=this.currentTime,A=s;if(p){const R=Math.min(this.currentTime,u)/h;let j=Math.floor(R),F=R%1;!F&&R>=1&&(F=1),F===1&&j--,j=Math.min(j,p+1),!!(j%2)&&(m==="reverse"?(F=1-F,g&&(F-=g/h)):m==="mirror"&&(A=o)),b=Dp(0,1,F)*h}const E=v?{done:!1,value:l[0]}:A.next(b);a&&(E.value=a(E.value));let{done:$}=E;!v&&c!==null&&($=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return N&&i!==void 0&&(E.value=pT(l,this.options,i)),y&&y(E.value),N&&this.finish(),E}get duration(){const{resolved:e}=this;return e?vp(e.calculatedDuration):0}get time(){return vp(this.currentTime)}set time(e){e=bp(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=vp(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=HOe,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const GOe=new Set(["opacity","clipPath","filter","transform"]);function KOe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=vpe(a,i);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const YOe=hH(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),w_=10,QOe=2e4;function ZOe(t){return _H(t.type)||t.type==="spring"||!bpe(t.ease)}function JOe(t,e){const n=new FH({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<QOe;)r=n.sample(s),i.push(r.value),s+=w_;return{times:void 0,keyframes:i,duration:s-w_,ease:"linear"}}const t0e={anticipate:Ppe,backInOut:Npe,circInOut:jpe};function XOe(t){return t in t0e}class qZ extends Ype{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new Kpe(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&m_()&&XOe(s)&&(s=t0e[s]),ZOe(this.options)){const{onComplete:h,onUpdate:f,motionValue:p,element:m,...g}=this.options,y=JOe(e,g);e=y.keyframes,e.length===1&&(e[1]=e[0]),r=y.duration,i=y.times,s=y.ease,o="keyframes"}const u=KOe(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(TZ(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;a.set(pT(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return vp(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return vp(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=bp(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Vl;const{animation:r}=n;TZ(r,e)}return Vl}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:h,element:f,...p}=this.options,m=new FH({...p,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),g=bp(this.time);c.setWithVelocity(m.sample(g-w_).value,m.sample(g).value,w_)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return YOe()&&r&&GOe.has(r)&&!l&&!c&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const eMe={type:"spring",stiffness:500,damping:25,restSpeed:10},tMe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),nMe={type:"keyframes",duration:.8},rMe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iMe=(t,{keyframes:e})=>e.length>2?nMe:_w.has(t)?t.startsWith("scale")?tMe(e[1]):eMe:rMe;function sMe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const UH=(t,e,n,r={},i,s)=>o=>{const a=SH(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-bp(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};sMe(a)||(u={...u,...iMe(t,u)}),u.duration&&(u.duration=bp(u.duration)),u.repeatDelay&&(u.repeatDelay=bp(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const f=pT(u.keyframes,a);if(f!==void 0)return Ur.update(()=>{u.onUpdate(f),u.onComplete()}),new kje([])}return!s&&qZ.supports(u)?new qZ(u):new FH(u)};function oMe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function n0e(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const f=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),p=l[h];if(p===void 0||u&&oMe(u,h))continue;const m={delay:n,...SH(o||{},h)};let g=!1;if(window.MotionHandoffAnimation){const w=Spe(t);if(w){const v=window.MotionHandoffAnimation(w,h,Ur);v!==null&&(m.startTime=v,g=!0)}}sB(t,h),f.start(UH(h,f,p,t.shouldReduceMotion&&Cpe.has(h)?{type:!1}:m,t,g));const y=f.animation;y&&c.push(y)}return a&&Promise.all(c).then(()=>{Ur.update(()=>{a&&Lje(t,a)})}),c}function hB(t,e,n={}){var r;const i=fT(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(n0e(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=s;return aMe(t,e,u+c,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function aMe(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(lMe).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(hB(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function lMe(t,e){return t.sortNodePosition(e)}function cMe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>hB(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=hB(t,e,n);else{const i=typeof e=="function"?fT(t,e,n.custom):e;r=Promise.all(n0e(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const uMe=pH.length;function r0e(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?r0e(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<uMe;n++){const r=pH[n],i=t.props[r];(t8(i)||i===!1)&&(e[r]=i)}return e}const dMe=[...fH].reverse(),hMe=fH.length;function fMe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>cMe(t,n,r)))}function pMe(t){let e=fMe(t),n=GZ(),r=!0;const i=l=>(c,u)=>{var h;const f=fT(t,u,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:m,...g}=f;c={...c,...g,...m}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=r0e(t.parent)||{},h=[],f=new Set;let p={},m=1/0;for(let y=0;y<hMe;y++){const w=dMe[y],v=n[w],b=c[w]!==void 0?c[w]:u[w],A=t8(b),E=w===l?v.isActive:null;E===!1&&(m=y);let $=b===u[w]&&b!==c[w]&&A;if($&&r&&t.manuallyAnimateOnMount&&($=!1),v.protectedKeys={...p},!v.isActive&&E===null||!b&&!v.prevProp||dT(b)||typeof b=="boolean")continue;const N=mMe(v.prevProp,b);let R=N||w===l&&v.isActive&&!$&&A||y>m&&A,j=!1;const F=Array.isArray(b)?b:[b];let W=F.reduce(i(w),{});E===!1&&(W={});const{prevResolvedValues:V={}}=v,B={...V,...W},k=T=>{R=!0,f.has(T)&&(j=!0,f.delete(T)),v.needsAnimating[T]=!0;const _=t.getValue(T);_&&(_.liveStyle=!1)};for(const T in B){const _=W[T],P=V[T];if(p.hasOwnProperty(T))continue;let L=!1;nB(_)&&nB(P)?L=!gpe(_,P):L=_!==P,L?_!=null?k(T):f.add(T):_!==void 0&&f.has(T)?k(T):v.protectedKeys[T]=!0}v.prevProp=b,v.prevResolvedValues=W,v.isActive&&(p={...p,...W}),r&&t.blockInitialAnimation&&(R=!1),R&&(!($&&N)||j)&&h.push(...F.map(T=>({animation:T,options:{type:w}})))}if(f.size){const y={};f.forEach(w=>{const v=t.getBaseTarget(w),b=t.getValue(w);b&&(b.liveStyle=!0),y[w]=v??null}),h.push({animation:y})}let g=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(h):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=GZ(),r=!0}}}function mMe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!gpe(e,t):!1}function Wg(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function GZ(){return{animate:Wg(!0),whileInView:Wg(),whileHover:Wg(),whileTap:Wg(),whileDrag:Wg(),whileFocus:Wg(),exit:Wg()}}class Ig{constructor(e){this.isMounted=!1,this.node=e}update(){}}class gMe extends Ig{constructor(e){super(e),e.animationState||(e.animationState=pMe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();dT(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let yMe=0;class wMe extends Ig{constructor(){super(...arguments),this.id=yMe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const bMe={animation:{Feature:gMe},exit:{Feature:wMe}};function s8(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function SA(t){return{point:{x:t.pageX,y:t.pageY}}}const vMe=t=>e=>TH(e)&&t(e,SA(e));function X6(t,e,n,r){return s8(t,e,vMe(n),r)}const KZ=(t,e)=>Math.abs(t-e);function xMe(t,e){const n=KZ(t.x,e.x),r=KZ(t.y,e.y);return Math.sqrt(n**2+r**2)}class i0e{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=cR(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=xMe(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:m}=h,{timestamp:g}=Ms;this.history.push({...m,timestamp:g});const{onStart:y,onMove:w}=this.handlers;f||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=lR(f,this.transformPagePoint),Ur.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=cR(h.type==="pointercancel"?this.lastMoveEventInfo:lR(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,y),m&&m(h,y)},!TH(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=SA(e),a=lR(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Ms;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,cR(a,this.history)),this.removeListeners=kA(X6(this.contextWindow,"pointermove",this.handlePointerMove),X6(this.contextWindow,"pointerup",this.handlePointerUp),X6(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),fg(this.updatePoint)}}function lR(t,e){return e?{point:e(t.point)}:t}function YZ(t,e){return{x:t.x-e.x,y:t.y-e.y}}function cR({point:t},e){return{point:t,delta:YZ(t,s0e(e)),offset:YZ(t,EMe(e)),velocity:AMe(e,.1)}}function EMe(t){return t[0]}function s0e(t){return t[t.length-1]}function AMe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=s0e(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>bp(e)));)n--;if(!r)return{x:0,y:0};const s=vp(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const o0e=1e-4,CMe=1-o0e,kMe=1+o0e,a0e=.01,SMe=0-a0e,_Me=0+a0e;function Ql(t){return t.max-t.min}function IMe(t,e,n){return Math.abs(t-e)<=n}function QZ(t,e,n,r=.5){t.origin=r,t.originPoint=ri(e.min,e.max,t.origin),t.scale=Ql(n)/Ql(e),t.translate=ri(n.min,n.max,t.origin)-t.originPoint,(t.scale>=CMe&&t.scale<=kMe||isNaN(t.scale))&&(t.scale=1),(t.translate>=SMe&&t.translate<=_Me||isNaN(t.translate))&&(t.translate=0)}function e4(t,e,n,r){QZ(t.x,e.x,n.x,r?r.originX:void 0),QZ(t.y,e.y,n.y,r?r.originY:void 0)}function ZZ(t,e,n){t.min=n.min+e.min,t.max=t.min+Ql(e)}function TMe(t,e,n){ZZ(t.x,e.x,n.x),ZZ(t.y,e.y,n.y)}function JZ(t,e,n){t.min=e.min-n.min,t.max=t.min+Ql(e)}function t4(t,e,n){JZ(t.x,e.x,n.x),JZ(t.y,e.y,n.y)}function $Me(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ri(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ri(n,t,r.max):Math.min(t,n)),t}function XZ(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function NMe(t,{top:e,left:n,bottom:r,right:i}){return{x:XZ(t.x,n,i),y:XZ(t.y,e,r)}}function eJ(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function PMe(t,e){return{x:eJ(t.x,e.x),y:eJ(t.y,e.y)}}function RMe(t,e){let n=.5;const r=Ql(t),i=Ql(e);return i>r?n=Ex(e.min,e.max-r,t.min):r>i&&(n=Ex(t.min,t.max-i,e.min)),Dp(0,1,n)}function jMe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const fB=.35;function OMe(t=fB){return t===!1?t=0:t===!0&&(t=fB),{x:tJ(t,"left","right"),y:tJ(t,"top","bottom")}}function tJ(t,e,n){return{min:nJ(t,e),max:nJ(t,n)}}function nJ(t,e){return typeof t=="number"?t:t[e]||0}const rJ=()=>({translate:0,scale:1,origin:0,originPoint:0}),pv=()=>({x:rJ(),y:rJ()}),iJ=()=>({min:0,max:0}),Ai=()=>({x:iJ(),y:iJ()});function Cc(t){return[t("x"),t("y")]}function l0e({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function MMe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function DMe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function uR(t){return t===void 0||t===1}function pB({scale:t,scaleX:e,scaleY:n}){return!uR(t)||!uR(e)||!uR(n)}function ny(t){return pB(t)||c0e(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function c0e(t){return sJ(t.x)||sJ(t.y)}function sJ(t){return t&&t!=="0%"}function b_(t,e,n){const r=t-n,i=e*r;return n+i}function oJ(t,e,n,r,i){return i!==void 0&&(t=b_(t,i,r)),b_(t,n,r)+e}function mB(t,e=0,n=1,r,i){t.min=oJ(t.min,e,n,r,i),t.max=oJ(t.max,e,n,r,i)}function u0e(t,{x:e,y:n}){mB(t.x,e.translate,e.scale,e.originPoint),mB(t.y,n.translate,n.scale,n.originPoint)}const aJ=.999999999999,lJ=1.0000000000001;function BMe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&gv(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,u0e(t,o)),r&&ny(s.latestValues)&&gv(t,s.latestValues))}e.x<lJ&&e.x>aJ&&(e.x=1),e.y<lJ&&e.y>aJ&&(e.y=1)}function mv(t,e){t.min=t.min+e,t.max=t.max+e}function cJ(t,e,n,r,i=.5){const s=ri(t.min,t.max,i);mB(t,e,n,s,r)}function gv(t,e){cJ(t.x,e.x,e.scaleX,e.scale,e.originX),cJ(t.y,e.y,e.scaleY,e.scale,e.originY)}function d0e(t,e){return l0e(DMe(t.getBoundingClientRect(),e))}function LMe(t,e,n){const r=d0e(t,n),{scroll:i}=e;return i&&(mv(r.x,i.offset.x),mv(r.y,i.offset.y)),r}const h0e=({current:t})=>t?t.ownerDocument.defaultView:null,FMe=new WeakMap;class UMe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ai(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(SA(u).point)},s=(u,h)=>{const{drag:f,dragPropagation:p,onDragStart:m}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jje(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cc(y=>{let w=this.getAxisMotionValue(y).get()||0;if(jh.test(w)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[y];b&&(w=Ql(b)*(parseFloat(w)/100))}}this.originPoint[y]=w}),m&&Ur.postRender(()=>m(u,h)),sB(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:y}=h;if(p&&this.currentDirection===null){this.currentDirection=zMe(y),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),g&&g(u,h)},a=(u,h)=>this.stop(u,h),l=()=>Cc(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new i0e(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:h0e(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ur.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!nk(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=$Me(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&hv(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=NMe(i.layoutBox,n):this.constraints=!1,this.elastic=OMe(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Cc(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=jMe(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!hv(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=LMe(r,i.root,this.visualElement.getTransformPagePoint());let o=PMe(i.layout.layoutBox,s);if(n){const a=n(MMe(o));this.hasMutatedConstraints=!!a,a&&(o=l0e(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Cc(u=>{if(!nk(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return sB(this.visualElement,e),r.start(UH(e,r,0,n,this.visualElement,!1))}stopAnimation(){Cc(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Cc(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Cc(n=>{const{drag:r}=this.getProps();if(!nk(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-ri(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!hv(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Cc(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=RMe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Cc(o=>{if(!nk(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ri(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;FMe.set(this.visualElement,this);const e=this.visualElement.current,n=X6(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();hv(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ur.read(r);const o=s8(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Cc(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=fB,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function nk(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function zMe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class WMe extends Ig{constructor(e){super(e),this.removeGroupControls=Vl,this.removeListeners=Vl,this.controls=new UMe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vl}unmount(){this.removeGroupControls(),this.removeListeners()}}const uJ=t=>(e,n)=>{t&&Ur.postRender(()=>t(e,n))};class HMe extends Ig{constructor(){super(...arguments),this.removePointerDownListener=Vl}onPointerDown(e){this.session=new i0e(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:h0e(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:uJ(e),onStart:uJ(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ur.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=X6(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const R9={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dJ(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const _5={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ut.test(t))t=parseFloat(t);else return t;const n=dJ(t,e.target.x),r=dJ(t,e.target.y);return`${n}% ${r}%`}},VMe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=pg.parse(t);if(i.length>5)return r;const s=pg.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=ri(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class qMe extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;fje(GMe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),R9.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ur.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gH.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function f0e(t){const[e,n]=Qfe(),r=x.useContext(lH);return d.jsx(qMe,{...t,layoutGroup:r,switchLayoutGroup:x.useContext(rpe),isPresent:e,safeToRemove:n})}const GMe={borderRadius:{..._5,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_5,borderTopRightRadius:_5,borderBottomLeftRadius:_5,borderBottomRightRadius:_5,boxShadow:VMe};function KMe(t,e,n){const r=To(t)?t:r8(t);return r.start(UH("",r,e,n)),r.animation}function YMe(t){return t instanceof SVGElement&&t.tagName!=="svg"}const QMe=(t,e)=>t.depth-e.depth;class ZMe{constructor(){this.children=[],this.isDirty=!1}add(e){$H(this.children,e),this.isDirty=!0}remove(e){NH(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(QMe),this.isDirty=!1,this.children.forEach(e)}}function JMe(t,e){const n=Oh.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(fg(r),t(s-e))};return Ur.read(r,!0),()=>fg(r)}const p0e=["TopLeft","TopRight","BottomLeft","BottomRight"],XMe=p0e.length,hJ=t=>typeof t=="string"?parseFloat(t):t,fJ=t=>typeof t=="number"||Ut.test(t);function eDe(t,e,n,r,i,s){i?(t.opacity=ri(0,n.opacity!==void 0?n.opacity:1,tDe(r)),t.opacityExit=ri(e.opacity!==void 0?e.opacity:1,0,nDe(r))):s&&(t.opacity=ri(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<XMe;o++){const a=`border${p0e[o]}Radius`;let l=pJ(e,a),c=pJ(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||fJ(l)===fJ(c)?(t[a]=Math.max(ri(hJ(l),hJ(c),r),0),(jh.test(c)||jh.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ri(e.rotate||0,n.rotate||0,r))}function pJ(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const tDe=m0e(0,.5,Rpe),nDe=m0e(.5,.95,Vl);function m0e(t,e,n){return r=>r<t?0:r>e?1:n(Ex(t,e,r))}function mJ(t,e){t.min=e.min,t.max=e.max}function hc(t,e){mJ(t.x,e.x),mJ(t.y,e.y)}function gJ(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function yJ(t,e,n,r,i){return t-=e,t=b_(t,1/n,r),i!==void 0&&(t=b_(t,1/i,r)),t}function rDe(t,e=0,n=1,r=.5,i,s=t,o=t){if(jh.test(e)&&(e=parseFloat(e),e=ri(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ri(s.min,s.max,r);t===s&&(a-=e),t.min=yJ(t.min,e,n,a,i),t.max=yJ(t.max,e,n,a,i)}function wJ(t,e,[n,r,i],s,o){rDe(t,e[n],e[r],e[i],e.scale,s,o)}const iDe=["x","scaleX","originX"],sDe=["y","scaleY","originY"];function bJ(t,e,n,r){wJ(t.x,e,iDe,n?n.x:void 0,r?r.x:void 0),wJ(t.y,e,sDe,n?n.y:void 0,r?r.y:void 0)}function vJ(t){return t.translate===0&&t.scale===1}function g0e(t){return vJ(t.x)&&vJ(t.y)}function xJ(t,e){return t.min===e.min&&t.max===e.max}function oDe(t,e){return xJ(t.x,e.x)&&xJ(t.y,e.y)}function EJ(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function y0e(t,e){return EJ(t.x,e.x)&&EJ(t.y,e.y)}function AJ(t){return Ql(t.x)/Ql(t.y)}function CJ(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class aDe{constructor(){this.members=[]}add(e){$H(this.members,e),e.scheduleRender()}remove(e){if(NH(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lDe(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:f,skewX:p,skewY:m}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const ry={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},b6=typeof window<"u"&&window.MotionDebug!==void 0,dR=["","X","Y","Z"],cDe={visibility:"hidden"},kJ=1e3;let uDe=0;function hR(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function w0e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Spe(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ur,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&w0e(r)}function b0e({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=uDe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,b6&&(ry.totalNodes=ry.resolvedTargetDeltas=ry.recalculatedProjection=0),this.nodes.forEach(fDe),this.nodes.forEach(wDe),this.nodes.forEach(bDe),this.nodes.forEach(pDe),b6&&window.MotionDebug.record(ry)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZMe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new PH),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=YMe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=JMe(f,250),R9.hasAnimatedSinceResize&&(R9.hasAnimatedSinceResize=!1,this.nodes.forEach(_J))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||CDe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:w}=u.getProps(),v=!this.targetLayout||!y0e(this.targetLayout,m)||p,b=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const A={...SH(g,"layout"),onPlay:y,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else f||_J(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,fg(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vDe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&w0e(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(SJ);return}this.isUpdating||this.nodes.forEach(gDe),this.isUpdating=!1,this.nodes.forEach(yDe),this.nodes.forEach(dDe),this.nodes.forEach(hDe),this.clearAllSnapshots();const a=Oh.now();Ms.delta=Dp(0,1e3/60,a-Ms.timestamp),Ms.timestamp=a,Ms.isProcessing=!0,nR.update.process(Ms),nR.preRender.process(Ms),nR.render.process(Ms),Ms.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gH.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mDe),this.sharedNodes.forEach(xDe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ur.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ur.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ai(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!g0e(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||ny(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),kDe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Ai();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(SDe))){const{scroll:u}=this.root;u&&(mv(l.x,u.offset.x),mv(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=Ai();if(hc(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&hc(l,o),mv(l.x,h.offset.x),mv(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=Ai();hc(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&gv(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ny(u.latestValues)&&gv(l,u.latestValues)}return ny(this.latestValues)&&gv(l,this.latestValues),l}removeTransform(o){const a=Ai();hc(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ny(c.latestValues))continue;pB(c.latestValues)&&c.updateSnapshot();const u=Ai(),h=c.measurePageBox();hc(u,h),bJ(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return ny(this.latestValues)&&bJ(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ms.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Ms.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ai(),this.relativeTargetOrigin=Ai(),t4(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),hc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ai(),this.targetWithTransforms=Ai()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),TMe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hc(this.target,this.layout.layoutBox),u0e(this.target,this.targetDelta)):hc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ai(),this.relativeTargetOrigin=Ai(),t4(this.relativeTargetOrigin,this.target,p.target),hc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}b6&&ry.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||pB(this.parent.latestValues)||c0e(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ms.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;hc(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;BMe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ai());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(gJ(this.prevProjectionDelta.x,this.projectionDelta.x),gJ(this.prevProjectionDelta.y,this.projectionDelta.y)),e4(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!CJ(this.projectionDelta.x,this.prevProjectionDelta.x)||!CJ(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),b6&&ry.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pv(),this.projectionDelta=pv(),this.projectionDeltaWithTransform=pv()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=pv();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Ai(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,y=this.getStack(),w=!y||y.members.length<=1,v=!!(g&&!w&&this.options.crossfade===!0&&!this.path.some(ADe));this.animationProgress=0;let b;this.mixTargetDelta=A=>{const E=A/1e3;IJ(h.x,o.x,E),IJ(h.y,o.y,E),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(t4(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),EDe(this.relativeTarget,this.relativeTargetOrigin,f,E),b&&oDe(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ai()),hc(b,this.relativeTarget)),g&&(this.animationValues=u,eDe(u,c,this.latestValues,E,v,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(fg(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ur.update(()=>{R9.hasAnimatedSinceResize=!0,this.currentAnimation=KMe(0,kJ,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kJ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&v0e(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ai();const h=Ql(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Ql(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}hc(a,l),gv(a,u),e4(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new aDe),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&hR("z",o,c,this.animationValues);for(let u=0;u<dR.length;u++)hR(`rotate${dR[u]}`,o,c,this.animationValues),hR(`skew${dR[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return cDe;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=N9(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=N9(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ny(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=lDe(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:p,y:m}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in p_){if(f[g]===void 0)continue;const{correct:y,applyTo:w}=p_[g],v=c.transform==="none"?f[g]:y(f[g],h);if(w){const b=w.length;for(let A=0;A<b;A++)c[w[A]]=v}else c[g]=v}return this.options.layoutId&&(c.pointerEvents=h===this?N9(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(SJ),this.root.sharedNodes.clear()}}}function dDe(t){t.updateLayout()}function hDe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Cc(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=Ql(f);f.min=r[h].min,f.max=f.min+p}):v0e(s,n.layoutBox,r)&&Cc(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=Ql(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=pv();e4(a,r,n.layoutBox);const l=pv();o?e4(l,t.applyTransform(i,!0),n.measuredBox):e4(l,r,n.layoutBox);const c=!g0e(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const m=Ai();t4(m,n.layoutBox,f.layoutBox);const g=Ai();t4(g,r,p.layoutBox),y0e(m,g)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function fDe(t){b6&&ry.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function pDe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function mDe(t){t.clearSnapshot()}function SJ(t){t.clearMeasurements()}function gDe(t){t.isLayoutDirty=!1}function yDe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function _J(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function wDe(t){t.resolveTargetDelta()}function bDe(t){t.calcProjection()}function vDe(t){t.resetSkewAndRotation()}function xDe(t){t.removeLeadSnapshot()}function IJ(t,e,n){t.translate=ri(e.translate,0,n),t.scale=ri(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function TJ(t,e,n,r){t.min=ri(e.min,n.min,r),t.max=ri(e.max,n.max,r)}function EDe(t,e,n,r){TJ(t.x,e.x,n.x,r),TJ(t.y,e.y,n.y,r)}function ADe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const CDe={duration:.45,ease:[.4,0,.1,1]},$J=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),NJ=$J("applewebkit/")&&!$J("chrome/")?Math.round:Vl;function PJ(t){t.min=NJ(t.min),t.max=NJ(t.max)}function kDe(t){PJ(t.x),PJ(t.y)}function v0e(t,e,n){return t==="position"||t==="preserve-aspect"&&!IMe(AJ(e),AJ(n),.2)}function SDe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const _De=b0e({attachResizeListener:(t,e)=>s8(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fR={current:void 0},x0e=b0e({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!fR.current){const t=new _De({});t.mount(window),t.setOptions({layoutScroll:!0}),fR.current=t}return fR.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),IDe={pan:{Feature:HMe},drag:{Feature:WMe,ProjectionNode:x0e,MeasureLayout:f0e}};function RJ(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Ur.postRender(()=>s(e,SA(e)))}class TDe extends Ig{mount(){const{current:e}=this.node;e&&(this.unmount=Tje(e,n=>(RJ(this.node,n,"Start"),r=>RJ(this.node,r,"End"))))}unmount(){}}class $De extends Ig{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kA(s8(this.node.current,"focus",()=>this.onFocus()),s8(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jJ(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Ur.postRender(()=>s(e,SA(e)))}class NDe extends Ig{mount(){const{current:e}=this.node;e&&(this.unmount=Rje(e,n=>(jJ(this.node,n,"Start"),(r,{success:i})=>jJ(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gB=new WeakMap,pR=new WeakMap,PDe=t=>{const e=gB.get(t.target);e&&e(t)},RDe=t=>{t.forEach(PDe)};function jDe({root:t,...e}){const n=t||document;pR.has(n)||pR.set(n,{});const r=pR.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(RDe,{root:t,...e})),r[i]}function ODe(t,e,n){const r=jDe(e);return gB.set(t,n),r.observe(t),()=>{gB.delete(t),r.unobserve(t)}}const MDe={some:0,all:1};class DDe extends Ig{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:MDe[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=c?u:h;f&&f(l)};return ODe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(BDe(e,n))&&this.startObserver()}unmount(){}}function BDe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const LDe={inView:{Feature:DDe},tap:{Feature:NDe},focus:{Feature:$De},hover:{Feature:TDe}},FDe={layout:{ProjectionNode:x0e,MeasureLayout:f0e}},yB={current:null},E0e={current:!1};function UDe(){if(E0e.current=!0,!!dH)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>yB.current=t.matches;t.addListener(e),e()}else yB.current=!1}const zDe=[...Gpe,vo,pg],WDe=t=>zDe.find(qpe(t)),OJ=new WeakMap;function HDe(t,e,n){for(const r in e){const i=e[r],s=n[r];if(To(i))t.addValue(r,i);else if(To(s))t.addValue(r,r8(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,r8(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const MJ=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VDe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=BH,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Oh.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Ur.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=o;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=hT(n),this.isVariantNode=tpe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const m=f[p];l[p]!==void 0&&To(m)&&m.set(l[p],!1)}}mount(e){this.current=e,OJ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),E0e.current||UDe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yB.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){OJ.delete(this.current),this.projection&&this.projection.unmount(),fg(this.notifyUpdate),fg(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=_w.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ur.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ax){const n=Ax[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ai()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<MJ.length;r++){const i=MJ[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=HDe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=r8(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Hpe(i)||Ope(i))?i=parseFloat(i):!WDe(i)&&pg.test(n)&&(i=Upe(e,n)),this.setBaseTarget(e,To(i)?i.get():i)),To(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=wH(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!To(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new PH),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class A0e extends VDe{constructor(){super(...arguments),this.KeyframeResolver=Kpe}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;To(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function qDe(t){return window.getComputedStyle(t)}class GDe extends A0e{constructor(){super(...arguments),this.type="html",this.renderInstance=upe}readValueFromInstance(e,n){if(_w.has(n)){const r=DH(n);return r&&r.default||0}else{const r=qDe(e),i=(ape(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return d0e(e,n)}build(e,n,r){xH(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return kH(e,n,r)}}class KDe extends A0e{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ai}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(_w.has(n)){const r=DH(n);return r&&r.default||0}return n=dpe.has(n)?n:mH(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return ppe(e,n,r)}build(e,n,r){EH(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){hpe(e,n,r,i)}mount(e){this.isSVGTag=CH(e.tagName),super.mount(e)}}const YDe=(t,e)=>yH(t)?new KDe(e):new GDe(e,{allowProjection:t!==x.Fragment}),QDe=Eje({...bMe,...LDe,...IDe,...FDe},YDe),me=DRe(QDe),Kr="/assets/logo-fa6wkVlV.png",yv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA1oSURBVHgB7V1rcFRXHT/7yGM3Dx5JkZBgAyGhJTUYiNCURgjt8GhpVSx0+qFjv+ooHXFGp36R+kU/6Ti1ok5VGJU6RSmDLVSqA0PHQigZoJQU5GFqIo+keWxCkt3s4/T3Y29aCPdu9nHu3ptwfzNn7t3s5t5zz//9P/9zrhAOHDhw4MCBgykBj3AgFixYkOfxeHzTpk3zNjQ0yPb29piwCC5xl0NK+bmhoaHnY7FYIz52er3ePT6f78i8efOGQJgQfyIcZAcgRjEIcQTHEFoUbRRtCH/rBJFeHh4efnDRokWFwmHcrMAdDAbXgQA3pD5GQZjAjRs33hoZGVnlEMZkVFZW5g8MDPxck4pEiIAwAyDM2+FweEVZWZlfOFCPhQsXFg0ODp7GgMdkcoiCMP34n+04LxOOQ6QULgzqvWh9MnVQoi6BME8tXbrUkRZF8MIufAMDOyzTRDQaHYThp7TMEA4yQ2Njow82YScGMywzQxDtTbRy4Rj89IEBnA570C6Ttx+JQKN/JhQK1eLcIUoacI2Ojn4Rgzcg1YGEvQyifCFTorjFXQbEEzkgSDNOc4Q6kAiVubm5e3C8T2SgvrzCfnCtWrXKg7SFFxznjkQi7pkzZ7pgRF085w/cbvfNdAY8nSjPkeqIJpvmwG+9UDGrhVqC3Ow3WhXa3yAlT7hcrssijbSLHXSei1yLHFLO6dOnfQi+qtCoj+/HwC3C8R483DQ0Hz7TzXTjnMY0ivOPcd6B4yX8/6tNTU0nW1tbw4luhv8rRfsA/zdLmPP8TEweQ3sS9+gRkwUgQi6DM0jBA/B4vgduP4gB79V0O91RDnpEJja8Ue03jA26cY2NkK5EUu9mGkQap0tUYTQQCGynNydsDldFRYUPSbtyEGErUhcfgAiDGgEiMjPEcL0zJLLRzZlmB9F+LOPENhV4riH057kJGMQ6oGP5MKaLQYhX0Nlu9HlEqnE7P0V/f//HyFFNN+oDE4Tg3H+rvq8R8Jxd0AAZGXnlIFciq1oFzvw1s6dy4mRe2s8PjjxXWlpqKCH4TRn60COzhwj69IYtUizoDPNFJZCIn+BIiTCLEGMI415/pEo06JKXNkaabz9uAxgAGnr4a5s2bbIuGUmpQCca0Z/3ZXzyJxsYwYBvATfqurNMt+P7X0rzGWM8QJPYeRxLhBXAjYuRdPsRU9UyS7pawwCYYLkw0NdgkmKoj7NZ7tMYRtC3LfQsRRZBFTULba/MghczHggcu6QxF7pox/CbgLQOF9CmTzSISlInMm4v5uP072iPo+WJ7CIGqWybPXt20OB7L/rXjKhedXSeCsrRxycmcoMzJgiJgci6HseD+NggrEnHRNCOFxUVRfS+RIDmRdrFjHRJKsiHGt/S1dWVL0yEi2ln3Oi/0hrdPIYh6OinjLhPxtPtHRb3UWpu/6yEAyoyIAYuXoX2BnI2NcLC4IdFCFBHdejH/8SdCT2m25fk5OQcwnmRsBAYq+vo4yK0XqPfpK2ycPEytNetJga7At3cU11d3Sd0sqtaut1qdUUwHtmJfg4l+lFa+h6EKEZ7GcSwQ1ogin4cB1F07QezyPCuHhHWEISZZ04TX4GX91JBQcHvLl68OJroH1KWEAZYoPS3MQjrhD3mU5iUPD5jxgxdgjClD2NfL7JXtsN+MFl6DUyyCzb2GYzVUkwNbMeR0qG0NJXp69XQ2emUz5iFQTDICqHPXG54gI9K89MldBZGGAwj+NyH/jyDzyVM45iaMuFNZDwdYqm3Mg6GASFTOMhv/VSal74JcfqABXe4zw/w+V4mEjNJuSf9jwz7Qflv+v3+amGfdDIzvBdqamp0A0LMcedgwFTPn1Ml0Q5cg7bYBxv1p+XLl5/n39ra2kZFlnDTxcXDXZP2QggE+RklQa/T+L5cm4XMFDTMrIrnrORfYBuexOdi2lOhmDmTkpCysjIWlr1YWFhoTcbSGBFw6HvQ1VF4L+O/88LdfQhSkm4ah8aXqi6EZ38Hcc6r8JIOQh0Nz58/P7R79+6osAiUjhq4jio4TSm0yHee0OFSLd3+G5l6ul25XUgFE94ED0bDuBXSYWmUqwOJfvUvWbKElR13uJLg6DzNfiQzkIwXqP+v0y6ACH+GXTgnsmwXkgGl4/PaHLidPCsiDPvxV4P1Gky312gSZATGL8O0i7jO70GIR3t6ekyxC6kgIfdAVL0wYE9Dd9px9VAEUtDCgPDq1avjv/Mi/ngkLy9v/ITQmF0YhUo65vF4duHZDsCDHERGeNRKu5AUWFID7jku7ScdxCC4eqXQCQhZD0XpkZ9Vt99hF+rq6gqMpnutRCKuZ2r9PmRJjyHkLxY2Awa1R8ucdul8NxOHM2jTcX4N8dNuPMeu+vp6lnembRdIwM7OzlxI1U3NAi9uFJ8ZAylLhxiqLPj2ubjf1zNwG82EBLdfRh+Hdb5z9/b2zoa6OgCX+DWo3GMw0CEtqZfqwLk4DgwwW1tb78Ek11oQeANaA5qAytsLZ+cFMEWfMBsU6UAg8E8ZL9e0G2gDXtIMsB486eaRtm3b5uZ1qa6h3haDoD+E+ntXcxDGV1iy0uW3CUqP1AE3m2nDyHwMw7Afz6qKDUg4DiquW8zkKaN/tA9lvM6YFZaJmJKFd8oCZiMbwlm2L0Hv/gvnhcJ+GERrgKq4INLU35pBzzl8+HABvLVGMN9jsA3rcE0OLr+jh5aMZ8m+rMb/tQoFtsRr0FkuilwOgtiyUBgcGcAAXBcpDgATpJywamlpmaXZg8dBhEZci6pvjAipgqHBA5DWUyBuRGQI3QFHgETdu0DYc4VVFANwAhne8EQ/pD3YsWNHLgw8157MARHWQxI25ufn14n44LNlOl/hwTVr4W3xOuYQBB0H07i4stSOBKFRfQ+crRvE0R4cPXo0t6OjIwfResPWrVs34M/rQZRyND6vCiLcCl7rfjCJkmvqEqS4uJgXLxf23K0gAlXaAjf2UwkZsweHDh3ywxVdAY5dj89rIQmlaKnYg3TA65aOLbfLFLoEgUF3y/j2EXZEEIN8Bjqb8YZPswdr0N8NiAkytQfpgIQo4jrI7u5ukSl0CQIOc2kPZrf8FdfvdYBhSvbv3/80CLHpFntAIljihIAZirgoVSiAPZdbGYPcWIvIuUXE+67aHqQFEMRPJhYKMNkIQuQI64vebgO0iVRFEENDBKoLB0kjiPhGyT6NugTRFuYHhYNkICEhg/39/Uo4WJcg0NG06pz1ccRkYjCfNUC1JRRAlyB9fX0xrZLc3jNo9oCERukyVWUhoiVBOkXczXSQGExrtBllDlKFLkH8fj+nbD8SDkGSAcfoQ9aGCQUwctVYVP0wgq43hT3T73bCYDgcXg27qyT9buT2xkCMNkhJxtnLqQ7EHyHk1qhNzDPqRG1tbRBTmP8RjqeVCFz9e2LOnDlDQhEMCYJ8URjGiitrbVW5ZzOMwrt6y2ixUDpIWAYEonDW8G3h2BFdMP6A/XgQXinLTs1VWSJeakM7cl040ANri9vr6uoYHihT6wknVZqamoJcJ4fTkHAwHiGo9FcwB6M0xTRhhpJFy3DpTuDmdqt+txTQHF0Yk3q0K0IhJpx2bG5u7oBoshzIcYE/QxiaY+/cuXOVVywmk8N388UmiEsOghsKhAPGHn2YrfwyjPlZoXqZcxK/icGWnOKyLuEkG4kI1PhrVVVVl4QJMVqys1x0gevgcx+xYyV8NsGNLZHdXYZx+EiYgGRLV+SaNWvOax7XhAVqUxgQjuCvqqurrwmTkNI8MDyLCrR3wB2V4u4D1dNJtDVm7lidUnHX5s2br8KWfBenynI3kwQkRi+i8m8l2lrJEnBD5DSXG09WcG5oGIz4gtEGBSqRVumKjK+H4P6K3AV0qr/ygrXE3KTtObSAMBlp1xLBuFUjgv8HOjlPTF1QQo7jGb+iLX8wHZkUd7H+l2+q2adVyk81kBiXuS8Y2kWRJWSibmIw8qfhCj+L86mWEaYRJzE2ol0SkwlcjwEj34yA6YqcGqARP4fGl8lMzpd8caUS1yTaYLvYTMB+h/EM78M+cvWYJcRQeVPui0IDvxNtmcje+gxV4PboB6CivqOl1KdGLQEeqhR2hXGKytfSmQlKRi9fu4Tj1Jyq5v5SAwMDX8UD8uWNdg4gKRUnMb3wsB33PVENDx62gu+L1XYxtdOOENyU5jqk4vs4TqcNFHcLuDMPiNKAhz/ALcGltYShtPZBev9Aw303SIUR+K7CQqiGh+Ai79EkhvtWZcMjG9tTtxtM8QtmGCbD6+yyBTc3tcEA8SVhL+J4CY2vzQtKtcRh/ol7lAwEAoF3wQjPo81NsFmNbWBZ4MNtLs6ePetHSnsh2mPRaHRtYWFhNVxOZlS5kNOtNU+CfsZuaZxevrnNN4h9CrN6hzHD+fqyZcs6Mf8dttveiUawQyTqRlo7B5yc09XV5YNKYYS8GINYyRwZziugbir4dhx5+7rHINewoP1faxf8fn9Lf39/+8qVK8OQiEiae2RZCjumBtwwth4QyA3i8MXErHrxjF/lynWQXHrn8/liPT09sZKSkmhrayslxCkOd+DAgQMHDhxYj08AfirQRGsl1YgAAAAASUVORK5CYII=";function ZDe(){const t=ur(),e=x.useCallback(()=>{t("/onboarding/1")},[t]);return x.useEffect(()=>{const n=setTimeout(e,4e3);return()=>clearTimeout(n)},[e]),d.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center py-6 px-4",children:[d.jsx(me.div,{initial:{opacity:0,scale:.5,rotate:-45},animate:{opacity:.08,scale:1,rotate:0},transition:{duration:2,ease:"easeOut"},className:"absolute top-16 right-6 z-0",children:d.jsx("img",{src:yv,alt:"",className:"w-24 h-24 rotate-12"})}),d.jsx(me.div,{initial:{opacity:0,scale:.3,rotate:45},animate:{opacity:.06,scale:1,rotate:0},transition:{duration:2.5,delay:.5,ease:"easeOut"},className:"absolute bottom-32 left-6 z-0",children:d.jsx("img",{src:yv,alt:"",className:"w-20 h-20 -rotate-12"})}),d.jsxs("div",{className:"flex-1 flex flex-col items-start justify-center w-full max-w-md relative z-10",children:[d.jsx(me.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.6,ease:"easeOut"},className:"mb-8",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:Kr,alt:"Lighter Farm",className:"w-auto h-20"}),d.jsx(me.div,{initial:{opacity:0},animate:{opacity:[0,.4,0],scale:[.8,1.2,.8]},transition:{duration:3,repeat:1/0,delay:1.5,ease:"easeInOut"},className:"absolute inset-0 w-20 h-20 bg-[#D4B679]/30 rounded-full blur-xl"})]})}),d.jsxs(me.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"text-5xl font-bold text-golden-light mb-4",children:[d.jsxs(me.span,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.5,duration:.6},className:"inline-block",children:["Farm."," "]}),d.jsxs(me.span,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.7,duration:.6},className:"inline-block",children:["Buy."," "]}),d.jsx(me.span,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.9,duration:.6},className:"inline-block",children:"Trade."})]}),d.jsx(me.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.1,duration:.6},className:"text-5xl font-bold text-golden-light mb-4",children:"Lighter Points."}),d.jsx(me.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.3,duration:.6},className:"text-md w-[80%] mb-6 font-extralight leading-relaxed text-golden-light/80",children:"The future of DeFi farming is here with zero hassle."}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.5,duration:.6},className:"flex items-center gap-2 text-golden-light/70 flex-wrap mb-6",children:[d.jsx(Lhe,{className:"w-5 h-5"}),d.jsx("span",{className:"text-md font-medium tracking-wider",children:"LIGHTERFARM"}),d.jsx("span",{className:"text-xs bg-golden-light/20 px-2 py-1 rounded-full",children:"v1.0.0"})]}),[...Array(4)].map((n,r)=>d.jsx(me.div,{className:"absolute w-1 h-1 bg-[#D4B679]/30 rounded-full",style:{left:`${20+r*20}%`,top:`${10+r%2*30}%`},animate:{y:[-10,-20,-10],opacity:[0,.8,0],scale:[.5,1,.5]},transition:{duration:2+r*.3,repeat:1/0,delay:r*.4,ease:"easeInOut"}},r))]}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.8,duration:.6},className:"w-full max-w-md space-y-4",children:[d.jsxs(me.button,{onClick:e,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white text-lg font-bold rounded-xl disabled:opacity-50 flex items-center justify-center gap-3 group",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx("span",{children:"Continue"}),d.jsx(jhe,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-200"})]}),d.jsx(me.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2.5,duration:.5},className:"flex justify-center",children:d.jsx("div",{className:"flex gap-1.5",children:[0,.2,.4,.6].map((n,r)=>d.jsx(me.div,{className:"w-1.5 h-1.5 bg-[#D4B679]/40 rounded-full",animate:{backgroundColor:["rgba(212, 182, 121, 0.4)","rgba(212, 182, 121, 1)","rgba(212, 182, 121, 0.4)"],scale:[.8,1.2,.8]},transition:{duration:1.2,repeat:1/0,delay:n,ease:"easeInOut"}},r))})})]})]})}const JDe=Phe("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",farm:"bg-gradient-to-r from-accent-primary to-accent-blue text-primary-foreground hover:shadow-[var(--glow-primary)] transition-all duration-300 font-semibold animate-pulse-glow",danger:"bg-error text-foreground hover:bg-error/90 border border-error/30",success:"bg-success text-primary-foreground hover:bg-success/90",wallet:"bg-card border border-accent-primary/30 text-foreground hover:bg-accent-primary/10 hover:border-accent-primary/50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Vt=x.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?rIe:"button";return d.jsx(o,{className:ua(JDe({variant:e,size:n,className:t})),ref:s,...i})});Vt.displayName="Button";const XDe="/assets/lighter-DCUR7OiV.png",eBe=()=>{const t=ur();return d.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center py-6 px-4",children:[d.jsxs("div",{className:"flex-1 flex flex-col items-start justify-end w-full max-w-md",children:[d.jsx(me.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.6,ease:"easeOut"},className:"mb-8",children:d.jsx("img",{src:Kr,alt:"Lighter Farm",className:"w-auto h-20"})}),d.jsx(me.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"text-5xl font-bold text-golden-light mb-4",children:"LighterFarm"}),d.jsx(me.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"text-md w-[80%]  mb-6 font-extralight leading-relaxed",children:"The smartest way to farm, buy, and trade Lighter Points with zero hassle."}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"flex items-center gap-2 text-white flex-wrap mb-6",children:[d.jsx("span",{className:"text-2xl",children:""}),d.jsx("span",{className:"text-md text-golden-light font-medium",children:"Built on top of"}),d.jsx("img",{src:XDe,alt:"",className:"h-16 w-auto mb-1"}),d.jsx("span",{className:"text-md text-golden-light font-medium",children:"Protocol ecosystem"})]})]}),d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"w-full max-w-md",children:d.jsx(Vt,{onClick:()=>t("/onboarding/2"),className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-xl text-white disabled:opacity-50",children:"Get Started"})})]})},tBe=()=>{const t=ur(),[e,n]=x.useState(0),r=[{title:"Stake USDL, earn Lighter Points",description:"Deposit your USDL and watch your Lighter Points grow automatically"},{title:"Trade instantly with zero hassle",description:"Buy and sell Lighter Points seamlessly with our intuitive interface"},{title:"Earn 10% from referrals",description:"Invite friends and earn 10% of their points forever"}];return x.useEffect(()=>{const i=setInterval(()=>{n(s=>(s+1)%r.length)},3e3);return()=>clearInterval(i)},[r.length]),d.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-between py-6 px-4",children:[d.jsxs("div",{className:"flex-1 flex flex-col items-start justify-end w-full max-w-md",children:[d.jsx(me.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.6,ease:"easeOut"},className:"mb-8",children:d.jsx("img",{src:Kr,alt:"Lighter Farm",className:"w-auto h-20"})}),d.jsx(me.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"text-5xl font-bold text-golden-light mb-4",children:"LighterFarm"}),d.jsx("div",{className:"mb-8 min-h-[120px] flex flex-col justify-center",children:d.jsxs(me.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:-100,opacity:0},transition:{duration:.5,ease:"easeInOut"},children:[d.jsx(me.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.4},className:"text-xl font-semibold text-golden-light mb-0",children:r[e].title}),d.jsx(me.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},className:"text-base text-golden-light/80 leading-relaxed",children:r[e].description})]},e)})]}),d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"w-full max-w-md",children:d.jsx(Vt,{onClick:()=>t("/onboarding/3"),className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-xl text-white disabled:opacity-50",children:"Next"})}),d.jsx(me.div,{className:"absolute top-8 left-1/2 transform -translate-x-1/2",initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.5},children:d.jsx("div",{className:"flex gap-1",children:r.map((i,s)=>d.jsx("div",{className:"h-1 bg-golden-light/20 rounded-full overflow-hidden",style:{width:"60px"},children:d.jsx(me.div,{className:"h-full bg-golden-light rounded-full",initial:{width:"0%"},animate:{width:s===e?"100%":"0%"},transition:{duration:s===e?3:0,ease:"linear"}})},s))})})]})},nBe=()=>{const t=ur(),e=()=>{t("/wallet-connect")},n=()=>{t("/wallet-connect")};return d.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-between py-6 px-4",children:[d.jsxs("div",{className:"flex-1 flex flex-col items-start justify-end w-full max-w-md",children:[d.jsx(me.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.6,ease:"easeOut"},className:"mb-8",children:d.jsx("img",{src:Kr,alt:"Lighter Farm",className:"w-auto h-20"})}),d.jsx(me.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"text-5xl font-bold text-golden-light mb-12",children:"LighterFarm"}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"flex items-center gap-3 text-golden-light mb-8",children:[d.jsx("div",{className:"w-8 h-8 bg-golden-light/20 rounded-full flex items-center justify-center",children:d.jsx(eT,{className:"w-5 h-5 text-golden-light"})}),d.jsx("span",{className:"text-xl font-semibold",children:"Stay Connected"})]}),d.jsx(me.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"text-lg text-golden-light/80 mb-12 leading-relaxed",children:"Get alpha, exclusive drops, and community support."}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"flex gap-4 mb-12",children:[d.jsx("a",{href:"https://x.com/LighterFarm",target:"_blank",rel:"noopener noreferrer",className:"w-16 h-16 rounded-2xl bg-gradient-to-r from-[#7D5A02] to-[#A07715] flex items-center justify-center hover:opacity-90 transition-opacity shadow-lg",children:d.jsx("svg",{className:"w-7 h-7 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),d.jsx("a",{href:"https://t.me/+sKmppf_5gNo5YzRl",target:"_blank",rel:"noopener noreferrer",className:"w-16 h-16 rounded-2xl bg-gradient-to-r from-[#7D5A02] to-[#A07715] flex items-center justify-center hover:opacity-90 transition-opacity shadow-lg",children:d.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z"})})})]})]}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.6},className:"w-full max-w-md flex gap-4",children:[d.jsx(Vt,{onClick:e,className:"flex-1 h-14 bg-transparent border-2 border-golden-light/30 text-golden-light hover:bg-golden-light/10 rounded-xl text-lg font-semibold transition-all",children:"Skip"}),d.jsx(Vt,{onClick:n,className:"flex-1 h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-xl text-white disabled:opacity-50",children:"Get Started"})]})]})},rBe="modulepreload",iBe=function(t){return"/"+t},DJ={},Mh=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=iBe(l),l in DJ)return;DJ[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":rBe,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function sBe(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function oBe(){const t=new Set;let e=[];const n=()=>sBe(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}var At={},wB={exports:{}};(function(t,e){(function(n,r){var i="1.0.41",s="",o="?",a="function",l="undefined",c="object",u="string",h="major",f="model",p="name",m="type",g="vendor",y="version",w="architecture",v="console",b="mobile",A="tablet",E="smarttv",$="wearable",N="embedded",R=500,j="Amazon",F="Apple",W="ASUS",V="BlackBerry",B="Browser",k="Chrome",C="Edge",S="Firefox",T="Google",_="Honor",P="Huawei",L="Lenovo",O="LG",I="Microsoft",D="Motorola",Y="Nvidia",M="OnePlus",Q="Opera",ee="OPPO",J="Samsung",oe="Sharp",de="Sony",ae="Xiaomi",he="Zebra",be="Facebook",fe="Chromium OS",ke="Mac OS",we=" Browser",Ue=function(ne,ie){var ce={};for(var Be in ne)ie[Be]&&ie[Be].length%2===0?ce[Be]=ie[Be].concat(ne[Be]):ce[Be]=ne[Be];return ce},Me=function(ne){for(var ie={},ce=0;ce<ne.length;ce++)ie[ne[ce].toUpperCase()]=ne[ce];return ie},_e=function(ne,ie){return typeof ne===u?xe(ie).indexOf(xe(ne))!==-1:!1},xe=function(ne){return ne.toLowerCase()},Oe=function(ne){return typeof ne===u?ne.replace(/[^\d\.]/g,s).split(".")[0]:r},Le=function(ne,ie){if(typeof ne===u)return ne=ne.replace(/^\s\s*/,s),typeof ie===l?ne:ne.substring(0,R)},Ce=function(ne,ie){for(var ce=0,Be,Xe,Ye,et,Pe,Tt;ce<ie.length&&!Pe;){var dn=ie[ce],Bt=ie[ce+1];for(Be=Xe=0;Be<dn.length&&!Pe&&dn[Be];)if(Pe=dn[Be++].exec(ne),Pe)for(Ye=0;Ye<Bt.length;Ye++)Tt=Pe[++Xe],et=Bt[Ye],typeof et===c&&et.length>0?et.length===2?typeof et[1]==a?this[et[0]]=et[1].call(this,Tt):this[et[0]]=et[1]:et.length===3?typeof et[1]===a&&!(et[1].exec&&et[1].test)?this[et[0]]=Tt?et[1].call(this,Tt,et[2]):r:this[et[0]]=Tt?Tt.replace(et[1],et[2]):r:et.length===4&&(this[et[0]]=Tt?et[3].call(this,Tt.replace(et[1],et[2])):r):this[et]=Tt||r;ce+=2}},De=function(ne,ie){for(var ce in ie)if(typeof ie[ce]===c&&ie[ce].length>0){for(var Be=0;Be<ie[ce].length;Be++)if(_e(ie[ce][Be],ne))return ce===o?r:ce}else if(_e(ie[ce],ne))return ce===o?r:ce;return ie.hasOwnProperty("*")?ie["*"]:ne},Ve={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},rt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},G={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,y],[/opios[\/ ]+([\w\.]+)/i],[y,[p,Q+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[y,[p,Q+" GX"]],[/\bopr\/([\w\.]+)/i],[y,[p,Q]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[p,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[y,[p,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,y],[/quark(?:pc)?\/([-\w\.]+)/i],[y,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[y,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[p,"UC"+B]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[p,"Smart Lenovo "+B]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+B],y],[/\bfocus\/([\w\.]+)/i],[y,[p,S+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[p,Q+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[p,Q+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[p,"MIUI"+we]],[/fxios\/([\w\.-]+)/i],[y,[p,S]],[/\bqihoobrowser\/?([\w\.]*)/i],[y,[p,"360"]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],y],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+we],y],[/samsungbrowser\/([\w\.]+)/i],[y,[p,J+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[y,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[p,y],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[y,p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,be],y],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[p,k+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,k+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[p,"Android "+B]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[y,De,Ve]],[/(webkit|khtml)\/([\w\.]+)/i],[p,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],y],[/(wolvic|librewolf)\/([\w\.]+)/i],[p,y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[p,S+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[p,[y,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[y,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[w,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[w,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[w,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[w,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[w,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[w,/ower/,s,xe]],[/ sun4\w[;\)]/i],[[w,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[w,xe]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[g,J],[m,A]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[g,J],[m,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[g,F],[m,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[g,F],[m,A]],[/(macintosh);/i],[f,[g,F]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[g,oe],[m,b]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[f,[g,_],[m,A]],[/honor([-\w ]+)[;\)]/i],[f,[g,_],[m,b]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[f,[g,P],[m,A]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[g,P],[m,b]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[f,/_/g," "],[g,ae],[m,A]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[f,/_/g," "],[g,ae],[m,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[g,ee],[m,b]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[f,[g,De,{OnePlus:["304","403","203"],"*":ee}],[m,A]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[g,"Vivo"],[m,b]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[g,"Realme"],[m,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[g,D],[m,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[g,D],[m,A]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[g,O],[m,A]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[g,O],[m,b]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[f,[g,L],[m,A]],[/(nokia) (t[12][01])/i],[g,f,[m,A]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[f,/_/g," "],[m,b],[g,"Nokia"]],[/(pixel (c|tablet))\b/i],[f,[g,T],[m,A]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[g,T],[m,b]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[g,de],[m,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[g,de],[m,A]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[g,M],[m,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[g,j],[m,A]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[g,j],[m,b]],[/(playbook);[-\w\),; ]+(rim)/i],[f,g,[m,A]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[g,V],[m,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[g,W],[m,A]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[g,W],[m,b]],[/(nexus 9)/i],[f,[g,"HTC"],[m,A]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[f,/_/g," "],[m,b]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[g,"TCL"],[m,A]],[/(itel) ((\w+))/i],[[g,xe],f,[m,De,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[g,"Acer"],[m,A]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[g,"Meizu"],[m,b]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[g,"Ulefone"],[m,b]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[f,[g,"Energizer"],[m,b]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[f,[g,"Cat"],[m,b]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[f,[g,"Smartfren"],[m,b]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[g,"Nothing"],[m,b]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[f,[g,"Archos"],[m,A]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[f,[g,"Archos"],[m,b]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[g,f,[m,A]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[g,f,[m,b]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,f,[m,A]],[/(surface duo)/i],[f,[g,I],[m,A]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[g,"Fairphone"],[m,b]],[/(u304aa)/i],[f,[g,"AT&T"],[m,b]],[/\bsie-(\w*)/i],[f,[g,"Siemens"],[m,b]],[/\b(rct\w+) b/i],[f,[g,"RCA"],[m,A]],[/\b(venue[\d ]{2,7}) b/i],[f,[g,"Dell"],[m,A]],[/\b(q(?:mv|ta)\w+) b/i],[f,[g,"Verizon"],[m,A]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[g,"Barnes & Noble"],[m,A]],[/\b(tm\d{3}\w+) b/i],[f,[g,"NuVision"],[m,A]],[/\b(k88) b/i],[f,[g,"ZTE"],[m,A]],[/\b(nx\d{3}j) b/i],[f,[g,"ZTE"],[m,b]],[/\b(gen\d{3}) b.+49h/i],[f,[g,"Swiss"],[m,b]],[/\b(zur\d{3}) b/i],[f,[g,"Swiss"],[m,A]],[/\b((zeki)?tb.*\b) b/i],[f,[g,"Zeki"],[m,A]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],f,[m,A]],[/\b(ns-?\w{0,9}) b/i],[f,[g,"Insignia"],[m,A]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[g,"NextBook"],[m,A]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],f,[m,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],f,[m,b]],[/\b(ph-1) /i],[f,[g,"Essential"],[m,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[g,"Envizen"],[m,A]],[/\b(trio[-\w\. ]+) b/i],[f,[g,"MachSpeed"],[m,A]],[/\btu_(1491) b/i],[f,[g,"Rotor"],[m,A]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[f,[g,Y],[m,A]],[/(sprint) (\w+)/i],[g,f,[m,b]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[g,I],[m,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[g,he],[m,A]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[g,he],[m,b]],[/smart-tv.+(samsung)/i],[g,[m,E]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[g,J],[m,E]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,O],[m,E]],[/(apple) ?tv/i],[g,[f,F+" TV"],[m,E]],[/crkey/i],[[f,k+"cast"],[g,T],[m,E]],[/droid.+aft(\w+)( bui|\))/i],[f,[g,j],[m,E]],[/(shield \w+ tv)/i],[f,[g,Y],[m,E]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[g,oe],[m,E]],[/(bravia[\w ]+)( bui|\))/i],[f,[g,de],[m,E]],[/(mi(tv|box)-?\w+) bui/i],[f,[g,ae],[m,E]],[/Hbbtv.*(technisat) (.*);/i],[g,f,[m,E]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,Le],[f,Le],[m,E]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[f,[m,E]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,E]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,f,[m,v]],[/droid.+; (shield)( bui|\))/i],[f,[g,Y],[m,v]],[/(playstation \w+)/i],[f,[g,de],[m,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[g,I],[m,v]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[f,[g,J],[m,$]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[g,f,[m,$]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[f,[g,ee],[m,$]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[g,F],[m,$]],[/(opwwe\d{3})/i],[f,[g,M],[m,$]],[/(moto 360)/i],[f,[g,D],[m,$]],[/(smartwatch 3)/i],[f,[g,de],[m,$]],[/(g watch r)/i],[f,[g,O],[m,$]],[/droid.+; (wt63?0{2,3})\)/i],[f,[g,he],[m,$]],[/droid.+; (glass) \d/i],[f,[g,T],[m,$]],[/(pico) (4|neo3(?: link|pro)?)/i],[g,f,[m,$]],[/; (quest( \d| pro)?)/i],[f,[g,be],[m,$]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[m,N]],[/(aeobc)\b/i],[f,[g,j],[m,N]],[/(homepod).+mac os/i],[f,[g,F],[m,N]],[/windows iot/i],[[m,N]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[m,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[m,A]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,A]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,b]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[f,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[p,C+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[p,y],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,y],[/ladybird\//i],[[p,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,y],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[p,[y,De,rt]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,De,rt],[p,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,ke],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,p],[/(ubuntu) ([\w\.]+) like android/i],[[p,/(.+)/,"$1 Touch"],y],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[p,y],[/\(bb(10);/i],[y,[p,V]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[y,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[p,S+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[p,k+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,fe],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,y],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,y]]},U=function(ne,ie){if(typeof ne===c&&(ie=ne,ne=r),!(this instanceof U))return new U(ne,ie).getResult();var ce=typeof n!==l&&n.navigator?n.navigator:r,Be=ne||(ce&&ce.userAgent?ce.userAgent:s),Xe=ce&&ce.userAgentData?ce.userAgentData:r,Ye=ie?Ue(G,ie):G,et=ce&&ce.userAgent==Be;return this.getBrowser=function(){var Pe={};return Pe[p]=r,Pe[y]=r,Ce.call(Pe,Be,Ye.browser),Pe[h]=Oe(Pe[y]),et&&ce&&ce.brave&&typeof ce.brave.isBrave==a&&(Pe[p]="Brave"),Pe},this.getCPU=function(){var Pe={};return Pe[w]=r,Ce.call(Pe,Be,Ye.cpu),Pe},this.getDevice=function(){var Pe={};return Pe[g]=r,Pe[f]=r,Pe[m]=r,Ce.call(Pe,Be,Ye.device),et&&!Pe[m]&&Xe&&Xe.mobile&&(Pe[m]=b),et&&Pe[f]=="Macintosh"&&ce&&typeof ce.standalone!==l&&ce.maxTouchPoints&&ce.maxTouchPoints>2&&(Pe[f]="iPad",Pe[m]=A),Pe},this.getEngine=function(){var Pe={};return Pe[p]=r,Pe[y]=r,Ce.call(Pe,Be,Ye.engine),Pe},this.getOS=function(){var Pe={};return Pe[p]=r,Pe[y]=r,Ce.call(Pe,Be,Ye.os),et&&!Pe[p]&&Xe&&Xe.platform&&Xe.platform!="Unknown"&&(Pe[p]=Xe.platform.replace(/chrome os/i,fe).replace(/macos/i,ke)),Pe},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Be},this.setUA=function(Pe){return Be=typeof Pe===u&&Pe.length>R?Le(Pe,R):Pe,this},this.setUA(Be),this};U.VERSION=i,U.BROWSER=Me([p,y,h]),U.CPU=Me([w]),U.DEVICE=Me([f,g,m,v,b,E,A,$,N]),U.ENGINE=U.OS=Me([p,y]),t.exports&&(e=t.exports=U),e.UAParser=U;var z=typeof n!==l&&(n.jQuery||n.Zepto);if(z&&!z.ua){var X=new U;z.ua=X.getResult(),z.ua.get=function(){return X.getUA()},z.ua.set=function(ne){X.setUA(ne);var ie=X.getResult();for(var ce in ie)z.ua[ce]=ie[ce]}}})(typeof window=="object"?window:ql)})(wB,wB.exports);var aBe=wB.exports;Object.defineProperty(At,"__esModule",{value:!0});function lBe(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Po=x,Ir=lBe(Po),C0e=aBe,Tg=new C0e,Bo=Tg.getBrowser(),cBe=Tg.getCPU(),ic=Tg.getDevice(),zH=Tg.getEngine(),$g=Tg.getOS(),_A=Tg.getUA(),k0e=function(e){return Tg.setUA(e)},IA=function(e){if(!e){console.error("No userAgent string was provided");return}var n=new C0e(e);return{UA:n,browser:n.getBrowser(),cpu:n.getCPU(),device:n.getDevice(),engine:n.getEngine(),os:n.getOS(),ua:n.getUA(),setUserAgent:function(i){return n.setUA(i)}}},S0e=Object.freeze({ClientUAInstance:Tg,browser:Bo,cpu:cBe,device:ic,engine:zH,os:$g,ua:_A,setUa:k0e,parseUserAgent:IA});function BJ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uBe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BJ(Object(n),!0).forEach(function(r){pBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BJ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n4(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n4=function(e){return typeof e}:n4=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n4(t)}function dBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hBe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fBe(t,e,n){return e&&hBe(t.prototype,e),t}function pBe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bB(){return bB=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bB.apply(this,arguments)}function mBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xB(t,e)}function vB(t){return vB=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},vB(t)}function xB(t,e){return xB=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},xB(t,e)}function gBe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ou(t,e){if(t==null)return{};var n=gBe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function j9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yBe(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j9(t)}function wBe(t,e){return bBe(t)||vBe(t,e)||xBe(t,e)||EBe()}function bBe(t){if(Array.isArray(t))return t}function vBe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function xBe(t,e){if(t){if(typeof t=="string")return LJ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LJ(t,e)}}function LJ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function EBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Eo={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},tl={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},T3={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},ABe={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},CBe=function(e){switch(e){case Eo.Mobile:return{isMobile:!0};case Eo.Tablet:return{isTablet:!0};case Eo.SmartTv:return{isSmartTV:!0};case Eo.Console:return{isConsole:!0};case Eo.Wearable:return{isWearable:!0};case Eo.Browser:return{isBrowser:!0};case Eo.Embedded:return{isEmbedded:!0};default:return ABe}},kBe=function(e){return k0e(e)},Gt=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return e||n},WH=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},HH=function(e){var n=WH();return n&&n.platform&&(n.platform.indexOf(e)!==-1||n.platform==="MacIntel"&&n.maxTouchPoints>1&&!window.MSStream)},SBe=function(e,n,r,i,s){return{isBrowser:e,browserMajorVersion:Gt(n.major),browserFullVersion:Gt(n.version),browserName:Gt(n.name),engineName:Gt(r.name),engineVersion:Gt(r.version),osName:Gt(i.name),osVersion:Gt(i.version),userAgent:Gt(s)}},FJ=function(e,n,r,i){return uBe({},e,{vendor:Gt(n.vendor),model:Gt(n.model),os:Gt(r.name),osVersion:Gt(r.version),ua:Gt(i)})},_Be=function(e,n,r,i){return{isSmartTV:e,engineName:Gt(n.name),engineVersion:Gt(n.version),osName:Gt(r.name),osVersion:Gt(r.version),userAgent:Gt(i)}},IBe=function(e,n,r,i){return{isConsole:e,engineName:Gt(n.name),engineVersion:Gt(n.version),osName:Gt(r.name),osVersion:Gt(r.version),userAgent:Gt(i)}},TBe=function(e,n,r,i){return{isWearable:e,engineName:Gt(n.name),engineVersion:Gt(n.version),osName:Gt(r.name),osVersion:Gt(r.version),userAgent:Gt(i)}},$Be=function(e,n,r,i,s){return{isEmbedded:e,vendor:Gt(n.vendor),model:Gt(n.model),engineName:Gt(r.name),engineVersion:Gt(r.version),osName:Gt(i.name),osVersion:Gt(i.version),userAgent:Gt(s)}};function NBe(t){var e=t?IA(t):S0e,n=e.device,r=e.browser,i=e.engine,s=e.os,o=e.ua,a=CBe(n.type),l=a.isBrowser,c=a.isMobile,u=a.isTablet,h=a.isSmartTV,f=a.isConsole,p=a.isWearable,m=a.isEmbedded;if(l)return SBe(l,r,i,s,o);if(h)return _Be(h,i,s,o);if(f)return IBe(f,i,s,o);if(c||u)return FJ(a,n,s,o);if(p)return TBe(p,i,s,o);if(m)return $Be(m,n,i,s,o)}var _0e=function(e){var n=e.type;return n===Eo.Mobile},I0e=function(e){var n=e.type;return n===Eo.Tablet},T0e=function(e){var n=e.type;return n===Eo.Mobile||n===Eo.Tablet},$0e=function(e){var n=e.type;return n===Eo.SmartTv},v_=function(e){var n=e.type;return n===Eo.Browser},N0e=function(e){var n=e.type;return n===Eo.Wearable},P0e=function(e){var n=e.type;return n===Eo.Console},R0e=function(e){var n=e.type;return n===Eo.Embedded},j0e=function(e){var n=e.vendor;return Gt(n)},O0e=function(e){var n=e.model;return Gt(n)},M0e=function(e){var n=e.type;return Gt(n,"browser")},D0e=function(e){var n=e.name;return n===T3.Android},B0e=function(e){var n=e.name;return n===T3.Windows},L0e=function(e){var n=e.name;return n===T3.MAC_OS},F0e=function(e){var n=e.name;return n===T3.WindowsPhone},U0e=function(e){var n=e.name;return n===T3.IOS},z0e=function(e){var n=e.version;return Gt(n)},W0e=function(e){var n=e.name;return Gt(n)},H0e=function(e){var n=e.name;return n===tl.Chrome},V0e=function(e){var n=e.name;return n===tl.Firefox},q0e=function(e){var n=e.name;return n===tl.Chromium},x_=function(e){var n=e.name;return n===tl.Edge},G0e=function(e){var n=e.name;return n===tl.Yandex},K0e=function(e){var n=e.name;return n===tl.Safari||n===tl.MobileSafari},Y0e=function(e){var n=e.name;return n===tl.MobileSafari},Q0e=function(e){var n=e.name;return n===tl.Opera},Z0e=function(e){var n=e.name;return n===tl.InternetExplorer||n===tl.Ie},J0e=function(e){var n=e.name;return n===tl.MIUI},X0e=function(e){var n=e.name;return n===tl.SamsungBrowser},eme=function(e){var n=e.version;return Gt(n)},tme=function(e){var n=e.major;return Gt(n)},nme=function(e){var n=e.name;return Gt(n)},rme=function(e){var n=e.name;return Gt(n)},ime=function(e){var n=e.version;return Gt(n)},sme=function(){var e=WH(),n=e&&e.userAgent&&e.userAgent.toLowerCase();return typeof n=="string"?/electron/.test(n):!1},Kv=function(e){return typeof e=="string"&&e.indexOf("Edg/")!==-1},ome=function(){var e=WH();return e&&(/iPad|iPhone|iPod/.test(e.platform)||e.platform==="MacIntel"&&e.maxTouchPoints>1)&&!window.MSStream},Eh=function(){return HH("iPad")},ame=function(){return HH("iPhone")},lme=function(){return HH("iPod")},cme=function(e){return Gt(e)};function ume(t){var e=t||S0e,n=e.device,r=e.browser,i=e.os,s=e.engine,o=e.ua;return{isSmartTV:$0e(n),isConsole:P0e(n),isWearable:N0e(n),isEmbedded:R0e(n),isMobileSafari:Y0e(r)||Eh(),isChromium:q0e(r),isMobile:T0e(n)||Eh(),isMobileOnly:_0e(n),isTablet:I0e(n)||Eh(),isBrowser:v_(n),isDesktop:v_(n),isAndroid:D0e(i),isWinPhone:F0e(i),isIOS:U0e(i)||Eh(),isChrome:H0e(r),isFirefox:V0e(r),isSafari:K0e(r),isOpera:Q0e(r),isIE:Z0e(r),osVersion:z0e(i),osName:W0e(i),fullBrowserVersion:eme(r),browserVersion:tme(r),browserName:nme(r),mobileVendor:j0e(n),mobileModel:O0e(n),engineName:rme(s),engineVersion:ime(s),getUA:cme(o),isEdge:x_(r)||Kv(o),isYandex:G0e(r),deviceType:M0e(n),isIOS13:ome(),isIPad13:Eh(),isIPhone13:ame(),isIPod13:lme(),isElectron:sme(),isEdgeChromium:Kv(o),isLegacyEdge:x_(r)&&!Kv(o),isWindows:B0e(i),isMacOs:L0e(i),isMIUI:J0e(r),isSamsungBrowser:X0e(r)}}var dme=$0e(ic),hme=P0e(ic),fme=N0e(ic),PBe=R0e(ic),RBe=Y0e(Bo)||Eh(),jBe=q0e(Bo),mT=T0e(ic)||Eh(),pme=_0e(ic),mme=I0e(ic)||Eh(),gme=v_(ic),OBe=v_(ic),yme=D0e($g),wme=F0e($g),bme=U0e($g)||Eh(),MBe=H0e(Bo),DBe=V0e(Bo),BBe=K0e(Bo),LBe=Q0e(Bo),vme=Z0e(Bo),FBe=z0e($g),UBe=W0e($g),zBe=eme(Bo),WBe=tme(Bo),HBe=nme(Bo),VBe=j0e(ic),qBe=O0e(ic),GBe=rme(zH),KBe=ime(zH),YBe=cme(_A),QBe=x_(Bo)||Kv(_A),ZBe=G0e(Bo),JBe=M0e(ic),XBe=ome(),eLe=Eh(),tLe=ame(),nLe=lme(),rLe=sme(),iLe=Kv(_A),sLe=x_(Bo)&&!Kv(_A),oLe=B0e($g),aLe=L0e($g),lLe=J0e(Bo),cLe=X0e(Bo),uLe=function(e){if(!e||typeof e!="string"){console.error("No valid user agent string was provided");return}var n=IA(e),r=n.device,i=n.browser,s=n.os,o=n.engine,a=n.ua;return ume({device:r,browser:i,os:s,engine:o,ua:a})},dLe=function(e){var n=e.renderWithFragment,r=e.children,i=ou(e,["renderWithFragment","children"]);return yme?n?Ir.createElement(Po.Fragment,null,r):Ir.createElement("div",i,r):null},hLe=function(e){var n=e.renderWithFragment,r=e.children,i=ou(e,["renderWithFragment","children"]);return gme?n?Ir.createElement(Po.Fragment,null,r):Ir.createElement("div",i,r):null},fLe=function(e){var n=e.renderWithFragment,r=e.children,i=ou(e,["renderWithFragment","children"]);return vme?n?Ir.createElement(Po.Fragment,null,r):Ir.createElement("div",i,r):null},pLe=function(e){var n=e.renderWithFragment,r=e.children,i=ou(e,["renderWithFragment","children"]);return bme?n?Ir.createElement(Po.Fragment,null,r):Ir.createElement("div",i,r):null},mLe=function(e){var n=e.renderWithFragment,r=e.children,i=ou(e,["renderWithFragment","children"]);return mT?n?Ir.createElement(Po.Fragment,null,r):Ir.createElement("div",i,r):null},gLe=function(e){var n=e.renderWithFragment,r=e.children,i=ou(e,["renderWithFragment","children"]);return mme?n?Ir.createElement(Po.Fragment,null,r):Ir.createElement("div",i,r):null},yLe=function(e){var n=e.renderWithFragment,r=e.children,i=ou(e,["renderWithFragment","children"]);return wme?n?Ir.createElement(Po.Fragment,null,r):Ir.createElement("div",i,r):null},wLe=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=ou(e,["renderWithFragment","children","viewClassName","style"]);return pme?n?Ir.createElement(Po.Fragment,null,r):Ir.createElement("div",i,r):null},bLe=function(e){var n=e.renderWithFragment,r=e.children,i=ou(e,["renderWithFragment","children"]);return dme?n?Ir.createElement(Po.Fragment,null,r):Ir.createElement("div",i,r):null},vLe=function(e){var n=e.renderWithFragment,r=e.children,i=ou(e,["renderWithFragment","children"]);return hme?n?Ir.createElement(Po.Fragment,null,r):Ir.createElement("div",i,r):null},xLe=function(e){var n=e.renderWithFragment,r=e.children,i=ou(e,["renderWithFragment","children"]);return fme?n?Ir.createElement(Po.Fragment,null,r):Ir.createElement("div",i,r):null},ELe=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=e.condition,s=ou(e,["renderWithFragment","children","viewClassName","style","condition"]);return i?n?Ir.createElement(Po.Fragment,null,r):Ir.createElement("div",s,r):null};function ALe(t){return function(e){mBe(n,e);function n(r){var i;return dBe(this,n),i=yBe(this,vB(n).call(this,r)),i.isEventListenerAdded=!1,i.handleOrientationChange=i.handleOrientationChange.bind(j9(i)),i.onOrientationChange=i.onOrientationChange.bind(j9(i)),i.onPageLoad=i.onPageLoad.bind(j9(i)),i.state={isLandscape:!1,isPortrait:!1},i}return fBe(n,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var i=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:i===0,isLandscape:i===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":n4(window))!==void 0&&mT&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return Ir.createElement(t,bB({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),n}(Ir.Component)}function CLe(){var t=Po.useState(function(){var s=window.innerWidth>window.innerHeight?90:0;return{isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"}}),e=wBe(t,2),n=e[0],r=e[1],i=Po.useCallback(function(){var s=window.innerWidth>window.innerHeight?90:0,o={isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"};n.orientation!==o.orientation&&r(o)},[n.orientation]);return Po.useEffect(function(){return(typeof window>"u"?"undefined":n4(window))!==void 0&&mT&&(i(),window.addEventListener("load",i,!1),window.addEventListener("resize",i,!1)),function(){window.removeEventListener("resize",i,!1),window.removeEventListener("load",i,!1)}},[i]),n}function xme(t){var e=t||window.navigator.userAgent;return IA(e)}function kLe(t){var e=t||window.navigator.userAgent,n=xme(e),r=ume(n);return[r,n]}At.AndroidView=dLe;At.BrowserTypes=tl;At.BrowserView=hLe;At.ConsoleView=vLe;At.CustomView=ELe;At.IEView=fLe;At.IOSView=pLe;At.MobileOnlyView=wLe;At.MobileView=mLe;At.OsTypes=T3;At.SmartTVView=bLe;At.TabletView=gLe;At.WearableView=xLe;At.WinPhoneView=yLe;At.browserName=HBe;At.browserVersion=WBe;At.deviceDetect=NBe;At.deviceType=JBe;At.engineName=GBe;At.engineVersion=KBe;At.fullBrowserVersion=zBe;At.getSelectorsByUserAgent=uLe;At.getUA=YBe;var SLe=At.isAndroid=yme;At.isBrowser=gme;At.isChrome=MBe;At.isChromium=jBe;At.isConsole=hme;At.isDesktop=OBe;At.isEdge=QBe;At.isEdgeChromium=iLe;At.isElectron=rLe;At.isEmbedded=PBe;var UJ=At.isFirefox=DBe;At.isIE=vme;var VH=At.isIOS=bme;At.isIOS13=XBe;At.isIPad13=eLe;At.isIPhone13=tLe;At.isIPod13=nLe;At.isLegacyEdge=sLe;At.isMIUI=lLe;At.isMacOs=aLe;var Cr=At.isMobile=mT;At.isMobileOnly=pme;At.isMobileSafari=RBe;At.isOpera=LBe;var _Le=At.isSafari=BBe;At.isSamsungBrowser=cLe;At.isSmartTV=dme;At.isTablet=mme;At.isWearable=fme;At.isWinPhone=wme;At.isWindows=oLe;At.isYandex=ZBe;At.mobileModel=qBe;At.mobileVendor=VBe;At.osName=UBe;At.osVersion=FBe;At.parseUserAgent=IA;At.setUserAgent=kBe;At.useDeviceData=xme;At.useDeviceSelectors=kLe;At.useMobileOrientation=CLe;At.withOrientationChange=ALe;const ILe="1.1.0";let sl=class EB extends Error{constructor(e,n={}){var o;const r=n.cause instanceof EB?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,i=n.cause instanceof EB&&n.cause.docsPath||n.docsPath,s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${ILe}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function i0(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const Eme=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ame=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Cme=/^\(.+?\).*?$/,zJ=/^tuple(?<array>(\[(\d*)\])*)$/;function AB(t){let e=t.type;if(zJ.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const s=t.components[i];e+=AB(s),i<n-1&&(e+=", ")}const r=i0(zJ,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,AB({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Hb(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=AB(i),r!==n-1&&(e+=", ")}return e}function E_(t){var e;return t.type==="function"?`function ${t.name}(${Hb(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${Hb(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Hb(t.inputs)})`:t.type==="error"?`error ${t.name}(${Hb(t.inputs)})`:t.type==="constructor"?`constructor(${Hb(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const kme=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function TLe(t){return kme.test(t)}function $Le(t){return i0(kme,t)}const Sme=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function NLe(t){return Sme.test(t)}function PLe(t){return i0(Sme,t)}const _me=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function RLe(t){return _me.test(t)}function jLe(t){return i0(_me,t)}const Ime=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function gT(t){return Ime.test(t)}function OLe(t){return i0(Ime,t)}const Tme=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function MLe(t){return Tme.test(t)}function DLe(t){return i0(Tme,t)}const $me=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function BLe(t){return $me.test(t)}function LLe(t){return i0($me,t)}const FLe=/^receive\(\) external payable$/;function ULe(t){return FLe.test(t)}const WJ=new Set(["memory","indexed","storage","calldata"]),zLe=new Set(["indexed"]),CB=new Set(["calldata","memory","storage"]);class WLe extends sl{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class HLe extends sl{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class VLe extends sl{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class qLe extends sl{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class GLe extends sl{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class KLe extends sl{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class YLe extends sl{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class QLe extends sl{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class ZLe extends sl{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class $3 extends sl{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class JLe extends sl{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class XLe extends sl{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class eFe extends sl{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class tFe extends sl{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function nFe(t,e,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let s="";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${i[0]}{${s}})`}return e?`${e}:${t}${r}`:t}const mR=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function kB(t,e={}){if(RLe(t))return rFe(t,e);if(NLe(t))return iFe(t,e);if(TLe(t))return sFe(t,e);if(MLe(t))return oFe(t,e);if(BLe(t))return aFe(t);if(ULe(t))return{type:"receive",stateMutability:"payable"};throw new JLe({signature:t})}function rFe(t,e={}){const n=jLe(t);if(!n)throw new $3({signature:t,type:"function"});const r=Ll(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(Bp(r[a],{modifiers:CB,structs:e,type:"function"}));const o=[];if(n.returns){const a=Ll(n.returns),l=a.length;for(let c=0;c<l;c++)o.push(Bp(a[c],{modifiers:CB,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:o}}function iFe(t,e={}){const n=PLe(t);if(!n)throw new $3({signature:t,type:"event"});const r=Ll(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Bp(r[o],{modifiers:zLe,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}function sFe(t,e={}){const n=$Le(t);if(!n)throw new $3({signature:t,type:"error"});const r=Ll(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Bp(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}function oFe(t,e={}){const n=DLe(t);if(!n)throw new $3({signature:t,type:"constructor"});const r=Ll(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Bp(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function aFe(t){const e=LLe(t);if(!e)throw new $3({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const lFe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,cFe=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,uFe=/^u?int$/;function Bp(t,e){var h,f;const n=nFe(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(mR.has(n))return mR.get(n);const r=Cme.test(t),i=i0(r?cFe:lFe,t);if(!i)throw new GLe({param:t});if(i.name&&hFe(i.name))throw new KLe({param:t,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let l,c={};if(r){l="tuple";const p=Ll(i.type),m=[],g=p.length;for(let y=0;y<g;y++)m.push(Bp(p[y],{structs:a}));c={components:m}}else if(i.type in a)l="tuple",c={components:a[i.type]};else if(uFe.test(i.type))l=`${i.type}256`;else if(i.type==="address payable")l="address";else if(l=i.type,(e==null?void 0:e.type)!=="struct"&&!Nme(l))throw new VLe({type:l});if(i.modifier){if(!((f=(h=e==null?void 0:e.modifiers)==null?void 0:h.has)!=null&&f.call(h,i.modifier)))throw new YLe({param:t,type:e==null?void 0:e.type,modifier:i.modifier});if(CB.has(i.modifier)&&!fFe(l,!!i.array))throw new QLe({param:t,type:e==null?void 0:e.type,modifier:i.modifier})}const u={type:`${l}${i.array??""}`,...s,...o,...c};return mR.set(n,u),u}function Ll(t,e=[],n="",r=0){const i=t.trim().length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case",":return r===0?Ll(a,[...e,n.trim()]):Ll(a,e,`${n}${o}`,r);case"(":return Ll(a,e,`${n}${o}`,r+1);case")":return Ll(a,e,`${n}${o}`,r-1);default:return Ll(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new tFe({current:n,depth:r});return e.push(n.trim()),e}function Nme(t){return t==="address"||t==="bool"||t==="function"||t==="string"||Eme.test(t)||Ame.test(t)}const dFe=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function hFe(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||Eme.test(t)||Ame.test(t)||dFe.test(t)}function fFe(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function qH(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!gT(a))continue;const l=OLe(a);if(!l)throw new $3({signature:a,type:"struct"});const c=l.properties.split(";"),u=[],h=c.length;for(let f=0;f<h;f++){const m=c[f].trim();if(!m)continue;const g=Bp(m,{type:"struct"});u.push(g)}if(!u.length)throw new XLe({signature:a});e[l.name]=u}const r={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,l]=i[o];r[a]=Pme(l,e)}return r}const pFe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Pme(t,e,n=new Set){const r=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(Cme.test(o.type))r.push(o);else{const l=i0(pFe,o.type);if(!(l!=null&&l.type))throw new ZLe({abiParameter:o});const{array:c,type:u}=l;if(u in e){if(n.has(u))throw new eFe({type:u});r.push({...o,type:`tuple${c??""}`,components:Pme(e[u]??[],e,new Set([...n,u]))})}else if(Nme(u))r.push(o);else throw new HLe({type:u})}}return r}function Rme(t){const e=qH(t),n=[],r=t.length;for(let i=0;i<r;i++){const s=t[i];gT(s)||n.push(kB(s,e))}return n}function HJ(t){let e;if(typeof t=="string")e=kB(t);else{const n=qH(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(!gT(s)){e=kB(s,n);break}}}if(!e)throw new WLe({signature:t});return e}function VJ(t){const e=[];if(typeof t=="string"){const n=Ll(t),r=n.length;for(let i=0;i<r;i++)e.push(Bp(n[i],{modifiers:WJ}))}else{const n=qH(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(gT(s))continue;const o=Ll(s),a=o.length;for(let l=0;l<a;l++)e.push(Bp(o[l],{modifiers:WJ,structs:n}))}}if(e.length===0)throw new qLe({params:t});return e}function Oi(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const jme="2.37.12";let I5={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${jme}`},ze=class SB extends Error{constructor(e,n={}){var a;const r=(()=>{var l;return n.cause instanceof SB?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),i=n.cause instanceof SB&&n.cause.docsPath||n.docsPath,s=(a=I5.getDocsUrl)==null?void 0:a.call(I5,{...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...I5.version?[`Version: ${I5.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=jme}walk(e){return Ome(this,e)}};function Ome(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Ome(t.cause,e):e?null:t}let mg=class extends ze{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}};function Ro(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}let Mme=class extends ze{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},Dme=class extends ze{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class qJ extends ze{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function N3(t,{dir:e,size:n=32}={}){return typeof t=="string"?tg(t,{dir:e,size:n}):mFe(t,{dir:e,size:n})}function tg(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new Dme({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function mFe(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new Dme({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}let Bme=class extends ze{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},gFe=class extends ze{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class yFe extends ze{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let wFe=class extends ze{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function pi(t){return Ro(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function xp(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function au(t,{size:e}){if(pi(t)>e)throw new wFe({givenSize:pi(t),maxSize:e})}function Zl(t,e={}){const{signed:n}=e;e.size&&au(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function bFe(t,e={}){let n=t;if(e.size&&(au(n,{size:e.size}),n=xp(n)),xp(n)==="0x00")return!1;if(xp(n)==="0x01")return!0;throw new yFe(n)}function pd(t,e={}){return Number(Zl(t,e))}function vFe(t,e={}){let n=md(t);return e.size&&(au(n,{size:e.size}),n=xp(n,{dir:"right"})),new TextDecoder().decode(n)}const xFe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _i(t,e={}){return typeof t=="number"||typeof t=="bigint"?$t(t,e):typeof t=="string"?kx(t,e):typeof t=="boolean"?Lme(t,e):os(t,e)}function Lme(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(au(n,{size:e.size}),N3(n,{size:e.size})):n}function os(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=xFe[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(au(r,{size:e.size}),N3(r,{dir:"right",size:e.size})):r}function $t(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new Bme({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?N3(a,{size:r}):a}const EFe=new TextEncoder;function kx(t,e={}){const n=EFe.encode(t);return os(n,e)}const AFe=new TextEncoder;function P3(t,e={}){return typeof t=="number"||typeof t=="bigint"?kFe(t,e):typeof t=="boolean"?CFe(t,e):Ro(t)?md(t,e):x1(t,e)}function CFe(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(au(n,{size:e.size}),N3(n,{size:e.size})):n}const yf={zero:48,nine:57,A:65,F:70,a:97,f:102};function GJ(t){if(t>=yf.zero&&t<=yf.nine)return t-yf.zero;if(t>=yf.A&&t<=yf.F)return t-(yf.A-10);if(t>=yf.a&&t<=yf.f)return t-(yf.a-10)}function md(t,e={}){let n=t;e.size&&(au(n,{size:e.size}),n=N3(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const l=GJ(r.charCodeAt(a++)),c=GJ(r.charCodeAt(a++));if(l===void 0||c===void 0)throw new ze(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=l*16+c}return s}function kFe(t,e){const n=$t(t,e);return md(n)}function x1(t,e={}){const n=AFe.encode(t);return typeof e.size=="number"?(au(n,{size:e.size}),N3(n,{dir:"right",size:e.size})):n}const rk=BigInt(2**32-1),KJ=BigInt(32);function SFe(t,e=!1){return e?{h:Number(t&rk),l:Number(t>>KJ&rk)}:{h:Number(t>>KJ&rk)|0,l:Number(t&rk)|0}}function _Fe(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=SFe(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const IFe=(t,e,n)=>t<<n|e>>>32-n,TFe=(t,e,n)=>e<<n|t>>>32-n,$Fe=(t,e,n)=>e<<n-32|t>>>64-n,NFe=(t,e,n)=>t<<n-32|e>>>64-n,sb=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function PFe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function o8(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function W1(t,...e){if(!PFe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function RFe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");o8(t.outputLen),o8(t.blockLen)}function Sx(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Fme(t,e){W1(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function jFe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function _x(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function gR(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Dd(t,e){return t<<32-e|t>>>e}const OFe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function MFe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function DFe(t){for(let e=0;e<t.length;e++)t[e]=MFe(t[e]);return t}const YJ=OFe?t=>t:DFe;function BFe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function yT(t){return typeof t=="string"&&(t=BFe(t)),W1(t),t}function LFe(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];W1(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let GH=class{};function Ume(t){const e=r=>t().update(yT(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function FFe(t=32){if(sb&&typeof sb.getRandomValues=="function")return sb.getRandomValues(new Uint8Array(t));if(sb&&typeof sb.randomBytes=="function")return Uint8Array.from(sb.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const UFe=BigInt(0),T5=BigInt(1),zFe=BigInt(2),WFe=BigInt(7),HFe=BigInt(256),VFe=BigInt(113),zme=[],Wme=[],Hme=[];for(let t=0,e=T5,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],zme.push(2*(5*r+n)),Wme.push((t+1)*(t+2)/2%64);let i=UFe;for(let s=0;s<7;s++)e=(e<<T5^(e>>WFe)*VFe)%HFe,e&zFe&&(i^=T5<<(T5<<BigInt(s))-T5);Hme.push(i)}const Vme=_Fe(Hme,!0),qFe=Vme[0],GFe=Vme[1],QJ=(t,e,n)=>n>32?$Fe(t,e,n):IFe(t,e,n),ZJ=(t,e,n)=>n>32?NFe(t,e,n):TFe(t,e,n);function KFe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],u=n[l+1],h=QJ(c,u,1)^n[a],f=ZJ(c,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Wme[o],l=QJ(i,s,a),c=ZJ(i,s,a),u=zme[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=qFe[r],t[1]^=GFe[r]}_x(n)}let YFe=class qme extends GH{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,o8(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=jFe(this.state)}clone(){return this._cloneInto()}keccak(){YJ(this.state32),KFe(this.state32,this.rounds),YJ(this.state32),this.posOut=0,this.pos=0}update(e){Sx(this),e=yT(e),W1(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Sx(this,!1),W1(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return o8(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Fme(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,_x(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new qme(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const QFe=(t,e,n)=>Ume(()=>new YFe(e,t,n)),Gme=QFe(1,136,256/8);function Ws(t,e){const n=e||"hex",r=Gme(Ro(t,{strict:!1})?P3(t):t);return n==="bytes"?r:_i(r)}let wT=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const ZFe=/^0x[a-fA-F0-9]{40}$/,yR=new wT(8192);function nl(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(yR.has(r))return yR.get(r);const i=ZFe.test(t)?t.toLowerCase()===t?!0:n?TA(t)===t:!0:!1;return yR.set(r,i),i}const wR=new wT(8192);function TA(t,e){if(wR.has(`${t}.${e}`))return wR.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=Ws(x1(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return wR.set(`${t}.${e}`,s),s}function Bi(t,e){if(!nl(t,{strict:!1}))throw new mg({address:t});return TA(t,e)}function JFe(t){const e=Ws(`0x${t.substring(4)}`).substring(26);return TA(`0x${e}`)}function gd(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new dUe(t.type);return`${t.name}(${bT(t.inputs,{includeName:e})})`}function bT(t,{includeName:e=!1}={}){return t?t.map(n=>XFe(n,{includeName:e})).join(e?", ":","):""}function XFe(t,{includeName:e}){return t.type.startsWith("tuple")?`(${bT(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class eUe extends ze{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class JJ extends ze{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class Kme extends ze{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${bT(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class $A extends ze{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class tUe extends ze{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class nUe extends ze{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${pi(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class rUe extends ze{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class iUe extends ze{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class XJ extends ze{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Yme extends ze{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class sUe extends ze{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class Qme extends ze{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class eX extends ze{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Ix extends ze{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Zme extends ze{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class oUe extends ze{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class aUe extends ze{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${gd(e.abiItem)}\`, and`,`\`${n.type}\` in \`${gd(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let lUe=class extends ze{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class a8 extends ze{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${bT(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}}class vT extends ze{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${gd(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class cUe extends ze{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class uUe extends ze{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let Jme=class extends ze{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class dUe extends ze{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class MKt extends ze{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}let tX=class extends ze{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Xme=class extends ze{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},hUe=class extends ze{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const fUe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new hUe({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new Xme({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new tX({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new tX({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function KH(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(fUe);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function Tx(t,e,n,{strict:r}={}){return Ro(t,{strict:!1})?_B(t,e,n,{strict:r}):nge(t,e,n,{strict:r})}function ege(t,e){if(typeof e=="number"&&e>0&&e>pi(t)-1)throw new Mme({offset:e,position:"start",size:pi(t)})}function tge(t,e,n){if(typeof e=="number"&&typeof n=="number"&&pi(t)!==n-e)throw new Mme({offset:n,position:"end",size:pi(t)})}function nge(t,e,n,{strict:r}={}){ege(t,e);const i=t.slice(e,n);return r&&tge(i,e,n),i}function _B(t,e,n,{strict:r}={}){ege(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&tge(i,e,n),i}function pUe(t,e={}){typeof e.size<"u"&&au(t,{size:e.size});const n=os(t,e);return Zl(n,e)}function mUe(t,e={}){let n=t;if(typeof e.size<"u"&&(au(n,{size:e.size}),n=xp(n)),n.length>1||n[0]>1)throw new gFe(n);return!!n[0]}function Ep(t,e={}){typeof e.size<"u"&&au(t,{size:e.size});const n=os(t,e);return pd(n,e)}function gUe(t,e={}){let n=t;return typeof e.size<"u"&&(au(n,{size:e.size}),n=xp(n,{dir:"right"})),new TextDecoder().decode(n)}function Xc(t){return typeof t[0]=="string"?R3(t):yUe(t)}function yUe(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function R3(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}const FKt=/^(.*)\[([0-9]*)\]$/,wUe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,rge=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Iw(t,e){if(t.length!==e.length)throw new rUe({expectedLength:t.length,givenLength:e.length});const n=bUe({params:t,values:e}),r=QH(n);return r.length===0?"0x":r}function bUe({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(YH({param:t[r],value:e[r]}));return n}function YH({param:t,value:e}){const n=ZH(t.type);if(n){const[r,i]=n;return xUe(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return SUe(e,{param:t});if(t.type==="address")return vUe(e);if(t.type==="bool")return AUe(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,i="256"]=rge.exec(t.type)??[];return CUe(e,{signed:r,size:Number(i)})}if(t.type.startsWith("bytes"))return EUe(e,{param:t});if(t.type==="string")return kUe(e);throw new cUe(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function QH(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=pi(a)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(n.push($t(e+i,{size:32})),r.push(a),i+=pi(a)):n.push(a)}return Xc([...n,...r])}function vUe(t){if(!nl(t))throw new mg({address:t});return{dynamic:!1,encoded:tg(t.toLowerCase())}}function xUe(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new Jme(t);if(!r&&t.length!==e)throw new tUe({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const s=[];for(let o=0;o<t.length;o++){const a=YH({param:n,value:t[o]});a.dynamic&&(i=!0),s.push(a)}if(r||i){const o=QH(s);if(r){const a=$t(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?Xc([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Xc(s.map(({encoded:o})=>o))}}function EUe(t,{param:e}){const[,n]=e.type.split("bytes"),r=pi(t);if(!n){let i=t;return r%32!==0&&(i=tg(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Xc([tg($t(r,{size:32})),i])}}if(r!==Number.parseInt(n,10))throw new nUe({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:tg(t,{dir:"right"})}}function AUe(t){if(typeof t!="boolean")throw new ze(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:tg(Lme(t))}}function CUe(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new Bme({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:$t(t,{size:32,signed:e})}}function kUe(t){const e=kx(t),n=Math.ceil(pi(e)/32),r=[];for(let i=0;i<n;i++)r.push(tg(Tx(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Xc([tg($t(pi(e),{size:32})),...r])}}function SUe(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],o=Array.isArray(t)?i:s.name,a=YH({param:s,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?QH(r):Xc(r.map(({encoded:i})=>i))}}function ZH(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function j3(t,e){const n=typeof e=="string"?md(e):e,r=KH(n);if(pi(n)===0&&t.length>0)throw new $A;if(pi(e)&&pi(e)<32)throw new Kme({data:typeof e=="string"?e:os(e),params:t,size:pi(e)});let i=0;const s=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(i);const[l,c]=Yv(r,a,{staticPosition:0});i+=c,s.push(l)}return s}function Yv(t,e,{staticPosition:n}){const r=ZH(e.type);if(r){const[i,s]=r;return IUe(t,{...e,type:s},{length:i,staticPosition:n})}if(e.type==="tuple")return PUe(t,e,{staticPosition:n});if(e.type==="address")return _Ue(t);if(e.type==="bool")return TUe(t);if(e.type.startsWith("bytes"))return $Ue(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return NUe(t,e);if(e.type==="string")return RUe(t,{staticPosition:n});throw new uUe(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const nX=32,IB=32;function _Ue(t){const e=t.readBytes(32);return[TA(os(nge(e,-20))),32]}function IUe(t,e,{length:n,staticPosition:r}){if(!n){const o=Ep(t.readBytes(IB)),a=r+o,l=a+nX;t.setPosition(a);const c=Ep(t.readBytes(nX)),u=l8(e);let h=0;const f=[];for(let p=0;p<c;++p){t.setPosition(l+(u?p*32:h));const[m,g]=Yv(t,e,{staticPosition:l});h+=g,f.push(m)}return t.setPosition(r+32),[f,32]}if(l8(e)){const o=Ep(t.readBytes(IB)),a=r+o,l=[];for(let c=0;c<n;++c){t.setPosition(a+c*32);const[u]=Yv(t,e,{staticPosition:a});l.push(u)}return t.setPosition(r+32),[l,32]}let i=0;const s=[];for(let o=0;o<n;++o){const[a,l]=Yv(t,e,{staticPosition:r+i});i+=l,s.push(a)}return[s,i]}function TUe(t){return[mUe(t.readBytes(32),{size:32}),32]}function $Ue(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const o=Ep(t.readBytes(32));t.setPosition(n+o);const a=Ep(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const l=t.readBytes(a);return t.setPosition(n+32),[os(l),32]}return[os(t.readBytes(Number.parseInt(i,10),32)),32]}function NUe(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?pUe(i,{signed:n}):Ep(i,{signed:n}),32]}function PUe(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),i=r?[]:{};let s=0;if(l8(e)){const o=Ep(t.readBytes(IB)),a=n+o;for(let l=0;l<e.components.length;++l){const c=e.components[l];t.setPosition(a+s);const[u,h]=Yv(t,c,{staticPosition:a});s+=h,i[r?l:c==null?void 0:c.name]=u}return t.setPosition(n+32),[i,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[l,c]=Yv(t,a,{staticPosition:n});i[r?o:a==null?void 0:a.name]=l,s+=c}return[i,s]}function RUe(t,{staticPosition:e}){const n=Ep(t.readBytes(32)),r=e+n;t.setPosition(r);const i=Ep(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=gUe(xp(s));return t.setPosition(e+32),[o,32]}function l8(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(l8);const n=ZH(t.type);return!!(n&&l8({...t,type:n[1]}))}const jUe={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},ige={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},OUe={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"},MUe=t=>Ws(P3(t));function DUe(t){return MUe(t)}function BUe(t){let e=!0,n="",r=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!s)throw new ze("Unable to normalize signature.");return i}const LUe=t=>{const e=typeof t=="string"?t:E_(t);return BUe(e)};function sge(t){return DUe(LUe(t))}const NA=t=>Tx(sge(t),0,4);function FUe(t){const{abi:e,data:n}=t,r=Tx(n,0,4);if(r==="0x")throw new $A;const s=[...e||[],ige,OUe].find(o=>o.type==="error"&&r===NA(gd(o)));if(!s)throw new Yme(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?j3(s.inputs,Tx(n,4)):void 0,errorName:s.name}}const xT=sge,rX="/docs/contract/decodeEventLog";function JH(t){const{abi:e,data:n,strict:r,topics:i}=t,s=r??!0,[o,...a]=i;if(!o)throw new sUe({docsPath:rX});const l=e.find(g=>g.type==="event"&&o===xT(gd(g)));if(!(l&&"name"in l)||l.type!=="event")throw new Qme(o,{docsPath:rX});const{name:c,inputs:u}=l,h=u==null?void 0:u.some(g=>!("name"in g&&g.name)),f=h?[]:{},p=u.map((g,y)=>[g,y]).filter(([g])=>"indexed"in g&&g.indexed);for(let g=0;g<p.length;g++){const[y,w]=p[g],v=a[g];if(!v)throw new vT({abiItem:l,param:y});f[h?w:y.name||w]=UUe({param:y,value:v})}const m=u.filter(g=>!("indexed"in g&&g.indexed));if(m.length>0){if(n&&n!=="0x")try{const g=j3(m,n);if(g)if(h)for(let y=0;y<u.length;y++)f[y]=f[y]??g.shift();else for(let y=0;y<m.length;y++)f[m[y].name]=g[y]}catch(g){if(s)throw g instanceof Kme||g instanceof Xme?new a8({abiItem:l,data:n,params:m,size:pi(n)}):g}else if(s)throw new a8({abiItem:l,data:"0x",params:m,size:0})}return{eventName:c,args:Object.values(f).length>0?f:void 0}}function UUe({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(j3([t],e)||[])[0]}function oge(t){const{abi:e,data:n}=t,r=Tx(n,0,4),i=e.find(s=>s.type==="function"&&r===NA(gd(s)));if(!i)throw new oUe(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?j3(i.inputs,Tx(n,4)):void 0}}function Tw(t){const{abi:e,args:n=[],name:r}=t,i=Ro(r,{strict:!1}),s=e.filter(a=>i?a.type==="function"?NA(a)===r:a.type==="event"?xT(a)===r:!1:"name"in a&&a.name===r);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((c,u)=>{const h="inputs"in a&&a.inputs[u];return h?TB(c,h):!1})){if(o&&"inputs"in o&&o.inputs){const c=age(a.inputs,o.inputs,n);if(c)throw new aUe({abiItem:a,type:c[0]},{abiItem:o,type:c[1]})}o=a}}return o||s[0]}function TB(t,e){const n=typeof t,r=e.type;switch(r){case"address":return nl(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>TB(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>TB(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function age(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return age(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?nl(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?nl(n[r],{strict:!1}):!1)return o}}const bR="/docs/contract/decodeFunctionResult";function $w(t){const{abi:e,args:n,functionName:r,data:i}=t;let s=e[0];if(r){const a=Tw({abi:e,args:n,name:r});if(!a)throw new Ix(r,{docsPath:bR});s=a}if(s.type!=="function")throw new Ix(void 0,{docsPath:bR});if(!s.outputs)throw new Zme(s.name,{docsPath:bR});const o=j3(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const vR="/docs/contract/encodeDeployData";function ET(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new eUe({docsPath:vR});if(!("inputs"in i))throw new JJ({docsPath:vR});if(!i.inputs||i.inputs.length===0)throw new JJ({docsPath:vR});const s=Iw(i.inputs,n);return R3([r,s])}const xR="/docs/contract/encodeErrorResult";function iX(t){const{abi:e,errorName:n,args:r}=t;let i=e[0];if(n){const l=Tw({abi:e,args:r,name:n});if(!l)throw new XJ(n,{docsPath:xR});i=l}if(i.type!=="error")throw new XJ(void 0,{docsPath:xR});const s=gd(i),o=NA(s);let a="0x";if(r&&r.length>0){if(!i.inputs)throw new iUe(i.name,{docsPath:xR});a=Iw(i.inputs,r)}return R3([o,a])}class zUe extends ze{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const sX="/docs/contract/encodeEventTopics";function PA(t){var l;const{abi:e,eventName:n,args:r}=t;let i=e[0];if(n){const c=Tw({abi:e,name:n});if(!c)throw new eX(n,{docsPath:sX});i=c}if(i.type!=="event")throw new eX(void 0,{docsPath:sX});const s=gd(i),o=xT(s);let a=[];if(r&&"inputs"in i){const c=(l=i.inputs)==null?void 0:l.filter(h=>"indexed"in h&&h.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?(c==null?void 0:c.map(h=>r[h.name]))??[]:[];u.length>0&&(a=(c==null?void 0:c.map((h,f)=>Array.isArray(u[f])?u[f].map((p,m)=>oX({param:h,value:u[f][m]})):typeof u[f]<"u"&&u[f]!==null?oX({param:h,value:u[f]}):null))??[])}return[o,...a]}function oX({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return Ws(P3(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new zUe(t.type);return Iw([t],[e])}const aX="/docs/contract/encodeFunctionData";function WUe(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const s=Tw({abi:e,args:n,name:r});if(!s)throw new Ix(r,{docsPath:aX});i=s}if(i.type!=="function")throw new Ix(void 0,{docsPath:aX});return{abi:[i],functionName:NA(gd(i))}}function ol(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:WUe(t)})(),i=n[0],s=r,o="inputs"in i&&i.inputs?Iw(i.inputs,e??[]):void 0;return R3([s,o??"0x"])}const ER="/docs/contract/encodeFunctionResult";function HUe(t){const{abi:e,functionName:n,result:r}=t;let i=e[0];if(n){const o=Tw({abi:e,name:n});if(!o)throw new Ix(n,{docsPath:ER});i=o}if(i.type!=="function")throw new Ix(void 0,{docsPath:ER});if(!i.outputs)throw new Zme(i.name,{docsPath:ER});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Jme(r)})();return Iw(i.outputs,s)}const ss=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n);function lge({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?ss(e[s]):e[s]}`).join(", ")})`}function RA(t,e){if(!nl(t,{strict:!1}))throw new mg({address:t});if(!nl(e,{strict:!1}))throw new mg({address:e});return t.toLowerCase()===e.toLowerCase()}function XH(t){const{abi:e,args:n,logs:r,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var a;try{const l=e.find(u=>u.type==="event"&&o.topics[0]===xT(u));if(!l)return null;const c=JH({...o,abi:[l],strict:i});return s&&!s.includes(c.eventName)||!VUe({args:c.args,inputs:l.inputs,matchArgs:n})?null:{...c,...o}}catch(l){let c,u;if(l instanceof Qme)return null;if(l instanceof a8||l instanceof vT){if(i)return null;c=l.abiItem.name,u=(a=l.abiItem.inputs)==null?void 0:a.some(h=>!("name"in h&&h.name))}return{...o,args:u?[]:{},eventName:c}}}).filter(Boolean)}function VUe(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(s,o,a){try{return s.type==="address"?RA(o,a):s.type==="string"||s.type==="bytes"?Ws(P3(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((s,o)=>{if(s==null)return!0;const a=n[o];return a?(Array.isArray(s)?s:[s]).some(c=>i(a,c,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([s,o])=>{if(o==null)return!0;const a=n.find(c=>c.name===s);return a?(Array.isArray(o)?o:[o]).some(c=>i(a,c,e[s])):!1}):!1}function qUe(t,e="hex"){const n=cge(t),r=KH(new Uint8Array(n.length));return n.encode(r),e==="hex"?os(r.bytes):r.bytes}function cge(t){return Array.isArray(t)?GUe(t.map(e=>cge(e))):KUe(t)}function GUe(t){const e=t.reduce((i,s)=>i+s.length,0),n=uge(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function KUe(t){const e=typeof t=="string"?md(t):t,n=uge(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function uge(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new ze("Length is too large.")}function YUe(t){const{chainId:e,nonce:n,to:r}=t,i=t.contractAddress??t.address,s=Ws(R3(["0x05",qUe([e?$t(e):"0x",i,n?$t(n):"0x"])]));return r==="bytes"?md(s):s}async function QUe({hash:t,signature:e}){const n=Ro(t)?t:_i(t),{secp256k1:r}=await Mh(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>zHe);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:c,s:u,v:h,yParity:f}=e,p=Number(f??h),m=lX(p);return new r.Signature(Zl(c),Zl(u)).addRecoveryBit(m)}const o=Ro(e)?e:_i(e);if(pi(o)!==65)throw new Error("invalid signature length");const a=pd(`0x${o.slice(130)}`),l=lX(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function lX(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function dge({hash:t,signature:e}){return JFe(await QUe({hash:t,signature:e}))}async function eV(t){const{authorization:e,signature:n}=t;return dge({hash:YUe(e),signature:n??e})}const hge={gwei:9,wei:18},ZUe={ether:-9,wei:9};function Wa(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,s]=[n.slice(0,n.length-e),n.slice(n.length-e)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}function Nw(t,e="wei"){return Wa(t,hge[e])}function Qa(t,e="wei"){return Wa(t,ZUe[e])}function jA(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class JUe extends ze{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class XUe extends ze{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",jA(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class eze extends ze{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:h,value:f}){var m;const p=jA({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:n==null?void 0:n.address,to:h,value:typeof f<"u"&&`${Nw(f)} ${((m=i==null?void 0:i.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Qa(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Qa(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Qa(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class fge extends ze{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){let o="Transaction";r&&s!==void 0&&(o=`Transaction at block time "${r}" at index "${s}"`),e&&s!==void 0&&(o=`Transaction at block hash "${e}" at index "${s}"`),n&&s!==void 0&&(o=`Transaction at block number "${n}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class pge extends ze{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class tze extends ze{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}function mge(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(s=>md(s)):t.blobs,i=[];for(const s of r)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return n==="bytes"?i:i.map(s=>os(s))}function gge(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>md(o)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(o=>md(o)):t.commitments,s=[];for(let o=0;o<r.length;o++){const a=r[o],l=i[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,l)))}return n==="bytes"?s:s.map(o=>os(o))}function nze(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}function rze(t,e,n){return t&e^~t&n}function ize(t,e,n){return t&e^t&n^e&n}let sze=class extends GH{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=gR(this.buffer)}update(e){Sx(this),e=yT(e),W1(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=gR(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Sx(this),Fme(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,_x(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;nze(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=gR(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const h0=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),oze=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),f0=new Uint32Array(64);let aze=class extends sze{constructor(e=32){super(64,e,8,!1),this.A=h0[0]|0,this.B=h0[1]|0,this.C=h0[2]|0,this.D=h0[3]|0,this.E=h0[4]|0,this.F=h0[5]|0,this.G=h0[6]|0,this.H=h0[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)f0[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const f=f0[h-15],p=f0[h-2],m=Dd(f,7)^Dd(f,18)^f>>>3,g=Dd(p,17)^Dd(p,19)^p>>>10;f0[h]=g+f0[h-7]+m+f0[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=Dd(a,6)^Dd(a,11)^Dd(a,25),p=u+f+rze(a,l,c)+oze[h]+f0[h]|0,g=(Dd(r,2)^Dd(r,13)^Dd(r,22))+ize(r,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=r,r=p+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){_x(f0)}destroy(){this.set(0,0,0,0,0,0,0,0),_x(this.buffer)}};const yge=Ume(()=>new aze),lze=yge;function cze(t,e){return lze(Ro(t,{strict:!1})?P3(t):t)}function uze(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=cze(e);return i.set([n],0),r==="bytes"?i:os(i)}function dze(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(const s of e)i.push(uze({commitment:s,to:r,version:n}));return i}const cX=6,wge=32,tV=4096,bge=wge*tV,uX=bge*cX-1-1*tV*cX;class hze extends ze{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class fze extends ze{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function pze(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?md(t.data):t.data,r=pi(n);if(!r)throw new fze;if(r>uX)throw new hze({maxSize:uX,size:r});const i=[];let s=!0,o=0;for(;s;){const a=KH(new Uint8Array(bge));let l=0;for(;l<tV;){const c=n.slice(o,o+(wge-1));if(a.pushByte(0),a.pushBytes(c),c.length<31){a.pushByte(128),s=!1;break}l++,o+=31}i.push(a)}return e==="bytes"?i.map(a=>a.bytes):i.map(a=>os(a.bytes))}function mze(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??pze({data:e,to:r}),s=t.commitments??mge({blobs:i,kzg:n,to:r}),o=t.proofs??gge({blobs:i,commitments:s,kzg:n,to:r}),a=[];for(let l=0;l<i.length;l++)a.push({blob:i[l],commitment:s[l],proof:o[l]});return a}const gze=2n**256n-1n;class $B extends ze{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class yze extends ze{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class wze extends ze{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class vge extends ze{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class wv extends ze{constructor({cause:e,message:n}={}){var i;const r=(i=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(wv,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(wv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class A_ extends ze{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Qa(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(A_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class NB extends ze{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Qa(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(NB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class PB extends ze{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(PB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class RB extends ze{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(RB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class jB extends ze{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(jB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class OB extends ze{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(OB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class MB extends ze{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(MB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class DB extends ze{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(DB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class BB extends ze{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(BB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class C_ extends ze{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Qa(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Qa(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(C_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class OA extends ze{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function bze(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new XUe({transaction:t})}async function vze({address:t,authorization:e,signature:n}){return RA(Bi(t),await eV({authorization:e,signature:n}))}const xze=t=>t,nV=t=>t;class r4 extends ze{constructor({body:e,cause:n,details:r,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${nV(o)}`,e&&`Request body: ${ss(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class rV extends ze{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${nV(r)}`,`Request body: ${ss(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class dX extends ze{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${nV(n)}`,`Request body: ${ss(e)}`],name:"TimeoutError"})}}const Eze=-1;class al extends ze{constructor(e,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof rV?e.code:n??Eze}}let sc=class extends al{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}};class c8 extends al{constructor(e){super(e,{code:c8.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(c8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class u8 extends al{constructor(e){super(e,{code:u8.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(u8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class d8 extends al{constructor(e,{method:n}={}){super(e,{code:d8.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(d8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class h8 extends al{constructor(e){super(e,{code:h8.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(h8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class H1 extends al{constructor(e){super(e,{code:H1.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(H1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class V1 extends al{constructor(e){super(e,{code:V1.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(V1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class f8 extends al{constructor(e){super(e,{code:f8.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(f8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class p8 extends al{constructor(e){super(e,{code:p8.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(p8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class m8 extends al{constructor(e){super(e,{code:m8.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(m8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Ty extends al{constructor(e,{method:n}={}){super(e,{code:Ty.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Ty,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class $x extends al{constructor(e){super(e,{code:$x.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty($x,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class g8 extends al{constructor(e){super(e,{code:g8.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(g8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});let O9=class xge extends sc{constructor(e){super(e,{code:xge.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}};Object.defineProperty(O9,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class y8 extends sc{constructor(e){super(e,{code:y8.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(y8,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class w8 extends sc{constructor(e,{method:n}={}){super(e,{code:w8.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(w8,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class b8 extends sc{constructor(e){super(e,{code:b8.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(b8,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});let LB=class Ege extends sc{constructor(e){super(e,{code:Ege.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}};Object.defineProperty(LB,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class v8 extends sc{constructor(e){super(e,{code:v8.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(v8,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Nx extends sc{constructor(e){super(e,{code:Nx.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Nx,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class x8 extends sc{constructor(e){super(e,{code:x8.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(x8,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class E8 extends sc{constructor(e){super(e,{code:E8.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(E8,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class A8 extends sc{constructor(e){super(e,{code:A8.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(A8,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class C8 extends sc{constructor(e){super(e,{code:C8.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(C8,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class k8 extends sc{constructor(e){super(e,{code:k8.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(k8,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Px extends sc{constructor(e){super(e,{code:Px.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Px,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Aze extends al{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const ik=new wT(8192);function Cze(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(ik.get(n))return ik.get(n);const r=t().finally(()=>ik.delete(n));return ik.set(n,r),r}async function FB(t){return new Promise(e=>setTimeout(e,t))}function k_(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const l=async({error:c})=>{const u=typeof e=="function"?e({count:a,error:c}):e;u&&await FB(u),o({count:a+1})};try{const c=await t();i(c)}catch(c){if(a<n&&await r({count:a,error:c}))return l({error:c});s(c)}};o()})}function kze(t,e={}){return async(n,r={})=>{var h;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:l}={...e,...r},{method:c}=n;if((h=s==null?void 0:s.exclude)!=null&&h.includes(c))throw new Ty(new Error("method not supported"),{method:c});if(s!=null&&s.include&&!s.include.includes(c))throw new Ty(new Error("method not supported"),{method:c});const u=i?kx(`${l}.${ss(n)}`):void 0;return Cze(()=>k_(async()=>{try{return await t(n)}catch(f){const p=f;switch(p.code){case c8.code:throw new c8(p);case u8.code:throw new u8(p);case d8.code:throw new d8(p,{method:n.method});case h8.code:throw new h8(p);case H1.code:throw new H1(p);case V1.code:throw new V1(p);case f8.code:throw new f8(p);case p8.code:throw new p8(p);case m8.code:throw new m8(p);case Ty.code:throw new Ty(p,{method:n.method});case $x.code:throw new $x(p);case g8.code:throw new g8(p);case O9.code:throw new O9(p);case y8.code:throw new y8(p);case w8.code:throw new w8(p);case b8.code:throw new b8(p);case LB.code:throw new LB(p);case v8.code:throw new v8(p);case Nx.code:throw new Nx(p);case x8.code:throw new x8(p);case E8.code:throw new E8(p);case A8.code:throw new A8(p);case C8.code:throw new C8(p);case k8.code:throw new k8(p);case Px.code:throw new Px(p);case 5e3:throw new O9(p);default:throw f instanceof ze?f:new Aze(p)}}},{delay:({count:f,error:p})=>{var m;if(p&&p instanceof r4){const g=(m=p==null?void 0:p.headers)==null?void 0:m.get("Retry-After");if(g!=null&&g.match(/\d/))return Number.parseInt(g,10)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>Sze(f)}),{enabled:i,id:u})}}function Sze(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===$x.code||t.code===H1.code:t instanceof r4&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iV=BigInt(0),UB=BigInt(1);function MA(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function sV(t){if(!MA(t))throw new Error("Uint8Array expected")}function S8(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function sk(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Age(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?iV:BigInt("0x"+t)}const Cge=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",_ze=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _8(t){if(sV(t),Cge)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=_ze[t[n]];return e}const wf={_0:48,_9:57,A:65,F:70,a:97,f:102};function hX(t){if(t>=wf._0&&t<=wf._9)return t-wf._0;if(t>=wf.A&&t<=wf.F)return t-(wf.A-10);if(t>=wf.a&&t<=wf.f)return t-(wf.a-10)}function S_(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Cge)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=hX(t.charCodeAt(s)),a=hX(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function E1(t){return Age(_8(t))}function kge(t){return sV(t),Age(_8(Uint8Array.from(t).reverse()))}function DA(t,e){return S_(t.toString(16).padStart(e*2,"0"))}function Sge(t,e){return DA(t,e).reverse()}function Ic(t,e,n){let r;if(typeof e=="string")try{r=S_(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(MA(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function __(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];sV(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const AR=t=>typeof t=="bigint"&&iV<=t;function oV(t,e,n){return AR(t)&&AR(e)&&AR(n)&&e<=t&&t<n}function Qv(t,e,n,r){if(!oV(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Ize(t){let e;for(e=0;t>iV;t>>=UB,e+=1);return e}const AT=t=>(UB<<BigInt(t))-UB,CR=t=>new Uint8Array(t),fX=t=>Uint8Array.from(t);function Tze(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=CR(t),i=CR(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...h)=>n(i,r,...h),l=(h=CR(0))=>{i=a(fX([0]),h),r=a(),h.length!==0&&(i=a(fX([1]),h),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){r=a();const p=r.slice();f.push(p),h+=r.length}return __(...f)};return(h,f)=>{o(),l(h);let p;for(;!(p=f(c()));)l();return o(),p}}const $ze={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||MA(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function CT(t,e,n={}){const r=(i,s,o)=>{const a=$ze[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function pX(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const Nze="0.1.1";function Pze(){return Nze}let Bn=class zB extends Error{constructor(e,n={}){const r=(()=>{var l;if(n.cause instanceof zB){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),i=n.cause instanceof zB&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Pze()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return _ge(this,e)}};function _ge(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?_ge(t.cause,e):e?null:t}function BA(t,e){if(bv(t)>e)throw new Yze({givenSize:bv(t),maxSize:e})}const bf={zero:48,nine:57,A:65,F:70,a:97,f:102};function mX(t){if(t>=bf.zero&&t<=bf.nine)return t-bf.zero;if(t>=bf.A&&t<=bf.F)return t-(bf.A-10);if(t>=bf.a&&t<=bf.f)return t-(bf.a-10)}function Rze(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new Qze({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const o=n==="right";i[o?s:r-s-1]=t[o?s:t.length-s-1]}return i}function Ige(t,e={}){const{dir:n="left"}=e;let r=t,i=0;for(let s=0;s<r.length-1&&r[n==="left"?s:r.length-s-1].toString()==="0";s++)i++;return r=n==="left"?r.slice(i):r.slice(0,r.length-i),r}function kT(t,e){if(Jl(t)>e)throw new nWe({givenSize:Jl(t),maxSize:e})}function jze(t,e){if(typeof e=="number"&&e>0&&e>Jl(t)-1)throw new Dge({offset:e,position:"start",size:Jl(t)})}function Oze(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Jl(t)!==n-e)throw new Dge({offset:n,position:"end",size:Jl(t)})}function Tge(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new rWe({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Mze="#__bigint";function $ge(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+Mze:i,n)}const Dze=new TextDecoder,Bze=new TextEncoder;function Lze(t){return t instanceof Uint8Array?t:typeof t=="string"?Nge(t):Fze(t)}function Fze(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function Nge(t,e={}){const{size:n}=e;let r=t;n&&(kT(t,n),r=G1(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,l=0;a<s;a++){const c=mX(i.charCodeAt(l++)),u=mX(i.charCodeAt(l++));if(c===void 0||u===void 0)throw new Bn(`Invalid byte sequence ("${i[l-2]}${i[l-1]}" in "${i}").`);o[a]=c*16+u}return o}function Uze(t,e={}){const{size:n}=e,r=Bze.encode(t);return typeof n=="number"?(BA(r,n),zze(r,n)):r}function zze(t,e){return Rze(t,{dir:"right",size:e})}function bv(t){return t.length}function Wze(t,e,n,r={}){return t.slice(e,n)}function Hze(t,e={}){const{size:n}=e;typeof n<"u"&&BA(t,n);const r=wd(t,e);return jge(r,e)}function Vze(t,e={}){const{size:n}=e;let r=t;if(typeof n<"u"&&(BA(r,n),r=Pge(r)),r.length>1||r[0]>1)throw new Kze(r);return!!r[0]}function Ap(t,e={}){const{size:n}=e;typeof n<"u"&&BA(t,n);const r=wd(t,e);return Oge(r,e)}function qze(t,e={}){const{size:n}=e;let r=t;return typeof n<"u"&&(BA(r,n),r=Gze(r)),Dze.decode(r)}function Pge(t){return Ige(t,{dir:"left"})}function Gze(t){return Ige(t,{dir:"right"})}class Kze extends Bn{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let Yze=class extends Bn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Qze=class extends Bn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const Zze=new TextEncoder,Jze=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Xze(t,e={}){const{strict:n=!1}=e;if(!t)throw new gX(t);if(typeof t!="string")throw new gX(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new yX(t);if(!t.startsWith("0x"))throw new yX(t)}function yd(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function eWe(t){return t instanceof Uint8Array?wd(t):Array.isArray(t)?wd(new Uint8Array(t)):t}function Rge(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(kT(n,e.size),q1(n,e.size)):n}function wd(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=Jze[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(kT(r,e.size),G1(r,e.size)):r}function Qo(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new Mge({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const l=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?q1(l,r):l}function aV(t,e={}){return wd(Zze.encode(t),e)}function q1(t,e){return Tge(t,{dir:"left",size:e})}function G1(t,e){return Tge(t,{dir:"right",size:e})}function Dh(t,e,n,r={}){const{strict:i}=r;jze(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&Oze(s,e,n),s}function Jl(t){return Math.ceil((t.length-2)/2)}function jge(t,e={}){const{signed:n}=e;e.size&&kT(t,e.size);const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,o=s>>1n;return r<=o?r:r-s-1n}function Oge(t,e={}){const{signed:n,size:r}=e;return Number(!n&&!r?t:jge(t,e))}function tWe(t,e={}){const{strict:n=!1}=e;try{return Xze(t,{strict:n}),!0}catch{return!1}}let Mge=class extends Bn{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};class gX extends Bn{constructor(e){super(`Value \`${typeof e=="object"?$ge(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class yX extends Bn{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let nWe=class extends Bn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class Dge extends Bn{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let rWe=class extends Bn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function iWe(t){return{address:t.address,amount:Qo(t.amount),index:Qo(t.index),validatorIndex:Qo(t.validatorIndex)}}function Bge(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Qo(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Qo(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Qo(t.gasLimit)},...typeof t.number=="bigint"&&{number:Qo(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Qo(t.prevRandao)},...typeof t.time=="bigint"&&{time:Qo(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(iWe)}}}const I_=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],WB=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Lge=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],Fge=[...Lge,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],sWe=[...Lge,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],wX=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],bX=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Uge=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],vX=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],YKt=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],oWe="0x82ad56cb",zge="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",aWe="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",lWe="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",lV="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class cWe extends ze{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class uWe extends ze{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function xX(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function dWe(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=xX(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=xX(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}class Wge extends ze{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:h,value:f,stateOverride:p}){var y;const m=n?Oi(n):void 0;let g=jA({from:m==null?void 0:m.address,to:h,value:typeof f<"u"&&`${Nw(f)} ${((y=i==null?void 0:i.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Qa(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Qa(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Qa(c)} gwei`,nonce:u});p&&(g+=`
${dWe(p)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",g].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Hge extends ze{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:o,sender:a}){const l=Tw({abi:n,args:r,name:o}),c=l?lge({abiItem:l,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=l?gd(l,{includeName:!0}):void 0,h=jA({address:i&&xze(i),function:u,args:c&&c!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${c}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],h&&"Contract Call:",h].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=o,this.sender=a}}class HB extends ze{constructor({abi:e,data:n,functionName:r,message:i}){let s,o,a,l;if(n&&n!=="0x")try{o=FUe({abi:e,data:n});const{abiItem:u,errorName:h,args:f}=o;if(h==="Error")l=f[0];else if(h==="Panic"){const[p]=f;l=jUe[p]}else{const p=u?gd(u,{includeName:!0}):void 0,m=u&&f?lge({abiItem:u,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[p?`Error: ${p}`:"",m&&m!=="()"?`       ${[...Array((h==null?void 0:h.length)??0).keys()].map(()=>" ").join("")}${m}`:""]}}catch(u){s=u}else i&&(l=i);let c;s instanceof Yme&&(c=s.signature,a=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(l&&l!=="execution reverted"||c?[`The contract function "${r}" reverted with the following ${c?"signature":"reason"}:`,l||c].join(`
`):`The contract function "${r}" reverted.`,{cause:s,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=l,this.signature=c}}class hWe extends ze{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class fWe extends ze{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class ST extends ze{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function O3({blockNumber:t,chain:e,contract:n}){var i;const r=(i=e==null?void 0:e.contracts)==null?void 0:i[n];if(!r)throw new $B({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new $B({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function _T(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof ze?t.walk(i=>(i==null?void 0:i.code)===wv.code):t;return r instanceof ze?new wv({cause:t,message:r.details}):wv.nodeMessage.test(n)?new wv({cause:t,message:t.details}):A_.nodeMessage.test(n)?new A_({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):NB.nodeMessage.test(n)?new NB({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):PB.nodeMessage.test(n)?new PB({cause:t,nonce:e==null?void 0:e.nonce}):RB.nodeMessage.test(n)?new RB({cause:t,nonce:e==null?void 0:e.nonce}):jB.nodeMessage.test(n)?new jB({cause:t,nonce:e==null?void 0:e.nonce}):OB.nodeMessage.test(n)?new OB({cause:t}):MB.nodeMessage.test(n)?new MB({cause:t,gas:e==null?void 0:e.gas}):DB.nodeMessage.test(n)?new DB({cause:t,gas:e==null?void 0:e.gas}):BB.nodeMessage.test(n)?new BB({cause:t}):C_.nodeMessage.test(n)?new C_({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new OA({cause:t})}function Vge(t,{docsPath:e,...n}){const r=(()=>{const i=_T(t,n);return i instanceof OA?t:i})();return new Wge(r,{docsPath:e,...n})}function IT(t,{format:e}){if(!e)return{};const n={};function r(s){const o=Object.keys(s);for(const a of o)a in t&&(n[a]=t[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&r(s[a])}const i=e(t||{});return r(i),n}const pWe={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function M3(t,e){const n={};return typeof t.authorizationList<"u"&&(n.authorizationList=mWe(t.authorizationList)),typeof t.accessList<"u"&&(n.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(n.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?n.blobs=t.blobs.map(r=>os(r)):n.blobs=t.blobs),typeof t.data<"u"&&(n.data=t.data),typeof t.from<"u"&&(n.from=t.from),typeof t.gas<"u"&&(n.gas=$t(t.gas)),typeof t.gasPrice<"u"&&(n.gasPrice=$t(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=$t(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(n.maxFeePerGas=$t(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=$t(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(n.nonce=$t(t.nonce)),typeof t.to<"u"&&(n.to=t.to),typeof t.type<"u"&&(n.type=pWe[t.type]),typeof t.value<"u"&&(n.value=$t(t.value)),n}function mWe(t){return t.map(e=>({address:e.address,r:e.r?$t(BigInt(e.r)):e.r,s:e.s?$t(BigInt(e.s)):e.s,chainId:$t(e.chainId),nonce:$t(e.nonce),...typeof e.yParity<"u"?{yParity:$t(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:$t(e.v)}:{}}))}function cV(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const kR=new Map;function qge({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const u=l();o();const h=u.map(({args:f})=>f);h.length!==0&&t(h).then(f=>{i&&Array.isArray(f)&&f.sort(i);for(let p=0;p<u.length;p++){const{resolve:m}=u[p];m==null||m([f[p],f])}}).catch(f=>{for(let p=0;p<u.length;p++){const{reject:m}=u[p];m==null||m(f)}})},o=()=>kR.delete(e),a=()=>l().map(({args:u})=>u),l=()=>kR.get(e)||[],c=u=>kR.set(e,[...l(),u]);return{flush:o,async schedule(u){const{promise:h,resolve:f,reject:p}=cV();return(n==null?void 0:n([...a(),u]))&&s(),l().length>0?(c({args:u,resolve:f,reject:p}),h):(c({args:u,resolve:f,reject:p}),setTimeout(s,r),h)}}}function EX(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new qJ({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new qJ({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function gWe(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:s}=t,o={};if(s!==void 0&&(o.code=s),e!==void 0&&(o.balance=$t(e)),n!==void 0&&(o.nonce=$t(n)),r!==void 0&&(o.state=EX(r)),i!==void 0){if(o.state)throw new uWe;o.stateDiff=EX(i)}return o}function uV(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!nl(n,{strict:!1}))throw new mg({address:n});if(e[n])throw new cWe({address:n});e[n]=gWe(r)}return e}function Pw(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:s}=t,o=e?Oi(e):void 0;if(o&&!nl(o.address))throw new mg({address:o.address});if(s&&!nl(s))throw new mg({address:s});if(typeof n<"u"&&(typeof r<"u"||typeof i<"u"))throw new JUe;if(r&&r>gze)throw new A_({maxFeePerGas:r});if(i&&r&&i>r)throw new C_({maxFeePerGas:r,maxPriorityFeePerGas:i})}async function TT(t,e){var B,k,C,S;const{account:n=t.account,authorizationList:r,batch:i=!!((B=t.batch)!=null&&B.multicall),blockNumber:s,blockTag:o=t.experimental_blockTag??"latest",accessList:a,blobs:l,blockOverrides:c,code:u,data:h,factory:f,factoryData:p,gas:m,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:b,to:A,value:E,stateOverride:$,...N}=e,R=n?Oi(n):void 0;if(u&&(f||p))throw new ze("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&A)throw new ze("Cannot provide both `code` & `to` as parameters.");const j=u&&h,F=f&&p&&A&&h,W=j||F,V=j?Gge({code:u,data:h}):F?bWe({data:h,factory:f,factoryData:p,to:A}):h;try{Pw(e);const _=(typeof s=="bigint"?$t(s):void 0)||o,P=c?Bge(c):void 0,L=uV($),O=(S=(C=(k=t.chain)==null?void 0:k.formatters)==null?void 0:C.transactionRequest)==null?void 0:S.format,D=(O||M3)({...IT(N,{format:O}),from:R==null?void 0:R.address,accessList:a,authorizationList:r,blobs:l,data:V,gas:m,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:b,to:W?void 0:A,value:E},"call");if(i&&yWe({request:D})&&!L&&!P)try{return await wWe(t,{...D,blockNumber:s,blockTag:o})}catch(Q){if(!(Q instanceof vge)&&!(Q instanceof $B))throw Q}const Y=(()=>{const Q=[D,_];return L&&P?[...Q,L,P]:L?[...Q,L]:P?[...Q,{},P]:Q})(),M=await t.request({method:"eth_call",params:Y});return M==="0x"?{data:void 0}:{data:M}}catch(T){const _=vWe(T),{offchainLookup:P,offchainLookupSignature:L}=await Mh(async()=>{const{offchainLookup:O,offchainLookupSignature:I}=await import("./ccip-CPPGVcwW.js");return{offchainLookup:O,offchainLookupSignature:I}},[]);if(t.ccipRead!==!1&&(_==null?void 0:_.slice(0,10))===L&&A)return{data:await P(t,{data:_,to:A})};throw W&&(_==null?void 0:_.slice(0,10))==="0x101bb98d"?new fWe({factory:f}):Vge(T,{...e,account:R,chain:t.chain})}}function yWe({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(oWe)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function wWe(t,e){var g;const{batchSize:n=1024,deployless:r=!1,wait:i=0}=typeof((g=t.batch)==null?void 0:g.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:o=t.experimental_blockTag??"latest",data:a,to:l}=e,c=(()=>{if(r)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return O3({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new vge})(),h=(typeof s=="bigint"?$t(s):void 0)||o,{schedule:f}=qge({id:`${t.uid}.${h}`,wait:i,shouldSplitBatch(y){return y.reduce((v,{data:b})=>v+(b.length-2),0)>n*2},fn:async y=>{const w=y.map(A=>({allowFailure:!0,callData:A.data,target:A.to})),v=ol({abi:I_,args:[w],functionName:"aggregate3"}),b=await t.request({method:"eth_call",params:[{...c===null?{data:Gge({code:lV,data:v})}:{to:c,data:v}},h]});return $w({abi:I_,args:[w],functionName:"aggregate3",data:b||"0x"})}}),[{returnData:p,success:m}]=await f({data:a,to:l});if(!m)throw new ST({data:p});return p==="0x"?{data:void 0}:{data:p}}function Gge(t){const{code:e,data:n}=t;return ET({abi:Rme(["constructor(bytes, bytes)"]),bytecode:zge,args:[e,n]})}function bWe(t){const{data:e,factory:n,factoryData:r,to:i}=t;return ET({abi:Rme(["constructor(address, bytes, address, bytes)"]),bytecode:aWe,args:[i,e,n,r]})}function vWe(t){var n;if(!(t instanceof ze))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}const $T="x-batch-gateway:true";async function xWe(t){const{data:e,ccipRequest:n}=t,{args:[r]}=oge({abi:WB,data:e}),i=[],s=[];return await Promise.all(r.map(async(o,a)=>{try{s[a]=o.urls.includes($T)?await xWe({data:o.data,ccipRequest:n}):await n(o),i[a]=!1}catch(l){i[a]=!0,s[a]=EWe(l)}})),HUe({abi:WB,functionName:"query",result:[i,s]})}function EWe(t){return t.name==="HttpRequestError"&&t.status?iX({abi:WB,errorName:"HttpError",args:[t.status,t.shortMessage]}):iX({abi:[ige],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function Kge({chain:t,currentChainId:e}){if(!t)throw new wze;if(e!==t.id)throw new yze({chain:t,currentChainId:e})}const AWe=3;function K1(t,{abi:e,address:n,args:r,docsPath:i,functionName:s,sender:o}){const a=t instanceof ST?t:t instanceof ze?t.walk(m=>"data"in m)||t.walk():{},{code:l,data:c,details:u,message:h,shortMessage:f}=a,p=t instanceof $A?new hWe({functionName:s}):[AWe,H1.code].includes(l)&&(c||u||h||f)?new HB({abi:e,data:typeof c=="object"?c.data:c,functionName:s,message:a instanceof rV?u:f??h}):t;return new Hge(p,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:s,sender:o})}class CWe extends ze{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:h,value:f}){var m;const p=jA({from:n==null?void 0:n.address,to:h,value:typeof f<"u"&&`${Nw(f)} ${((m=i==null?void 0:i.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Qa(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Qa(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Qa(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function kWe(t,{docsPath:e,...n}){const r=(()=>{const i=_T(t,n);return i instanceof OA?t:i})();return new CWe(r,{docsPath:e,...n})}function Yge(t,{docsPath:e,...n}){const r=(()=>{const i=_T(t,n);return i instanceof OA?t:i})();return new eze(r,{docsPath:e,...n})}const Qge={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Zge(t,e){const n={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?pd(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?pd(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?Qge[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(n.authorizationList=SWe(t.authorizationList)),n.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function SWe(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function Jge(t,e){const n=(t.transactions??[]).map(r=>typeof r=="string"?r:Zge(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:n,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}function Lp(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}const Xge={"0x0":"reverted","0x1":"success"};function _We(t,e){const n={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>Lp(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?pd(t.transactionIndex):null,status:t.status?Xge[t.status]:null,type:t.type?Qge[t.type]||t.type:null};return t.blobGasPrice&&(n.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(n.blobGasUsed=BigInt(t.blobGasUsed)),n}function Pt(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:s=>e(t,s)}async function dV(t,{address:e,blockTag:n="latest",blockNumber:r}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?$t(r):n]},{dedupe:!!r});return pd(i)}function IWe(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():s(e)},n)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function TWe(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const AX=TWe();function $We(t,e={}){return{async request(n){var f;const{body:r,fetchFn:i=e.fetchFn??fetch,onRequest:s=e.onRequest,onResponse:o=e.onResponse,timeout:a=e.timeout??1e4}=n,l={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:h}=l;try{const p=await IWe(async({signal:g})=>{const y={...l,body:Array.isArray(r)?ss(r.map(A=>({jsonrpc:"2.0",id:A.id??AX.take(),...A}))):ss({jsonrpc:"2.0",id:r.id??AX.take(),...r}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:h||(a>0?g:null)},w=new Request(t,y),v=await(s==null?void 0:s(w,y))??{...y,url:t};return await i(v.url??t,v)},{errorInstance:new dX({body:r,url:t}),timeout:a,signal:!0});o&&await o(p);let m;if((f=p.headers.get("Content-Type"))!=null&&f.startsWith("application/json"))m=await p.json();else{m=await p.text();try{m=JSON.parse(m||"{}")}catch(g){if(p.ok)throw g;m={error:m}}}if(!p.ok)throw new r4({body:r,details:ss(m.error)||p.statusText,headers:p.headers,status:p.status,url:t});return m}catch(p){throw p instanceof r4||p instanceof dX?p:new r4({body:r,cause:p,url:t})}}}}const NWe=`Ethereum Signed Message:
`;function PWe(t){const e=typeof t=="string"?kx(t):typeof t.raw=="string"?t.raw:os(t.raw),n=kx(`${NWe}${pi(e)}`);return Xc([n,e])}function eye(t,e){return Ws(PWe(t),e)}class RWe extends ze{constructor({domain:e}){super(`Invalid domain "${ss(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class jWe extends ze{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class OWe extends ze{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function MWe(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(l,c)=>{const u={...c};for(const h of l){const{name:f,type:p}=h;p==="address"&&(u[f]=u[f].toLowerCase())}return u},o=i.EIP712Domain?e?s(i.EIP712Domain,e):{}:{},a=(()=>{if(r!=="EIP712Domain")return s(i[r],n)})();return ss({domain:o,message:a,primaryType:r,types:i})}function tye(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(o,a)=>{for(const l of o){const{name:c,type:u}=l,h=a[c],f=u.match(rge);if(f&&(typeof h=="number"||typeof h=="bigint")){const[g,y,w]=f;$t(h,{signed:y==="int",size:Number.parseInt(w,10)/8})}if(u==="address"&&typeof h=="string"&&!nl(h))throw new mg({address:h});const p=u.match(wUe);if(p){const[g,y]=p;if(y&&pi(h)!==Number.parseInt(y,10))throw new lUe({expectedSize:Number.parseInt(y,10),givenSize:pi(h)})}const m=i[u];m&&(DWe(u),s(m,h))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new RWe({domain:e});s(i.EIP712Domain,e)}if(r!=="EIP712Domain")if(i[r])s(i[r],n);else throw new jWe({primaryType:r,types:i})}function nye({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function DWe(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new OWe({type:t})}function BWe(t){const{domain:e={},message:n,primaryType:r}=t,i={EIP712Domain:nye({domain:e}),...t.types};tye({domain:e,message:n,primaryType:r,types:i});const s=["0x1901"];return e&&s.push(LWe({domain:e,types:i})),r!=="EIP712Domain"&&s.push(rye({data:n,primaryType:r,types:i})),Ws(Xc(s))}function LWe({domain:t,types:e}){return rye({data:t,primaryType:"EIP712Domain",types:e})}function rye({data:t,primaryType:e,types:n}){const r=iye({data:t,primaryType:e,types:n});return Ws(r)}function iye({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],i=[FWe({primaryType:e,types:n})];for(const s of n[e]){const[o,a]=oye({types:n,name:s.name,type:s.type,value:t[s.name]});r.push(o),i.push(a)}return Iw(r,i)}function FWe({primaryType:t,types:e}){const n=_i(UWe({primaryType:t,types:e}));return Ws(n)}function UWe({primaryType:t,types:e}){let n="";const r=sye({primaryType:t,types:e});r.delete(t);const i=[t,...Array.from(r).sort()];for(const s of i)n+=`${s}(${e[s].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function sye({primaryType:t,types:e},n=new Set){const r=t.match(/^\w*/u),i=r==null?void 0:r[0];if(n.has(i)||e[i]===void 0)return n;n.add(i);for(const s of e[i])sye({primaryType:s.type,types:e},n);return n}function oye({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},Ws(iye({data:r,primaryType:n,types:t}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},Ws(r)];if(n==="string")return[{type:"bytes32"},Ws(_i(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),s=r.map(o=>oye({name:e,type:i,types:t,value:o}));return[{type:"bytes32"},Ws(Iw(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:n},r]}let zWe=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const WWe={checksum:new zWe(8192)},SR=WWe.checksum;function aye(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=Gme(Lze(t));return n==="Bytes"?r:wd(r)}const HWe=/^0x[a-fA-F0-9]{40}$/;function NT(t,e={}){const{strict:n=!0}=e;if(!HWe.test(t))throw new CX({address:t,cause:new VWe});if(n){if(t.toLowerCase()===t)return;if(lye(t)!==t)throw new CX({address:t,cause:new qWe})}}function lye(t){if(SR.has(t))return SR.get(t);NT(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=aye(Uze(e),{as:"Bytes"}),r=e.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return SR.set(t,i),i}function VB(t,e={}){const{strict:n=!0}=e??{};try{return NT(t,{strict:n}),!0}catch{return!1}}class CX extends Bn{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}let VWe=class extends Bn{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}};class qWe extends Bn{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const GWe=/^(.*)\[([0-9]*)\]$/,KWe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,cye=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,kX=2n**256n-1n;function Zv(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=pV(e.type);if(s){const[o,a]=s;return QWe(t,{...e,type:a},{checksumAddress:r,length:o,staticPosition:i})}if(e.type==="tuple")return eHe(t,e,{checksumAddress:r,staticPosition:i});if(e.type==="address")return YWe(t,{checksum:r});if(e.type==="bool")return ZWe(t);if(e.type.startsWith("bytes"))return JWe(t,e,{staticPosition:i});if(e.type.startsWith("uint")||e.type.startsWith("int"))return XWe(t,e);if(e.type==="string")return tHe(t,{staticPosition:i});throw new gV(e.type)}const SX=32,qB=32;function YWe(t,e={}){const{checksum:n=!1}=e,r=t.readBytes(32);return[(s=>n?lye(s):s)(wd(Wze(r,-20))),32]}function QWe(t,e,n){const{checksumAddress:r,length:i,staticPosition:s}=n;if(!i){const l=Ap(t.readBytes(qB)),c=s+l,u=c+SX;t.setPosition(c);const h=Ap(t.readBytes(SX)),f=I8(e);let p=0;const m=[];for(let g=0;g<h;++g){t.setPosition(u+(f?g*32:p));const[y,w]=Zv(t,e,{checksumAddress:r,staticPosition:u});p+=w,m.push(y)}return t.setPosition(s+32),[m,32]}if(I8(e)){const l=Ap(t.readBytes(qB)),c=s+l,u=[];for(let h=0;h<i;++h){t.setPosition(c+h*32);const[f]=Zv(t,e,{checksumAddress:r,staticPosition:c});u.push(f)}return t.setPosition(s+32),[u,32]}let o=0;const a=[];for(let l=0;l<i;++l){const[c,u]=Zv(t,e,{checksumAddress:r,staticPosition:s+o});o+=u,a.push(c)}return[a,o]}function ZWe(t){return[Vze(t.readBytes(32),{size:32}),32]}function JWe(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const o=Ap(t.readBytes(32));t.setPosition(n+o);const a=Ap(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const l=t.readBytes(a);return t.setPosition(n+32),[wd(l),32]}return[wd(t.readBytes(Number.parseInt(i,10),32)),32]}function XWe(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?Hze(i,{signed:n}):Ap(i,{signed:n}),32]}function eHe(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=e.components.length===0||e.components.some(({name:l})=>!l),o=s?[]:{};let a=0;if(I8(e)){const l=Ap(t.readBytes(qB)),c=i+l;for(let u=0;u<e.components.length;++u){const h=e.components[u];t.setPosition(c+a);const[f,p]=Zv(t,h,{checksumAddress:r,staticPosition:c});a+=p,o[s?u:h==null?void 0:h.name]=f}return t.setPosition(i+32),[o,32]}for(let l=0;l<e.components.length;++l){const c=e.components[l],[u,h]=Zv(t,c,{checksumAddress:r,staticPosition:i});o[s?l:c==null?void 0:c.name]=u,a+=h}return[o,a]}function tHe(t,{staticPosition:e}){const n=Ap(t.readBytes(32)),r=e+n;t.setPosition(r);const i=Ap(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=qze(Pge(s));return t.setPosition(e+32),[o,32]}function nHe({checksumAddress:t,parameters:e,values:n}){const r=[];for(let i=0;i<e.length;i++)r.push(hV({checksumAddress:t,parameter:e[i],value:n[i]}));return r}function hV({checksumAddress:t=!1,parameter:e,value:n}){const r=e,i=pV(r.type);if(i){const[s,o]=i;return iHe(n,{checksumAddress:t,length:s,parameter:{...r,type:o}})}if(r.type==="tuple")return cHe(n,{checksumAddress:t,parameter:r});if(r.type==="address")return rHe(n,{checksum:t});if(r.type==="bool")return oHe(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const s=r.type.startsWith("int"),[,,o="256"]=cye.exec(r.type)??[];return aHe(n,{signed:s,size:Number(o)})}if(r.type.startsWith("bytes"))return sHe(n,{type:r.type});if(r.type==="string")return lHe(n);throw new gV(r.type)}function fV(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=Jl(a)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(n.push(Qo(e+i,{size:32})),r.push(a),i+=Jl(a)):n.push(a)}return yd(...n,...r)}function rHe(t,e){const{checksum:n=!1}=e;return NT(t,{strict:n}),{dynamic:!1,encoded:q1(t.toLowerCase())}}function iHe(t,e){const{checksumAddress:n,length:r,parameter:i}=e,s=r===null;if(!Array.isArray(t))throw new wHe(t);if(!s&&t.length!==r)throw new yHe({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let o=!1;const a=[];for(let l=0;l<t.length;l++){const c=hV({checksumAddress:n,parameter:i,value:t[l]});c.dynamic&&(o=!0),a.push(c)}if(s||o){const l=fV(a);if(s){const c=Qo(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?yd(c,l):c}}if(o)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:yd(...a.map(({encoded:l})=>l))}}function sHe(t,{type:e}){const[,n]=e.split("bytes"),r=Jl(t);if(!n){let i=t;return r%32!==0&&(i=G1(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:yd(q1(Qo(r,{size:32})),i)}}if(r!==Number.parseInt(n,10))throw new dye({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:G1(t)}}function oHe(t){if(typeof t!="boolean")throw new Bn(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:q1(Rge(t))}}function aHe(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new Mge({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Qo(t,{size:32,signed:e})}}function lHe(t){const e=aV(t),n=Math.ceil(Jl(e)/32),r=[];for(let i=0;i<n;i++)r.push(G1(Dh(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:yd(G1(Qo(Jl(e),{size:32})),...r)}}function cHe(t,e){const{checksumAddress:n,parameter:r}=e;let i=!1;const s=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],l=Array.isArray(t)?o:a.name,c=hV({checksumAddress:n,parameter:a,value:t[l]});s.push(c),c.dynamic&&(i=!0)}return{dynamic:i,encoded:i?fV(s):yd(...s.map(({encoded:o})=>o))}}function pV(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function I8(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(I8);const n=pV(t.type);return!!(n&&I8({...t,type:n[1]}))}const uHe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new fHe({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new hHe({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new _X({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new _X({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function dHe(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(uHe);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class _X extends Bn{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class hHe extends Bn{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class fHe extends Bn{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function pHe(t,e,n={}){const{as:r="Array",checksumAddress:i=!1}=n,s=typeof e=="string"?Nge(e):e,o=dHe(s);if(bv(s)===0&&t.length>0)throw new gHe;if(bv(s)&&bv(s)<32)throw new mHe({data:typeof e=="string"?e:wd(e),parameters:t,size:bv(s)});let a=0;const l=r==="Array"?[]:{};for(let c=0;c<t.length;++c){const u=t[c];o.setPosition(a);const[h,f]=Zv(o,u,{checksumAddress:i,staticPosition:0});a+=f,r==="Array"?l.push(h):l[u.name??c]=h}return l}function mV(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new hye({expectedLength:t.length,givenLength:e.length});const i=nHe({checksumAddress:r,parameters:t,values:e}),s=fV(i);return s.length===0?"0x":s}function GB(t,e){if(t.length!==e.length)throw new hye({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r];n.push(GB.encode(i,s))}return yd(...n)}(function(t){function e(n,r,i=!1){if(n==="address"){const l=r;return NT(l),q1(l.toLowerCase(),i?32:0)}if(n==="string")return aV(r);if(n==="bytes")return r;if(n==="bool")return q1(Rge(r),i?32:1);const s=n.match(cye);if(s){const[l,c,u="256"]=s,h=Number.parseInt(u,10)/8;return Qo(r,{size:i?32:h,signed:c==="int"})}const o=n.match(KWe);if(o){const[l,c]=o;if(Number.parseInt(c,10)!==(r.length-2)/2)throw new dye({expectedSize:Number.parseInt(c,10),value:r});return G1(r,i?32:0)}const a=n.match(GWe);if(a&&Array.isArray(r)){const[l,c]=a,u=[];for(let h=0;h<r.length;h++)u.push(e(c,r[h],!0));return u.length===0?"0x":yd(...u)}throw new gV(n)}t.encode=e})(GB||(GB={}));function uye(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?VJ(t):t}class mHe extends Bn{constructor({data:e,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Hb(n)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class gHe extends Bn{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class yHe extends Bn{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class dye extends Bn{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Jl(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class hye extends Bn{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class wHe extends Bn{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class gV extends Bn{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}let fye=class extends GH{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,RFe(e);const r=yT(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),_x(s)}update(e){return Sx(this),this.iHash.update(e),this}digestInto(e){Sx(this),W1(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const pye=(t,e,n)=>new fye(t,e).update(n).digest();pye.create=(t,e)=>new fye(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ha=BigInt(0),da=BigInt(1),$y=BigInt(2),bHe=BigInt(3),mye=BigInt(4),gye=BigInt(5),yye=BigInt(8);function Ra(t,e){const n=t%e;return n>=Ha?n:e+n}function fc(t,e,n){let r=t;for(;e-- >Ha;)r*=r,r%=n;return r}function KB(t,e){if(t===Ha)throw new Error("invert: expected non-zero number");if(e<=Ha)throw new Error("invert: expected positive modulus, got "+e);let n=Ra(t,e),r=e,i=Ha,s=da;for(;n!==Ha;){const a=r/n,l=r%n,c=i-s*a;r=n,n=l,i=s,s=c}if(r!==da)throw new Error("invert: does not exist");return Ra(i,e)}function wye(t,e){const n=(t.ORDER+da)/mye,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function vHe(t,e){const n=(t.ORDER-gye)/yye,r=t.mul(e,$y),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,$y),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function xHe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-da,n=0;for(;e%$y===Ha;)e/=$y,n++;let r=$y;const i=yV(t);for(;IX(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return wye;let s=i.pow(r,e);const o=(e+da)/$y;return function(l,c){if(l.is0(c))return c;if(IX(l,c)!==1)throw new Error("Cannot find square root");let u=n,h=l.mul(l.ONE,s),f=l.pow(c,e),p=l.pow(c,o);for(;!l.eql(f,l.ONE);){if(l.is0(f))return l.ZERO;let m=1,g=l.sqr(f);for(;!l.eql(g,l.ONE);)if(m++,g=l.sqr(g),m===u)throw new Error("Cannot find square root");const y=da<<BigInt(u-m-1),w=l.pow(h,y);u=m,h=l.sqr(w),f=l.mul(f,h),p=l.mul(p,w)}return p}}function EHe(t){return t%mye===bHe?wye:t%yye===gye?vHe:xHe(t)}const AHe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function CHe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=AHe.reduce((r,i)=>(r[i]="function",r),e);return CT(t,n)}function kHe(t,e,n){if(n<Ha)throw new Error("invalid exponent, negatives unsupported");if(n===Ha)return t.ONE;if(n===da)return e;let r=t.ONE,i=e;for(;n>Ha;)n&da&&(r=t.mul(r,i)),i=t.sqr(i),n>>=da;return r}function bye(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,l)=>t.is0(a)?o:(r[l]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,l)=>t.is0(a)?o:(r[l]=t.mul(o,r[l]),t.mul(o,a)),s),r}function IX(t,e){const n=(t.ORDER-da)/$y,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function vye(t,e){e!==void 0&&o8(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function yV(t,e,n=!1,r={}){if(t<=Ha)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=vye(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:AT(i),ZERO:Ha,ONE:da,create:l=>Ra(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Ha<=l&&l<t},is0:l=>l===Ha,isOdd:l=>(l&da)===da,neg:l=>Ra(-l,t),eql:(l,c)=>l===c,sqr:l=>Ra(l*l,t),add:(l,c)=>Ra(l+c,t),sub:(l,c)=>Ra(l-c,t),mul:(l,c)=>Ra(l*c,t),pow:(l,c)=>kHe(a,l,c),div:(l,c)=>Ra(l*KB(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>KB(l,t),sqrt:r.sqrt||(l=>(o||(o=EHe(t)),o(a,l))),toBytes:l=>n?Sge(l,s):DA(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return n?kge(l):E1(l)},invertBatch:l=>bye(a,l),cmov:(l,c,u)=>u?c:l});return Object.freeze(a)}function xye(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Eye(t){const e=xye(t);return e+Math.ceil(e/2)}function SHe(t,e,n=!1){const r=t.length,i=xye(e),s=Eye(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?kge(t):E1(t),a=Ra(o,e-da)+da;return n?Sge(a,i):DA(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const TX=BigInt(0),YB=BigInt(1);function _R(t,e){const n=e.negate();return t?n:e}function Aye(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function IR(t,e){Aye(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=AT(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function $X(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),l=t>>o;a>r&&(a-=s,l+=YB);const c=e*r,u=c+Math.abs(a)-1,h=a===0,f=a<0,p=e%2!==0;return{nextN:l,offset:u,isZero:h,isNeg:f,isNegF:p,offsetF:c}}function _He(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function IHe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const TR=new WeakMap,Cye=new WeakMap;function $R(t){return Cye.get(t)||1}function THe(t,e){return{constTimeNegate:_R,hasPrecomputes(n){return $R(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>TX;)r&YB&&(i=i.add(s)),s=s.double(),r>>=YB;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=IR(r,e),o=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=IR(n,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:h,isNeg:f,isNegF:p,offsetF:m}=$X(i,l,a);i=c,h?o=o.add(_R(p,r[m])):s=s.add(_R(f,r[u]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=IR(n,e);for(let a=0;a<o.windows&&i!==TX;a++){const{nextN:l,offset:c,isZero:u,isNeg:h}=$X(i,a,o);if(i=l,!u){const f=r[c];s=s.add(h?f.negate():f)}}return s},getPrecomputes(n,r,i){let s=TR.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&TR.set(r,i(s))),s},wNAFCached(n,r,i){const s=$R(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=$R(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){Aye(r,e),Cye.set(n,r),TR.delete(n)}}}function $He(t,e,n,r){_He(n,t),IHe(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=Ize(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=AT(l),u=new Array(Number(c)+1).fill(o),h=Math.floor((e.BITS-1)/l)*l;let f=o;for(let p=h;p>=0;p-=l){u.fill(o);for(let g=0;g<s;g++){const y=r[g],w=Number(y>>BigInt(p)&c);u[w]=u[w].add(n[g])}let m=o;for(let g=u.length-1,y=o;g>0;g--)y=y.add(u[g]),m=m.add(y);if(f=f.add(m),p!==0)for(let g=0;g<l;g++)f=f.double()}return f}function kye(t){return CHe(t.Fp),CT(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...vye(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function NX(t){t.lowS!==void 0&&S8("lowS",t.lowS),t.prehash!==void 0&&S8("prehash",t.prehash)}function NHe(t){const e=kye(t);CT(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}let PHe=class extends Error{constructor(e=""){super(e)}};const zf={Err:PHe,_tlv:{encode:(t,e)=>{const{Err:n}=zf;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=sk(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?sk(i.length/2|128):"";return sk(t)+s+i+e},decode(t,e){const{Err:n}=zf;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(r+=l,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=zf;if(t<lp)throw new e("integer: negative integers are not allowed");let n=sk(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=zf;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return E1(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=zf,i=Ic("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,s),{v:c,l:u}=r.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=zf,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function NR(t,e){return _8(DA(t,e))}const lp=BigInt(0),ps=BigInt(1);BigInt(2);const PR=BigInt(3),RHe=BigInt(4);function jHe(t){const e=NHe(t),{Fp:n}=e,r=yV(e.n,e.nBitLength),i=e.toBytes||((b,A,E)=>{const $=A.toAffine();return __(Uint8Array.from([4]),n.toBytes($.x),n.toBytes($.y))}),s=e.fromBytes||(b=>{const A=b.subarray(1),E=n.fromBytes(A.subarray(0,n.BYTES)),$=n.fromBytes(A.subarray(n.BYTES,2*n.BYTES));return{x:E,y:$}});function o(b){const{a:A,b:E}=e,$=n.sqr(b),N=n.mul($,b);return n.add(n.add(N,n.mul(b,A)),E)}function a(b,A){const E=n.sqr(A),$=o(b);return n.eql(E,$)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const l=n.mul(n.pow(e.a,PR),RHe),c=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(l,c)))throw new Error("bad curve params: a or b");function u(b){return oV(b,ps,e.n)}function h(b){const{allowedPrivateKeyLengths:A,nByteLength:E,wrapPrivateKey:$,n:N}=e;if(A&&typeof b!="bigint"){if(MA(b)&&(b=_8(b)),typeof b!="string"||!A.includes(b.length))throw new Error("invalid private key");b=b.padStart(E*2,"0")}let R;try{R=typeof b=="bigint"?b:E1(Ic("private key",b,E))}catch{throw new Error("invalid private key, expected hex or "+E+" bytes, got "+typeof b)}return $&&(R=Ra(R,N)),Qv("private key",R,ps,N),R}function f(b){if(!(b instanceof g))throw new Error("ProjectivePoint expected")}const p=pX((b,A)=>{const{px:E,py:$,pz:N}=b;if(n.eql(N,n.ONE))return{x:E,y:$};const R=b.is0();A==null&&(A=R?n.ONE:n.inv(N));const j=n.mul(E,A),F=n.mul($,A),W=n.mul(N,A);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(W,n.ONE))throw new Error("invZ was invalid");return{x:j,y:F}}),m=pX(b=>{if(b.is0()){if(e.allowInfinityPoint&&!n.is0(b.py))return;throw new Error("bad point: ZERO")}const{x:A,y:E}=b.toAffine();if(!n.isValid(A)||!n.isValid(E))throw new Error("bad point: x or y not FE");if(!a(A,E))throw new Error("bad point: equation left != right");if(!b.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(A,E,$){if(A==null||!n.isValid(A))throw new Error("x required");if(E==null||!n.isValid(E)||n.is0(E))throw new Error("y required");if($==null||!n.isValid($))throw new Error("z required");this.px=A,this.py=E,this.pz=$,Object.freeze(this)}static fromAffine(A){const{x:E,y:$}=A||{};if(!A||!n.isValid(E)||!n.isValid($))throw new Error("invalid affine point");if(A instanceof g)throw new Error("projective point not allowed");const N=R=>n.eql(R,n.ZERO);return N(E)&&N($)?g.ZERO:new g(E,$,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const E=bye(n,A.map($=>$.pz));return A.map(($,N)=>$.toAffine(E[N])).map(g.fromAffine)}static fromHex(A){const E=g.fromAffine(s(Ic("pointHex",A)));return E.assertValidity(),E}static fromPrivateKey(A){return g.BASE.multiply(h(A))}static msm(A,E){return $He(g,r,A,E)}_setWindowSize(A){v.setWindowSize(this,A)}assertValidity(){m(this)}hasEvenY(){const{y:A}=this.toAffine();if(n.isOdd)return!n.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){f(A);const{px:E,py:$,pz:N}=this,{px:R,py:j,pz:F}=A,W=n.eql(n.mul(E,F),n.mul(R,N)),V=n.eql(n.mul($,F),n.mul(j,N));return W&&V}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:A,b:E}=e,$=n.mul(E,PR),{px:N,py:R,pz:j}=this;let F=n.ZERO,W=n.ZERO,V=n.ZERO,B=n.mul(N,N),k=n.mul(R,R),C=n.mul(j,j),S=n.mul(N,R);return S=n.add(S,S),V=n.mul(N,j),V=n.add(V,V),F=n.mul(A,V),W=n.mul($,C),W=n.add(F,W),F=n.sub(k,W),W=n.add(k,W),W=n.mul(F,W),F=n.mul(S,F),V=n.mul($,V),C=n.mul(A,C),S=n.sub(B,C),S=n.mul(A,S),S=n.add(S,V),V=n.add(B,B),B=n.add(V,B),B=n.add(B,C),B=n.mul(B,S),W=n.add(W,B),C=n.mul(R,j),C=n.add(C,C),B=n.mul(C,S),F=n.sub(F,B),V=n.mul(C,k),V=n.add(V,V),V=n.add(V,V),new g(F,W,V)}add(A){f(A);const{px:E,py:$,pz:N}=this,{px:R,py:j,pz:F}=A;let W=n.ZERO,V=n.ZERO,B=n.ZERO;const k=e.a,C=n.mul(e.b,PR);let S=n.mul(E,R),T=n.mul($,j),_=n.mul(N,F),P=n.add(E,$),L=n.add(R,j);P=n.mul(P,L),L=n.add(S,T),P=n.sub(P,L),L=n.add(E,N);let O=n.add(R,F);return L=n.mul(L,O),O=n.add(S,_),L=n.sub(L,O),O=n.add($,N),W=n.add(j,F),O=n.mul(O,W),W=n.add(T,_),O=n.sub(O,W),B=n.mul(k,L),W=n.mul(C,_),B=n.add(W,B),W=n.sub(T,B),B=n.add(T,B),V=n.mul(W,B),T=n.add(S,S),T=n.add(T,S),_=n.mul(k,_),L=n.mul(C,L),T=n.add(T,_),_=n.sub(S,_),_=n.mul(k,_),L=n.add(L,_),S=n.mul(T,L),V=n.add(V,S),S=n.mul(O,L),W=n.mul(P,W),W=n.sub(W,S),S=n.mul(P,T),B=n.mul(O,B),B=n.add(B,S),new g(W,V,B)}subtract(A){return this.add(A.negate())}is0(){return this.equals(g.ZERO)}wNAF(A){return v.wNAFCached(this,A,g.normalizeZ)}multiplyUnsafe(A){const{endo:E,n:$}=e;Qv("scalar",A,lp,$);const N=g.ZERO;if(A===lp)return N;if(this.is0()||A===ps)return this;if(!E||v.hasPrecomputes(this))return v.wNAFCachedUnsafe(this,A,g.normalizeZ);let{k1neg:R,k1:j,k2neg:F,k2:W}=E.splitScalar(A),V=N,B=N,k=this;for(;j>lp||W>lp;)j&ps&&(V=V.add(k)),W&ps&&(B=B.add(k)),k=k.double(),j>>=ps,W>>=ps;return R&&(V=V.negate()),F&&(B=B.negate()),B=new g(n.mul(B.px,E.beta),B.py,B.pz),V.add(B)}multiply(A){const{endo:E,n:$}=e;Qv("scalar",A,ps,$);let N,R;if(E){const{k1neg:j,k1:F,k2neg:W,k2:V}=E.splitScalar(A);let{p:B,f:k}=this.wNAF(F),{p:C,f:S}=this.wNAF(V);B=v.constTimeNegate(j,B),C=v.constTimeNegate(W,C),C=new g(n.mul(C.px,E.beta),C.py,C.pz),N=B.add(C),R=k.add(S)}else{const{p:j,f:F}=this.wNAF(A);N=j,R=F}return g.normalizeZ([N,R])[0]}multiplyAndAddUnsafe(A,E,$){const N=g.BASE,R=(F,W)=>W===lp||W===ps||!F.equals(N)?F.multiplyUnsafe(W):F.multiply(W),j=R(this,E).add(R(A,$));return j.is0()?void 0:j}toAffine(A){return p(this,A)}isTorsionFree(){const{h:A,isTorsionFree:E}=e;if(A===ps)return!0;if(E)return E(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:E}=e;return A===ps?this:E?E(g,this):this.multiplyUnsafe(e.h)}toRawBytes(A=!0){return S8("isCompressed",A),this.assertValidity(),i(g,this,A)}toHex(A=!0){return S8("isCompressed",A),_8(this.toRawBytes(A))}}g.BASE=new g(e.Gx,e.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const{endo:y,nBitLength:w}=e,v=THe(g,y?Math.ceil(w/2):w);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:h,weierstrassEquation:o,isWithinCurveOrder:u}}function OHe(t){const e=kye(t);return CT(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function MHe(t){const e=OHe(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,o=n.BYTES+1,a=2*n.BYTES+1;function l(C){return Ra(C,r)}function c(C){return KB(C,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:h,weierstrassEquation:f,isWithinCurveOrder:p}=jHe({...e,toBytes(C,S,T){const _=S.toAffine(),P=n.toBytes(_.x),L=__;return S8("isCompressed",T),T?L(Uint8Array.from([S.hasEvenY()?2:3]),P):L(Uint8Array.from([4]),P,n.toBytes(_.y))},fromBytes(C){const S=C.length,T=C[0],_=C.subarray(1);if(S===o&&(T===2||T===3)){const P=E1(_);if(!oV(P,ps,n.ORDER))throw new Error("Point is not on curve");const L=f(P);let O;try{O=n.sqrt(L)}catch(Y){const M=Y instanceof Error?": "+Y.message:"";throw new Error("Point is not on curve"+M)}const I=(O&ps)===ps;return(T&1)===1!==I&&(O=n.neg(O)),{x:P,y:O}}else if(S===a&&T===4){const P=n.fromBytes(_.subarray(0,n.BYTES)),L=n.fromBytes(_.subarray(n.BYTES,2*n.BYTES));return{x:P,y:L}}else{const P=o,L=a;throw new Error("invalid Point, expected length of "+P+", or uncompressed "+L+", got "+S)}}});function m(C){const S=r>>ps;return C>S}function g(C){return m(C)?l(-C):C}const y=(C,S,T)=>E1(C.slice(S,T));class w{constructor(S,T,_){Qv("r",S,ps,r),Qv("s",T,ps,r),this.r=S,this.s=T,_!=null&&(this.recovery=_),Object.freeze(this)}static fromCompact(S){const T=i;return S=Ic("compactSignature",S,T*2),new w(y(S,0,T),y(S,T,2*T))}static fromDER(S){const{r:T,s:_}=zf.toSig(Ic("DER",S));return new w(T,_)}assertValidity(){}addRecoveryBit(S){return new w(this.r,this.s,S)}recoverPublicKey(S){const{r:T,s:_,recovery:P}=this,L=N(Ic("msgHash",S));if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");const O=P===2||P===3?T+e.n:T;if(O>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const I=P&1?"03":"02",D=u.fromHex(I+NR(O,n.BYTES)),Y=c(O),M=l(-L*Y),Q=l(_*Y),ee=u.BASE.multiplyAndAddUnsafe(D,M,Q);if(!ee)throw new Error("point at infinify");return ee.assertValidity(),ee}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return S_(this.toDERHex())}toDERHex(){return zf.hexFromSig(this)}toCompactRawBytes(){return S_(this.toCompactHex())}toCompactHex(){const S=i;return NR(this.r,S)+NR(this.s,S)}}const v={isValidPrivateKey(C){try{return h(C),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const C=Eye(e.n);return SHe(e.randomBytes(C),e.n)},precompute(C=8,S=u.BASE){return S._setWindowSize(C),S.multiply(BigInt(3)),S}};function b(C,S=!0){return u.fromPrivateKey(C).toRawBytes(S)}function A(C){if(typeof C=="bigint")return!1;if(C instanceof u)return!0;const T=Ic("key",C).length,_=n.BYTES,P=_+1,L=2*_+1;if(!(e.allowedPrivateKeyLengths||i===P))return T===P||T===L}function E(C,S,T=!0){if(A(C)===!0)throw new Error("first arg must be private key");if(A(S)===!1)throw new Error("second arg must be public key");return u.fromHex(S).multiply(h(C)).toRawBytes(T)}const $=e.bits2int||function(C){if(C.length>8192)throw new Error("input is too large");const S=E1(C),T=C.length*8-s;return T>0?S>>BigInt(T):S},N=e.bits2int_modN||function(C){return l($(C))},R=AT(s);function j(C){return Qv("num < 2^"+s,C,lp,R),DA(C,i)}function F(C,S,T=W){if(["recovered","canonical"].some(oe=>oe in T))throw new Error("sign() legacy options not supported");const{hash:_,randomBytes:P}=e;let{lowS:L,prehash:O,extraEntropy:I}=T;L==null&&(L=!0),C=Ic("msgHash",C),NX(T),O&&(C=Ic("prehashed msgHash",_(C)));const D=N(C),Y=h(S),M=[j(Y),j(D)];if(I!=null&&I!==!1){const oe=I===!0?P(n.BYTES):I;M.push(Ic("extraEntropy",oe))}const Q=__(...M),ee=D;function J(oe){const de=$(oe);if(!p(de))return;const ae=c(de),he=u.BASE.multiply(de).toAffine(),be=l(he.x);if(be===lp)return;const fe=l(ae*l(ee+be*Y));if(fe===lp)return;let ke=(he.x===be?0:2)|Number(he.y&ps),we=fe;return L&&m(fe)&&(we=g(fe),ke^=1),new w(be,we,ke)}return{seed:Q,k2sig:J}}const W={lowS:e.lowS,prehash:!1},V={lowS:e.lowS,prehash:!1};function B(C,S,T=W){const{seed:_,k2sig:P}=F(C,S,T),L=e;return Tze(L.hash.outputLen,L.nByteLength,L.hmac)(_,P)}u.BASE._setWindowSize(8);function k(C,S,T,_=V){var ke;const P=C;S=Ic("msgHash",S),T=Ic("publicKey",T);const{lowS:L,prehash:O,format:I}=_;if(NX(_),"strict"in _)throw new Error("options.strict was renamed to lowS");if(I!==void 0&&I!=="compact"&&I!=="der")throw new Error("format must be compact or der");const D=typeof P=="string"||MA(P),Y=!D&&!I&&typeof P=="object"&&P!==null&&typeof P.r=="bigint"&&typeof P.s=="bigint";if(!D&&!Y)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let M,Q;try{if(Y&&(M=new w(P.r,P.s)),D){try{I!=="compact"&&(M=w.fromDER(P))}catch(we){if(!(we instanceof zf.Err))throw we}!M&&I!=="der"&&(M=w.fromCompact(P))}Q=u.fromHex(T)}catch{return!1}if(!M||L&&M.hasHighS())return!1;O&&(S=e.hash(S));const{r:ee,s:J}=M,oe=N(S),de=c(J),ae=l(oe*de),he=l(ee*de),be=(ke=u.BASE.multiplyAndAddUnsafe(Q,ae,he))==null?void 0:ke.toAffine();return be?l(be.x)===ee:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:E,sign:B,verify:k,ProjectivePoint:u,Signature:w,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function DHe(t){return{hash:t,hmac:(e,...n)=>pye(t,e,LFe(...n)),randomBytes:FFe}}function BHe(t,e){const n=r=>MHe({...t,...DHe(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Sye=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),PX=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),LHe=BigInt(0),FHe=BigInt(1),QB=BigInt(2),RX=(t,e)=>(t+e/QB)/e;function UHe(t){const e=Sye,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,h=fc(u,n,e)*u%e,f=fc(h,n,e)*u%e,p=fc(f,QB,e)*c%e,m=fc(p,i,e)*p%e,g=fc(m,s,e)*m%e,y=fc(g,a,e)*g%e,w=fc(y,l,e)*y%e,v=fc(w,a,e)*g%e,b=fc(v,n,e)*u%e,A=fc(b,o,e)*m%e,E=fc(A,r,e)*c%e,$=fc(E,QB,e);if(!ZB.eql(ZB.sqr($),t))throw new Error("Cannot find square root");return $}const ZB=yV(Sye,void 0,void 0,{sqrt:UHe}),_ye=BHe({a:LHe,b:BigInt(7),Fp:ZB,n:PX,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=PX,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-FHe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=RX(s*t,e),l=RX(-r*t,e);let c=Ra(t-a*n-l*i,e),u=Ra(-a*r-l*s,e);const h=c>o,f=u>o;if(h&&(c=e-c),f&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:c,k2neg:f,k2:u}}}},yge),zHe=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:_ye},Symbol.toStringTag,{value:"Module"}));function Iye(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new RR({signature:t});if(typeof t.s>"u")throw new RR({signature:t});if(n&&typeof t.yParity>"u")throw new RR({signature:t});if(t.r<0n||t.r>kX)throw new YHe({value:t.r});if(t.s<0n||t.s>kX)throw new QHe({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new bV({value:t.yParity})}function WHe(t){return Tye(wd(t))}function Tye(t){if(t.length!==130&&t.length!==132)throw new KHe({signature:t});const e=BigInt(Dh(t,0,32)),n=BigInt(Dh(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return wV(i)}catch{throw new bV({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function HHe(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return VHe(t)}function VHe(t){const e=typeof t=="string"?Tye(t):t instanceof Uint8Array?WHe(t):typeof t.r=="string"?GHe(t):t.v?qHe(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return Iye(e),e}function qHe(t){return{r:t.r,s:t.s,yParity:wV(t.v)}}function GHe(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let r=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=wV(n)),typeof r!="number")throw new bV({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function wV(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new ZHe({value:t})}class KHe extends Bn{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Jl(eWe(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class RR extends Bn{constructor({signature:e}){super(`Signature \`${$ge(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class YHe extends Bn{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class QHe extends Bn{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class bV extends Bn{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class ZHe extends Bn{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function JHe(t,e={}){return typeof t.chainId=="string"?XHe(t):{...t,...e.signature}}function XHe(t){const{address:e,chainId:n,nonce:r}=t,i=HHe(t);return{address:e,chainId:Number(n),nonce:BigInt(r),...i}}const eVe="0x8010801080108010801080108010801080108010801080108010801080108010",tVe=uye("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function $ye(t){if(typeof t=="string"){if(Dh(t,-32)!==eVe)throw new iVe(t)}else Iye(t.authorization)}function nVe(t){$ye(t);const e=Oge(Dh(t,-64,-32)),n=Dh(t,-e-64,-64),r=Dh(t,0,-e-64),[i,s,o]=pHe(tVe,n);return{authorization:JHe({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:r,...o&&o!=="0x"?{data:o,to:s}:{}}}function rVe(t){try{return $ye(t),!0}catch{return!1}}let iVe=class extends Bn{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};class sVe extends ze{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function oVe(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new sVe({value:t});let[n,r="0"]=t.split(".");const i=n.startsWith("-");if(i&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[s,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],l=Math.round(+`${o}.${a}`);l>9?r=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):r=`${s}${l}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${i?"-":""}${n}${r}`)}function Nye(t,e="wei"){return oVe(t,hge[e])}const aVe={path:"/api/v1/analytics_events",method:"POST"},lVe={path:"/api/v1/apps/:app_id",method:"GET"},cVe={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},uVe={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"},dVe={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"},hVe={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},fVe={path:"/api/v1/farcaster/init",method:"POST"},pVe={path:"/api/v1/farcaster/authenticate",method:"POST"},mVe={path:"/api/v1/farcaster/link",method:"POST"},gVe={path:"/api/v1/farcaster/unlink",method:"POST"},yVe={path:"/api/v1/farcaster/status",method:"GET"},wVe={path:"/api/v2/farcaster/init",method:"POST"},bVe={path:"/api/v2/farcaster/authenticate",method:"POST"},vVe={path:"/api/v1/guest/authenticate",method:"POST"},xVe={path:"/api/v1/mfa/passkeys/init",method:"POST"},EVe={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"},AVe={path:"/api/v1/oauth/authenticate",method:"POST"},CVe={path:"/api/v1/oauth/init",method:"POST"},kVe={path:"/api/v1/oauth/link",method:"POST"},SVe={path:"/api/v1/oauth/unlink",method:"POST"},_Ve={path:"/api/v1/passkeys/link",method:"POST"},IVe={path:"/api/v1/passkeys/authenticate",method:"POST"},TVe={path:"/api/v1/passkeys/register",method:"POST"},$Ve={path:"/api/v1/passkeys/authenticate/init",method:"POST"},NVe={path:"/api/v1/passkeys/register/init",method:"POST"},PVe={path:"/api/v1/passkeys/link/init",method:"POST"},RVe={path:"/api/v1/passwordless/authenticate",method:"POST"},jVe={path:"/api/v1/passwordless/init",method:"POST"},OVe={path:"/api/v1/passwordless/link",method:"POST"},MVe={path:"/api/v1/passwordless/unlink",method:"POST"},DVe={path:"/api/v1/passwordless/update",method:"POST"},BVe={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},LVe={path:"/api/v1/passwordless_sms/init",method:"POST"},FVe={path:"/api/v1/passwordless_sms/link",method:"POST"},UVe={path:"/api/v1/passwordless_sms/unlink",method:"POST"},zVe={path:"/api/v1/passwordless_sms/update",method:"POST"},WVe={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},HVe={path:"/api/v1/recovery/oauth/init",method:"POST"},VVe={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},qVe={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},GVe={path:"/api/v1/recovery/configuration_icloud",method:"POST"},KVe=(t,e)=>e?Object.entries(e).reduce((n,[r,i])=>n.replace(`:${r}`,`${i}`),t):t,jX={path:"/api/v1/sessions",method:"POST"},YVe={path:"/api/v1/sessions/logout",method:"POST"},QVe={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"},Pye={path:"/api/v1/siwe/init",method:"POST"},ZVe={path:"/api/v1/siwe/authenticate",method:"POST"},JVe={path:"/api/v1/siwe/link",method:"POST"},XVe={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},eqe={path:"/api/v1/siwe/unlink",method:"POST"},tqe={path:"/api/v1/siws/init",method:"POST"},nqe={path:"/api/v1/siws/authenticate",method:"POST"},rqe={path:"/api/v1/siws/link",method:"POST"},iqe={path:"/api/v1/siws/unlink",method:"POST"},sqe={path:"/api/v1/users/me/accept_terms",method:"POST"},oqe={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"},aqe={path:"/api/v1/wallets",method:"POST"},jR={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},lqe={path:"/api/v1/wallets/revoke",method:"POST"};var Hn;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Hn||(Hn={}));var OX;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(OX||(OX={}));const Ct=Hn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Q0=t=>{switch(typeof t){case"undefined":return Ct.undefined;case"string":return Ct.string;case"number":return Number.isNaN(t)?Ct.nan:Ct.number;case"boolean":return Ct.boolean;case"function":return Ct.function;case"bigint":return Ct.bigint;case"symbol":return Ct.symbol;case"object":return Array.isArray(t)?Ct.array:t===null?Ct.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ct.promise:typeof Map<"u"&&t instanceof Map?Ct.map:typeof Set<"u"&&t instanceof Set?Ct.set:typeof Date<"u"&&t instanceof Date?Ct.date:Ct.object;default:return Ct.unknown}},Je=Hn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Fp extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof Fp))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Hn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Fp.create=t=>new Fp(t);const JB=(t,e)=>{let n;switch(t.code){case Je.invalid_type:t.received===Ct.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Je.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Hn.jsonStringifyReplacer)}`;break;case Je.unrecognized_keys:n=`Unrecognized key(s) in object: ${Hn.joinValues(t.keys,", ")}`;break;case Je.invalid_union:n="Invalid input";break;case Je.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Hn.joinValues(t.options)}`;break;case Je.invalid_enum_value:n=`Invalid enum value. Expected ${Hn.joinValues(t.options)}, received '${t.received}'`;break;case Je.invalid_arguments:n="Invalid function arguments";break;case Je.invalid_return_type:n="Invalid function return type";break;case Je.invalid_date:n="Invalid date";break;case Je.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Hn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Je.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Je.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Je.custom:n="Invalid input";break;case Je.invalid_intersection_types:n="Intersection results could not be merged";break;case Je.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Je.not_finite:n="Number must be finite";break;default:n=e.defaultError,Hn.assertNever(t)}return{message:n}};let cqe=JB;function uqe(){return cqe}const dqe=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}};function mt(t,e){const n=uqe(),r=dqe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===JB?void 0:JB].filter(i=>!!i)});t.common.issues.push(r)}class Xl{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Kt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Xl.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Kt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const Kt=Object.freeze({status:"aborted"}),v6=t=>({status:"dirty",value:t}),lu=t=>({status:"valid",value:t}),MX=t=>t.status==="aborted",DX=t=>t.status==="dirty",Rx=t=>t.status==="valid",T_=t=>typeof Promise<"u"&&t instanceof Promise;var _t;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(_t||(_t={}));class gg{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const BX=(t,e)=>{if(Rx(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Fp(t.common.issues);return this._error=n,this._error}}};function xn(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:i}}class Un{get description(){return this._def.description}_getType(e){return Q0(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Q0(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Xl,ctx:{common:e.parent.common,data:e.data,parsedType:Q0(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(T_(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Q0(e)},i=this._parseSync({data:e,path:r.path,parent:r});return BX(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Q0(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:n});return Rx(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(s=>Rx(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Q0(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(T_(i)?i:Promise.resolve(i));return BX(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Je.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Up({schema:this,typeName:Zt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Cp.create(this,this._def)}nullable(){return Z1.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Bh.create(this)}promise(){return B_.create(this,this._def)}or(e){return R_.create([this,e],this._def)}and(e){return j_.create(this,e,this._def)}transform(e){return new Up({...xn(this._def),schema:this,typeName:Zt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new L_({...xn(this._def),innerType:this,defaultValue:n,typeName:Zt.ZodDefault})}brand(){return new Mye({typeName:Zt.ZodBranded,type:this,...xn(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new F_({...xn(this._def),innerType:this,catchValue:n,typeName:Zt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return xV.create(this,e)}readonly(){return U_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const hqe=/^c[^\s-]{8,}$/i,fqe=/^[0-9a-z]+$/,pqe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,mqe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gqe=/^[a-z0-9_-]{21}$/i,yqe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,wqe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,bqe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,vqe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let OR;const xqe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Eqe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Aqe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Cqe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,kqe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Sqe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Rye="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",_qe=new RegExp(`^${Rye}$`);function jye(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function Iqe(t){return new RegExp(`^${jye(t)}$`)}function Tqe(t){let e=`${Rye}T${jye(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function $qe(t,e){return!!((e==="v4"||!e)&&xqe.test(t)||(e==="v6"||!e)&&Aqe.test(t))}function Nqe(t,e){if(!yqe.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function Pqe(t,e){return!!((e==="v4"||!e)&&Eqe.test(t)||(e==="v6"||!e)&&Cqe.test(t))}class Bm extends Un{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ct.string){const s=this._getOrReturnCtx(e);return mt(s,{code:Je.invalid_type,expected:Ct.string,received:s.parsedType}),Kt}const r=new Xl;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?mt(i,{code:Je.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&mt(i,{code:Je.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")bqe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"email",code:Je.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")OR||(OR=new RegExp(vqe,"u")),OR.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"emoji",code:Je.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")mqe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"uuid",code:Je.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")gqe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"nanoid",code:Je.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")hqe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"cuid",code:Je.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")fqe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"cuid2",code:Je.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")pqe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"ulid",code:Je.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),mt(i,{validation:"url",code:Je.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"regex",code:Je.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Tqe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?_qe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?Iqe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?wqe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"duration",code:Je.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?$qe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"ip",code:Je.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?Nqe(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"jwt",code:Je.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?Pqe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"cidr",code:Je.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?kqe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"base64",code:Je.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?Sqe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"base64url",code:Je.invalid_string,message:s.message}),r.dirty()):Hn.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Je.invalid_string,..._t.errToObj(r)})}_addCheck(e){return new Bm({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",..._t.errToObj(e)})}url(e){return this._addCheck({kind:"url",..._t.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",..._t.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",..._t.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",..._t.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",..._t.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",..._t.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",..._t.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",..._t.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",..._t.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",..._t.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",..._t.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",..._t.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,..._t.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,..._t.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",..._t.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,..._t.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,..._t.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,..._t.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,..._t.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,..._t.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,..._t.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,..._t.errToObj(n)})}nonempty(e){return this.min(1,_t.errToObj(e))}trim(){return new Bm({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Bm({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Bm({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Bm.create=t=>new Bm({checks:[],typeName:Zt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...xn(t)});function Rqe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return s%o/10**i}class jx extends Un{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ct.number){const s=this._getOrReturnCtx(e);return mt(s,{code:Je.invalid_type,expected:Ct.number,received:s.parsedType}),Kt}let r;const i=new Xl;for(const s of this._def.checks)s.kind==="int"?Hn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),mt(r,{code:Je.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),mt(r,{code:Je.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),mt(r,{code:Je.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Rqe(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),mt(r,{code:Je.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),mt(r,{code:Je.not_finite,message:s.message}),i.dirty()):Hn.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,_t.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_t.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_t.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_t.toString(n))}setLimit(e,n,r,i){return new jx({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:_t.toString(i)}]})}_addCheck(e){return new jx({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:_t.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_t.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_t.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_t.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_t.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_t.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:_t.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_t.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_t.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Hn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}jx.create=t=>new jx({checks:[],typeName:Zt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...xn(t)});class T8 extends Un{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ct.bigint)return this._getInvalidInput(e);let r;const i=new Xl;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),mt(r,{code:Je.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),mt(r,{code:Je.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),mt(r,{code:Je.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Hn.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return mt(n,{code:Je.invalid_type,expected:Ct.bigint,received:n.parsedType}),Kt}gte(e,n){return this.setLimit("min",e,!0,_t.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_t.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_t.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_t.toString(n))}setLimit(e,n,r,i){return new T8({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:_t.toString(i)}]})}_addCheck(e){return new T8({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_t.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_t.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_t.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_t.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_t.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}T8.create=t=>new T8({checks:[],typeName:Zt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...xn(t)});class XB extends Un{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ct.boolean){const r=this._getOrReturnCtx(e);return mt(r,{code:Je.invalid_type,expected:Ct.boolean,received:r.parsedType}),Kt}return lu(e.data)}}XB.create=t=>new XB({typeName:Zt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...xn(t)});class $_ extends Un{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ct.date){const s=this._getOrReturnCtx(e);return mt(s,{code:Je.invalid_type,expected:Ct.date,received:s.parsedType}),Kt}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return mt(s,{code:Je.invalid_date}),Kt}const r=new Xl;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Hn.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new $_({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:_t.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:_t.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}$_.create=t=>new $_({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Zt.ZodDate,...xn(t)});class LX extends Un{_parse(e){if(this._getType(e)!==Ct.symbol){const r=this._getOrReturnCtx(e);return mt(r,{code:Je.invalid_type,expected:Ct.symbol,received:r.parsedType}),Kt}return lu(e.data)}}LX.create=t=>new LX({typeName:Zt.ZodSymbol,...xn(t)});class N_ extends Un{_parse(e){if(this._getType(e)!==Ct.undefined){const r=this._getOrReturnCtx(e);return mt(r,{code:Je.invalid_type,expected:Ct.undefined,received:r.parsedType}),Kt}return lu(e.data)}}N_.create=t=>new N_({typeName:Zt.ZodUndefined,...xn(t)});class P_ extends Un{_parse(e){if(this._getType(e)!==Ct.null){const r=this._getOrReturnCtx(e);return mt(r,{code:Je.invalid_type,expected:Ct.null,received:r.parsedType}),Kt}return lu(e.data)}}P_.create=t=>new P_({typeName:Zt.ZodNull,...xn(t)});class FX extends Un{constructor(){super(...arguments),this._any=!0}_parse(e){return lu(e.data)}}FX.create=t=>new FX({typeName:Zt.ZodAny,...xn(t)});class UX extends Un{constructor(){super(...arguments),this._unknown=!0}_parse(e){return lu(e.data)}}UX.create=t=>new UX({typeName:Zt.ZodUnknown,...xn(t)});class yg extends Un{_parse(e){const n=this._getOrReturnCtx(e);return mt(n,{code:Je.invalid_type,expected:Ct.never,received:n.parsedType}),Kt}}yg.create=t=>new yg({typeName:Zt.ZodNever,...xn(t)});class zX extends Un{_parse(e){if(this._getType(e)!==Ct.undefined){const r=this._getOrReturnCtx(e);return mt(r,{code:Je.invalid_type,expected:Ct.void,received:r.parsedType}),Kt}return lu(e.data)}}zX.create=t=>new zX({typeName:Zt.ZodVoid,...xn(t)});class Bh extends Un{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Ct.array)return mt(n,{code:Je.invalid_type,expected:Ct.array,received:n.parsedType}),Kt;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(mt(n,{code:o?Je.too_big:Je.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(mt(n,{code:Je.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(mt(n,{code:Je.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new gg(n,o,n.path,a)))).then(o=>Xl.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new gg(n,o,n.path,a)));return Xl.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Bh({...this._def,minLength:{value:e,message:_t.toString(n)}})}max(e,n){return new Bh({...this._def,maxLength:{value:e,message:_t.toString(n)}})}length(e,n){return new Bh({...this._def,exactLength:{value:e,message:_t.toString(n)}})}nonempty(e){return this.min(1,e)}}Bh.create=(t,e)=>new Bh({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Zt.ZodArray,...xn(e)});function Vb(t){if(t instanceof di){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Cp.create(Vb(r))}return new di({...t._def,shape:()=>e})}else return t instanceof Bh?new Bh({...t._def,type:Vb(t.element)}):t instanceof Cp?Cp.create(Vb(t.unwrap())):t instanceof Z1?Z1.create(Vb(t.unwrap())):t instanceof Y1?Y1.create(t.items.map(e=>Vb(e))):t}class di extends Un{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Hn.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Ct.object){const c=this._getOrReturnCtx(e);return mt(c,{code:Je.invalid_type,expected:Ct.object,received:c.parsedType}),Kt}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof yg&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=s[c],h=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new gg(i,h,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof yg){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(mt(i,{code:Je.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const h=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new gg(i,h,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const h=await u.key,f=await u.value;c.push({key:h,value:f,alwaysSet:u.alwaysSet})}return c}).then(c=>Xl.mergeObjectSync(r,c)):Xl.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return _t.errToObj,new di({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,o;const i=((o=(s=this._def).errorMap)==null?void 0:o.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:_t.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new di({...this._def,unknownKeys:"strip"})}passthrough(){return new di({...this._def,unknownKeys:"passthrough"})}extend(e){return new di({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new di({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Zt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new di({...this._def,catchall:e})}pick(e){const n={};for(const r of Hn.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new di({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Hn.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new di({...this._def,shape:()=>n})}deepPartial(){return Vb(this)}partial(e){const n={};for(const r of Hn.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new di({...this._def,shape:()=>n})}required(e){const n={};for(const r of Hn.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Cp;)s=s._def.innerType;n[r]=s}return new di({...this._def,shape:()=>n})}keyof(){return Oye(Hn.objectKeys(this.shape))}}di.create=(t,e)=>new di({shape:()=>t,unknownKeys:"strip",catchall:yg.create(),typeName:Zt.ZodObject,...xn(e)});di.strictCreate=(t,e)=>new di({shape:()=>t,unknownKeys:"strict",catchall:yg.create(),typeName:Zt.ZodObject,...xn(e)});di.lazycreate=(t,e)=>new di({shape:t,unknownKeys:"strip",catchall:yg.create(),typeName:Zt.ZodObject,...xn(e)});class R_ extends Un{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Fp(a.ctx.common.issues));return mt(n,{code:Je.invalid_union,unionErrors:o}),Kt}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new Fp(l));return mt(n,{code:Je.invalid_union,unionErrors:a}),Kt}}get options(){return this._def.options}}R_.create=(t,e)=>new R_({options:t,typeName:Zt.ZodUnion,...xn(e)});const Nf=t=>t instanceof O_?Nf(t.schema):t instanceof Up?Nf(t.innerType()):t instanceof M_?[t.value]:t instanceof Q1?t.options:t instanceof D_?Hn.objectValues(t.enum):t instanceof L_?Nf(t._def.innerType):t instanceof N_?[void 0]:t instanceof P_?[null]:t instanceof Cp?[void 0,...Nf(t.unwrap())]:t instanceof Z1?[null,...Nf(t.unwrap())]:t instanceof Mye||t instanceof U_?Nf(t.unwrap()):t instanceof F_?Nf(t._def.innerType):[];class vV extends Un{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ct.object)return mt(n,{code:Je.invalid_type,expected:Ct.object,received:n.parsedType}),Kt;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(mt(n,{code:Je.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Kt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=Nf(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new vV({typeName:Zt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...xn(r)})}}function eL(t,e){const n=Q0(t),r=Q0(e);if(t===e)return{valid:!0,data:t};if(n===Ct.object&&r===Ct.object){const i=Hn.objectKeys(e),s=Hn.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=eL(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===Ct.array&&r===Ct.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=eL(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===Ct.date&&r===Ct.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class j_ extends Un{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(MX(s)||MX(o))return Kt;const a=eL(s.value,o.value);return a.valid?((DX(s)||DX(o))&&n.dirty(),{status:n.value,value:a.data}):(mt(r,{code:Je.invalid_intersection_types}),Kt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}j_.create=(t,e,n)=>new j_({left:t,right:e,typeName:Zt.ZodIntersection,...xn(n)});class Y1 extends Un{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ct.array)return mt(r,{code:Je.invalid_type,expected:Ct.array,received:r.parsedType}),Kt;if(r.data.length<this._def.items.length)return mt(r,{code:Je.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Kt;!this._def.rest&&r.data.length>this._def.items.length&&(mt(r,{code:Je.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new gg(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Xl.mergeArray(n,o)):Xl.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Y1({...this._def,rest:e})}}Y1.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Y1({items:t,typeName:Zt.ZodTuple,rest:null,...xn(e)})};class WX extends Un{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ct.map)return mt(r,{code:Je.invalid_type,expected:Ct.map,received:r.parsedType}),Kt;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new gg(r,a,r.path,[c,"key"])),value:s._parse(new gg(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Kt;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Kt;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}WX.create=(t,e,n)=>new WX({valueType:e,keyType:t,typeName:Zt.ZodMap,...xn(n)});class $8 extends Un{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ct.set)return mt(r,{code:Je.invalid_type,expected:Ct.set,received:r.parsedType}),Kt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(mt(r,{code:Je.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(mt(r,{code:Je.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Kt;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new gg(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new $8({...this._def,minSize:{value:e,message:_t.toString(n)}})}max(e,n){return new $8({...this._def,maxSize:{value:e,message:_t.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}$8.create=(t,e)=>new $8({valueType:t,minSize:null,maxSize:null,typeName:Zt.ZodSet,...xn(e)});class O_ extends Un{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}O_.create=(t,e)=>new O_({getter:t,typeName:Zt.ZodLazy,...xn(e)});class M_ extends Un{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return mt(n,{received:n.data,code:Je.invalid_literal,expected:this._def.value}),Kt}return{status:"valid",value:e.data}}get value(){return this._def.value}}M_.create=(t,e)=>new M_({value:t,typeName:Zt.ZodLiteral,...xn(e)});function Oye(t,e){return new Q1({values:t,typeName:Zt.ZodEnum,...xn(e)})}class Q1 extends Un{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return mt(n,{expected:Hn.joinValues(r),received:n.parsedType,code:Je.invalid_type}),Kt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return mt(n,{received:n.data,code:Je.invalid_enum_value,options:r}),Kt}return lu(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Q1.create(e,{...this._def,...n})}exclude(e,n=this._def){return Q1.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Q1.create=Oye;class D_ extends Un{_parse(e){const n=Hn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ct.string&&r.parsedType!==Ct.number){const i=Hn.objectValues(n);return mt(r,{expected:Hn.joinValues(i),received:r.parsedType,code:Je.invalid_type}),Kt}if(this._cache||(this._cache=new Set(Hn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Hn.objectValues(n);return mt(r,{received:r.data,code:Je.invalid_enum_value,options:i}),Kt}return lu(e.data)}get enum(){return this._def.values}}D_.create=(t,e)=>new D_({values:t,typeName:Zt.ZodNativeEnum,...xn(e)});class B_ extends Un{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ct.promise&&n.common.async===!1)return mt(n,{code:Je.invalid_type,expected:Ct.promise,received:n.parsedType}),Kt;const r=n.parsedType===Ct.promise?n.data:Promise.resolve(n.data);return lu(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}B_.create=(t,e)=>new B_({type:t,typeName:Zt.ZodPromise,...xn(e)});class Up extends Un{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Zt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{mt(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return Kt;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Kt:l.status==="dirty"||n.value==="dirty"?v6(l.value):l});{if(n.value==="aborted")return Kt;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?Kt:a.status==="dirty"||n.value==="dirty"?v6(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Kt:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Kt:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Rx(o))return Kt;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Rx(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):Kt);Hn.assertNever(i)}}Up.create=(t,e,n)=>new Up({schema:t,typeName:Zt.ZodEffects,effect:e,...xn(n)});Up.createWithPreprocess=(t,e,n)=>new Up({schema:e,effect:{type:"preprocess",transform:t},typeName:Zt.ZodEffects,...xn(n)});class Cp extends Un{_parse(e){return this._getType(e)===Ct.undefined?lu(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Cp.create=(t,e)=>new Cp({innerType:t,typeName:Zt.ZodOptional,...xn(e)});class Z1 extends Un{_parse(e){return this._getType(e)===Ct.null?lu(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Z1.create=(t,e)=>new Z1({innerType:t,typeName:Zt.ZodNullable,...xn(e)});class L_ extends Un{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ct.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}L_.create=(t,e)=>new L_({innerType:t,typeName:Zt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...xn(e)});class F_ extends Un{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return T_(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Fp(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Fp(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}F_.create=(t,e)=>new F_({innerType:t,typeName:Zt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...xn(e)});class HX extends Un{_parse(e){if(this._getType(e)!==Ct.nan){const r=this._getOrReturnCtx(e);return mt(r,{code:Je.invalid_type,expected:Ct.nan,received:r.parsedType}),Kt}return{status:"valid",value:e.data}}}HX.create=t=>new HX({typeName:Zt.ZodNaN,...xn(t)});class Mye extends Un{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class xV extends Un{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Kt:s.status==="dirty"?(n.dirty(),v6(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Kt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new xV({in:e,out:n,typeName:Zt.ZodPipeline})}}class U_ extends Un{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Rx(i)&&(i.value=Object.freeze(i.value)),i);return T_(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}U_.create=(t,e)=>new U_({innerType:t,typeName:Zt.ZodReadonly,...xn(e)});di.lazycreate;var Zt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Zt||(Zt={}));const mi=Bm.create,Dye=jx.create,jqe=XB.create;N_.create;P_.create;yg.create;const A1=Bh.create,Gs=di.create;di.strictCreate;const z_=R_.create,Bye=vV.create;j_.create;Y1.create;O_.create;const $o=M_.create,EV=Q1.create;D_.create;B_.create;Up.create;Cp.create;Z1.create;Up.createWithPreprocess;var jt,VX=((jt={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",jt.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",jt.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",jt.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",jt.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",jt.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",jt.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",jt.INVALID_DATA="invalid_data",jt.INVALID_CREDENTIALS="invalid_credentials",jt.INVALID_CAPTCHA="invalid_captcha",jt.LINKED_TO_ANOTHER_USER="linked_to_another_user",jt.ALLOWLIST_REJECTED="allowlist_rejected",jt.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",jt.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",jt.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",jt.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",jt.TOO_MANY_REQUESTS="too_many_requests",jt.RESOURCE_CONFLICT="resource_conflict",jt.INVALID_ORIGIN="invalid_origin",jt.MISSING_ORIGIN="missing_origin",jt.INVALID_NATIVE_APP_ID="invalid_native_app_id",jt.TOKEN_ALREADY_USED="token_already_used",jt.ALREADY_LOGGED_OUT="already_logged_out",jt.NOT_SUPPORTED="not_supported",jt.USER_UNSUBSCRIBED="user_unsubscribed",jt.MAX_APPS_REACHED="max_apps_reached",jt.USER_LIMIT_REACHED="max_accounts_reached",jt.DEVICE_REVOKED="device_revoked",jt.WALLET_PASSWORD_EXISTS="wallet_password_exists",jt.OAUTH_STATE_MISMATCH="oauth_state_mismatch",jt.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",jt.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",jt.DISALLOWED_LOGIN_METHOD="disallowed_login_method",jt.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",jt.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",jt.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",jt.CANNOT_SET_PASSWORD="cannot_set_password",jt.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",jt.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",jt.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",jt.USER_DOES_NOT_EXIST="user_does_not_exist",jt.ALREADY_EXISTS="resource_already_exists",jt.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",jt.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",jt.FEATURE_NOT_ENABLED="feature_not_enabled",jt.INSUFFICIENT_FUNDS="insufficient_funds",jt.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",jt.INVALID_POLICY_FORMAT="invalid_policy_format",jt.POLICY_VIOLATION="policy_violation",jt.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",jt.INVALID_REQUEST="invalid_request",jt.SIGNUP_DISABLED="signup_disabled",jt);function qX(t,e){t=t.split("-"),e=e.split("-");for(var n=t[0].split("."),r=e[0].split("."),i=0;i<3;i++){var s=Number(n[i]),o=Number(r[i]);if(s>o)return 1;if(o>s)return-1;if(!isNaN(s)&&isNaN(o))return 1;if(isNaN(s)&&!isNaN(o))return-1}return t[1]&&e[1]?t[1]>e[1]?1:t[1]<e[1]?-1:0:!t[1]&&e[1]?1:t[1]&&!e[1]?-1:0}var Oqe={}.constructor;function C1(t){return t!=null&&t.constructor===Oqe}function Ox(t){"@babel/helpers - typeof";return Ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ox(t)}function PT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mqe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dqe(r.key),r)}}function RT(t,e,n){return e&&Mqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dqe(t){var e=Bqe(t,"string");return Ox(e)=="symbol"?e:e+""}function Bqe(t,e){if(Ox(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ox(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lqe="1.2.0",Fqe="1.7.35",GX=" ext. ",Uqe=/^\d+$/,as=function(){function t(e){PT(this,t),Lye(e),this.metadata=e,Fye.call(this,e)}return RT(t,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(n){return n!=="001"})}},{key:"getCountryMetadata",value:function(n){return this.metadata.countries[n]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(n){return this.getCountryMetadata(n)!==void 0}},{key:"hasCallingCode",value:function(n){if(this.getCountryCodesForCallingCode(n))return!0;if(this.nonGeographic()){if(this.nonGeographic()[n])return!0}else{var r=this.countryCallingCodes()[n];if(r&&r.length===1&&r[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(n){return this.nonGeographic()?!!this.nonGeographic()[n]:!this.getCountryCodesForCallingCode(n)}},{key:"country",value:function(n){return this.selectNumberingPlan(n)}},{key:"selectNumberingPlan",value:function(n,r){if(n&&Uqe.test(n)&&(r=n,n=null),n&&n!=="001"){if(!this.hasCountry(n))throw new Error("Unknown country: ".concat(n));this.numberingPlan=new KX(this.getCountryMetadata(n),this)}else if(r){if(!this.hasCallingCode(r))throw new Error("Unknown calling code: ".concat(r));this.numberingPlan=new KX(this.getNumberingPlanMetadata(r),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(n){var r=this.countryCallingCodes()[n];if(r)return r.length===1&&r[0].length===3?void 0:r}},{key:"getCountryCodeForCallingCode",value:function(n){var r=this.getCountryCodesForCallingCode(n);if(r)return r[0]}},{key:"getNumberingPlanMetadata",value:function(n){var r=this.getCountryCodeForCallingCode(n);if(r)return this.getCountryMetadata(r);if(this.nonGeographic()){var i=this.nonGeographic()[n];if(i)return i}else{var s=this.countryCallingCodes()[n];if(s&&s.length===1&&s[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(n){return this.numberingPlan.type(n)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(n){return this.selectNumberingPlan(n)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])}(),KX=function(){function t(e,n){PT(this,t),this.globalMetadataObject=n,this.metadata=e,Fye.call(this,n.metadata)}return RT(t,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(n){return n[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var n=this,r=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return r.map(function(i){return new zqe(i,n)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(n){return n[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(n){if(this.hasTypes()&&YX(this.types(),n))return new Hqe(YX(this.types(),n),this)}},{key:"ext",value:function(){return this.v1||this.v2?GX:this.metadata[13]||GX}}])}(),zqe=function(){function t(e,n){PT(this,t),this._format=e,this.metadata=n}return RT(t,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!Wqe.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])}(),Wqe=/^\(?\$1\)?$/,Hqe=function(){function t(e,n){PT(this,t),this.type=e,this.metadata=n}return RT(t,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])}();function YX(t,e){switch(e){case"FIXED_LINE":return t[0];case"MOBILE":return t[1];case"TOLL_FREE":return t[2];case"PREMIUM_RATE":return t[3];case"PERSONAL_NUMBER":return t[4];case"VOICEMAIL":return t[5];case"UAN":return t[6];case"PAGER":return t[7];case"VOIP":return t[8];case"SHARED_COST":return t[9]}}function Lye(t){if(!t)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!C1(t)||!C1(t.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(C1(t)?"an object of shape: { "+Object.keys(t).join(", ")+" }":"a "+Vqe(t)+": "+t,"."))}var Vqe=function(e){return Ox(e)};function jT(t,e){if(e=new as(e),e.hasCountry(t))return e.selectNumberingPlan(t).countryCallingCode();throw new Error("Unknown country: ".concat(t))}function qqe(t,e){return e.countries.hasOwnProperty(t)}function Fye(t){var e=t.version;typeof e=="number"?(this.v1=e===1,this.v2=e===2,this.v3=e===3,this.v4=e===4):e?qX(e,Lqe)===-1?this.v2=!0:qX(e,Fqe)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function OT(t,e,n){return Gqe(t,e,void 0,n)}function Gqe(t,e,n,r){e&&(r=new as(r.metadata),r.selectNumberingPlan(e));var i=r.type(n),s=i&&i.possibleLengths()||r.possibleLengths();if(!s)return"IS_POSSIBLE";var o=t.length,a=s[0];return a===o?"IS_POSSIBLE":a>o?"TOO_SHORT":s[s.length-1]<o?"TOO_LONG":s.indexOf(o,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function Kqe(t,e,n){if(e===void 0&&(e={}),n=new as(n),e.v2){if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}else{if(!t.phone)return!1;if(t.country){if(!n.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));n.selectNumberingPlan(t.country)}else{if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}}if(n.possibleLengths())return Uye(t.phone||t.nationalNumber,t.country,n);if(t.countryCallingCode&&n.isNonGeographicCallingCode(t.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function Uye(t,e,n){switch(OT(t,e,n)){case"IS_POSSIBLE":return!0;default:return!1}}function zp(t,e){return t=t||"",new RegExp("^(?:"+e+")$").test(t)}function Yqe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Qqe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qqe(t,e){if(t){if(typeof t=="string")return QX(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QX(t,e):void 0}}function QX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Zqe=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function AV(t,e,n){if(e=e||{},!(!t.country&&!t.countryCallingCode)){n=new as(n),n.selectNumberingPlan(t.country,t.countryCallingCode);var r=e.v2?t.nationalNumber:t.phone;if(zp(r,n.nationalNumberPattern())){if(MR(r,"FIXED_LINE",n))return n.type("MOBILE")&&n.type("MOBILE").pattern()===""||!n.type("MOBILE")||MR(r,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var i=Yqe(Zqe),s;!(s=i()).done;){var o=s.value;if(MR(r,o,n))return o}}}}function MR(t,e,n){return e=n.type(e),!e||!e.pattern()||e.possibleLengths()&&e.possibleLengths().indexOf(t.length)<0?!1:zp(t,e.pattern())}function Jqe(t,e,n){if(e=e||{},n=new as(n),n.selectNumberingPlan(t.country,t.countryCallingCode),n.hasTypes())return AV(t,e,n.metadata)!==void 0;var r=e.v2?t.nationalNumber:t.phone;return zp(r,n.nationalNumberPattern())}function Xqe(t,e,n){var r=new as(n),i=r.getCountryCodesForCallingCode(t);return i?i.filter(function(s){return eGe(e,s,n)}):[]}function eGe(t,e,n){var r=new as(n);return r.selectNumberingPlan(e),r.numberingPlan.possibleLengths().indexOf(t.length)>=0}var CV=2,tGe=17,nGe=3,pa="0-9---",rGe="--",iGe="/",sGe=".",oGe=" ",aGe="()\\[\\]",lGe="~",od="".concat(rGe).concat(iGe).concat(sGe).concat(oGe).concat(aGe).concat(lGe),MT="+",cGe=new RegExp("(["+pa+"])");function zye(t,e,n,r){if(e){var i=new as(r);i.selectNumberingPlan(e,n);var s=new RegExp(i.IDDPrefix());if(t.search(s)===0){t=t.slice(t.match(s)[0].length);var o=t.match(cGe);if(!(o&&o[1]!=null&&o[1].length>0&&o[1]==="0"))return t}}}function tL(t,e){if(t&&e.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+e.numberingPlan.nationalPrefixForParsing()+")"),r=n.exec(t);if(r){var i,s,o=r.length-1,a=o>0&&r[o];if(e.nationalPrefixTransformRule()&&a)i=t.replace(n,e.nationalPrefixTransformRule()),o>1&&(s=r[1]);else{var l=r[0];i=t.slice(l.length),a&&(s=r[1])}var c;if(a){var u=t.indexOf(r[1]),h=t.slice(0,u);h===e.numberingPlan.nationalPrefix()&&(c=e.numberingPlan.nationalPrefix())}else c=r[0];return{nationalNumber:i,nationalPrefix:c,carrierCode:s}}}return{nationalNumber:t}}function uGe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=dGe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dGe(t,e){if(t){if(typeof t=="string")return ZX(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZX(t,e):void 0}}function ZX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Wye(t,e){var n=e.countries,r=e.metadata;r=new as(r);for(var i=uGe(n),s;!(s=i()).done;){var o=s.value;if(r.selectNumberingPlan(o),r.leadingDigits()){if(t&&t.search(r.leadingDigits())===0)return o}else if(AV({phone:t,country:o},void 0,r.metadata))return o}}function kV(t,e){var n=e.nationalNumber,r=e.metadata,i=r.getCountryCodesForCallingCode(t);if(i)return i.length===1?i[0]:Wye(n,{countries:i,metadata:r.metadata})}function nL(t,e,n){var r=tL(t,n),i=r.carrierCode,s=r.nationalNumber;if(s!==t){if(!hGe(t,s,n))return{nationalNumber:t};if(n.numberingPlan.possibleLengths()&&(e||(e=kV(n.numberingPlan.callingCode(),{nationalNumber:s,metadata:n})),!fGe(s,e,n)))return{nationalNumber:t}}return{nationalNumber:s,carrierCode:i}}function hGe(t,e,n){return!(zp(t,n.nationalNumberPattern())&&!zp(e,n.nationalNumberPattern()))}function fGe(t,e,n){switch(OT(t,e,n)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function Hye(t,e,n,r,i){var s=e||n?jT(e||n,i):r;if(t.indexOf(s)===0){i=new as(i),i.selectNumberingPlan(e||n,s);var o=t.slice(s.length),a=nL(o,e,i),l=a.nationalNumber,c=nL(t,e,i),u=c.nationalNumber;if(!zp(u,i.nationalNumberPattern())&&zp(l,i.nationalNumberPattern())||OT(u,e,i)==="TOO_LONG")return{countryCallingCode:s,number:o}}return{number:t}}function SV(t,e,n,r,i){if(!t)return{};var s;if(t[0]!=="+"){var o=zye(t,e||n,r,i);if(o&&o!==t)s=!0,t="+"+o;else{if(e||n||r){var a=Hye(t,e,n,r,i),l=a.countryCallingCode,c=a.number;if(l)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:l,number:c}}return{number:t}}}if(t[1]==="0")return{};i=new as(i);for(var u=2;u-1<=nGe&&u<=t.length;){var h=t.slice(1,u);if(i.hasCallingCode(h))return i.selectNumberingPlan(h),{countryCallingCodeSource:s?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:h,number:t.slice(u)};u++}return{}}function Vye(t){return t.replace(new RegExp("[".concat(od,"]+"),"g")," ").trim()}var qye=/(\$\d)/;function Gye(t,e,n){var r=n.useInternationalFormat,i=n.withNationalPrefix;n.carrierCode,n.metadata;var s=t.replace(new RegExp(e.pattern()),r?e.internationalFormat():i&&e.nationalPrefixFormattingRule()?e.format().replace(qye,e.nationalPrefixFormattingRule()):e.format());return r?Vye(s):s}var pGe=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function mGe(t,e,n){var r=new as(n);if(r.selectNumberingPlan(t,e),r.defaultIDDPrefix())return r.defaultIDDPrefix();if(pGe.test(r.IDDPrefix()))return r.IDDPrefix()}var gGe=";ext=",ob=function(e){return"([".concat(pa,"]{1,").concat(e,"})")};function Kye(t){var e="20",n="15",r="9",i="6",s="[ \\t,]*",o="[:\\.]?[ \\t,-]*",a="#?",l="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",c="(?:[x#~]|int|)",u="[- ]+",h="[ \\t]*",f="(?:,{2}|;)",p=gGe+ob(e),m=s+l+o+ob(e)+a,g=s+c+o+ob(r)+a,y=u+ob(i)+"#",w=h+f+o+ob(n)+a,v=h+"(?:,)+"+o+ob(r)+a;return p+"|"+m+"|"+g+"|"+y+"|"+w+"|"+v}var yGe="["+pa+"]{"+CV+"}",wGe="["+MT+"]{0,1}(?:["+od+"]*["+pa+"]){3,}["+od+pa+"]*",bGe=new RegExp("^["+MT+"]{0,1}(?:["+od+"]*["+pa+"]){1,2}$","i"),vGe=wGe+"(?:"+Kye()+")?",xGe=new RegExp("^"+yGe+"$|^"+vGe+"$","i");function EGe(t){return t.length>=CV&&xGe.test(t)}function AGe(t){return bGe.test(t)}function CGe(t){var e=t.number,n=t.ext;if(!e)return"";if(e[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(e).concat(n?";ext="+n:"")}var JX={formatExtension:function(e,n,r){return"".concat(e).concat(r.ext()).concat(n)}};function kGe(t,e,n,r){if(n?n=IGe({},JX,n):n=JX,r=new as(r),t.country&&t.country!=="001"){if(!r.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));r.selectNumberingPlan(t.country)}else if(t.countryCallingCode)r.selectNumberingPlan(t.countryCallingCode);else return t.phone||"";var i=r.countryCallingCode(),s=n.v2?t.nationalNumber:t.phone,o;switch(e){case"NATIONAL":return s?(o=W_(s,t.carrierCode,"NATIONAL",r,n),DR(o,t.ext,r,n.formatExtension)):"";case"INTERNATIONAL":return s?(o=W_(s,null,"INTERNATIONAL",r,n),o="+".concat(i," ").concat(o),DR(o,t.ext,r,n.formatExtension)):"+".concat(i);case"E.164":return"+".concat(i).concat(s);case"RFC3966":return CGe({number:"+".concat(i).concat(s),ext:t.ext});case"IDD":if(!n.fromCountry)return;var a=_Ge(s,t.carrierCode,i,n.fromCountry,r);return DR(a,t.ext,r,n.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(e,'"'))}}function W_(t,e,n,r,i){var s=SGe(r.formats(),t);return s?Gye(t,s,{useInternationalFormat:n==="INTERNATIONAL",withNationalPrefix:!(s.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&i&&i.nationalPrefix===!1),carrierCode:e,metadata:r}):t}function SGe(t,e){return TGe(t,function(n){if(n.leadingDigitsPatterns().length>0){var r=n.leadingDigitsPatterns()[n.leadingDigitsPatterns().length-1];if(e.search(r)!==0)return!1}return zp(e,n.pattern())})}function DR(t,e,n,r){return e?r(t,e,n):t}function _Ge(t,e,n,r,i){var s=jT(r,i.metadata);if(s===n){var o=W_(t,e,"NATIONAL",i);return n==="1"?n+" "+o:o}var a=mGe(r,void 0,i.metadata);if(a)return"".concat(a," ").concat(n," ").concat(W_(t,null,"INTERNATIONAL",i))}function IGe(){for(var t=1,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(;t<n.length;){if(n[t])for(var i in n[t])n[0][i]=n[t][i];t++}return n[0]}function TGe(t,e){for(var n=0;n<t.length;){if(e(t[n]))return t[n];n++}}function N8(t){"@babel/helpers - typeof";return N8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N8(t)}function XX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XX(Object(n),!0).forEach(function(r){$Ge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Ge(t,e,n){return(e=Yye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PGe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yye(r.key),r)}}function RGe(t,e,n){return e&&PGe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yye(t){var e=jGe(t,"string");return N8(e)=="symbol"?e:e+""}function jGe(t,e){if(N8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(N8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _V=function(){function t(e,n,r){if(NGe(this,t),!e)throw new TypeError("First argument is required");if(typeof e!="string")throw new TypeError("First argument must be a string");if(e[0]==="+"&&!n)throw new TypeError("`metadata` argument not passed");if(C1(n)&&C1(n.countries)){r=n;var i=e;if(!DGe.test(i))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var s=SV(i,void 0,void 0,void 0,r),o=s.countryCallingCode,a=s.number;if(n=a,e=o,!n)throw new Error("Invalid `number` argument passed: too short")}if(!n)throw new TypeError("`nationalNumber` argument is required");if(typeof n!="string")throw new TypeError("`nationalNumber` argument must be a string");Lye(r);var l=MGe(e,r),c=l.country,u=l.countryCallingCode;this.country=c,this.countryCallingCode=u,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return r}}return RGe(t,[{key:"setExt",value:function(n){this.ext=n}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:Xqe(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return Kqe(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return Jqe(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var n=new as(this.getMetadata());return n.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(n){return this.number===n.number&&this.ext===n.ext}},{key:"getType",value:function(){return AV(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(n,r){return kGe(this,n,r?eee(eee({},r),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(n){return this.format("NATIONAL",n)}},{key:"formatInternational",value:function(n){return this.format("INTERNATIONAL",n)}},{key:"getURI",value:function(n){return this.format("RFC3966",n)}}])}(),OGe=function(e){return/^[A-Z]{2}$/.test(e)};function MGe(t,e){var n,r,i=new as(e);return OGe(t)?(n=t,i.selectNumberingPlan(n),r=i.countryCallingCode()):r=t,{country:n,countryCallingCode:r}}var DGe=/^\+\d+$/;function rL(t){"@babel/helpers - typeof";return rL=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rL(t)}function BGe(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function LGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FGe(t,e,n){return e=R8(e),UGe(t,IV()?Reflect.construct(e,n||[],R8(t).constructor):e.apply(t,n))}function UGe(t,e){if(e&&(rL(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zGe(t)}function zGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P8(t,e)}function iL(t){var e=typeof Map=="function"?new Map:void 0;return iL=function(r){if(r===null||!VGe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return HGe(r,arguments,R8(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),P8(i,r)},iL(t)}function HGe(t,e,n){if(IV())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&P8(i,n.prototype),i}function IV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IV=function(){return!!t})()}function VGe(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function P8(t,e){return P8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},P8(t,e)}function R8(t){return R8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R8(t)}var Wf=function(t){function e(n){var r;return LGe(this,e),r=FGe(this,e,[n]),Object.setPrototypeOf(r,e.prototype),r.name=r.constructor.name,r}return WGe(e,t),BGe(e)}(iL(Error)),tee=new RegExp("(?:"+Kye()+")$","i");function qGe(t){var e=t.search(tee);if(e<0)return{};for(var n=t.slice(0,e),r=t.match(tee),i=1;i<r.length;){if(r[i])return{number:n,ext:r[i]};i++}}function GGe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=KGe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KGe(t,e){if(t){if(typeof t=="string")return nee(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nee(t,e):void 0}}function nee(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var YGe={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function Qye(t){return YGe[t]}function H_(t){for(var e="",n=GGe(t.split("")),r;!(r=n()).done;){var i=r.value,s=Qye(i);s&&(e+=s)}return e}function QGe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=ZGe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZGe(t,e){if(t){if(typeof t=="string")return ree(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ree(t,e):void 0}}function ree(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function iee(t){for(var e="",n=QGe(t.split("")),r;!(r=n()).done;){var i=r.value;e+=JGe(i,e)||""}return e}function JGe(t,e,n){return t==="+"?e?void 0:"+":Qye(t)}var Zye="+",XGe="[\\-\\.\\(\\)]?",see="(["+pa+"]|"+XGe+")",eKe="^\\"+Zye+see+"*["+pa+"]"+see+"*$",tKe=new RegExp(eKe,"g"),sL=pa,nKe="["+sL+"]+((\\-)*["+sL+"])*",rKe="a-zA-Z",iKe="["+rKe+"]+((\\-)*["+sL+"])*",sKe="^("+nKe+"\\.)*"+iKe+"\\.?$",oKe=new RegExp(sKe,"g"),oee="tel:",oL=";phone-context=",aKe=";isub=";function lKe(t){var e=t.indexOf(oL);if(e<0)return null;var n=e+oL.length;if(n>=t.length)return"";var r=t.indexOf(";",n);return r>=0?t.substring(n,r):t.substring(n)}function cKe(t){return t===null?!0:t.length===0?!1:tKe.test(t)||oKe.test(t)}function uKe(t,e){var n=e.extractFormattedPhoneNumber,r=lKe(t);if(!cKe(r))throw new Wf("NOT_A_NUMBER");var i;if(r===null)i=n(t)||"";else{i="",r.charAt(0)===Zye&&(i+=r);var s=t.indexOf(oee),o;s>=0?o=s+oee.length:o=0;var a=t.indexOf(oL);i+=t.substring(o,a)}var l=i.indexOf(aKe);if(l>0&&(i=i.substring(0,l)),i!=="")return i}var dKe=250,hKe=new RegExp("["+MT+pa+"]"),fKe=new RegExp("[^"+pa+"#]+$");function pKe(t,e,n){if(e=e||{},n=new as(n),e.defaultCountry&&!n.hasCountry(e.defaultCountry))throw e.v2?new Wf("INVALID_COUNTRY"):new Error("Unknown country: ".concat(e.defaultCountry));var r=gKe(t,e.v2,e.extract),i=r.number,s=r.ext,o=r.error;if(!i){if(e.v2)throw o==="TOO_SHORT"?new Wf("TOO_SHORT"):new Wf("NOT_A_NUMBER");return{}}var a=wKe(i,e.defaultCountry,e.defaultCallingCode,n),l=a.country,c=a.nationalNumber,u=a.countryCallingCode,h=a.countryCallingCodeSource,f=a.carrierCode;if(!n.hasSelectedNumberingPlan()){if(e.v2)throw new Wf("INVALID_COUNTRY");return{}}if(!c||c.length<CV){if(e.v2)throw new Wf("TOO_SHORT");return{}}if(c.length>tGe){if(e.v2)throw new Wf("TOO_LONG");return{}}if(e.v2){var p=new _V(u,c,n.metadata);return l&&(p.country=l),f&&(p.carrierCode=f),s&&(p.ext=s),p.__countryCallingCodeSource=h,p}var m=(e.extended?n.hasSelectedNumberingPlan():l)?zp(c,n.nationalNumberPattern()):!1;return e.extended?{country:l,countryCallingCode:u,carrierCode:f,valid:m,possible:m?!0:!!(e.extended===!0&&n.possibleLengths()&&Uye(c,l,n)),phone:c,ext:s}:m?yKe(l,c,s):{}}function mKe(t,e,n){if(t){if(t.length>dKe){if(n)throw new Wf("TOO_LONG");return}if(e===!1)return t;var r=t.search(hKe);if(!(r<0))return t.slice(r).replace(fKe,"")}}function gKe(t,e,n){var r=uKe(t,{extractFormattedPhoneNumber:function(o){return mKe(o,n,e)}});if(!r)return{};if(!EGe(r))return AGe(r)?{error:"TOO_SHORT"}:{};var i=qGe(r);return i.ext?i:{number:r}}function yKe(t,e,n){var r={country:t,phone:e};return n&&(r.ext=n),r}function wKe(t,e,n,r){var i=SV(iee(t),void 0,e,n,r.metadata),s=i.countryCallingCodeSource,o=i.countryCallingCode,a=i.number,l;if(o)r.selectNumberingPlan(o);else if(a&&(e||n))r.selectNumberingPlan(e,n),e&&(l=e),o=n||jT(e,r.metadata);else return{};if(!a)return{countryCallingCodeSource:s,countryCallingCode:o};var c=nL(iee(a),l,r),u=c.nationalNumber,h=c.carrierCode,f=kV(o,{nationalNumber:u,metadata:r});return f&&(l=f,f==="001"||r.selectNumberingPlan(l)),{country:l,countryCallingCode:o,countryCallingCodeSource:s,nationalNumber:u,carrierCode:h}}function j8(t){"@babel/helpers - typeof";return j8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j8(t)}function aee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aee(Object(n),!0).forEach(function(r){bKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aee(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bKe(t,e,n){return(e=vKe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vKe(t){var e=xKe(t,"string");return j8(e)=="symbol"?e:e+""}function xKe(t,e){if(j8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(j8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EKe(t,e,n){return pKe(t,lee(lee({},e),{},{v2:!0}),n)}function O8(t){"@babel/helpers - typeof";return O8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O8(t)}function cee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AKe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cee(Object(n),!0).forEach(function(r){CKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cee(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CKe(t,e,n){return(e=kKe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kKe(t){var e=SKe(t,"string");return O8(e)=="symbol"?e:e+""}function SKe(t,e){if(O8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(O8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Ke(t,e){return NKe(t)||$Ke(t,e)||TKe(t,e)||IKe()}function IKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TKe(t,e){if(t){if(typeof t=="string")return uee(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uee(t,e):void 0}}function uee(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function $Ke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function NKe(t){if(Array.isArray(t))return t}function PKe(t){var e=Array.prototype.slice.call(t),n=_Ke(e,4),r=n[0],i=n[1],s=n[2],o=n[3],a,l,c;if(typeof r=="string")a=r;else throw new TypeError("A text for parsing must be a string.");if(!i||typeof i=="string")o?(l=s,c=o):(l=void 0,c=s),i&&(l=AKe({defaultCountry:i},l));else if(C1(i))s?(l=i,c=s):c=i;else throw new Error("Invalid second argument: ".concat(i));return{text:a,options:l,metadata:c}}function M8(t){"@babel/helpers - typeof";return M8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M8(t)}function dee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dee(Object(n),!0).forEach(function(r){RKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dee(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RKe(t,e,n){return(e=jKe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jKe(t){var e=OKe(t,"string");return M8(e)=="symbol"?e:e+""}function OKe(t,e){if(M8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(M8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MKe(t,e,n){e&&e.defaultCountry&&!qqe(e.defaultCountry,n)&&(e=hee(hee({},e),{},{defaultCountry:void 0}));try{return EKe(t,e,n)}catch(r){if(!(r instanceof Wf))throw r}}function D8(t){"@babel/helpers - typeof";return D8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D8(t)}function fee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fee(Object(n),!0).forEach(function(r){DKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fee(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DKe(t,e,n){return(e=BKe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BKe(t){var e=LKe(t,"string");return D8(e)=="symbol"?e:e+""}function LKe(t,e){if(D8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(D8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FKe(){var t=PKe(arguments),e=t.text,n=t.options,r=t.metadata;n=pee(pee({},n),{},{extract:!1});var i=MKe(e,n,r);return i&&i.isPossible()||!1}function B8(t){"@babel/helpers - typeof";return B8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B8(t)}function UKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zKe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HKe(r.key),r)}}function WKe(t,e,n){return e&&zKe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HKe(t){var e=VKe(t,"string");return B8(e)=="symbol"?e:e+""}function VKe(t,e){if(B8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(B8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qKe=function(){function t(e){var n=e.onCountryChange,r=e.onCallingCodeChange;UKe(this,t),this.onCountryChange=n,this.onCallingCodeChange=r}return WKe(t,[{key:"reset",value:function(n){var r=n.country,i=n.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(r,i)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberIsModified=!1,this.nationalPrefix=void 0,this.carrierCode=void 0,this.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix=void 0}},{key:"update",value:function(n){for(var r=0,i=Object.keys(n);r<i.length;r++){var s=i[r];this[s]=n[s]}}},{key:"initCountryAndCallingCode",value:function(n,r){this.setCountry(n),this.setCallingCode(r)}},{key:"setCountry",value:function(n){this.country=n,this.onCountryChange(n)}},{key:"setCallingCode",value:function(n){this.callingCode=n,this.onCallingCodeChange(n,this.country)}},{key:"startInternationalNumber",value:function(n,r){this.international=!0,this.initCountryAndCallingCode(n,r)}},{key:"appendDigits",value:function(n){this.digits+=n}},{key:"appendNationalSignificantNumberDigits",value:function(n){this.nationalSignificantNumber+=n}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])}();function GKe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=KKe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KKe(t,e){if(t){if(typeof t=="string")return mee(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mee(t,e):void 0}}function mee(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Nu="x",BR=new RegExp(Nu);function M9(t,e){if(e<1)return"";for(var n="";e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function gee(t,e){return t[e]===")"&&e++,YKe(t.slice(0,e))}function YKe(t){for(var e=[],n=0;n<t.length;)t[n]==="("?e.push(n):t[n]===")"&&e.pop(),n++;var r=0,i="";e.push(t.length);for(var s=0,o=e;s<o.length;s++){var a=o[s];i+=t.slice(r,a),r=a+1}return i}function QKe(t,e,n){for(var r=GKe(n.split("")),i;!(i=r()).done;){var s=i.value;if(t.slice(e+1).search(BR)<0)return;e=t.search(BR),t=t.replace(BR,s)}return[t,e]}function ZKe(t,e,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix,o=new RegExp("^(?:".concat(e.pattern(),")$"));if(o.test(t.nationalSignificantNumber))return XKe(t,e,{metadata:r,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:s})}function JKe(t,e,n){return OT(t,e,n)==="IS_POSSIBLE"}function XKe(t,e,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix;if(t.nationalSignificantNumber,t.international,t.nationalPrefix,t.carrierCode,i(e)){var o=yee(t,e,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:s,metadata:r});if(o)return o}return yee(t,e,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:s,metadata:r})}function yee(t,e,n){var r=n.metadata,i=n.useNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix,o=Gye(t.nationalSignificantNumber,e,{carrierCode:t.carrierCode,useInternationalFormat:t.international,withNationalPrefix:i,metadata:r});if(i||(t.nationalPrefix?o=t.nationalPrefix+s(e)+o:t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix&&(o=t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix+" "+o)),eYe(o,t))return o}function eYe(t,e){return H_(t)===e.getNationalDigits()}function L8(t){"@babel/helpers - typeof";return L8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L8(t)}function tYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nYe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iYe(r.key),r)}}function rYe(t,e,n){return e&&nYe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iYe(t){var e=sYe(t,"string");return L8(e)=="symbol"?e:e+""}function sYe(t,e){if(L8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(L8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oYe=function(){function t(){tYe(this,t)}return rYe(t,[{key:"parse",value:function(n){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(n),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var r=this.context[0],i=r.branches,s=r.instructions;if(i)return{op:"|",args:i.concat([LR(s)])};if(s.length===0)throw new Error("Pattern is required");return s.length===1?s[0]:s}},{key:"startContext",value:function(n){this.context.push(n)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(n){if(!n)throw new Error("Pattern is required");var r=n.match(cYe);if(!r){if(lYe.test(n))throw new Error("Illegal characters found in a pattern: ".concat(n));this.getContext().instructions=this.getContext().instructions.concat(n.split(""));return}var i=r[1],s=n.slice(0,r.index),o=n.slice(r.index+i.length);switch(i){case"(?:":s&&this.parsePattern(s),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(s&&this.parsePattern(s),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var a=this.getContext(),l=a.branches;l.push(LR(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:l});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(s&&this.parsePattern(s),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(LR(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":s&&this.parsePattern(s),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:aYe(s)});break;default:throw new Error("Unknown operator: ".concat(i))}o&&this.parsePattern(o)}}])}();function aYe(t){for(var e=[],n=0;n<t.length;){if(t[n]==="-"){if(n===0||n===t.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(t));for(var r=t[n-1].charCodeAt(0)+1,i=t[n+1].charCodeAt(0)-1,s=r;s<=i;)e.push(String.fromCharCode(s)),s++}else e.push(t[n]);n++}return e}var lYe=/[\(\)\[\]\?\:\|]/,cYe=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function LR(t){return t.length===1?t[0]:t}function wee(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=uYe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uYe(t,e){if(t){if(typeof t=="string")return bee(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bee(t,e):void 0}}function bee(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function F8(t){"@babel/helpers - typeof";return F8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F8(t)}function dYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hYe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pYe(r.key),r)}}function fYe(t,e,n){return e&&hYe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pYe(t){var e=mYe(t,"string");return F8(e)=="symbol"?e:e+""}function mYe(t,e){if(F8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(F8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gYe=function(){function t(e){dYe(this,t),this.matchTree=new oYe().parse(e)}return fYe(t,[{key:"match",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.allowOverflow;if(!n)throw new Error("String is required");var s=aL(n.split(""),this.matchTree,!0);if(s&&s.match&&delete s.matchedChars,!(s&&s.overflow&&!i))return s}}])}();function aL(t,e,n){if(typeof e=="string"){var r=t.join("");return e.indexOf(r)===0?t.length===e.length?{match:!0,matchedChars:t}:{partialMatch:!0}:r.indexOf(e)===0?n&&t.length>e.length?{overflow:!0}:{match:!0,matchedChars:t.slice(0,e.length)}:void 0}if(Array.isArray(e)){for(var i=t.slice(),s=0;s<e.length;){var o=e[s],a=aL(i,o,n&&s===e.length-1);if(a){if(a.overflow)return a;if(a.match){if(i=i.slice(a.matchedChars.length),i.length===0)return s===e.length-1?{match:!0,matchedChars:t}:{partialMatch:!0}}else{if(a.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(a,null,2)))}}else return;s++}return n?{overflow:!0}:{match:!0,matchedChars:t.slice(0,t.length-i.length)}}switch(e.op){case"|":for(var l,c=wee(e.args),u;!(u=c()).done;){var h=u.value,f=aL(t,h,n);if(f){if(f.overflow)return f;if(f.match)return{match:!0,matchedChars:f.matchedChars};if(f.partialMatch)l=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(f,null,2)))}}return l?{partialMatch:!0}:void 0;case"[]":for(var p=wee(e.args),m;!(m=p()).done;){var g=m.value;if(t[0]===g)return t.length===1?{match:!0,matchedChars:t}:n?{overflow:!0}:{match:!0,matchedChars:[g]}}return;default:throw new Error("Unsupported instruction tree: ".concat(e))}}function U8(t){"@babel/helpers - typeof";return U8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U8(t)}function vee(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=yYe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yYe(t,e){if(t){if(typeof t=="string")return xee(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xee(t,e):void 0}}function xee(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function wYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bYe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xYe(r.key),r)}}function vYe(t,e,n){return e&&bYe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xYe(t){var e=EYe(t,"string");return U8(e)=="symbol"?e:e+""}function EYe(t,e){if(U8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(U8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lL="9",AYe=15,CYe=M9(lL,AYe),kYe=/[- ]/,SYe=function(){return/\[([^\[\]])*\]/g},_Ye=function(){return/\d(?=[^,}][^,}])/g},IYe=new RegExp("["+od+"]*\\$1["+od+"]*(\\$\\d["+od+"]*)*$"),Eee=3,TYe=function(){function t(e){e.state;var n=e.metadata;wYe(this,t),this.metadata=n,this.resetFormat()}return vYe(t,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(n,r){this.resetFormat(),n?(this.isNANP=n.callingCode()==="1",this.matchingFormats=n.formats(),r.nationalSignificantNumber&&this.narrowDownMatchingFormats(r)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(n,r){var i=this;if(JKe(r.nationalSignificantNumber,r.country,this.metadata))for(var s=vee(this.matchingFormats),o;!(o=s()).done;){var a=o.value,l=ZKe(r,a,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(u){return i.shouldTryNationalPrefixFormattingRule(u,{international:r.international,nationalPrefix:r.nationalPrefix})},getSeparatorAfterNationalPrefix:function(u){return i.getSeparatorAfterNationalPrefix(u)}});if(l)return this.resetFormat(),this.chosenFormat=a,this.setNationalNumberTemplate(l.replace(/\d/g,Nu),r),this.populatedNationalNumberTemplate=l,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(Nu),l}return this.formatNationalNumberWithNextDigits(n,r)}},{key:"formatNationalNumberWithNextDigits",value:function(n,r){var i=this.chosenFormat,s=this.chooseFormat(r);if(s)return s===i?this.formatNextNationalNumberDigits(n):this.formatNextNationalNumberDigits(r.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(n){var r=this,i=n.nationalSignificantNumber,s=n.nationalPrefix,o=n.international,a=i,l=a.length-Eee;l<0&&(l=0),this.matchingFormats=this.matchingFormats.filter(function(c){return r.formatSuits(c,o,s)&&r.formatMatches(c,a,l)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(n,r,i){return!(i&&!n.usesNationalPrefix()&&!n.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!r&&!i&&n.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(n,r,i){var s=n.leadingDigitsPatterns().length;if(s===0)return!0;i=Math.min(i,s-1);var o=n.leadingDigitsPatterns()[i];if(r.length<Eee)try{return new gYe(o).match(r,{allowOverflow:!0})!==void 0}catch(a){return console.error(a),!0}return new RegExp("^(".concat(o,")")).test(r)}},{key:"getFormatFormat",value:function(n,r){return r?n.internationalFormat():n.format()}},{key:"chooseFormat",value:function(n){for(var r=this,i=function(){var c=a.value;return r.chosenFormat===c?0:IYe.test(r.getFormatFormat(c,n.international))?r.createTemplateForFormat(c,n)?(r.chosenFormat=c,0):(r.matchingFormats=r.matchingFormats.filter(function(u){return u!==c}),1):1},s,o=vee(this.matchingFormats.slice()),a;!(a=o()).done&&(s=i(),s!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(n,r){if(!(n.pattern().indexOf("|")>=0)){var i=this.getTemplateForFormat(n,r);if(i)return this.setNationalNumberTemplate(i,r),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(n){return this.isNANP||n&&n.nationalPrefixFormattingRule()&&kYe.test(n.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(n,r){var i=n.IDDPrefix,s=n.missingPlus;return i?r&&r.spacing===!1?i:i+" ":s?"":"+"}},{key:"getTemplate",value:function(n){if(this.template){for(var r=-1,i=0,s=n.international?this.getInternationalPrefixBeforeCountryCallingCode(n,{spacing:!1}):"";i<s.length+n.getDigitsWithoutInternationalPrefix().length;)r=this.template.indexOf(Nu,r+1),i++;return gee(this.template,r+1)}}},{key:"setNationalNumberTemplate",value:function(n,r){this.nationalNumberTemplate=n,this.populatedNationalNumberTemplate=n,this.populatedNationalNumberTemplatePosition=-1,r.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(r).replace(/[\d\+]/g,Nu)+M9(Nu,r.callingCode.length)+" "+n:this.template=n}},{key:"getTemplateForFormat",value:function(n,r){var i=r.nationalSignificantNumber,s=r.international,o=r.nationalPrefix,a=r.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,l=n.pattern();l=l.replace(SYe(),"\\d").replace(_Ye(),"\\d");var c=CYe.match(l)[0];if(!(i.length>c.length)){var u=new RegExp("^"+l+"$"),h=i.replace(/\d/g,lL);u.test(h)&&(c=h);var f=this.getFormatFormat(n,s),p;if(this.shouldTryNationalPrefixFormattingRule(n,{international:s,nationalPrefix:o})){var m=f.replace(qye,n.nationalPrefixFormattingRule());if(H_(n.nationalPrefixFormattingRule())===(o||"")+H_("$1")&&(f=m,p=!0,o))for(var g=o.length;g>0;)f=f.replace(/\d/,Nu),g--}var y=c.replace(new RegExp(l),f).replace(new RegExp(lL,"g"),Nu);return p||(a?y=M9(Nu,a.length)+" "+y:o&&(y=M9(Nu,o.length)+this.getSeparatorAfterNationalPrefix(n)+y)),s&&(y=Vye(y)),y}}},{key:"formatNextNationalNumberDigits",value:function(n){var r=QKe(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,n);if(!r){this.resetFormat();return}return this.populatedNationalNumberTemplate=r[0],this.populatedNationalNumberTemplatePosition=r[1],gee(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(n,r){var i=r.international,s=r.nationalPrefix;if(n.nationalPrefixFormattingRule()){var o=n.usesNationalPrefix();if(o&&s||!o&&!i)return!0}}}])}();function z8(t){"@babel/helpers - typeof";return z8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z8(t)}function Jye(t,e){return RYe(t)||PYe(t,e)||NYe(t,e)||$Ye()}function $Ye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NYe(t,e){if(t){if(typeof t=="string")return Aee(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Aee(t,e):void 0}}function Aee(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function PYe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function RYe(t){if(Array.isArray(t))return t}function jYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OYe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DYe(r.key),r)}}function MYe(t,e,n){return e&&OYe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DYe(t){var e=BYe(t,"string");return z8(e)=="symbol"?e:e+""}function BYe(t,e){if(z8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(z8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LYe="["+od+pa+"]+",FYe=new RegExp("^"+LYe+"$","i"),UYe="(?:["+MT+"]["+od+pa+"]*|["+od+pa+"]+)",zYe=new RegExp("[^"+od+pa+"]+.*$"),WYe=/[^\d\[\]]/,HYe=function(){function t(e){var n=e.defaultCountry,r=e.defaultCallingCode,i=e.metadata,s=e.onNationalSignificantNumberChange;jYe(this,t),this.defaultCountry=n,this.defaultCallingCode=r,this.metadata=i,this.onNationalSignificantNumberChange=s}return MYe(t,[{key:"input",value:function(n,r){var i=GYe(n),s=Jye(i,2),o=s[0],a=s[1],l=H_(o),c;return a&&(r.digits||(r.startInternationalNumber(void 0,void 0),l||(c=!0))),l&&this.inputDigits(l,r),{digits:l,justLeadingPlus:c}}},{key:"inputDigits",value:function(n,r){var i=r.digits,s=i.length<3&&i.length+n.length>=3;if(r.appendDigits(n),s&&this.extractIddPrefix(r),this.isWaitingForCountryCallingCode(r)){if(!this.extractCountryCallingCode(r))return}else r.appendNationalSignificantNumberDigits(n);r.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(r.getNationalDigits(),function(o){return r.update(o)})}},{key:"isWaitingForCountryCallingCode",value:function(n){var r=n.international,i=n.callingCode;return r&&!i}},{key:"extractCountryCallingCode",value:function(n){var r=SV("+"+n.getDigitsWithoutInternationalPrefix(),n.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=r.countryCallingCode,s=r.number;if(i)return n.setCallingCode(i),n.update({nationalSignificantNumber:s}),!0}},{key:"reset",value:function(n){if(n){this.hasSelectedNumberingPlan=!0;var r=n._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=r&&WYe.test(r)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(n,r){if(this.hasSelectedNumberingPlan){var i=tL(n,this.metadata),s=i.nationalPrefix,o=i.nationalNumber,a=i.carrierCode;if(o!==n)return this.onExtractedNationalNumber(s,a,o,n,r),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(n,r,i){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(n,i);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var s=tL(n,this.metadata),o=s.nationalPrefix,a=s.nationalNumber,l=s.carrierCode;if(a!==r)return this.onExtractedNationalNumber(o,l,a,n,i),!0}}},{key:"onExtractedNationalNumber",value:function(n,r,i,s,o){var a=!1,l,c=s.lastIndexOf(i);if(c<0||c!==s.length-i.length)a=!0;else{var u=s.slice(0,c);u&&u!==n&&(l=u)}o({nationalPrefix:n,carrierCode:r,nationalSignificantNumber:i,nationalSignificantNumberIsModified:a,prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix:l}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(n){if(this.extractAnotherNationalSignificantNumber(n.getNationalDigits(),n.nationalSignificantNumber,function(r){return n.update(r)}))return!0;if(this.extractIddPrefix(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0;if(this.fixMissingPlus(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0}},{key:"extractIddPrefix",value:function(n){var r=n.international,i=n.IDDPrefix,s=n.digits;if(n.nationalSignificantNumber,!(r||i)){var o=zye(s,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(o!==void 0&&o!==s)return n.update({IDDPrefix:s.slice(0,s.length-o.length)}),this.startInternationalNumber(n,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(n){if(!n.international){var r=Hye(n.digits,n.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=r.countryCallingCode;if(i)return n.update({missingPlus:!0}),this.startInternationalNumber(n,{country:n.country,callingCode:i}),!0}}},{key:"startInternationalNumber",value:function(n,r){var i=r.country,s=r.callingCode;n.startInternationalNumber(i,s),n.nationalSignificantNumber&&(n.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(n){this.extractCountryCallingCode(n)&&this.extractNationalSignificantNumber(n.getNationalDigits(),function(r){return n.update(r)})}}])}();function VYe(t){var e=t.search(UYe);if(!(e<0)){t=t.slice(e);var n;return t[0]==="+"&&(n=!0,t=t.slice(1)),t=t.replace(zYe,""),n&&(t="+"+t),t}}function qYe(t){var e=VYe(t)||"";return e[0]==="+"?[e.slice(1),!0]:[e]}function GYe(t){var e=qYe(t),n=Jye(e,2),r=n[0],i=n[1];return FYe.test(r)||(r=""),[r,i]}function W8(t){"@babel/helpers - typeof";return W8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W8(t)}function KYe(t,e){return JYe(t)||ZYe(t,e)||QYe(t,e)||YYe()}function YYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QYe(t,e){if(t){if(typeof t=="string")return Cee(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cee(t,e):void 0}}function Cee(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ZYe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function JYe(t){if(Array.isArray(t))return t}function XYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eQe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nQe(r.key),r)}}function tQe(t,e,n){return e&&eQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nQe(t){var e=rQe(t,"string");return W8(e)=="symbol"?e:e+""}function rQe(t,e){if(W8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(W8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xye=function(){function t(e,n){XYe(this,t),this.metadata=new as(n);var r=this.getCountryAndCallingCode(e),i=KYe(r,2),s=i[0],o=i[1];this.defaultCountry=s,this.defaultCallingCode=o,this.reset()}return tQe(t,[{key:"getCountryAndCallingCode",value:function(n){var r,i;return n&&(C1(n)?(r=n.defaultCountry,i=n.defaultCallingCode):r=n),r&&!this.metadata.hasCountry(r)&&(r=void 0),[r,i]}},{key:"input",value:function(n){var r=this.parser.input(n,this.state),i=r.digits,s=r.justLeadingPlus;if(s)this.formattedOutput="+";else if(i){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var o;if(this.metadata.hasSelectedNumberingPlan()&&(o=this.formatter.format(i,this.state)),o===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var a=this.state.getNationalDigits();a&&(o=this.formatter.format(a,this.state))}this.formattedOutput=o?this.getFullNumber(o):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var n=this;return this.state=new qKe({onCountryChange:function(i){n.country=i},onCallingCodeChange:function(i,s){n.metadata.selectNumberingPlan(s,i),n.formatter.reset(n.metadata.numberingPlan,n.state),n.parser.reset(n.metadata.numberingPlan)}}),this.formatter=new TYe({state:this.state,metadata:this.metadata}),this.parser=new HYe({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){n.determineTheCountryIfNeeded(),n.formatter.reset(n.metadata.numberingPlan,n.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var n=this.state.digits;if(n)return this._getCountry()}},{key:"_getCountry",value:function(){var n=this.state.country;return n}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(n){var r=this;if(this.isInternational()){var i=function(a){return r.formatter.getInternationalPrefixBeforeCountryCallingCode(r.state,{spacing:!!a})+a},s=this.state.callingCode;return i(s?n?"".concat(s," ").concat(n):s:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return n}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var n=this.state,r=n.nationalSignificantNumber,i=n.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,s=n.nationalPrefix,o=r,a=i||s;return a&&(o=a+o),o}},{key:"getNonFormattedNumber",value:function(){var n=this.state.nationalSignificantNumberIsModified;return this.getFullNumber(n?this.state.getNationalDigits():this.getNonFormattedNationalNumberWithPrefix())}},{key:"getNonFormattedTemplate",value:function(){var n=this.getNonFormattedNumber();if(n)return n.replace(/[\+\d]/g,Nu)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var n=this.state.callingCode,r=this.metadata.getCountryCodesForCallingCode(n);return r&&r.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(kV(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var n=this.state,r=n.digits,i=n.callingCode,s=n.country,o=n.nationalSignificantNumber;if(r){if(this.isInternational())return i?"+"+i+o:"+"+r;if(s||i){var a=s?this.metadata.countryCallingCode():i;return"+"+a+o}}}},{key:"getNumber",value:function(){var n=this.state,r=n.nationalSignificantNumber,i=n.carrierCode,s=n.callingCode,o=this._getCountry();if(r&&!(!o&&!s)){if(o&&o===this.defaultCountry){var a=new as(this.metadata.metadata);a.selectNumberingPlan(o);var l=a.numberingPlan.callingCode(),c=this.metadata.getCountryCodesForCallingCode(l);if(c.length>1){var u=Wye(r,{countries:c,metadata:this.metadata.metadata});u&&(o=u)}}var h=new _V(o||s,r,this.metadata.metadata);return i&&(h.carrierCode=i),h}}},{key:"isPossible",value:function(){var n=this.getNumber();return n?n.isPossible():!1}},{key:"isValid",value:function(){var n=this.getNumber();return n?n.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])}();function iQe(t){return new as(t).getCountries()}function sQe(t,e,n){if(e[t])return new _V(t,e[t],n)}function DT(t,{method:e}){var r,i;const n={};return t.transport.type==="fallback"&&((i=(r=t.transport).onResponse)==null||i.call(r,({method:s,response:o,status:a,transport:l})=>{a==="success"&&e===s&&(n[o]=l.request)})),s=>n[s]||t.request}async function e1e(t,e){const{address:n,abi:r,args:i,eventName:s,fromBlock:o,strict:a,toBlock:l}=e,c=DT(t,{method:"eth_newFilter"}),u=s?PA({abi:r,args:i,eventName:s}):void 0,h=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?$t(o):o,toBlock:typeof l=="bigint"?$t(l):l,topics:u}]});return{abi:r,args:i,eventName:s,id:h,request:c(h),strict:!!a,type:"event"}}class oQe extends ze{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class TV extends ze{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class aQe extends ze{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Qa(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class t1e extends ze{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}async function _h(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:i}={}){var c,u,h;const s=i??!1,o=n!==void 0?$t(n):void 0;let a=null;if(e?a=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):a=await t.request({method:"eth_getBlockByNumber",params:[o||r,s]},{dedupe:!!o}),!a)throw new t1e({blockHash:e,blockNumber:n});return(((h=(u=(c=t.chain)==null?void 0:c.formatters)==null?void 0:u.block)==null?void 0:h.format)||Jge)(a,"getBlock")}async function $V(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function lQe(t,e){return n1e(t,e)}async function n1e(t,e){var s,o;const{block:n,chain:r=t.chain,request:i}=e||{};try{const a=((s=r==null?void 0:r.fees)==null?void 0:s.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const c=n||await Pt(t,_h,"getBlock")({}),u=await a({block:c,client:t,request:i});if(u===null)throw new Error;return u}if(typeof a<"u")return a;const l=await t.request({method:"eth_maxPriorityFeePerGas"});return Zl(l)}catch{const[a,l]=await Promise.all([n?Promise.resolve(n):Pt(t,_h,"getBlock")({}),Pt(t,$V,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new TV;const c=l-a.baseFeePerGas;return c<0n?0n:c}}async function cQe(t,e){return cL(t,e)}async function cL(t,e){var f,p;const{block:n,chain:r=t.chain,request:i,type:s="eip1559"}=e||{},o=await(async()=>{var m,g;return typeof((m=r==null?void 0:r.fees)==null?void 0:m.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)??1.2})();if(o<1)throw new oQe;const l=10**(((f=o.toString().split(".")[1])==null?void 0:f.length)??0),c=m=>m*BigInt(Math.ceil(o*l))/BigInt(l),u=n||await Pt(t,_h,"getBlock")({});if(typeof((p=r==null?void 0:r.fees)==null?void 0:p.estimateFeesPerGas)=="function"){const m=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:c,request:i,type:s});if(m!==null)return m}if(s==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new TV;const m=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await n1e(t,{block:u,chain:r,request:i}),g=c(u.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??g+m,maxPriorityFeePerGas:m}}return{gasPrice:(i==null?void 0:i.gasPrice)??c(await Pt(t,$V,"getGasPrice")({}))}}async function D3(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return pd(e)}const r1e=["blobVersionedHashes","chainId","fees","gas","nonce","type"],kee=new Map;async function BT(t,e){const{account:n=t.account,blobs:r,chain:i,gas:s,kzg:o,nonce:a,nonceManager:l,parameters:c=r1e,type:u}=e,h=n&&Oi(n),f={...e,...h?{from:h==null?void 0:h.address}:{}};let p;async function m(){return p||(p=await Pt(t,_h,"getBlock")({blockTag:"latest"}),p)}let g;async function y(){return g||(i?i.id:typeof e.chainId<"u"?e.chainId:(g=await Pt(t,D3,"getChainId")({}),g))}if(c.includes("nonce")&&typeof a>"u"&&h)if(l){const w=await y();f.nonce=await l.consume({address:h.address,chainId:w,client:t})}else f.nonce=await Pt(t,dV,"getTransactionCount")({address:h.address,blockTag:"pending"});if((c.includes("blobVersionedHashes")||c.includes("sidecars"))&&r&&o){const w=mge({blobs:r,kzg:o});if(c.includes("blobVersionedHashes")){const v=dze({commitments:w,to:"hex"});f.blobVersionedHashes=v}if(c.includes("sidecars")){const v=gge({blobs:r,commitments:w,kzg:o}),b=mze({blobs:r,commitments:w,proofs:v,to:"hex"});f.sidecars=b}}if(c.includes("chainId")&&(f.chainId=await y()),(c.includes("fees")||c.includes("type"))&&typeof u>"u")try{f.type=bze(f)}catch{let w=kee.get(t.uid);if(typeof w>"u"){const v=await m();w=typeof(v==null?void 0:v.baseFeePerGas)=="bigint",kee.set(t.uid,w)}f.type=w?"eip1559":"legacy"}if(c.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const w=await m(),{maxFeePerGas:v,maxPriorityFeePerGas:b}=await cL(t,{block:w,chain:i,request:f});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<b)throw new aQe({maxPriorityFeePerGas:b});f.maxPriorityFeePerGas=b,f.maxFeePerGas=v}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new TV;if(typeof e.gasPrice>"u"){const w=await m(),{gasPrice:v}=await cL(t,{block:w,chain:i,request:f,type:"legacy"});f.gasPrice=v}}return c.includes("gas")&&typeof s>"u"&&(f.gas=await Pt(t,NV,"estimateGas")({...f,account:h&&{address:h.address,type:"json-rpc"}})),Pw(f),delete f.parameters,f}async function NV(t,e){var i,s,o;const{account:n=t.account}=e,r=n?Oi(n):void 0;try{const{accessList:a,authorizationList:l,blobs:c,blobVersionedHashes:u,blockNumber:h,blockTag:f,data:p,gas:m,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:b,value:A,stateOverride:E,...$}=await BT(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),R=(typeof h=="bigint"?$t(h):void 0)||f,j=uV(E),F=await(async()=>{if($.to)return $.to;if(l&&l.length>0)return await eV({authorization:l[0]}).catch(()=>{throw new ze("`to` is required. Could not infer from `authorizationList`")})})();Pw(e);const W=(o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionRequest)==null?void 0:o.format,B=(W||M3)({...IT($,{format:W}),from:r==null?void 0:r.address,accessList:a,authorizationList:l,blobs:c,blobVersionedHashes:u,data:p,gas:m,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:b,to:F,value:A},"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:j?[B,R??t.experimental_blockTag??"latest",j]:R?[B,R]:[B]}))}catch(a){throw kWe(a,{...e,account:r,chain:t.chain})}}async function uQe(t,e){const{abi:n,address:r,args:i,functionName:s,dataSuffix:o,...a}=e,l=ol({abi:n,args:i,functionName:s});try{return await Pt(t,NV,"estimateGas")({data:`${l}${o?o.replace("0x",""):""}`,to:r,...a})}catch(c){const u=a.account?Oi(a.account):void 0;throw K1(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:u==null?void 0:u.address})}}async function PV(t,{address:e,blockHash:n,fromBlock:r,toBlock:i,event:s,events:o,args:a,strict:l}={}){const c=l??!1,u=o??(s?[s]:void 0);let h=[];u&&(h=[u.flatMap(g=>PA({abi:[g],eventName:g.name,args:o?void 0:a}))],s&&(h=h[0]));let f;n?f=await t.request({method:"eth_getLogs",params:[{address:e,topics:h,blockHash:n}]}):f=await t.request({method:"eth_getLogs",params:[{address:e,topics:h,fromBlock:typeof r=="bigint"?$t(r):r,toBlock:typeof i=="bigint"?$t(i):i}]});const p=f.map(m=>Lp(m));return u?XH({abi:u,args:a,logs:p,strict:c}):p}async function i1e(t,e){const{abi:n,address:r,args:i,blockHash:s,eventName:o,fromBlock:a,toBlock:l,strict:c}=e,u=o?Tw({abi:n,name:o}):void 0,h=u?void 0:n.filter(f=>f.type==="event");return Pt(t,PV,"getLogs")({address:r,args:i,blockHash:s,event:u,events:h,fromBlock:a,toBlock:l,strict:c})}async function bd(t,e){const{abi:n,address:r,args:i,functionName:s,...o}=e,a=ol({abi:n,args:i,functionName:s});try{const{data:l}=await Pt(t,TT,"call")({...o,data:a,to:r});return $w({abi:n,args:i,functionName:s,data:l||"0x"})}catch(l){throw K1(l,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function dQe(t,e){const{abi:n,address:r,args:i,dataSuffix:s,functionName:o,...a}=e,l=a.account?Oi(a.account):t.account,c=ol({abi:n,args:i,functionName:o});try{const{data:u}=await Pt(t,TT,"call")({batch:!1,data:`${c}${s?s.replace("0x",""):""}`,to:r,...a,account:l}),h=$w({abi:n,args:i,functionName:o,data:u||"0x"}),f=n.filter(p=>"name"in p&&p.name===e.functionName);return{result:h,request:{abi:f,address:r,args:i,dataSuffix:s,functionName:o,...a,account:l}}}catch(u){throw K1(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:o,sender:l==null?void 0:l.address})}}const FR=new Map,See=new Map;let hQe=0;function Wp(t,e,n){const r=++hQe,i=()=>FR.get(t)||[],s=()=>{const u=i();FR.set(t,u.filter(h=>h.id!==r))},o=()=>{const u=i();if(!u.some(f=>f.id===r))return;const h=See.get(t);if(u.length===1&&h){const f=h();f instanceof Promise&&f.catch(()=>{})}s()},a=i();if(FR.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const l={};for(const u in e)l[u]=(...h)=>{var p,m;const f=i();if(f.length!==0)for(const g of f)(m=(p=g.fns)[u])==null||m.call(p,...h)};const c=n(l);return typeof c=="function"&&See.set(t,c),o}function B3(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:s}));const l=await(n==null?void 0:n(a))??r;await FB(l);const c=async()=>{i&&(await t({unpoll:s}),await FB(r),c())};c()})(),s}const fQe=new Map,pQe=new Map;function mQe(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),n=e(t,fQe),r=e(t,pQe);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function gQe(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=mQe(e),i=r.response.get();if(i&&n>0&&Date.now()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=t(),r.promise.set(s));try{const o=await s;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const yQe=t=>`blockNumber.${t}`;async function LA(t,{cacheTime:e=t.cacheTime}={}){const n=await gQe(()=>t.request({method:"eth_blockNumber"}),{cacheKey:yQe(t.uid),cacheTime:e});return BigInt(n)}async function LT(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const i=r.map(s=>Lp(s));return!("abi"in e)||!e.abi?i:XH({abi:e.abi,logs:i,strict:n})}async function FT(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function wQe(t,e){const{abi:n,address:r,args:i,batch:s=!0,eventName:o,fromBlock:a,onError:l,onLogs:c,poll:u,pollingInterval:h=t.pollingInterval,strict:f}=e;return(typeof u<"u"?u:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const y=f??!1,w=ss(["watchContractEvent",r,i,s,t.uid,o,h,y,a]);return Wp(w,{onLogs:c,onError:l},v=>{let b;a!==void 0&&(b=a-1n);let A,E=!1;const $=B3(async()=>{var N;if(!E){try{A=await Pt(t,e1e,"createContractEventFilter")({abi:n,address:r,args:i,eventName:o,strict:y,fromBlock:a})}catch{}E=!0;return}try{let R;if(A)R=await Pt(t,LT,"getFilterChanges")({filter:A});else{const j=await Pt(t,LA,"getBlockNumber")({});b&&b<j?R=await Pt(t,i1e,"getContractEvents")({abi:n,address:r,args:i,eventName:o,fromBlock:b+1n,toBlock:j,strict:y}):R=[],b=j}if(R.length===0)return;if(s)v.onLogs(R);else for(const j of R)v.onLogs([j])}catch(R){A&&R instanceof V1&&(E=!1),(N=v.onError)==null||N.call(v,R)}},{emitOnBegin:!0,interval:h});return async()=>{A&&await Pt(t,FT,"uninstallFilter")({filter:A}),$()}})})():(()=>{const y=f??!1,w=ss(["watchContractEvent",r,i,s,t.uid,o,h,y]);let v=!0,b=()=>v=!1;return Wp(w,{onLogs:c,onError:l},A=>((async()=>{try{const E=(()=>{if(t.transport.type==="fallback"){const R=t.transport.transports.find(j=>j.config.type==="webSocket"||j.config.type==="ipc");return R?R.value:t.transport}return t.transport})(),$=o?PA({abi:n,eventName:o,args:i}):[],{unsubscribe:N}=await E.subscribe({params:["logs",{address:r,topics:$}],onData(R){var F;if(!v)return;const j=R.result;try{const{eventName:W,args:V}=JH({abi:n,data:j.data,topics:j.topics,strict:f}),B=Lp(j,{args:V,eventName:W});A.onLogs([B])}catch(W){let V,B;if(W instanceof a8||W instanceof vT){if(f)return;V=W.abiItem.name,B=(F=W.abiItem.inputs)==null?void 0:F.some(C=>!("name"in C&&C.name))}const k=Lp(j,{args:B?[]:{},eventName:V});A.onLogs([k])}},onError(R){var j;(j=A.onError)==null||j.call(A,R)}});b=N,v||b()}catch(E){l==null||l(E)}})(),()=>b()))})()}class Rw extends ze{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class D9 extends ze{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}async function RV(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const UR=new wT(128);async function UT(t,e){var v,b,A,E;const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,type:m,value:g,...y}=e;if(typeof n>"u")throw new Rw({docsPath:"/docs/actions/wallet/sendTransaction"});const w=n?Oi(n):null;try{Pw(e);const $=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await eV({authorization:s[0]}).catch(()=>{throw new ze("`to` is required. Could not infer from `authorizationList`.")})})();if((w==null?void 0:w.type)==="json-rpc"||w===null){let N;r!==null&&(N=await Pt(t,D3,"getChainId")({}),Kge({currentChainId:N,chain:r}));const R=(A=(b=(v=t.chain)==null?void 0:v.formatters)==null?void 0:b.transactionRequest)==null?void 0:A.format,F=(R||M3)({...IT(y,{format:R}),accessList:i,authorizationList:s,blobs:o,chainId:N,data:a,from:w==null?void 0:w.address,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,to:$,type:m,value:g},"sendTransaction"),W=UR.get(t.uid),V=W?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:V,params:[F]},{retryCount:0})}catch(B){if(W===!1)throw B;const k=B;if(k.name==="InvalidInputRpcError"||k.name==="InvalidParamsRpcError"||k.name==="MethodNotFoundRpcError"||k.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[F]},{retryCount:0}).then(C=>(UR.set(t.uid,!0),C)).catch(C=>{const S=C;throw S.name==="MethodNotFoundRpcError"||S.name==="MethodNotSupportedRpcError"?(UR.set(t.uid,!1),k):S});throw k}}if((w==null?void 0:w.type)==="local"){const N=await Pt(t,BT,"prepareTransactionRequest")({account:w,accessList:i,authorizationList:s,blobs:o,chain:r,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,nonceManager:w.nonceManager,parameters:[...r1e,"sidecars"],type:m,value:g,...y,to:$}),R=(E=r==null?void 0:r.serializers)==null?void 0:E.transaction,j=await w.signTransaction(N,{serializer:R});return await Pt(t,RV,"sendRawTransaction")({serializedTransaction:j})}throw(w==null?void 0:w.type)==="smart"?new D9({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new D9({docsPath:"/docs/actions/wallet/sendTransaction",type:w==null?void 0:w.type})}catch($){throw $ instanceof D9?$:Yge($,{...e,account:w,chain:e.chain||void 0})}}async function bQe(t,e){const{abi:n,account:r=t.account,address:i,args:s,dataSuffix:o,functionName:a,...l}=e;if(typeof r>"u")throw new Rw({docsPath:"/docs/contract/writeContract"});const c=r?Oi(r):null,u=ol({abi:n,args:s,functionName:a});try{return await Pt(t,UT,"sendTransaction")({data:`${u}${o?o.replace("0x",""):""}`,to:i,account:c,...l})}catch(h){throw K1(h,{abi:n,address:i,args:s,docsPath:"/docs/contract/writeContract",functionName:a,sender:c==null?void 0:c.address})}}class vQe extends ze{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}const s1e="0x5792579257925792579257925792579257925792579257925792579257925792",o1e=$t(0,{size:32});async function xQe(t,e){const{account:n=t.account,capabilities:r,chain:i=t.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:l,version:c="2.0.0"}=e,u=n?Oi(n):null,h=e.calls.map(f=>{const p=f,m=p.abi?ol({abi:p.abi,functionName:p.functionName,args:p.args}):p.data;return{data:p.dataSuffix&&m?Xc([m,p.dataSuffix]):m,to:p.to,value:p.value?$t(p.value):void 0}});try{const f=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:h,capabilities:r,chainId:$t(i.id),from:u==null?void 0:u.address,id:l,version:c}]},{retryCount:0});return typeof f=="string"?{id:f}:f}catch(f){const p=f;if(s&&(p.name==="MethodNotFoundRpcError"||p.name==="MethodNotSupportedRpcError"||p.name==="UnknownRpcError"||p.details.toLowerCase().includes("does not exist / is not available")||p.details.toLowerCase().includes("missing or invalid. request()")||p.details.toLowerCase().includes("did not match any variant of untagged enum")||p.details.toLowerCase().includes("account upgraded to unsupported contract")||p.details.toLowerCase().includes("eip-7702 not supported")||p.details.toLowerCase().includes("unsupported wc_ method")||p.details.toLowerCase().includes("feature toggled misconfigured"))){if(r&&Object.values(r).some(v=>!v.optional)){const v="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Nx(new ze(v,{details:v}))}if(a&&h.length>1){const w="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Px(new ze(w,{details:w}))}const m=[];for(const w of h){const v=UT(t,{account:u,chain:i,data:w.data,to:w.to,value:w.value?Zl(w.value):void 0});m.push(v),o>0&&await new Promise(b=>setTimeout(b,o))}const g=await Promise.allSettled(m);if(g.every(w=>w.status==="rejected"))throw g[0].reason;const y=g.map(w=>w.status==="fulfilled"?w.value:o1e);return{id:Xc([...y,$t(i.id,{size:32}),s1e])}}throw Yge(f,{...e,account:u,chain:e.chain})}}async function a1e(t,e){async function n(u){if(u.endsWith(s1e.slice(2))){const f=xp(_B(u,-64,-32)),p=_B(u,0,-64).slice(2).match(/.{1,64}/g),m=await Promise.all(p.map(y=>o1e.slice(2)!==y?t.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),g=m.some(y=>y===null)?100:m.every(y=>(y==null?void 0:y.status)==="0x1")?200:m.every(y=>(y==null?void 0:y.status)==="0x0")?500:600;return{atomic:!1,chainId:pd(f),receipts:m.filter(Boolean),status:g,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:i,receipts:s,version:o="2.0.0",...a}=await n(e.id),[l,c]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:r,chainId:i?pd(i):void 0,receipts:(s==null?void 0:s.map(u=>({...u,blockNumber:Zl(u.blockNumber),gasUsed:Zl(u.gasUsed),status:Xge[u.status]})))??[],statusCode:c,status:l,version:o}}async function EQe(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:i=({statusCode:g})=>g===200||g>=300,retryCount:s=4,retryDelay:o=({count:g})=>~~(1<<g)*200,timeout:a=6e4,throwOnFailure:l=!1}=e,c=ss(["waitForCallsStatus",t.uid,n]),{promise:u,resolve:h,reject:f}=cV();let p;const m=Wp(c,{resolve:h,reject:f},g=>{const y=B3(async()=>{const w=v=>{clearTimeout(p),y(),v(),m()};try{const v=await k_(async()=>{const b=await Pt(t,a1e,"getCallsStatus")({id:n});if(l&&b.status==="failure")throw new vQe(b);return b},{retryCount:s,delay:o});if(!i(v))return;w(()=>g.resolve(v))}catch(v){w(()=>g.reject(v))}},{interval:r,emitOnBegin:!0});return y});return p=a?setTimeout(()=>{m(),clearTimeout(p),f(new AQe({id:n}))},a):void 0,await u}class AQe extends ze{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const uL=256;let ok=uL,ak;function l1e(t=11){if(!ak||ok+t>uL*2){ak="",ok=0;for(let e=0;e<uL;e++)ak+=(256+Math.random()*256|0).toString(16).substring(1)}return ak.substring(ok,ok+++t)}function c1e(t){const{batch:e,chain:n,ccipRead:r,key:i="base",name:s="Base Client",type:o="base"}=t,a=t.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),l=(n==null?void 0:n.blockTime)??12e3,c=Math.min(Math.max(Math.floor(l/2),500),4e3),u=t.pollingInterval??c,h=t.cacheTime??u,f=t.account?Oi(t.account):void 0,{config:p,request:m,value:g}=t.transport({chain:n,pollingInterval:u}),y={...p,...g},w={account:f,batch:e,cacheTime:h,ccipRead:r,chain:n,key:i,name:s,pollingInterval:u,request:m,transport:y,type:o,uid:l1e(),...a?{experimental_blockTag:a}:{}};function v(b){return A=>{const E=A(b);for(const N in w)delete E[N];const $={...b,...E};return Object.assign($,{extend:v($)})}}return Object.assign(w,{extend:v(w)})}function jV(t){var n,r,i,s,o,a;if(!(t instanceof ze))return!1;const e=t.walk(l=>l instanceof HB);return e instanceof HB?((n=e.data)==null?void 0:n.errorName)==="HttpError"||((r=e.data)==null?void 0:r.errorName)==="ResolverError"||((i=e.data)==null?void 0:i.errorName)==="ResolverNotContract"||((s=e.data)==null?void 0:s.errorName)==="ResolverNotFound"||((o=e.data)==null?void 0:o.errorName)==="ReverseAddressMismatch"||((a=e.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function u1e(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return Ro(e)?e:null}function dL(t){let e=new Uint8Array(32).fill(0);if(!t)return os(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const i=u1e(n[r]),s=i?P3(i):Ws(x1(n[r]),"bytes");e=Ws(Xc([e,s]),"bytes")}return os(e)}function CQe(t){return`[${t.slice(2)}]`}function kQe(t){const e=new Uint8Array(32).fill(0);return t?u1e(t)||Ws(x1(t)):os(e)}function OV(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(x1(e).byteLength+2);let r=0;const i=e.split(".");for(let s=0;s<i.length;s++){let o=x1(i[s]);o.byteLength>255&&(o=x1(CQe(kQe(i[s])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function SQe(t,e){const{blockNumber:n,blockTag:r,coinType:i,name:s,gatewayUrls:o,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return O3({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),u=l==null?void 0:l.ensTlds;if(u&&!u.some(f=>s.endsWith(f)))return null;const h=i!=null?[dL(s),BigInt(i)]:[dL(s)];try{const f=ol({abi:bX,functionName:"addr",args:h}),p={address:c,abi:Fge,functionName:"resolveWithGateways",args:[_i(OV(s)),f,o??[$T]],blockNumber:n,blockTag:r},g=await Pt(t,bd,"readContract")(p);if(g[0]==="0x")return null;const y=$w({abi:bX,args:h,functionName:"addr",data:g[0]});return y==="0x"||xp(y)==="0x00"?null:y}catch(f){if(a)throw f;if(jV(f))return null;throw f}}class _Qe extends ze{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class $5 extends ze{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class MV extends ze{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class IQe extends ze{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const TQe=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,$Qe=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,NQe=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,PQe=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function RQe(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const n=e.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function _ee(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function d1e({uri:t,gatewayUrls:e}){const n=NQe.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=_ee(e==null?void 0:e.ipfs,"https://ipfs.io"),i=_ee(e==null?void 0:e.arweave,"https://arweave.net"),s=t.match(TQe),{protocol:o,subpath:a,target:l,subtarget:c=""}=(s==null?void 0:s.groups)||{},u=o==="ipns:/"||a==="ipns/",h=o==="ipfs:/"||a==="ipfs/"||$Qe.test(t);if(t.startsWith("http")&&!u&&!h){let p=t;return e!=null&&e.arweave&&(p=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((u||h)&&l)return{uri:`${r}/${u?"ipns":"ipfs"}/${l}${c}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&l)return{uri:`${i}/${l}${c||""}`,isOnChain:!1,isEncoded:!1};let f=t.replace(PQe,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new MV({uri:t})}function h1e(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new _Qe({data:t});return t.image||t.image_url||t.image_data}async function jQe({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await DV({gatewayUrls:t,uri:h1e(n)})}catch{throw new MV({uri:e})}}async function DV({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=d1e({uri:e,gatewayUrls:t});if(r||await RQe(n))return n;throw new MV({uri:e})}function OQe(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=e.split("/"),[s,o]=n.split(":"),[a,l]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new $5({reason:"Only EIP-155 supported"});if(!o)throw new $5({reason:"Chain ID not found"});if(!l)throw new $5({reason:"Contract address not found"});if(!i)throw new $5({reason:"Token ID not found"});if(!a)throw new $5({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:l,tokenID:i}}async function MQe(t,{nft:e}){if(e.namespace==="erc721")return bd(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return bd(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new IQe({namespace:e.namespace})}async function DQe(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?BQe(t,{gatewayUrls:e,record:n}):DV({uri:n,gatewayUrls:e})}async function BQe(t,{gatewayUrls:e,record:n}){const r=OQe(n),i=await MQe(t,{nft:r}),{uri:s,isOnChain:o,isEncoded:a}=d1e({uri:i,gatewayUrls:e});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const c=a?atob(s.replace("data:application/json;base64,","")):s,u=JSON.parse(c);return DV({uri:h1e(u),gatewayUrls:e})}let l=r.tokenID;return r.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),jQe({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,l)})}async function f1e(t,e){const{blockNumber:n,blockTag:r,key:i,name:s,gatewayUrls:o,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return O3({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),u=l==null?void 0:l.ensTlds;if(u&&!u.some(h=>s.endsWith(h)))return null;try{const h={address:c,abi:Fge,args:[_i(OV(s)),ol({abi:wX,functionName:"text",args:[dL(s),i]}),o??[$T]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},p=await Pt(t,bd,"readContract")(h);if(p[0]==="0x")return null;const m=$w({abi:wX,functionName:"text",data:p[0]});return m===""?null:m}catch(h){if(a)throw h;if(jV(h))return null;throw h}}async function LQe(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const l=await Pt(t,f1e,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!l)return null;try{return await DQe(t,{record:l,gatewayUrls:r})}catch{return null}}async function FQe(t,e){const{address:n,blockNumber:r,blockTag:i,coinType:s=60n,gatewayUrls:o,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return O3({blockNumber:r,chain:l,contract:"ensUniversalResolver"})})();try{const u={address:c,abi:sWe,args:[n,s,o??[$T]],functionName:"reverseWithGateways",blockNumber:r,blockTag:i},h=Pt(t,bd,"readContract"),[f]=await h(u);return f||null}catch(u){if(a)throw u;if(jV(u))return null;throw u}}async function UQe(t,e){const{blockNumber:n,blockTag:r,name:i}=e,{chain:s}=t,o=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return O3({blockNumber:n,chain:s,contract:"ensUniversalResolver"})})(),a=s==null?void 0:s.ensTlds;if(a&&!a.some(c=>i.endsWith(c)))throw new Error(`${i} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);const[l]=await Pt(t,bd,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[_i(OV(i))],blockNumber:n,blockTag:r});return l}async function p1e(t,e){var y,w,v;const{account:n=t.account,blockNumber:r,blockTag:i="latest",blobs:s,data:o,gas:a,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:h,to:f,value:p,...m}=e,g=n?Oi(n):void 0;try{Pw(e);const A=(typeof r=="bigint"?$t(r):void 0)||i,E=(v=(w=(y=t.chain)==null?void 0:y.formatters)==null?void 0:w.transactionRequest)==null?void 0:v.format,N=(E||M3)({...IT(m,{format:E}),from:g==null?void 0:g.address,blobs:s,data:o,gas:a,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:h,to:f,value:p},"createAccessList"),R=await t.request({method:"eth_createAccessList",params:[N,A]});return{accessList:R.accessList,gasUsed:BigInt(R.gasUsed)}}catch(b){throw Vge(b,{...e,account:g,chain:t.chain})}}async function zQe(t){const e=DT(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function m1e(t,{address:e,args:n,event:r,events:i,fromBlock:s,strict:o,toBlock:a}={}){const l=i??(r?[r]:void 0),c=DT(t,{method:"eth_newFilter"});let u=[];l&&(u=[l.flatMap(p=>PA({abi:[p],eventName:p.name,args:n}))],r&&(u=u[0]));const h=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof s=="bigint"?$t(s):s,toBlock:typeof a=="bigint"?$t(a):a,...u.length?{topics:u}:{}}]});return{abi:l,args:n,eventName:r?r.name:void 0,fromBlock:s,id:h,request:c(h),strict:!!o,toBlock:a,type:"event"}}async function g1e(t){const e=DT(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function WQe(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){const i=typeof n=="bigint"?$t(n):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(s)}async function HQe(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function VQe(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?$t(n):void 0;let s;return e?s=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):s=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:!!i}),pd(s)}async function hL(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?$t(n):void 0,s=await t.request({method:"eth_getCode",params:[e,i||r]},{dedupe:!!i});if(s!=="0x")return s}class qQe extends ze{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function GQe(t,e){const{address:n,factory:r,factoryData:i}=e;try{const[s,o,a,l,c,u,h]=await Pt(t,bd,"readContract")({abi:KQe,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:o,version:a,chainId:Number(l),verifyingContract:c,salt:u},extensions:h,fields:s}}catch(s){const o=s;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new qQe({address:n}):o}}const KQe=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function YQe(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(n=>n.map(r=>BigInt(r)))}}async function QQe(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const s=typeof n=="bigint"?$t(n):void 0,o=await t.request({method:"eth_feeHistory",params:[$t(e),s||r,i]},{dedupe:!!s});return YQe(o)}async function ZQe(t,{filter:e}){const n=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(s=>Lp(s));return e.abi?XH({abi:e.abi,logs:i,strict:n}):i}function JQe(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function XQe(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?pd(t.nonce):void 0,storageProof:t.storageProof?JQe(t.storageProof):void 0}}async function eZe(t,{address:e,blockNumber:n,blockTag:r,storageKeys:i}){const s=r??"latest",o=n!==void 0?$t(n):void 0,a=await t.request({method:"eth_getProof",params:[e,i,o||s]});return XQe(a)}async function tZe(t,{address:e,blockNumber:n,blockTag:r="latest",slot:i}){const s=n!==void 0?$t(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,s||r]})}async function BV(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){var u,h,f;const o=r||"latest",a=n!==void 0?$t(n):void 0;let l=null;if(i?l=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?l=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,$t(s)]},{dedupe:!0}):(a||o)&&(l=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,$t(s)]},{dedupe:!!a})),!l)throw new fge({blockHash:e,blockNumber:n,blockTag:o,hash:i,index:s});return(((f=(h=(u=t.chain)==null?void 0:u.formatters)==null?void 0:h.transaction)==null?void 0:f.format)||Zge)(l,"getTransaction")}async function nZe(t,{hash:e,transactionReceipt:n}){const[r,i]=await Promise.all([Pt(t,LA,"getBlockNumber")({}),e?Pt(t,BV,"getTransaction")({hash:e}):void 0]),s=(n==null?void 0:n.blockNumber)||(i==null?void 0:i.blockNumber);return s?r-s+1n:0n}async function B9(t,{hash:e}){var i,s,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new pge({hash:e});return(((o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||_We)(n,"getTransactionReceipt")}async function rZe(t,e){var v;const{account:n,authorizationList:r,allowFailure:i=!0,blockNumber:s,blockOverrides:o,blockTag:a,stateOverride:l}=e,c=e.contracts,{batchSize:u=e.batchSize??1024,deployless:h=e.deployless??!1}=typeof((v=t.batch)==null?void 0:v.multicall)=="object"?t.batch.multicall:{},f=(()=>{if(e.multicallAddress)return e.multicallAddress;if(h)return null;if(t.chain)return O3({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),p=[[]];let m=0,g=0;for(let b=0;b<c.length;b++){const{abi:A,address:E,args:$,functionName:N}=c[b];try{const R=ol({abi:A,args:$,functionName:N});g+=(R.length-2)/2,u>0&&g>u&&p[m].length>0&&(m++,g=(R.length-2)/2,p[m]=[]),p[m]=[...p[m],{allowFailure:!0,callData:R,target:E}]}catch(R){const j=K1(R,{abi:A,address:E,args:$,docsPath:"/docs/contract/multicall",functionName:N,sender:n});if(!i)throw j;p[m]=[...p[m],{allowFailure:!0,callData:"0x",target:E}]}}const y=await Promise.allSettled(p.map(b=>Pt(t,bd,"readContract")({...f===null?{code:lV}:{address:f},abi:I_,account:n,args:[b],authorizationList:r,blockNumber:s,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:l}))),w=[];for(let b=0;b<y.length;b++){const A=y[b];if(A.status==="rejected"){if(!i)throw A.reason;for(let $=0;$<p[b].length;$++)w.push({status:"failure",error:A.reason,result:void 0});continue}const E=A.value;for(let $=0;$<E.length;$++){const{returnData:N,success:R}=E[$],{callData:j}=p[b][$],{abi:F,address:W,functionName:V,args:B}=c[w.length];try{if(j==="0x")throw new $A;if(!R)throw new ST({data:N});const k=$w({abi:F,args:B,data:N,functionName:V});w.push(i?{result:k,status:"success"}:k)}catch(k){const C=K1(k,{abi:F,address:W,args:B,docsPath:"/docs/contract/multicall",functionName:V});if(!i)throw C;w.push({error:C,result:void 0,status:"failure"})}}}if(w.length!==c.length)throw new ze("multicall results mismatch");return w}async function fL(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",blocks:i,returnFullTransactions:s,traceTransfers:o,validation:a}=e;try{const l=[];for(const f of i){const p=f.blockOverrides?Bge(f.blockOverrides):void 0,m=f.calls.map(y=>{const w=y,v=w.account?Oi(w.account):void 0,b=w.abi?ol(w):w.data,A={...w,data:w.dataSuffix?Xc([b||"0x",w.dataSuffix]):b,from:w.from??(v==null?void 0:v.address)};return Pw(A),M3(A)}),g=f.stateOverrides?uV(f.stateOverrides):void 0;l.push({blockOverrides:p,calls:m,stateOverrides:g})}const u=(typeof n=="bigint"?$t(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:l,returnFullTransactions:s,traceTransfers:o,validation:a},u]})).map((f,p)=>({...Jge(f),calls:f.calls.map((m,g)=>{var F,W;const{abi:y,args:w,functionName:v,to:b}=i[p].calls[g],A=((F=m.error)==null?void 0:F.data)??m.returnData,E=BigInt(m.gasUsed),$=(W=m.logs)==null?void 0:W.map(V=>Lp(V)),N=m.status==="0x1"?"success":"failure",R=y&&N==="success"&&A!=="0x"?$w({abi:y,data:A,functionName:v}):null,j=(()=>{var B;if(N==="success")return;let V;if(((B=m.error)==null?void 0:B.data)==="0x"?V=new $A:m.error&&(V=new ST(m.error)),!!V)return K1(V,{abi:y??[],address:b??"0x",args:w,functionName:v??"<unknown>"})})();return{data:A,gasUsed:E,logs:$,status:N,...N==="success"?{result:R}:{error:j}}})}))}catch(l){const c=l,u=_T(c,{});throw u instanceof OA?c:u}}function pL(t){let e=!0,n="",r=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function","error",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!s)throw new Bn("Unable to normalize signature.");return i}function mL(t,e){const n=typeof t,r=e.type;switch(r){case"address":return VB(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>mL(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>mL(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function y1e(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return y1e(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?VB(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?VB(n[r],{strict:!1}):!1)return o}}function w1e(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?HJ(t):t;return{...r,...n?{hash:vv(r)}:{}}}function zT(t,e,n){const{args:r=[],prepare:i=!0}=n??{},s=tWe(e,{strict:!1}),o=t.filter(c=>s?c.type==="function"||c.type==="error"?b1e(c)===Dh(e,0,4):c.type==="event"?vv(c)===e:!1:"name"in c&&c.name===e);if(o.length===0)throw new V_({name:e});if(o.length===1)return{...o[0],...i?{hash:vv(o[0])}:{}};let a;for(const c of o){if(!("inputs"in c))continue;if(!r||r.length===0){if(!c.inputs||c.inputs.length===0)return{...c,...i?{hash:vv(c)}:{}};continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==r.length)continue;if(r.every((h,f)=>{const p="inputs"in c&&c.inputs[f];return p?mL(h,p):!1})){if(a&&"inputs"in a&&a.inputs){const h=y1e(c.inputs,a.inputs,r);if(h)throw new sZe({abiItem:c,type:h[0]},{abiItem:a,type:h[1]})}a=c}}const l=(()=>{if(a)return a;const[c,...u]=o;return{...c,overloads:u}})();if(!l)throw new V_({name:e});return{...l,...i?{hash:vv(l)}:{}}}function b1e(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return zT(n,r)}return t[0]})();return Dh(vv(e),0,4)}function iZe(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,i]=t;return zT(r,i)}return t[0]})(),n=typeof e=="string"?e:E_(e);return pL(n)}function vv(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return zT(n,r)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:aye(aV(iZe(e)))}class sZe extends Bn{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${pL(E_(e.abiItem))}\`, and`,`\`${n.type}\` in \`${pL(E_(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class V_ extends Bn{constructor({name:e,data:n,type:r="item"}){const i=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function oZe(...t){var s;const[e,n]=(()=>{if(Array.isArray(t[0])){const[o,a]=t;return[lZe(o),a]}return t})(),{bytecode:r,args:i}=n;return yd(r,(s=e.inputs)!=null&&s.length&&(i!=null&&i.length)?mV(e.inputs,i):"0x")}function aZe(t){return w1e(t)}function lZe(t){const e=t.find(n=>n.type==="constructor");if(!e)throw new V_({name:"constructor"});return e}function cZe(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[c,u,h]=t;return[Iee(c,u,{args:h}),h]}const[a,l]=t;return[a,l]})(),{overloads:r}=e,i=r?Iee([e,...r],e.name,{args:n}):e,s=uZe(i),o=n.length>0?mV(i.inputs,n):void 0;return o?yd(s,o):s}function ab(t,e={}){return w1e(t,e)}function Iee(t,e,n){const r=zT(t,e,n);if(r.type!=="function")throw new V_({name:e,type:"function"});return r}function uZe(t){return b1e(t)}const dZe="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Bd="0x0000000000000000000000000000000000000000",hZe="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function fZe(t,e){const{blockNumber:n,blockTag:r,calls:i,stateOverrides:s,traceAssetChanges:o,traceTransfers:a,validation:l}=e,c=e.account?Oi(e.account):void 0;if(o&&!c)throw new ze("`account` is required when `traceAssetChanges` is true");const u=c?oZe(aZe("constructor(bytes, bytes)"),{bytecode:zge,args:[hZe,cZe(ab("function getBalance(address)"),[c.address])]}):void 0,h=o?await Promise.all(e.calls.map(async _=>{if(!_.data&&!_.abi)return;const{accessList:P}=await p1e(t,{account:c.address,..._,data:_.abi?ol(_):_.data});return P.map(({address:L,storageKeys:O})=>O.length>0?L:null)})).then(_=>_.flat().filter(Boolean)):[],f=await fL(t,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:u}],stateOverrides:s},{calls:h.map((_,P)=>({abi:[ab("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:_,from:Bd,nonce:P})),stateOverrides:[{address:Bd,nonce:0}]}]:[],{calls:[...i,{}].map(_=>({..._,from:c==null?void 0:c.address})),stateOverrides:s},...o?[{calls:[{data:u}]},{calls:h.map((_,P)=>({abi:[ab("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:_,from:Bd,nonce:P})),stateOverrides:[{address:Bd,nonce:0}]},{calls:h.map((_,P)=>({to:_,abi:[ab("function decimals() returns (uint256)")],functionName:"decimals",from:Bd,nonce:P})),stateOverrides:[{address:Bd,nonce:0}]},{calls:h.map((_,P)=>({to:_,abi:[ab("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Bd,nonce:P})),stateOverrides:[{address:Bd,nonce:0}]},{calls:h.map((_,P)=>({to:_,abi:[ab("function symbol() returns (string)")],functionName:"symbol",from:Bd,nonce:P})),stateOverrides:[{address:Bd,nonce:0}]}]:[]],traceTransfers:a,validation:l}),p=o?f[2]:f[0],[m,g,,y,w,v,b,A]=o?f:[],{calls:E,...$}=p,N=E.slice(0,-1)??[],R=(m==null?void 0:m.calls)??[],j=(g==null?void 0:g.calls)??[],F=[...R,...j].map(_=>_.status==="success"?Zl(_.data):null),W=(y==null?void 0:y.calls)??[],V=(w==null?void 0:w.calls)??[],B=[...W,...V].map(_=>_.status==="success"?Zl(_.data):null),k=((v==null?void 0:v.calls)??[]).map(_=>_.status==="success"?_.result:null),C=((A==null?void 0:A.calls)??[]).map(_=>_.status==="success"?_.result:null),S=((b==null?void 0:b.calls)??[]).map(_=>_.status==="success"?_.result:null),T=[];for(const[_,P]of B.entries()){const L=F[_];if(typeof P!="bigint"||typeof L!="bigint")continue;const O=k[_-1],I=C[_-1],D=S[_-1],Y=_===0?{address:dZe,decimals:18,symbol:"ETH"}:{address:h[_-1],decimals:D||O?Number(O??1):void 0,symbol:I??void 0};T.some(M=>M.token.address===Y.address)||T.push({token:Y,value:{pre:L,post:P,diff:P-L}})}return{assetChanges:T,block:$,results:N}}const v1e="0x6492649264926492649264926492649264926492649264926492649264926492";function pZe(t){if(Dh(t,-32)!==v1e)throw new yZe(t)}function mZe(t){const{data:e,signature:n,to:r}=t;return yd(mV(uye("address, bytes, bytes"),[r,e,n]),v1e)}function gZe(t){try{return pZe(t),!0}catch{return!1}}class yZe extends Bn{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function wZe({r:t,s:e,to:n="hex",v:r,yParity:i}){const s=(()=>{if(i===0||i===1)return i;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new _ye.Signature(Zl(t),Zl(e)).toCompactHex()}${s===0?"1b":"1c"}`;return n==="hex"?o:md(o)}async function WT(t,e){var a,l,c,u,h,f;const{address:n,hash:r,erc6492VerifierAddress:i=e.universalSignatureVerifierAddress??((c=(l=(a=t.chain)==null?void 0:a.contracts)==null?void 0:l.erc6492Verifier)==null?void 0:c.address),multicallAddress:s=e.multicallAddress??((f=(h=(u=t.chain)==null?void 0:u.contracts)==null?void 0:h.multicall3)==null?void 0:f.address)}=e,o=(()=>{const p=e.signature;return Ro(p)?p:typeof p=="object"&&"r"in p&&"s"in p?wZe(p):os(p)})();try{return rVe(o)?await bZe(t,{...e,multicallAddress:s,signature:o}):await vZe(t,{...e,verifierAddress:i,signature:o})}catch(p){try{if(RA(Bi(n),await dge({hash:r,signature:o})))return!0}catch{}if(p instanceof J1)return!1;throw p}}async function bZe(t,e){var y;const{address:n,blockNumber:r,blockTag:i,hash:s,multicallAddress:o}=e,{authorization:a,data:l,signature:c,to:u}=nVe(e.signature);if(await hL(t,{address:n,blockNumber:r,blockTag:i})===R3(["0xef0100",a.address]))return await xZe(t,{address:n,blockNumber:r,blockTag:i,hash:s,signature:c});const f={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:$t(a.r,{size:32}),s:$t(a.s,{size:32}),yParity:a.yParity};if(!await vze({address:n,authorization:f}))throw new J1;const m=await Pt(t,bd,"readContract")({...o?{address:o}:{code:lV},authorizationList:[f],abi:I_,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...l?[{allowFailure:!0,target:u??n,callData:l}]:[],{allowFailure:!0,target:n,callData:ol({abi:Uge,functionName:"isValidSignature",args:[s,c]})}]]}),g=(y=m[m.length-1])==null?void 0:y.returnData;if(g!=null&&g.startsWith("0x1626ba7e"))return!0;throw new J1}async function vZe(t,e){const{address:n,factory:r,factoryData:i,hash:s,signature:o,verifierAddress:a,...l}=e,c=await(async()=>!r&&!i||gZe(o)?o:mZe({data:i,signature:o,to:r}))(),u=a?{to:a,data:ol({abi:vX,functionName:"isValidSig",args:[n,s,c]}),...l}:{data:ET({abi:vX,args:[n,s,c],bytecode:lWe}),...l},{data:h}=await Pt(t,TT,"call")(u).catch(f=>{throw f instanceof Wge?new J1:f});if(bFe(h??"0x0"))return!0;throw new J1}async function xZe(t,e){const{address:n,blockNumber:r,blockTag:i,hash:s,signature:o}=e;if((await Pt(t,bd,"readContract")({address:n,abi:Uge,args:[s,o],blockNumber:r,blockTag:i,functionName:"isValidSignature"}).catch(l=>{throw l instanceof Hge?new J1:l})).startsWith("0x1626ba7e"))return!0;throw new J1}class J1 extends Error{}async function EZe(t,{address:e,message:n,factory:r,factoryData:i,signature:s,...o}){const a=eye(n);return WT(t,{address:e,factory:r,factoryData:i,hash:a,signature:s,...o})}async function AZe(t,e){const{address:n,factory:r,factoryData:i,signature:s,message:o,primaryType:a,types:l,domain:c,...u}=e,h=BWe({message:o,primaryType:a,types:l,domain:c});return WT(t,{address:n,factory:r,factoryData:i,hash:h,signature:s,...u})}function x1e(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:s,pollingInterval:o=t.pollingInterval}){const a=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let l;return a?(()=>{const h=ss(["watchBlockNumber",t.uid,e,n,o]);return Wp(h,{onBlockNumber:r,onError:i},f=>B3(async()=>{var p;try{const m=await Pt(t,LA,"getBlockNumber")({cacheTime:0});if(l!==void 0){if(m===l)return;if(m-l>1&&n)for(let g=l+1n;g<m;g++)f.onBlockNumber(g,l),l=g}(l===void 0||m>l)&&(f.onBlockNumber(m,l),l=m)}catch(m){(p=f.onError)==null||p.call(f,m)}},{emitOnBegin:e,interval:o}))})():(()=>{const h=ss(["watchBlockNumber",t.uid,e,n]);return Wp(h,{onBlockNumber:r,onError:i},f=>{let p=!0,m=()=>p=!1;return(async()=>{try{const g=(()=>{if(t.transport.type==="fallback"){const w=t.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return w?w.value:t.transport}return t.transport})(),{unsubscribe:y}=await g.subscribe({params:["newHeads"],onData(w){var b;if(!p)return;const v=Zl((b=w.result)==null?void 0:b.number);f.onBlockNumber(v,l),l=v},onError(w){var v;(v=f.onError)==null||v.call(f,w)}});m=y,p||m()}catch(g){i==null||i(g)}})(),()=>m()})})()}async function CZe(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:i,onReplaced:s,retryCount:o=6,retryDelay:a=({count:E})=>~~(1<<E)*200,timeout:l=18e4}=e,c=ss(["waitForTransactionReceipt",t.uid,i]),u=(()=>{var E;return e.pollingInterval?e.pollingInterval:(E=t.chain)!=null&&E.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval})();let h,f,p,m=!1,g,y;const{promise:w,resolve:v,reject:b}=cV(),A=l?setTimeout(()=>{y==null||y(),g==null||g(),b(new tze({hash:i}))},l):void 0;return g=Wp(c,{onReplaced:s,resolve:v,reject:b},async E=>{if(p=await Pt(t,B9,"getTransactionReceipt")({hash:i}).catch(()=>{}),p&&r<=1){clearTimeout(A),E.resolve(p),g==null||g();return}y=Pt(t,x1e,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber($){const N=j=>{clearTimeout(A),y==null||y(),j(),g==null||g()};let R=$;if(!m)try{if(p){if(r>1&&(!p.blockNumber||R-p.blockNumber+1n<r))return;N(()=>E.resolve(p));return}if(n&&!h&&(m=!0,await k_(async()=>{h=await Pt(t,BV,"getTransaction")({hash:i}),h.blockNumber&&(R=h.blockNumber)},{delay:a,retryCount:o}),m=!1),p=await Pt(t,B9,"getTransactionReceipt")({hash:i}),r>1&&(!p.blockNumber||R-p.blockNumber+1n<r))return;N(()=>E.resolve(p))}catch(j){if(j instanceof fge||j instanceof pge){if(!h){m=!1;return}try{f=h,m=!0;const F=await k_(()=>Pt(t,_h,"getBlock")({blockNumber:R,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:B})=>B instanceof t1e});m=!1;const W=F.transactions.find(({from:B,nonce:k})=>B===f.from&&k===f.nonce);if(!W||(p=await Pt(t,B9,"getTransactionReceipt")({hash:W.hash}),r>1&&(!p.blockNumber||R-p.blockNumber+1n<r)))return;let V="replaced";W.to===f.to&&W.value===f.value&&W.input===f.input?V="repriced":W.from===W.to&&W.value===0n&&(V="cancelled"),N(()=>{var B;(B=E.onReplaced)==null||B.call(E,{reason:V,replacedTransaction:f,transaction:W,transactionReceipt:p}),E.resolve(p)})}catch(F){N(()=>E.reject(F))}}else N(()=>E.reject(j))}}})}),w}function kZe(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:s,includeTransactions:o,poll:a,pollingInterval:l=t.pollingInterval}){const c=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),u=o??!1;let h;return c?(()=>{const m=ss(["watchBlocks",t.uid,e,n,r,u,l]);return Wp(m,{onBlock:i,onError:s},g=>B3(async()=>{var y;try{const w=await Pt(t,_h,"getBlock")({blockTag:e,includeTransactions:u});if(w.number!==null&&(h==null?void 0:h.number)!=null){if(w.number===h.number)return;if(w.number-h.number>1&&n)for(let v=(h==null?void 0:h.number)+1n;v<w.number;v++){const b=await Pt(t,_h,"getBlock")({blockNumber:v,includeTransactions:u});g.onBlock(b,h),h=b}}((h==null?void 0:h.number)==null||e==="pending"&&(w==null?void 0:w.number)==null||w.number!==null&&w.number>h.number)&&(g.onBlock(w,h),h=w)}catch(w){(y=g.onError)==null||y.call(g,w)}},{emitOnBegin:r,interval:l}))})():(()=>{let m=!0,g=!0,y=()=>m=!1;return(async()=>{try{r&&Pt(t,_h,"getBlock")({blockTag:e,includeTransactions:u}).then(b=>{m&&g&&(i(b,void 0),g=!1)}).catch(s);const w=(()=>{if(t.transport.type==="fallback"){const b=t.transport.transports.find(A=>A.config.type==="webSocket"||A.config.type==="ipc");return b?b.value:t.transport}return t.transport})(),{unsubscribe:v}=await w.subscribe({params:["newHeads"],async onData(b){var E;if(!m)return;const A=await Pt(t,_h,"getBlock")({blockNumber:(E=b.result)==null?void 0:E.number,includeTransactions:u}).catch(()=>{});m&&(i(A,h),g=!1,h=A)},onError(b){s==null||s(b)}});y=v,m||y()}catch(w){s==null||s(w)}})(),()=>y()})()}function SZe(t,{address:e,args:n,batch:r=!0,event:i,events:s,fromBlock:o,onError:a,onLogs:l,poll:c,pollingInterval:u=t.pollingInterval,strict:h}){const f=typeof c<"u"?c:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),p=h??!1;return f?(()=>{const y=ss(["watchEvent",e,n,r,t.uid,i,u,o]);return Wp(y,{onLogs:l,onError:a},w=>{let v;o!==void 0&&(v=o-1n);let b,A=!1;const E=B3(async()=>{var $;if(!A){try{b=await Pt(t,m1e,"createEventFilter")({address:e,args:n,event:i,events:s,strict:p,fromBlock:o})}catch{}A=!0;return}try{let N;if(b)N=await Pt(t,LT,"getFilterChanges")({filter:b});else{const R=await Pt(t,LA,"getBlockNumber")({});v&&v!==R?N=await Pt(t,PV,"getLogs")({address:e,args:n,event:i,events:s,fromBlock:v+1n,toBlock:R}):N=[],v=R}if(N.length===0)return;if(r)w.onLogs(N);else for(const R of N)w.onLogs([R])}catch(N){b&&N instanceof V1&&(A=!1),($=w.onError)==null||$.call(w,N)}},{emitOnBegin:!0,interval:u});return async()=>{b&&await Pt(t,FT,"uninstallFilter")({filter:b}),E()}})})():(()=>{let y=!0,w=()=>y=!1;return(async()=>{try{const v=(()=>{if(t.transport.type==="fallback"){const $=t.transport.transports.find(N=>N.config.type==="webSocket"||N.config.type==="ipc");return $?$.value:t.transport}return t.transport})(),b=s??(i?[i]:void 0);let A=[];b&&(A=[b.flatMap(N=>PA({abi:[N],eventName:N.name,args:n}))],i&&(A=A[0]));const{unsubscribe:E}=await v.subscribe({params:["logs",{address:e,topics:A}],onData($){var R;if(!y)return;const N=$.result;try{const{eventName:j,args:F}=JH({abi:b??[],data:N.data,topics:N.topics,strict:p}),W=Lp(N,{args:F,eventName:j});l([W])}catch(j){let F,W;if(j instanceof a8||j instanceof vT){if(h)return;F=j.abiItem.name,W=(R=j.abiItem.inputs)==null?void 0:R.some(B=>!("name"in B&&B.name))}const V=Lp(N,{args:W?[]:{},eventName:F});l([V])}},onError($){a==null||a($)}});w=E,y||w()}catch(v){a==null||a(v)}})(),()=>w()})()}function _Ze(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const c=ss(["watchPendingTransactions",t.uid,e,s]);return Wp(c,{onTransactions:r,onError:n},u=>{let h;const f=B3(async()=>{var p;try{if(!h)try{h=await Pt(t,g1e,"createPendingTransactionFilter")({});return}catch(g){throw f(),g}const m=await Pt(t,LT,"getFilterChanges")({filter:h});if(m.length===0)return;if(e)u.onTransactions(m);else for(const g of m)u.onTransactions([g])}catch(m){(p=u.onError)==null||p.call(u,m)}},{emitOnBegin:!0,interval:s});return async()=>{h&&await Pt(t,FT,"uninstallFilter")({filter:h}),f()}})})():(()=>{let c=!0,u=()=>c=!1;return(async()=>{try{const{unsubscribe:h}=await t.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!c)return;const p=f.result;r([p])},onError(f){n==null||n(f)}});u=h,c||u()}catch(h){n==null||n(h)}})(),()=>u()})()}function IZe(t){var h,f,p;const{scheme:e,statement:n,...r}=((h=t.match(TZe))==null?void 0:h.groups)??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:l,...c}=((f=t.match($Ze))==null?void 0:f.groups)??{},u=(p=t.split("Resources:")[1])==null?void 0:p.split(`
- `).slice(1);return{...r,...c,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...l?{requestId:l}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const TZe=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,$Ze=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function NZe(t){const{address:e,domain:n,message:r,nonce:i,scheme:s,time:o=new Date}=t;if(n&&r.domain!==n||i&&r.nonce!==i||s&&r.scheme!==s||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!nl(r.address,{strict:!1})||e&&!RA(r.address,e))return!1}catch{return!1}return!0}async function PZe(t,e){const{address:n,domain:r,message:i,nonce:s,scheme:o,signature:a,time:l=new Date,...c}=e,u=IZe(i);if(!u.address||!NZe({address:n,domain:r,message:u,nonce:s,scheme:o,time:l}))return!1;const f=eye(i);return WT(t,{address:u.address,hash:f,signature:a,...c})}function LV(t){return{call:e=>TT(t,e),createAccessList:e=>p1e(t,e),createBlockFilter:()=>zQe(t),createContractEventFilter:e=>e1e(t,e),createEventFilter:e=>m1e(t,e),createPendingTransactionFilter:()=>g1e(t),estimateContractGas:e=>uQe(t,e),estimateGas:e=>NV(t,e),getBalance:e=>WQe(t,e),getBlobBaseFee:()=>HQe(t),getBlock:e=>_h(t,e),getBlockNumber:e=>LA(t,e),getBlockTransactionCount:e=>VQe(t,e),getBytecode:e=>hL(t,e),getChainId:()=>D3(t),getCode:e=>hL(t,e),getContractEvents:e=>i1e(t,e),getEip712Domain:e=>GQe(t,e),getEnsAddress:e=>SQe(t,e),getEnsAvatar:e=>LQe(t,e),getEnsName:e=>FQe(t,e),getEnsResolver:e=>UQe(t,e),getEnsText:e=>f1e(t,e),getFeeHistory:e=>QQe(t,e),estimateFeesPerGas:e=>cQe(t,e),getFilterChanges:e=>LT(t,e),getFilterLogs:e=>ZQe(t,e),getGasPrice:()=>$V(t),getLogs:e=>PV(t,e),getProof:e=>eZe(t,e),estimateMaxPriorityFeePerGas:e=>lQe(t,e),getStorageAt:e=>tZe(t,e),getTransaction:e=>BV(t,e),getTransactionConfirmations:e=>nZe(t,e),getTransactionCount:e=>dV(t,e),getTransactionReceipt:e=>B9(t,e),multicall:e=>rZe(t,e),prepareTransactionRequest:e=>BT(t,e),readContract:e=>bd(t,e),sendRawTransaction:e=>RV(t,e),simulate:e=>fL(t,e),simulateBlocks:e=>fL(t,e),simulateCalls:e=>fZe(t,e),simulateContract:e=>dQe(t,e),verifyHash:e=>WT(t,e),verifyMessage:e=>EZe(t,e),verifySiweMessage:e=>PZe(t,e),verifyTypedData:e=>AZe(t,e),uninstallFilter:e=>FT(t,e),waitForTransactionReceipt:e=>CZe(t,e),watchBlocks:e=>kZe(t,e),watchBlockNumber:e=>x1e(t,e),watchContractEvent:e=>wQe(t,e),watchEvent:e=>SZe(t,e),watchPendingTransactions:e=>_Ze(t,e)}}function Hp(t){const{key:e="public",name:n="Public Client"}=t;return c1e({...t,key:e,name:n,type:"publicClient"}).extend(LV)}async function RZe(t,{chain:e}){const{id:n,name:r,nativeCurrency:i,rpcUrls:s,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:$t(n),chainName:r,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function jZe(t,e){const{abi:n,args:r,bytecode:i,...s}=e,o=ET({abi:n,args:r,bytecode:i});return UT(t,{...s,...s.authorizationList?{to:null}:{},data:o})}async function OZe(t){var n;return((n=t.account)==null?void 0:n.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(r=>TA(r))}async function MZe(t,e={}){const{account:n=t.account,chainId:r}=e,i=n?Oi(n):void 0,s=r?[i==null?void 0:i.address,[$t(r)]]:[i==null?void 0:i.address],o=await t.request({method:"wallet_getCapabilities",params:s}),a={};for(const[l,c]of Object.entries(o)){a[Number(l)]={};for(let[u,h]of Object.entries(c))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(l)][u]=h}return typeof r=="number"?a[r]:a}async function DZe(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function E1e(t,e){var l;const{account:n=t.account,chainId:r,nonce:i}=e;if(!n)throw new Rw({docsPath:"/docs/eip7702/prepareAuthorization"});const s=Oi(n),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:Oi(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:i};return typeof a.chainId>"u"&&(a.chainId=((l=t.chain)==null?void 0:l.id)??await Pt(t,D3,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await Pt(t,dV,"getTransactionCount")({address:s.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&RA(o.address,s.address))&&(a.nonce+=1)),a}async function BZe(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Bi(n))}async function LZe(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function FZe(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function UZe(t,e){const{account:n=t.account}=e;if(!n)throw new Rw({docsPath:"/docs/eip7702/signAuthorization"});const r=Oi(n);if(!r.signAuthorization)throw new D9({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const i=await E1e(t,e);return r.signAuthorization(i)}async function zZe(t,{account:e=t.account,message:n}){if(!e)throw new Rw({docsPath:"/docs/actions/wallet/signMessage"});const r=Oi(e);if(r.signMessage)return r.signMessage({message:n});const i=typeof n=="string"?kx(n):n.raw instanceof Uint8Array?_i(n.raw):n.raw;return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function WZe(t,e){var c,u,h,f;const{account:n=t.account,chain:r=t.chain,...i}=e;if(!n)throw new Rw({docsPath:"/docs/actions/wallet/signTransaction"});const s=Oi(n);Pw({account:s,...e});const o=await Pt(t,D3,"getChainId")({});r!==null&&Kge({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((c=t.chain)==null?void 0:c.formatters),l=((u=a==null?void 0:a.transactionRequest)==null?void 0:u.format)||M3;return s.signTransaction?s.signTransaction({...i,chainId:o},{serializer:(f=(h=t.chain)==null?void 0:h.serializers)==null?void 0:f.transaction}):await t.request({method:"eth_signTransaction",params:[{...l(i,"signTransaction"),chainId:$t(o),from:s.address}]},{retryCount:0})}async function HZe(t,e){const{account:n=t.account,domain:r,message:i,primaryType:s}=e;if(!n)throw new Rw({docsPath:"/docs/actions/wallet/signTypedData"});const o=Oi(n),a={EIP712Domain:nye({domain:r}),...e.types};if(tye({domain:r,message:i,primaryType:s,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:i,primaryType:s,types:a});const l=MWe({domain:r,message:i,primaryType:s,types:a});return t.request({method:"eth_signTypedData_v4",params:[o.address,l]},{retryCount:0})}async function VZe(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:$t(e)}]},{retryCount:0})}async function qZe(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}function GZe(t){return{addChain:e=>RZe(t,e),deployContract:e=>jZe(t,e),getAddresses:()=>OZe(t),getCallsStatus:e=>a1e(t,e),getCapabilities:e=>MZe(t,e),getChainId:()=>D3(t),getPermissions:()=>DZe(t),prepareAuthorization:e=>E1e(t,e),prepareTransactionRequest:e=>BT(t,e),requestAddresses:()=>BZe(t),requestPermissions:e=>LZe(t,e),sendCalls:e=>xQe(t,e),sendRawTransaction:e=>RV(t,e),sendTransaction:e=>UT(t,e),showCallsStatus:e=>FZe(t,e),signAuthorization:e=>UZe(t,e),signMessage:e=>zZe(t,e),signTransaction:e=>WZe(t,e),signTypedData:e=>HZe(t,e),switchChain:e=>VZe(t,e),waitForCallsStatus:e=>EQe(t,e),watchAsset:e=>qZe(t,e),writeContract:e=>bQe(t,e)}}function A1e(t){const{key:e="wallet",name:n="Wallet Client",transport:r}=t;return c1e({...t,key:e,name:n,transport:r,type:"walletClient"}).extend(GZe)}function C1e({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},l){const c=l1e();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:s,timeout:o,type:a},request:kze(r,{methods:e,retryCount:i,retryDelay:s,uid:c}),value:l}}function k1e(t,e={}){const{key:n="custom",methods:r,name:i="Custom Provider",retryDelay:s}=e;return({retryCount:o})=>C1e({key:n,methods:r,name:i,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:s,type:"custom"})}class KZe extends ze{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Vp(t,e={}){const{batch:n,fetchFn:r,fetchOptions:i,key:s="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:c,retryDelay:u,raw:h}=e;return({chain:f,retryCount:p,timeout:m})=>{const{batchSize:g=1e3,wait:y=0}=typeof n=="object"?n:{},w=e.retryCount??p,v=m??e.timeout??1e4,b=t||(f==null?void 0:f.rpcUrls.default.http[0]);if(!b)throw new KZe;const A=$We(b,{fetchFn:r,fetchOptions:i,onRequest:l,onResponse:c,timeout:v});return C1e({key:s,methods:o,name:a,async request({method:E,params:$}){const N={method:E,params:$},{schedule:R}=qge({id:b,wait:y,shouldSplitBatch(V){return V.length>g},fn:V=>A.request({body:V}),sort:(V,B)=>V.id-B.id}),j=async V=>n?R(V):[await A.request({body:V})],[{error:F,result:W}]=await j(N);if(h)return{error:F,result:W};if(F)throw new rV({body:N,error:F,url:b});return W},retryCount:w,retryDelay:u,timeout:v,type:"http"},{fetchOptions:i,url:b})}}let YZe=class{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(QVe,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}};const QZe=new TextEncoder,S1e=new TextDecoder,ZZe=t=>{let e=t;typeof e=="string"&&(e=QZe.encode(e));const n=32768,r=[];for(let i=0;i<e.length;i+=n)r.push(String.fromCharCode.apply(null,e.subarray(i,i+n)));return btoa(r.join(""))},JZe=t=>ZZe(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),XZe=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},eJe=t=>{let e=t;e instanceof Uint8Array&&(e=S1e.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return XZe(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};let tJe=class extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var n;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,this.constructor)}},Hg=class extends tJe{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}};function nJe(t){return typeof t=="object"&&t!==null}function rJe(t){if(!nJe(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const X1=JZe,iJe=eJe;function gL(t){if(typeof t!="string")throw new Hg("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:n}=t.split(".");if(n===5)throw new Hg("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new Hg("Invalid JWT");if(!e)throw new Hg("JWTs must contain a payload");let r;try{r=iJe(e)}catch{throw new Hg("Failed to base64url decode the payload")}let i;try{i=JSON.parse(S1e.decode(r))}catch{throw new Hg("Failed to parse the decoded payload as JSON")}if(!rJe(i))throw new Hg("Invalid JWT Claims Set");return i}let x6=class _1e{static parse(e){try{return new _1e(e)}catch{return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=gL(e)}},I1e=class yL{async updateOnCrossAppAuthentication(e,n){let r=n.access_token,i=yL.providerAccessTokenStorageKey(e);await this._storage.put(i,r)}async getProviderAccessToken(e){let n=yL.providerAccessTokenStorageKey(e),r=await this._storage.get(n);if(typeof r!="string")return null;try{if(new x6(r).isExpired())throw Error("JWT is expired");return r}catch{return await this._storage.del(n),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(dVe,{params:{app_id:this._privyInternal.appId}})}constructor(e,n){this._privyInternal=e,this._storage=n}};I1e.providerAccessTokenStorageKey=t=>`privy:cross-app:${t}`;let sJe=class{async revoke(){await this._privyInternal.fetch(lqe,{})}constructor(e){this._privyInternal=e}};function oJe(t,e){return{...t,rpcUrls:{...t.rpcUrls,privy:{http:[e]}}}}const cu={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},HT={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},L3={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},FV={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},uu={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},blast:{http:["https://base-mainnet.blastapi.io"],webSocket:["wss://base-mainnet.blastapi.io"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},VT={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},aJe={id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},qT={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},lJe={id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},cJe={id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},uJe={id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},dJe={id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}},hJe={id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},T1e={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},fJe={id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},pJe={id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},du={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},lf={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},GT={id:11155420,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},ll={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},FA={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},mJe={id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},UV={id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},zV={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},$1e={id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},N1e={id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},UA=[du,UV,hJe,cu,HT,lf,GT,ll,FA,qT,lJe,cJe,uJe,uu,VT,aJe,pJe,T1e,fJe,L3,FV,zV,N1e,$1e,mJe,dJe],P1e=new Set(UA.map(t=>t.id));function WV(t){let e=t.filter(n=>!P1e.has(n.id));return UA.concat(e)}const R1e=t=>t.map(e=>{var i;if(e.rpcUrls.privyWalletOverride)return e;let n=UA.find(s=>s.id===e.id),r=(i=n==null?void 0:n.rpcUrls.privy)==null?void 0:i.http[0];return r?oJe(e,r):e});let zR=class extends Error{constructor({error:e,code:n}){super(e),this.error=e,this.code=n}},Qn=class extends Error{constructor({error:e,code:n}){super(e),this.code=n,this.error=e}},gJe=class extends Error{constructor({error:e,code:n,response:r}){super(e),this.code=n,this.error=e,this.response=r}};const om=t=>!!t.id&&t.recovery_method==="privy-v2";let yJe=class{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(om(this._account))throw new Qn({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessToken())throw new Qn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Qn({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s}};const wJe=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];var Ea;(Ea={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Ea.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Ea.INVALID_DATA="invalid_data",Ea.LINKED_TO_ANOTHER_USER="linked_to_another_user",Ea.ALLOWLIST_REJECTED="allowlist_rejected",Ea.OAUTH_USER_DENIED="oauth_user_denied",Ea.UNKNOWN_AUTH_ERROR="unknown_auth_error",Ea.USER_EXITED_AUTH_FLOW="exited_auth_flow",Ea.MUST_BE_AUTHENTICATED="must_be_authenticated",Ea.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",Ea.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",Ea.CLIENT_REQUEST_TIMEOUT="client_request_timeout",Ea.INVALID_CREDENTIALS="invalid_credentials";let bJe=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},L9=class extends Error{constructor(e,n){super(n),this.type=e}},j1e=class extends bJe{constructor(e,n,r){super(e,n,r),this.type="connector_error"}},Tee=class extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}};const Xu={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function vJe(t){let e=t.type;return typeof e=="string"&&wJe.includes(e)}function HV(t){return vJe(t)&&t.type==="wallet_not_on_device"}async function wL(t,{request:e}){return await t.fetchPrivyRoute(aqe,{body:e})}async function WR({context:t,chainType:e}){return{wallet:await wL(t,{request:{chain_type:e,owner_id:void 0}})}}const xJe="logger/5.8.0";let $ee=!1,Nee=!1;const F9={debug:1,default:2,info:2,warning:3,error:4,off:5};let Pee=F9.default,HR=null;function EJe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const Ree=EJe();var bL;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(bL||(bL={}));var Du;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Du||(Du={}));const jee="0123456789abcdef";class Re{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const r=e.toLowerCase();F9[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Pee>F9[r])&&console.log.apply(console,n)}debug(...e){this._log(Re.levels.DEBUG,e)}info(...e){this._log(Re.levels.INFO,e)}warn(...e){this._log(Re.levels.WARNING,e)}makeError(e,n,r){if(Nee)return this.makeError("censored error",n,{});n||(n=Re.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(l=>{const c=r[l];try{if(c instanceof Uint8Array){let u="";for(let h=0;h<c.length;h++)u+=jee[c[h]>>4],u+=jee[c[h]&15];i.push(l+"=Uint8Array(0x"+u+")")}else i.push(l+"="+JSON.stringify(c))}catch{i.push(l+"="+JSON.stringify(r[l].toString()))}}),i.push(`code=${n}`),i.push(`version=${this.version}`);const s=e;let o="";switch(n){case Du.NUMERIC_FAULT:{o="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":o+="-"+l;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Du.CALL_EXCEPTION:case Du.INSUFFICIENT_FUNDS:case Du.MISSING_NEW:case Du.NONCE_EXPIRED:case Du.REPLACEMENT_UNDERPRICED:case Du.TRANSACTION_REPLACED:case Du.UNPREDICTABLE_GAS_LIMIT:o=n;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=n,Object.keys(r).forEach(function(l){a[l]=r[l]}),a}throwError(e,n,r){throw this.makeError(e,n,r)}throwArgumentError(e,n,r){return this.throwError(e,Re.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,n,r,i){e||this.throwError(n,r,i)}assertArgument(e,n,r,i){e||this.throwArgumentError(n,r,i)}checkNormalize(e){Ree&&this.throwError("platform missing String.prototype.normalize",Re.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Ree})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,Re.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,Re.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,r){r?r=": "+r:r="",e<n&&this.throwError("missing argument"+r,Re.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+r,Re.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",Re.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",Re.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Re.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return HR||(HR=new Re(xJe)),HR}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",Re.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),$ee){if(!e)return;this.globalLogger().throwError("error censorship permanent",Re.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Nee=!!e,$ee=!!n}static setLogLevel(e){const n=F9[e.toLowerCase()];if(n==null){Re.globalLogger().warn("invalid log level - "+e);return}Pee=n}static from(e){return new Re(e)}}Re.errors=Du;Re.levels=bL;const AJe="properties/5.8.0";var CJe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const q_=new Re(AJe);function $n(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}function E6(t,e){for(let n=0;n<32;n++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Ds(t){return CJe(this,void 0,void 0,function*(){const e=Object.keys(t).map(r=>{const i=t[r];return Promise.resolve(i).then(s=>({key:r,value:s}))});return(yield Promise.all(e)).reduce((r,i)=>(r[i.key]=i.value,r),{})})}function kJe(t,e){(!t||typeof t!="object")&&q_.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(n=>{e[n]||q_.throwArgumentError("invalid object key - "+n,"transaction:"+n,t)})}function Va(t){const e={};for(const n in t)e[n]=t[n];return e}const SJe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function O1e(t){if(t==null||SJe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let n=0;n<e.length;n++){let r=null;try{r=t[e[n]]}catch{continue}if(!O1e(r))return!1}return!0}return q_.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function _Je(t){if(O1e(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>H8(e)));if(typeof t=="object"){const e={};for(const n in t){const r=t[n];r!==void 0&&$n(e,n,H8(r))}return e}return q_.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function H8(t){return _Je(t)}class IJe{constructor(e){for(const n in e)this[n]=H8(e[n])}}const TJe="abstract-signer/5.8.0";var bu=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Ac=new Re(TJe),$Je=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],NJe=[Re.errors.INSUFFICIENT_FUNDS,Re.errors.NONCE_EXPIRED,Re.errors.REPLACEMENT_UNDERPRICED];class KT{constructor(){Ac.checkAbstract(new.target,KT),$n(this,"_isSigner",!0)}getBalance(e){return bu(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return bu(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return bu(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const n=yield Ds(this.checkTransaction(e));return yield this.provider.estimateGas(n)})}call(e,n){return bu(this,void 0,void 0,function*(){this._checkProvider("call");const r=yield Ds(this.checkTransaction(e));return yield this.provider.call(r,n)})}sendTransaction(e){return bu(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const n=yield this.populateTransaction(e),r=yield this.signTransaction(n);return yield this.provider.sendTransaction(r)})}getChainId(){return bu(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return bu(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return bu(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return bu(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const r in e)$Je.indexOf(r)===-1&&Ac.throwArgumentError("invalid transaction key: "+r,"transaction",e);const n=Va(e);return n.from==null?n.from=this.getAddress():n.from=Promise.all([Promise.resolve(n.from),this.getAddress()]).then(r=>(r[0].toLowerCase()!==r[1].toLowerCase()&&Ac.throwArgumentError("from address mismatch","transaction",e),r[0])),n}populateTransaction(e){return bu(this,void 0,void 0,function*(){const n=yield Ds(this.checkTransaction(e));n.to!=null&&(n.to=Promise.resolve(n.to).then(i=>bu(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&Ac.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),n.to.catch(i=>{}));const r=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||r)?Ac.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(n.type===0||n.type===1)&&r&&Ac.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1)n.gasPrice==null&&(n.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(n.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const s=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=s,n.maxPriorityFeePerGas=s}else n.maxFeePerGas==null&&(n.maxFeePerGas=i.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(r&&Ac.throwError("network does not support EIP-1559",Re.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=i.gasPrice),n.type=0):Ac.throwError("failed to get consistent fee data",Re.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else n.type===2&&(n.maxFeePerGas==null&&(n.maxFeePerGas=i.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return n.nonce==null&&(n.nonce=this.getTransactionCount("pending")),n.gasLimit==null&&(n.gasLimit=this.estimateGas(n).catch(i=>{if(NJe.indexOf(i.code)>=0)throw i;return Ac.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Re.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:n})})),n.chainId==null?n.chainId=this.getChainId():n.chainId=Promise.all([Promise.resolve(n.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Ac.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield Ds(n)})}_checkProvider(e){this.provider||Ac.throwError("missing provider",Re.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class VV extends KT{constructor(e,n){super(),$n(this,"address",e),$n(this,"provider",n||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,n){return Promise.resolve().then(()=>{Ac.throwError(e,Re.errors.UNSUPPORTED_OPERATION,{operation:n})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,n,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new VV(this.address,e)}}var qV={exports:{}};const PJe={},RJe=Object.freeze(Object.defineProperty({__proto__:null,default:PJe},Symbol.toStringTag,{value:"Module"})),jJe=w3(RJe);qV.exports;(function(t){(function(e,n){function r(B,k){if(!B)throw new Error(k||"Assertion failed")}function i(B,k){B.super_=k;var C=function(){};C.prototype=k.prototype,B.prototype=new C,B.prototype.constructor=B}function s(B,k,C){if(s.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((k==="le"||k==="be")&&(C=k,k=10),this._init(B||0,k||10,C||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=jJe.Buffer}catch{}s.isBN=function(k){return k instanceof s?!0:k!==null&&typeof k=="object"&&k.constructor.wordSize===s.wordSize&&Array.isArray(k.words)},s.max=function(k,C){return k.cmp(C)>0?k:C},s.min=function(k,C){return k.cmp(C)<0?k:C},s.prototype._init=function(k,C,S){if(typeof k=="number")return this._initNumber(k,C,S);if(typeof k=="object")return this._initArray(k,C,S);C==="hex"&&(C=16),r(C===(C|0)&&C>=2&&C<=36),k=k.toString().replace(/\s+/g,"");var T=0;k[0]==="-"&&(T++,this.negative=1),T<k.length&&(C===16?this._parseHex(k,T,S):(this._parseBase(k,C,T),S==="le"&&this._initArray(this.toArray(),C,S)))},s.prototype._initNumber=function(k,C,S){k<0&&(this.negative=1,k=-k),k<67108864?(this.words=[k&67108863],this.length=1):k<4503599627370496?(this.words=[k&67108863,k/67108864&67108863],this.length=2):(r(k<9007199254740992),this.words=[k&67108863,k/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),C,S)},s.prototype._initArray=function(k,C,S){if(r(typeof k.length=="number"),k.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(k.length/3),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var _,P,L=0;if(S==="be")for(T=k.length-1,_=0;T>=0;T-=3)P=k[T]|k[T-1]<<8|k[T-2]<<16,this.words[_]|=P<<L&67108863,this.words[_+1]=P>>>26-L&67108863,L+=24,L>=26&&(L-=26,_++);else if(S==="le")for(T=0,_=0;T<k.length;T+=3)P=k[T]|k[T+1]<<8|k[T+2]<<16,this.words[_]|=P<<L&67108863,this.words[_+1]=P>>>26-L&67108863,L+=24,L>=26&&(L-=26,_++);return this._strip()};function a(B,k){var C=B.charCodeAt(k);if(C>=48&&C<=57)return C-48;if(C>=65&&C<=70)return C-55;if(C>=97&&C<=102)return C-87;r(!1,"Invalid character in "+B)}function l(B,k,C){var S=a(B,C);return C-1>=k&&(S|=a(B,C-1)<<4),S}s.prototype._parseHex=function(k,C,S){this.length=Math.ceil((k.length-C)/6),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var _=0,P=0,L;if(S==="be")for(T=k.length-1;T>=C;T-=2)L=l(k,C,T)<<_,this.words[P]|=L&67108863,_>=18?(_-=18,P+=1,this.words[P]|=L>>>26):_+=8;else{var O=k.length-C;for(T=O%2===0?C+1:C;T<k.length;T+=2)L=l(k,C,T)<<_,this.words[P]|=L&67108863,_>=18?(_-=18,P+=1,this.words[P]|=L>>>26):_+=8}this._strip()};function c(B,k,C,S){for(var T=0,_=0,P=Math.min(B.length,C),L=k;L<P;L++){var O=B.charCodeAt(L)-48;T*=S,O>=49?_=O-49+10:O>=17?_=O-17+10:_=O,r(O>=0&&_<S,"Invalid character"),T+=_}return T}s.prototype._parseBase=function(k,C,S){this.words=[0],this.length=1;for(var T=0,_=1;_<=67108863;_*=C)T++;T--,_=_/C|0;for(var P=k.length-S,L=P%T,O=Math.min(P,P-L)+S,I=0,D=S;D<O;D+=T)I=c(k,D,D+T,C),this.imuln(_),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I);if(L!==0){var Y=1;for(I=c(k,D,k.length,C),D=0;D<L;D++)Y*=C;this.imuln(Y),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I)}this._strip()},s.prototype.copy=function(k){k.words=new Array(this.length);for(var C=0;C<this.length;C++)k.words[C]=this.words[C];k.length=this.length,k.negative=this.negative,k.red=this.red};function u(B,k){B.words=k.words,B.length=k.length,B.negative=k.negative,B.red=k.red}if(s.prototype._move=function(k){u(k,this)},s.prototype.clone=function(){var k=new s(null);return this.copy(k),k},s.prototype._expand=function(k){for(;this.length<k;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(k,C){k=k||10,C=C|0||1;var S;if(k===16||k==="hex"){S="";for(var T=0,_=0,P=0;P<this.length;P++){var L=this.words[P],O=((L<<T|_)&16777215).toString(16);_=L>>>24-T&16777215,T+=2,T>=26&&(T-=26,P--),_!==0||P!==this.length-1?S=f[6-O.length]+O+S:S=O+S}for(_!==0&&(S=_.toString(16)+S);S.length%C!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(k===(k|0)&&k>=2&&k<=36){var I=p[k],D=m[k];S="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var M=Y.modrn(D).toString(k);Y=Y.idivn(D),Y.isZero()?S=M+S:S=f[I-M.length]+M+S}for(this.isZero()&&(S="0"+S);S.length%C!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var k=this.words[0];return this.length===2?k+=this.words[1]*67108864:this.length===3&&this.words[2]===1?k+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-k:k},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(k,C){return this.toArrayLike(o,k,C)}),s.prototype.toArray=function(k,C){return this.toArrayLike(Array,k,C)};var g=function(k,C){return k.allocUnsafe?k.allocUnsafe(C):new k(C)};s.prototype.toArrayLike=function(k,C,S){this._strip();var T=this.byteLength(),_=S||Math.max(1,T);r(T<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0");var P=g(k,_),L=C==="le"?"LE":"BE";return this["_toArrayLike"+L](P,T),P},s.prototype._toArrayLikeLE=function(k,C){for(var S=0,T=0,_=0,P=0;_<this.length;_++){var L=this.words[_]<<P|T;k[S++]=L&255,S<k.length&&(k[S++]=L>>8&255),S<k.length&&(k[S++]=L>>16&255),P===6?(S<k.length&&(k[S++]=L>>24&255),T=0,P=0):(T=L>>>24,P+=2)}if(S<k.length)for(k[S++]=T;S<k.length;)k[S++]=0},s.prototype._toArrayLikeBE=function(k,C){for(var S=k.length-1,T=0,_=0,P=0;_<this.length;_++){var L=this.words[_]<<P|T;k[S--]=L&255,S>=0&&(k[S--]=L>>8&255),S>=0&&(k[S--]=L>>16&255),P===6?(S>=0&&(k[S--]=L>>24&255),T=0,P=0):(T=L>>>24,P+=2)}if(S>=0)for(k[S--]=T;S>=0;)k[S--]=0},Math.clz32?s.prototype._countBits=function(k){return 32-Math.clz32(k)}:s.prototype._countBits=function(k){var C=k,S=0;return C>=4096&&(S+=13,C>>>=13),C>=64&&(S+=7,C>>>=7),C>=8&&(S+=4,C>>>=4),C>=2&&(S+=2,C>>>=2),S+C},s.prototype._zeroBits=function(k){if(k===0)return 26;var C=k,S=0;return C&8191||(S+=13,C>>>=13),C&127||(S+=7,C>>>=7),C&15||(S+=4,C>>>=4),C&3||(S+=2,C>>>=2),C&1||S++,S},s.prototype.bitLength=function(){var k=this.words[this.length-1],C=this._countBits(k);return(this.length-1)*26+C};function y(B){for(var k=new Array(B.bitLength()),C=0;C<k.length;C++){var S=C/26|0,T=C%26;k[C]=B.words[S]>>>T&1}return k}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var k=0,C=0;C<this.length;C++){var S=this._zeroBits(this.words[C]);if(k+=S,S!==26)break}return k},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(k){return this.negative!==0?this.abs().inotn(k).iaddn(1):this.clone()},s.prototype.fromTwos=function(k){return this.testn(k-1)?this.notn(k).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(k){for(;this.length<k.length;)this.words[this.length++]=0;for(var C=0;C<k.length;C++)this.words[C]=this.words[C]|k.words[C];return this._strip()},s.prototype.ior=function(k){return r((this.negative|k.negative)===0),this.iuor(k)},s.prototype.or=function(k){return this.length>k.length?this.clone().ior(k):k.clone().ior(this)},s.prototype.uor=function(k){return this.length>k.length?this.clone().iuor(k):k.clone().iuor(this)},s.prototype.iuand=function(k){var C;this.length>k.length?C=k:C=this;for(var S=0;S<C.length;S++)this.words[S]=this.words[S]&k.words[S];return this.length=C.length,this._strip()},s.prototype.iand=function(k){return r((this.negative|k.negative)===0),this.iuand(k)},s.prototype.and=function(k){return this.length>k.length?this.clone().iand(k):k.clone().iand(this)},s.prototype.uand=function(k){return this.length>k.length?this.clone().iuand(k):k.clone().iuand(this)},s.prototype.iuxor=function(k){var C,S;this.length>k.length?(C=this,S=k):(C=k,S=this);for(var T=0;T<S.length;T++)this.words[T]=C.words[T]^S.words[T];if(this!==C)for(;T<C.length;T++)this.words[T]=C.words[T];return this.length=C.length,this._strip()},s.prototype.ixor=function(k){return r((this.negative|k.negative)===0),this.iuxor(k)},s.prototype.xor=function(k){return this.length>k.length?this.clone().ixor(k):k.clone().ixor(this)},s.prototype.uxor=function(k){return this.length>k.length?this.clone().iuxor(k):k.clone().iuxor(this)},s.prototype.inotn=function(k){r(typeof k=="number"&&k>=0);var C=Math.ceil(k/26)|0,S=k%26;this._expand(C),S>0&&C--;for(var T=0;T<C;T++)this.words[T]=~this.words[T]&67108863;return S>0&&(this.words[T]=~this.words[T]&67108863>>26-S),this._strip()},s.prototype.notn=function(k){return this.clone().inotn(k)},s.prototype.setn=function(k,C){r(typeof k=="number"&&k>=0);var S=k/26|0,T=k%26;return this._expand(S+1),C?this.words[S]=this.words[S]|1<<T:this.words[S]=this.words[S]&~(1<<T),this._strip()},s.prototype.iadd=function(k){var C;if(this.negative!==0&&k.negative===0)return this.negative=0,C=this.isub(k),this.negative^=1,this._normSign();if(this.negative===0&&k.negative!==0)return k.negative=0,C=this.isub(k),k.negative=1,C._normSign();var S,T;this.length>k.length?(S=this,T=k):(S=k,T=this);for(var _=0,P=0;P<T.length;P++)C=(S.words[P]|0)+(T.words[P]|0)+_,this.words[P]=C&67108863,_=C>>>26;for(;_!==0&&P<S.length;P++)C=(S.words[P]|0)+_,this.words[P]=C&67108863,_=C>>>26;if(this.length=S.length,_!==0)this.words[this.length]=_,this.length++;else if(S!==this)for(;P<S.length;P++)this.words[P]=S.words[P];return this},s.prototype.add=function(k){var C;return k.negative!==0&&this.negative===0?(k.negative=0,C=this.sub(k),k.negative^=1,C):k.negative===0&&this.negative!==0?(this.negative=0,C=k.sub(this),this.negative=1,C):this.length>k.length?this.clone().iadd(k):k.clone().iadd(this)},s.prototype.isub=function(k){if(k.negative!==0){k.negative=0;var C=this.iadd(k);return k.negative=1,C._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(k),this.negative=1,this._normSign();var S=this.cmp(k);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var T,_;S>0?(T=this,_=k):(T=k,_=this);for(var P=0,L=0;L<_.length;L++)C=(T.words[L]|0)-(_.words[L]|0)+P,P=C>>26,this.words[L]=C&67108863;for(;P!==0&&L<T.length;L++)C=(T.words[L]|0)+P,P=C>>26,this.words[L]=C&67108863;if(P===0&&L<T.length&&T!==this)for(;L<T.length;L++)this.words[L]=T.words[L];return this.length=Math.max(this.length,L),T!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(k){return this.clone().isub(k)};function w(B,k,C){C.negative=k.negative^B.negative;var S=B.length+k.length|0;C.length=S,S=S-1|0;var T=B.words[0]|0,_=k.words[0]|0,P=T*_,L=P&67108863,O=P/67108864|0;C.words[0]=L;for(var I=1;I<S;I++){for(var D=O>>>26,Y=O&67108863,M=Math.min(I,k.length-1),Q=Math.max(0,I-B.length+1);Q<=M;Q++){var ee=I-Q|0;T=B.words[ee]|0,_=k.words[Q]|0,P=T*_+Y,D+=P/67108864|0,Y=P&67108863}C.words[I]=Y|0,O=D|0}return O!==0?C.words[I]=O|0:C.length--,C._strip()}var v=function(k,C,S){var T=k.words,_=C.words,P=S.words,L=0,O,I,D,Y=T[0]|0,M=Y&8191,Q=Y>>>13,ee=T[1]|0,J=ee&8191,oe=ee>>>13,de=T[2]|0,ae=de&8191,he=de>>>13,be=T[3]|0,fe=be&8191,ke=be>>>13,we=T[4]|0,Ue=we&8191,Me=we>>>13,_e=T[5]|0,xe=_e&8191,Oe=_e>>>13,Le=T[6]|0,Ce=Le&8191,De=Le>>>13,Ve=T[7]|0,rt=Ve&8191,G=Ve>>>13,U=T[8]|0,z=U&8191,X=U>>>13,ne=T[9]|0,ie=ne&8191,ce=ne>>>13,Be=_[0]|0,Xe=Be&8191,Ye=Be>>>13,et=_[1]|0,Pe=et&8191,Tt=et>>>13,dn=_[2]|0,Bt=dn&8191,He=dn>>>13,Ln=_[3]|0,En=Ln&8191,ot=Ln>>>13,Qt=_[4]|0,q=Qt&8191,K=Qt>>>13,se=_[5]|0,re=se&8191,le=se>>>13,ge=_[6]|0,$e=ge&8191,je=ge>>>13,Mt=_[7]|0,bt=Mt&8191,St=Mt>>>13,rn=_[8]|0,Qe=rn&8191,ut=rn>>>13,at=_[9]|0,ct=at&8191,ht=at>>>13;S.negative=k.negative^C.negative,S.length=19,O=Math.imul(M,Xe),I=Math.imul(M,Ye),I=I+Math.imul(Q,Xe)|0,D=Math.imul(Q,Ye);var an=(L+O|0)+((I&8191)<<13)|0;L=(D+(I>>>13)|0)+(an>>>26)|0,an&=67108863,O=Math.imul(J,Xe),I=Math.imul(J,Ye),I=I+Math.imul(oe,Xe)|0,D=Math.imul(oe,Ye),O=O+Math.imul(M,Pe)|0,I=I+Math.imul(M,Tt)|0,I=I+Math.imul(Q,Pe)|0,D=D+Math.imul(Q,Tt)|0;var zn=(L+O|0)+((I&8191)<<13)|0;L=(D+(I>>>13)|0)+(zn>>>26)|0,zn&=67108863,O=Math.imul(ae,Xe),I=Math.imul(ae,Ye),I=I+Math.imul(he,Xe)|0,D=Math.imul(he,Ye),O=O+Math.imul(J,Pe)|0,I=I+Math.imul(J,Tt)|0,I=I+Math.imul(oe,Pe)|0,D=D+Math.imul(oe,Tt)|0,O=O+Math.imul(M,Bt)|0,I=I+Math.imul(M,He)|0,I=I+Math.imul(Q,Bt)|0,D=D+Math.imul(Q,He)|0;var Ht=(L+O|0)+((I&8191)<<13)|0;L=(D+(I>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,O=Math.imul(fe,Xe),I=Math.imul(fe,Ye),I=I+Math.imul(ke,Xe)|0,D=Math.imul(ke,Ye),O=O+Math.imul(ae,Pe)|0,I=I+Math.imul(ae,Tt)|0,I=I+Math.imul(he,Pe)|0,D=D+Math.imul(he,Tt)|0,O=O+Math.imul(J,Bt)|0,I=I+Math.imul(J,He)|0,I=I+Math.imul(oe,Bt)|0,D=D+Math.imul(oe,He)|0,O=O+Math.imul(M,En)|0,I=I+Math.imul(M,ot)|0,I=I+Math.imul(Q,En)|0,D=D+Math.imul(Q,ot)|0;var Ft=(L+O|0)+((I&8191)<<13)|0;L=(D+(I>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,O=Math.imul(Ue,Xe),I=Math.imul(Ue,Ye),I=I+Math.imul(Me,Xe)|0,D=Math.imul(Me,Ye),O=O+Math.imul(fe,Pe)|0,I=I+Math.imul(fe,Tt)|0,I=I+Math.imul(ke,Pe)|0,D=D+Math.imul(ke,Tt)|0,O=O+Math.imul(ae,Bt)|0,I=I+Math.imul(ae,He)|0,I=I+Math.imul(he,Bt)|0,D=D+Math.imul(he,He)|0,O=O+Math.imul(J,En)|0,I=I+Math.imul(J,ot)|0,I=I+Math.imul(oe,En)|0,D=D+Math.imul(oe,ot)|0,O=O+Math.imul(M,q)|0,I=I+Math.imul(M,K)|0,I=I+Math.imul(Q,q)|0,D=D+Math.imul(Q,K)|0;var An=(L+O|0)+((I&8191)<<13)|0;L=(D+(I>>>13)|0)+(An>>>26)|0,An&=67108863,O=Math.imul(xe,Xe),I=Math.imul(xe,Ye),I=I+Math.imul(Oe,Xe)|0,D=Math.imul(Oe,Ye),O=O+Math.imul(Ue,Pe)|0,I=I+Math.imul(Ue,Tt)|0,I=I+Math.imul(Me,Pe)|0,D=D+Math.imul(Me,Tt)|0,O=O+Math.imul(fe,Bt)|0,I=I+Math.imul(fe,He)|0,I=I+Math.imul(ke,Bt)|0,D=D+Math.imul(ke,He)|0,O=O+Math.imul(ae,En)|0,I=I+Math.imul(ae,ot)|0,I=I+Math.imul(he,En)|0,D=D+Math.imul(he,ot)|0,O=O+Math.imul(J,q)|0,I=I+Math.imul(J,K)|0,I=I+Math.imul(oe,q)|0,D=D+Math.imul(oe,K)|0,O=O+Math.imul(M,re)|0,I=I+Math.imul(M,le)|0,I=I+Math.imul(Q,re)|0,D=D+Math.imul(Q,le)|0;var oi=(L+O|0)+((I&8191)<<13)|0;L=(D+(I>>>13)|0)+(oi>>>26)|0,oi&=67108863,O=Math.imul(Ce,Xe),I=Math.imul(Ce,Ye),I=I+Math.imul(De,Xe)|0,D=Math.imul(De,Ye),O=O+Math.imul(xe,Pe)|0,I=I+Math.imul(xe,Tt)|0,I=I+Math.imul(Oe,Pe)|0,D=D+Math.imul(Oe,Tt)|0,O=O+Math.imul(Ue,Bt)|0,I=I+Math.imul(Ue,He)|0,I=I+Math.imul(Me,Bt)|0,D=D+Math.imul(Me,He)|0,O=O+Math.imul(fe,En)|0,I=I+Math.imul(fe,ot)|0,I=I+Math.imul(ke,En)|0,D=D+Math.imul(ke,ot)|0,O=O+Math.imul(ae,q)|0,I=I+Math.imul(ae,K)|0,I=I+Math.imul(he,q)|0,D=D+Math.imul(he,K)|0,O=O+Math.imul(J,re)|0,I=I+Math.imul(J,le)|0,I=I+Math.imul(oe,re)|0,D=D+Math.imul(oe,le)|0,O=O+Math.imul(M,$e)|0,I=I+Math.imul(M,je)|0,I=I+Math.imul(Q,$e)|0,D=D+Math.imul(Q,je)|0;var uc=(L+O|0)+((I&8191)<<13)|0;L=(D+(I>>>13)|0)+(uc>>>26)|0,uc&=67108863,O=Math.imul(rt,Xe),I=Math.imul(rt,Ye),I=I+Math.imul(G,Xe)|0,D=Math.imul(G,Ye),O=O+Math.imul(Ce,Pe)|0,I=I+Math.imul(Ce,Tt)|0,I=I+Math.imul(De,Pe)|0,D=D+Math.imul(De,Tt)|0,O=O+Math.imul(xe,Bt)|0,I=I+Math.imul(xe,He)|0,I=I+Math.imul(Oe,Bt)|0,D=D+Math.imul(Oe,He)|0,O=O+Math.imul(Ue,En)|0,I=I+Math.imul(Ue,ot)|0,I=I+Math.imul(Me,En)|0,D=D+Math.imul(Me,ot)|0,O=O+Math.imul(fe,q)|0,I=I+Math.imul(fe,K)|0,I=I+Math.imul(ke,q)|0,D=D+Math.imul(ke,K)|0,O=O+Math.imul(ae,re)|0,I=I+Math.imul(ae,le)|0,I=I+Math.imul(he,re)|0,D=D+Math.imul(he,le)|0,O=O+Math.imul(J,$e)|0,I=I+Math.imul(J,je)|0,I=I+Math.imul(oe,$e)|0,D=D+Math.imul(oe,je)|0,O=O+Math.imul(M,bt)|0,I=I+Math.imul(M,St)|0,I=I+Math.imul(Q,bt)|0,D=D+Math.imul(Q,St)|0;var qt=(L+O|0)+((I&8191)<<13)|0;L=(D+(I>>>13)|0)+(qt>>>26)|0,qt&=67108863,O=Math.imul(z,Xe),I=Math.imul(z,Ye),I=I+Math.imul(X,Xe)|0,D=Math.imul(X,Ye),O=O+Math.imul(rt,Pe)|0,I=I+Math.imul(rt,Tt)|0,I=I+Math.imul(G,Pe)|0,D=D+Math.imul(G,Tt)|0,O=O+Math.imul(Ce,Bt)|0,I=I+Math.imul(Ce,He)|0,I=I+Math.imul(De,Bt)|0,D=D+Math.imul(De,He)|0,O=O+Math.imul(xe,En)|0,I=I+Math.imul(xe,ot)|0,I=I+Math.imul(Oe,En)|0,D=D+Math.imul(Oe,ot)|0,O=O+Math.imul(Ue,q)|0,I=I+Math.imul(Ue,K)|0,I=I+Math.imul(Me,q)|0,D=D+Math.imul(Me,K)|0,O=O+Math.imul(fe,re)|0,I=I+Math.imul(fe,le)|0,I=I+Math.imul(ke,re)|0,D=D+Math.imul(ke,le)|0,O=O+Math.imul(ae,$e)|0,I=I+Math.imul(ae,je)|0,I=I+Math.imul(he,$e)|0,D=D+Math.imul(he,je)|0,O=O+Math.imul(J,bt)|0,I=I+Math.imul(J,St)|0,I=I+Math.imul(oe,bt)|0,D=D+Math.imul(oe,St)|0,O=O+Math.imul(M,Qe)|0,I=I+Math.imul(M,ut)|0,I=I+Math.imul(Q,Qe)|0,D=D+Math.imul(Q,ut)|0;var vr=(L+O|0)+((I&8191)<<13)|0;L=(D+(I>>>13)|0)+(vr>>>26)|0,vr&=67108863,O=Math.imul(ie,Xe),I=Math.imul(ie,Ye),I=I+Math.imul(ce,Xe)|0,D=Math.imul(ce,Ye),O=O+Math.imul(z,Pe)|0,I=I+Math.imul(z,Tt)|0,I=I+Math.imul(X,Pe)|0,D=D+Math.imul(X,Tt)|0,O=O+Math.imul(rt,Bt)|0,I=I+Math.imul(rt,He)|0,I=I+Math.imul(G,Bt)|0,D=D+Math.imul(G,He)|0,O=O+Math.imul(Ce,En)|0,I=I+Math.imul(Ce,ot)|0,I=I+Math.imul(De,En)|0,D=D+Math.imul(De,ot)|0,O=O+Math.imul(xe,q)|0,I=I+Math.imul(xe,K)|0,I=I+Math.imul(Oe,q)|0,D=D+Math.imul(Oe,K)|0,O=O+Math.imul(Ue,re)|0,I=I+Math.imul(Ue,le)|0,I=I+Math.imul(Me,re)|0,D=D+Math.imul(Me,le)|0,O=O+Math.imul(fe,$e)|0,I=I+Math.imul(fe,je)|0,I=I+Math.imul(ke,$e)|0,D=D+Math.imul(ke,je)|0,O=O+Math.imul(ae,bt)|0,I=I+Math.imul(ae,St)|0,I=I+Math.imul(he,bt)|0,D=D+Math.imul(he,St)|0,O=O+Math.imul(J,Qe)|0,I=I+Math.imul(J,ut)|0,I=I+Math.imul(oe,Qe)|0,D=D+Math.imul(oe,ut)|0,O=O+Math.imul(M,ct)|0,I=I+Math.imul(M,ht)|0,I=I+Math.imul(Q,ct)|0,D=D+Math.imul(Q,ht)|0;var en=(L+O|0)+((I&8191)<<13)|0;L=(D+(I>>>13)|0)+(en>>>26)|0,en&=67108863,O=Math.imul(ie,Pe),I=Math.imul(ie,Tt),I=I+Math.imul(ce,Pe)|0,D=Math.imul(ce,Tt),O=O+Math.imul(z,Bt)|0,I=I+Math.imul(z,He)|0,I=I+Math.imul(X,Bt)|0,D=D+Math.imul(X,He)|0,O=O+Math.imul(rt,En)|0,I=I+Math.imul(rt,ot)|0,I=I+Math.imul(G,En)|0,D=D+Math.imul(G,ot)|0,O=O+Math.imul(Ce,q)|0,I=I+Math.imul(Ce,K)|0,I=I+Math.imul(De,q)|0,D=D+Math.imul(De,K)|0,O=O+Math.imul(xe,re)|0,I=I+Math.imul(xe,le)|0,I=I+Math.imul(Oe,re)|0,D=D+Math.imul(Oe,le)|0,O=O+Math.imul(Ue,$e)|0,I=I+Math.imul(Ue,je)|0,I=I+Math.imul(Me,$e)|0,D=D+Math.imul(Me,je)|0,O=O+Math.imul(fe,bt)|0,I=I+Math.imul(fe,St)|0,I=I+Math.imul(ke,bt)|0,D=D+Math.imul(ke,St)|0,O=O+Math.imul(ae,Qe)|0,I=I+Math.imul(ae,ut)|0,I=I+Math.imul(he,Qe)|0,D=D+Math.imul(he,ut)|0,O=O+Math.imul(J,ct)|0,I=I+Math.imul(J,ht)|0,I=I+Math.imul(oe,ct)|0,D=D+Math.imul(oe,ht)|0;var $r=(L+O|0)+((I&8191)<<13)|0;L=(D+(I>>>13)|0)+($r>>>26)|0,$r&=67108863,O=Math.imul(ie,Bt),I=Math.imul(ie,He),I=I+Math.imul(ce,Bt)|0,D=Math.imul(ce,He),O=O+Math.imul(z,En)|0,I=I+Math.imul(z,ot)|0,I=I+Math.imul(X,En)|0,D=D+Math.imul(X,ot)|0,O=O+Math.imul(rt,q)|0,I=I+Math.imul(rt,K)|0,I=I+Math.imul(G,q)|0,D=D+Math.imul(G,K)|0,O=O+Math.imul(Ce,re)|0,I=I+Math.imul(Ce,le)|0,I=I+Math.imul(De,re)|0,D=D+Math.imul(De,le)|0,O=O+Math.imul(xe,$e)|0,I=I+Math.imul(xe,je)|0,I=I+Math.imul(Oe,$e)|0,D=D+Math.imul(Oe,je)|0,O=O+Math.imul(Ue,bt)|0,I=I+Math.imul(Ue,St)|0,I=I+Math.imul(Me,bt)|0,D=D+Math.imul(Me,St)|0,O=O+Math.imul(fe,Qe)|0,I=I+Math.imul(fe,ut)|0,I=I+Math.imul(ke,Qe)|0,D=D+Math.imul(ke,ut)|0,O=O+Math.imul(ae,ct)|0,I=I+Math.imul(ae,ht)|0,I=I+Math.imul(he,ct)|0,D=D+Math.imul(he,ht)|0;var to=(L+O|0)+((I&8191)<<13)|0;L=(D+(I>>>13)|0)+(to>>>26)|0,to&=67108863,O=Math.imul(ie,En),I=Math.imul(ie,ot),I=I+Math.imul(ce,En)|0,D=Math.imul(ce,ot),O=O+Math.imul(z,q)|0,I=I+Math.imul(z,K)|0,I=I+Math.imul(X,q)|0,D=D+Math.imul(X,K)|0,O=O+Math.imul(rt,re)|0,I=I+Math.imul(rt,le)|0,I=I+Math.imul(G,re)|0,D=D+Math.imul(G,le)|0,O=O+Math.imul(Ce,$e)|0,I=I+Math.imul(Ce,je)|0,I=I+Math.imul(De,$e)|0,D=D+Math.imul(De,je)|0,O=O+Math.imul(xe,bt)|0,I=I+Math.imul(xe,St)|0,I=I+Math.imul(Oe,bt)|0,D=D+Math.imul(Oe,St)|0,O=O+Math.imul(Ue,Qe)|0,I=I+Math.imul(Ue,ut)|0,I=I+Math.imul(Me,Qe)|0,D=D+Math.imul(Me,ut)|0,O=O+Math.imul(fe,ct)|0,I=I+Math.imul(fe,ht)|0,I=I+Math.imul(ke,ct)|0,D=D+Math.imul(ke,ht)|0;var dc=(L+O|0)+((I&8191)<<13)|0;L=(D+(I>>>13)|0)+(dc>>>26)|0,dc&=67108863,O=Math.imul(ie,q),I=Math.imul(ie,K),I=I+Math.imul(ce,q)|0,D=Math.imul(ce,K),O=O+Math.imul(z,re)|0,I=I+Math.imul(z,le)|0,I=I+Math.imul(X,re)|0,D=D+Math.imul(X,le)|0,O=O+Math.imul(rt,$e)|0,I=I+Math.imul(rt,je)|0,I=I+Math.imul(G,$e)|0,D=D+Math.imul(G,je)|0,O=O+Math.imul(Ce,bt)|0,I=I+Math.imul(Ce,St)|0,I=I+Math.imul(De,bt)|0,D=D+Math.imul(De,St)|0,O=O+Math.imul(xe,Qe)|0,I=I+Math.imul(xe,ut)|0,I=I+Math.imul(Oe,Qe)|0,D=D+Math.imul(Oe,ut)|0,O=O+Math.imul(Ue,ct)|0,I=I+Math.imul(Ue,ht)|0,I=I+Math.imul(Me,ct)|0,D=D+Math.imul(Me,ht)|0;var fl=(L+O|0)+((I&8191)<<13)|0;L=(D+(I>>>13)|0)+(fl>>>26)|0,fl&=67108863,O=Math.imul(ie,re),I=Math.imul(ie,le),I=I+Math.imul(ce,re)|0,D=Math.imul(ce,le),O=O+Math.imul(z,$e)|0,I=I+Math.imul(z,je)|0,I=I+Math.imul(X,$e)|0,D=D+Math.imul(X,je)|0,O=O+Math.imul(rt,bt)|0,I=I+Math.imul(rt,St)|0,I=I+Math.imul(G,bt)|0,D=D+Math.imul(G,St)|0,O=O+Math.imul(Ce,Qe)|0,I=I+Math.imul(Ce,ut)|0,I=I+Math.imul(De,Qe)|0,D=D+Math.imul(De,ut)|0,O=O+Math.imul(xe,ct)|0,I=I+Math.imul(xe,ht)|0,I=I+Math.imul(Oe,ct)|0,D=D+Math.imul(Oe,ht)|0;var m5=(L+O|0)+((I&8191)<<13)|0;L=(D+(I>>>13)|0)+(m5>>>26)|0,m5&=67108863,O=Math.imul(ie,$e),I=Math.imul(ie,je),I=I+Math.imul(ce,$e)|0,D=Math.imul(ce,je),O=O+Math.imul(z,bt)|0,I=I+Math.imul(z,St)|0,I=I+Math.imul(X,bt)|0,D=D+Math.imul(X,St)|0,O=O+Math.imul(rt,Qe)|0,I=I+Math.imul(rt,ut)|0,I=I+Math.imul(G,Qe)|0,D=D+Math.imul(G,ut)|0,O=O+Math.imul(Ce,ct)|0,I=I+Math.imul(Ce,ht)|0,I=I+Math.imul(De,ct)|0,D=D+Math.imul(De,ht)|0;var g5=(L+O|0)+((I&8191)<<13)|0;L=(D+(I>>>13)|0)+(g5>>>26)|0,g5&=67108863,O=Math.imul(ie,bt),I=Math.imul(ie,St),I=I+Math.imul(ce,bt)|0,D=Math.imul(ce,St),O=O+Math.imul(z,Qe)|0,I=I+Math.imul(z,ut)|0,I=I+Math.imul(X,Qe)|0,D=D+Math.imul(X,ut)|0,O=O+Math.imul(rt,ct)|0,I=I+Math.imul(rt,ht)|0,I=I+Math.imul(G,ct)|0,D=D+Math.imul(G,ht)|0;var yP=(L+O|0)+((I&8191)<<13)|0;L=(D+(I>>>13)|0)+(yP>>>26)|0,yP&=67108863,O=Math.imul(ie,Qe),I=Math.imul(ie,ut),I=I+Math.imul(ce,Qe)|0,D=Math.imul(ce,ut),O=O+Math.imul(z,ct)|0,I=I+Math.imul(z,ht)|0,I=I+Math.imul(X,ct)|0,D=D+Math.imul(X,ht)|0;var wP=(L+O|0)+((I&8191)<<13)|0;L=(D+(I>>>13)|0)+(wP>>>26)|0,wP&=67108863,O=Math.imul(ie,ct),I=Math.imul(ie,ht),I=I+Math.imul(ce,ct)|0,D=Math.imul(ce,ht);var bP=(L+O|0)+((I&8191)<<13)|0;return L=(D+(I>>>13)|0)+(bP>>>26)|0,bP&=67108863,P[0]=an,P[1]=zn,P[2]=Ht,P[3]=Ft,P[4]=An,P[5]=oi,P[6]=uc,P[7]=qt,P[8]=vr,P[9]=en,P[10]=$r,P[11]=to,P[12]=dc,P[13]=fl,P[14]=m5,P[15]=g5,P[16]=yP,P[17]=wP,P[18]=bP,L!==0&&(P[19]=L,S.length++),S};Math.imul||(v=w);function b(B,k,C){C.negative=k.negative^B.negative,C.length=B.length+k.length;for(var S=0,T=0,_=0;_<C.length-1;_++){var P=T;T=0;for(var L=S&67108863,O=Math.min(_,k.length-1),I=Math.max(0,_-B.length+1);I<=O;I++){var D=_-I,Y=B.words[D]|0,M=k.words[I]|0,Q=Y*M,ee=Q&67108863;P=P+(Q/67108864|0)|0,ee=ee+L|0,L=ee&67108863,P=P+(ee>>>26)|0,T+=P>>>26,P&=67108863}C.words[_]=L,S=P,P=T}return S!==0?C.words[_]=S:C.length--,C._strip()}function A(B,k,C){return b(B,k,C)}s.prototype.mulTo=function(k,C){var S,T=this.length+k.length;return this.length===10&&k.length===10?S=v(this,k,C):T<63?S=w(this,k,C):T<1024?S=b(this,k,C):S=A(this,k,C),S},s.prototype.mul=function(k){var C=new s(null);return C.words=new Array(this.length+k.length),this.mulTo(k,C)},s.prototype.mulf=function(k){var C=new s(null);return C.words=new Array(this.length+k.length),A(this,k,C)},s.prototype.imul=function(k){return this.clone().mulTo(k,this)},s.prototype.imuln=function(k){var C=k<0;C&&(k=-k),r(typeof k=="number"),r(k<67108864);for(var S=0,T=0;T<this.length;T++){var _=(this.words[T]|0)*k,P=(_&67108863)+(S&67108863);S>>=26,S+=_/67108864|0,S+=P>>>26,this.words[T]=P&67108863}return S!==0&&(this.words[T]=S,this.length++),this.length=k===0?1:this.length,C?this.ineg():this},s.prototype.muln=function(k){return this.clone().imuln(k)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(k){var C=y(k);if(C.length===0)return new s(1);for(var S=this,T=0;T<C.length&&C[T]===0;T++,S=S.sqr());if(++T<C.length)for(var _=S.sqr();T<C.length;T++,_=_.sqr())C[T]!==0&&(S=S.mul(_));return S},s.prototype.iushln=function(k){r(typeof k=="number"&&k>=0);var C=k%26,S=(k-C)/26,T=67108863>>>26-C<<26-C,_;if(C!==0){var P=0;for(_=0;_<this.length;_++){var L=this.words[_]&T,O=(this.words[_]|0)-L<<C;this.words[_]=O|P,P=L>>>26-C}P&&(this.words[_]=P,this.length++)}if(S!==0){for(_=this.length-1;_>=0;_--)this.words[_+S]=this.words[_];for(_=0;_<S;_++)this.words[_]=0;this.length+=S}return this._strip()},s.prototype.ishln=function(k){return r(this.negative===0),this.iushln(k)},s.prototype.iushrn=function(k,C,S){r(typeof k=="number"&&k>=0);var T;C?T=(C-C%26)/26:T=0;var _=k%26,P=Math.min((k-_)/26,this.length),L=67108863^67108863>>>_<<_,O=S;if(T-=P,T=Math.max(0,T),O){for(var I=0;I<P;I++)O.words[I]=this.words[I];O.length=P}if(P!==0)if(this.length>P)for(this.length-=P,I=0;I<this.length;I++)this.words[I]=this.words[I+P];else this.words[0]=0,this.length=1;var D=0;for(I=this.length-1;I>=0&&(D!==0||I>=T);I--){var Y=this.words[I]|0;this.words[I]=D<<26-_|Y>>>_,D=Y&L}return O&&D!==0&&(O.words[O.length++]=D),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(k,C,S){return r(this.negative===0),this.iushrn(k,C,S)},s.prototype.shln=function(k){return this.clone().ishln(k)},s.prototype.ushln=function(k){return this.clone().iushln(k)},s.prototype.shrn=function(k){return this.clone().ishrn(k)},s.prototype.ushrn=function(k){return this.clone().iushrn(k)},s.prototype.testn=function(k){r(typeof k=="number"&&k>=0);var C=k%26,S=(k-C)/26,T=1<<C;if(this.length<=S)return!1;var _=this.words[S];return!!(_&T)},s.prototype.imaskn=function(k){r(typeof k=="number"&&k>=0);var C=k%26,S=(k-C)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(C!==0&&S++,this.length=Math.min(S,this.length),C!==0){var T=67108863^67108863>>>C<<C;this.words[this.length-1]&=T}return this._strip()},s.prototype.maskn=function(k){return this.clone().imaskn(k)},s.prototype.iaddn=function(k){return r(typeof k=="number"),r(k<67108864),k<0?this.isubn(-k):this.negative!==0?this.length===1&&(this.words[0]|0)<=k?(this.words[0]=k-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(k),this.negative=1,this):this._iaddn(k)},s.prototype._iaddn=function(k){this.words[0]+=k;for(var C=0;C<this.length&&this.words[C]>=67108864;C++)this.words[C]-=67108864,C===this.length-1?this.words[C+1]=1:this.words[C+1]++;return this.length=Math.max(this.length,C+1),this},s.prototype.isubn=function(k){if(r(typeof k=="number"),r(k<67108864),k<0)return this.iaddn(-k);if(this.negative!==0)return this.negative=0,this.iaddn(k),this.negative=1,this;if(this.words[0]-=k,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var C=0;C<this.length&&this.words[C]<0;C++)this.words[C]+=67108864,this.words[C+1]-=1;return this._strip()},s.prototype.addn=function(k){return this.clone().iaddn(k)},s.prototype.subn=function(k){return this.clone().isubn(k)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(k,C,S){var T=k.length+S,_;this._expand(T);var P,L=0;for(_=0;_<k.length;_++){P=(this.words[_+S]|0)+L;var O=(k.words[_]|0)*C;P-=O&67108863,L=(P>>26)-(O/67108864|0),this.words[_+S]=P&67108863}for(;_<this.length-S;_++)P=(this.words[_+S]|0)+L,L=P>>26,this.words[_+S]=P&67108863;if(L===0)return this._strip();for(r(L===-1),L=0,_=0;_<this.length;_++)P=-(this.words[_]|0)+L,L=P>>26,this.words[_]=P&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(k,C){var S=this.length-k.length,T=this.clone(),_=k,P=_.words[_.length-1]|0,L=this._countBits(P);S=26-L,S!==0&&(_=_.ushln(S),T.iushln(S),P=_.words[_.length-1]|0);var O=T.length-_.length,I;if(C!=="mod"){I=new s(null),I.length=O+1,I.words=new Array(I.length);for(var D=0;D<I.length;D++)I.words[D]=0}var Y=T.clone()._ishlnsubmul(_,1,O);Y.negative===0&&(T=Y,I&&(I.words[O]=1));for(var M=O-1;M>=0;M--){var Q=(T.words[_.length+M]|0)*67108864+(T.words[_.length+M-1]|0);for(Q=Math.min(Q/P|0,67108863),T._ishlnsubmul(_,Q,M);T.negative!==0;)Q--,T.negative=0,T._ishlnsubmul(_,1,M),T.isZero()||(T.negative^=1);I&&(I.words[M]=Q)}return I&&I._strip(),T._strip(),C!=="div"&&S!==0&&T.iushrn(S),{div:I||null,mod:T}},s.prototype.divmod=function(k,C,S){if(r(!k.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var T,_,P;return this.negative!==0&&k.negative===0?(P=this.neg().divmod(k,C),C!=="mod"&&(T=P.div.neg()),C!=="div"&&(_=P.mod.neg(),S&&_.negative!==0&&_.iadd(k)),{div:T,mod:_}):this.negative===0&&k.negative!==0?(P=this.divmod(k.neg(),C),C!=="mod"&&(T=P.div.neg()),{div:T,mod:P.mod}):this.negative&k.negative?(P=this.neg().divmod(k.neg(),C),C!=="div"&&(_=P.mod.neg(),S&&_.negative!==0&&_.isub(k)),{div:P.div,mod:_}):k.length>this.length||this.cmp(k)<0?{div:new s(0),mod:this}:k.length===1?C==="div"?{div:this.divn(k.words[0]),mod:null}:C==="mod"?{div:null,mod:new s(this.modrn(k.words[0]))}:{div:this.divn(k.words[0]),mod:new s(this.modrn(k.words[0]))}:this._wordDiv(k,C)},s.prototype.div=function(k){return this.divmod(k,"div",!1).div},s.prototype.mod=function(k){return this.divmod(k,"mod",!1).mod},s.prototype.umod=function(k){return this.divmod(k,"mod",!0).mod},s.prototype.divRound=function(k){var C=this.divmod(k);if(C.mod.isZero())return C.div;var S=C.div.negative!==0?C.mod.isub(k):C.mod,T=k.ushrn(1),_=k.andln(1),P=S.cmp(T);return P<0||_===1&&P===0?C.div:C.div.negative!==0?C.div.isubn(1):C.div.iaddn(1)},s.prototype.modrn=function(k){var C=k<0;C&&(k=-k),r(k<=67108863);for(var S=(1<<26)%k,T=0,_=this.length-1;_>=0;_--)T=(S*T+(this.words[_]|0))%k;return C?-T:T},s.prototype.modn=function(k){return this.modrn(k)},s.prototype.idivn=function(k){var C=k<0;C&&(k=-k),r(k<=67108863);for(var S=0,T=this.length-1;T>=0;T--){var _=(this.words[T]|0)+S*67108864;this.words[T]=_/k|0,S=_%k}return this._strip(),C?this.ineg():this},s.prototype.divn=function(k){return this.clone().idivn(k)},s.prototype.egcd=function(k){r(k.negative===0),r(!k.isZero());var C=this,S=k.clone();C.negative!==0?C=C.umod(k):C=C.clone();for(var T=new s(1),_=new s(0),P=new s(0),L=new s(1),O=0;C.isEven()&&S.isEven();)C.iushrn(1),S.iushrn(1),++O;for(var I=S.clone(),D=C.clone();!C.isZero();){for(var Y=0,M=1;!(C.words[0]&M)&&Y<26;++Y,M<<=1);if(Y>0)for(C.iushrn(Y);Y-- >0;)(T.isOdd()||_.isOdd())&&(T.iadd(I),_.isub(D)),T.iushrn(1),_.iushrn(1);for(var Q=0,ee=1;!(S.words[0]&ee)&&Q<26;++Q,ee<<=1);if(Q>0)for(S.iushrn(Q);Q-- >0;)(P.isOdd()||L.isOdd())&&(P.iadd(I),L.isub(D)),P.iushrn(1),L.iushrn(1);C.cmp(S)>=0?(C.isub(S),T.isub(P),_.isub(L)):(S.isub(C),P.isub(T),L.isub(_))}return{a:P,b:L,gcd:S.iushln(O)}},s.prototype._invmp=function(k){r(k.negative===0),r(!k.isZero());var C=this,S=k.clone();C.negative!==0?C=C.umod(k):C=C.clone();for(var T=new s(1),_=new s(0),P=S.clone();C.cmpn(1)>0&&S.cmpn(1)>0;){for(var L=0,O=1;!(C.words[0]&O)&&L<26;++L,O<<=1);if(L>0)for(C.iushrn(L);L-- >0;)T.isOdd()&&T.iadd(P),T.iushrn(1);for(var I=0,D=1;!(S.words[0]&D)&&I<26;++I,D<<=1);if(I>0)for(S.iushrn(I);I-- >0;)_.isOdd()&&_.iadd(P),_.iushrn(1);C.cmp(S)>=0?(C.isub(S),T.isub(_)):(S.isub(C),_.isub(T))}var Y;return C.cmpn(1)===0?Y=T:Y=_,Y.cmpn(0)<0&&Y.iadd(k),Y},s.prototype.gcd=function(k){if(this.isZero())return k.abs();if(k.isZero())return this.abs();var C=this.clone(),S=k.clone();C.negative=0,S.negative=0;for(var T=0;C.isEven()&&S.isEven();T++)C.iushrn(1),S.iushrn(1);do{for(;C.isEven();)C.iushrn(1);for(;S.isEven();)S.iushrn(1);var _=C.cmp(S);if(_<0){var P=C;C=S,S=P}else if(_===0||S.cmpn(1)===0)break;C.isub(S)}while(!0);return S.iushln(T)},s.prototype.invm=function(k){return this.egcd(k).a.umod(k)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(k){return this.words[0]&k},s.prototype.bincn=function(k){r(typeof k=="number");var C=k%26,S=(k-C)/26,T=1<<C;if(this.length<=S)return this._expand(S+1),this.words[S]|=T,this;for(var _=T,P=S;_!==0&&P<this.length;P++){var L=this.words[P]|0;L+=_,_=L>>>26,L&=67108863,this.words[P]=L}return _!==0&&(this.words[P]=_,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(k){var C=k<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;this._strip();var S;if(this.length>1)S=1;else{C&&(k=-k),r(k<=67108863,"Number is too big");var T=this.words[0]|0;S=T===k?0:T<k?-1:1}return this.negative!==0?-S|0:S},s.prototype.cmp=function(k){if(this.negative!==0&&k.negative===0)return-1;if(this.negative===0&&k.negative!==0)return 1;var C=this.ucmp(k);return this.negative!==0?-C|0:C},s.prototype.ucmp=function(k){if(this.length>k.length)return 1;if(this.length<k.length)return-1;for(var C=0,S=this.length-1;S>=0;S--){var T=this.words[S]|0,_=k.words[S]|0;if(T!==_){T<_?C=-1:T>_&&(C=1);break}}return C},s.prototype.gtn=function(k){return this.cmpn(k)===1},s.prototype.gt=function(k){return this.cmp(k)===1},s.prototype.gten=function(k){return this.cmpn(k)>=0},s.prototype.gte=function(k){return this.cmp(k)>=0},s.prototype.ltn=function(k){return this.cmpn(k)===-1},s.prototype.lt=function(k){return this.cmp(k)===-1},s.prototype.lten=function(k){return this.cmpn(k)<=0},s.prototype.lte=function(k){return this.cmp(k)<=0},s.prototype.eqn=function(k){return this.cmpn(k)===0},s.prototype.eq=function(k){return this.cmp(k)===0},s.red=function(k){return new W(k)},s.prototype.toRed=function(k){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),k.convertTo(this)._forceRed(k)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(k){return this.red=k,this},s.prototype.forceRed=function(k){return r(!this.red,"Already a number in reduction context"),this._forceRed(k)},s.prototype.redAdd=function(k){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,k)},s.prototype.redIAdd=function(k){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,k)},s.prototype.redSub=function(k){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,k)},s.prototype.redISub=function(k){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,k)},s.prototype.redShl=function(k){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,k)},s.prototype.redMul=function(k){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.mul(this,k)},s.prototype.redIMul=function(k){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.imul(this,k)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(k){return r(this.red&&!k.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,k)};var E={k256:null,p224:null,p192:null,p25519:null};function $(B,k){this.name=B,this.p=new s(k,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var k=new s(null);return k.words=new Array(Math.ceil(this.n/13)),k},$.prototype.ireduce=function(k){var C=k,S;do this.split(C,this.tmp),C=this.imulK(C),C=C.iadd(this.tmp),S=C.bitLength();while(S>this.n);var T=S<this.n?-1:C.ucmp(this.p);return T===0?(C.words[0]=0,C.length=1):T>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},$.prototype.split=function(k,C){k.iushrn(this.n,0,C)},$.prototype.imulK=function(k){return k.imul(this.k)};function N(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(N,$),N.prototype.split=function(k,C){for(var S=4194303,T=Math.min(k.length,9),_=0;_<T;_++)C.words[_]=k.words[_];if(C.length=T,k.length<=9){k.words[0]=0,k.length=1;return}var P=k.words[9];for(C.words[C.length++]=P&S,_=10;_<k.length;_++){var L=k.words[_]|0;k.words[_-10]=(L&S)<<4|P>>>22,P=L}P>>>=22,k.words[_-10]=P,P===0&&k.length>10?k.length-=10:k.length-=9},N.prototype.imulK=function(k){k.words[k.length]=0,k.words[k.length+1]=0,k.length+=2;for(var C=0,S=0;S<k.length;S++){var T=k.words[S]|0;C+=T*977,k.words[S]=C&67108863,C=T*64+(C/67108864|0)}return k.words[k.length-1]===0&&(k.length--,k.words[k.length-1]===0&&k.length--),k};function R(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(R,$);function j(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(j,$);function F(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(F,$),F.prototype.imulK=function(k){for(var C=0,S=0;S<k.length;S++){var T=(k.words[S]|0)*19+C,_=T&67108863;T>>>=26,k.words[S]=_,C=T}return C!==0&&(k.words[k.length++]=C),k},s._prime=function(k){if(E[k])return E[k];var C;if(k==="k256")C=new N;else if(k==="p224")C=new R;else if(k==="p192")C=new j;else if(k==="p25519")C=new F;else throw new Error("Unknown prime "+k);return E[k]=C,C};function W(B){if(typeof B=="string"){var k=s._prime(B);this.m=k.p,this.prime=k}else r(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}W.prototype._verify1=function(k){r(k.negative===0,"red works only with positives"),r(k.red,"red works only with red numbers")},W.prototype._verify2=function(k,C){r((k.negative|C.negative)===0,"red works only with positives"),r(k.red&&k.red===C.red,"red works only with red numbers")},W.prototype.imod=function(k){return this.prime?this.prime.ireduce(k)._forceRed(this):(u(k,k.umod(this.m)._forceRed(this)),k)},W.prototype.neg=function(k){return k.isZero()?k.clone():this.m.sub(k)._forceRed(this)},W.prototype.add=function(k,C){this._verify2(k,C);var S=k.add(C);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},W.prototype.iadd=function(k,C){this._verify2(k,C);var S=k.iadd(C);return S.cmp(this.m)>=0&&S.isub(this.m),S},W.prototype.sub=function(k,C){this._verify2(k,C);var S=k.sub(C);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},W.prototype.isub=function(k,C){this._verify2(k,C);var S=k.isub(C);return S.cmpn(0)<0&&S.iadd(this.m),S},W.prototype.shl=function(k,C){return this._verify1(k),this.imod(k.ushln(C))},W.prototype.imul=function(k,C){return this._verify2(k,C),this.imod(k.imul(C))},W.prototype.mul=function(k,C){return this._verify2(k,C),this.imod(k.mul(C))},W.prototype.isqr=function(k){return this.imul(k,k.clone())},W.prototype.sqr=function(k){return this.mul(k,k)},W.prototype.sqrt=function(k){if(k.isZero())return k.clone();var C=this.m.andln(3);if(r(C%2===1),C===3){var S=this.m.add(new s(1)).iushrn(2);return this.pow(k,S)}for(var T=this.m.subn(1),_=0;!T.isZero()&&T.andln(1)===0;)_++,T.iushrn(1);r(!T.isZero());var P=new s(1).toRed(this),L=P.redNeg(),O=this.m.subn(1).iushrn(1),I=this.m.bitLength();for(I=new s(2*I*I).toRed(this);this.pow(I,O).cmp(L)!==0;)I.redIAdd(L);for(var D=this.pow(I,T),Y=this.pow(k,T.addn(1).iushrn(1)),M=this.pow(k,T),Q=_;M.cmp(P)!==0;){for(var ee=M,J=0;ee.cmp(P)!==0;J++)ee=ee.redSqr();r(J<Q);var oe=this.pow(D,new s(1).iushln(Q-J-1));Y=Y.redMul(oe),D=oe.redSqr(),M=M.redMul(D),Q=J}return Y},W.prototype.invm=function(k){var C=k._invmp(this.m);return C.negative!==0?(C.negative=0,this.imod(C).redNeg()):this.imod(C)},W.prototype.pow=function(k,C){if(C.isZero())return new s(1).toRed(this);if(C.cmpn(1)===0)return k.clone();var S=4,T=new Array(1<<S);T[0]=new s(1).toRed(this),T[1]=k;for(var _=2;_<T.length;_++)T[_]=this.mul(T[_-1],k);var P=T[0],L=0,O=0,I=C.bitLength()%26;for(I===0&&(I=26),_=C.length-1;_>=0;_--){for(var D=C.words[_],Y=I-1;Y>=0;Y--){var M=D>>Y&1;if(P!==T[0]&&(P=this.sqr(P)),M===0&&L===0){O=0;continue}L<<=1,L|=M,O++,!(O!==S&&(_!==0||Y!==0))&&(P=this.mul(P,T[L]),O=0,L=0)}I=26}return P},W.prototype.convertTo=function(k){var C=k.umod(this.m);return C===k?C.clone():C},W.prototype.convertFrom=function(k){var C=k.clone();return C.red=null,C},s.mont=function(k){return new V(k)};function V(B){W.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(V,W),V.prototype.convertTo=function(k){return this.imod(k.ushln(this.shift))},V.prototype.convertFrom=function(k){var C=this.imod(k.mul(this.rinv));return C.red=null,C},V.prototype.imul=function(k,C){if(k.isZero()||C.isZero())return k.words[0]=0,k.length=1,k;var S=k.imul(C),T=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=S.isub(T).iushrn(this.shift),P=_;return _.cmp(this.m)>=0?P=_.isub(this.m):_.cmpn(0)<0&&(P=_.iadd(this.m)),P._forceRed(this)},V.prototype.mul=function(k,C){if(k.isZero()||C.isZero())return new s(0)._forceRed(this);var S=k.mul(C),T=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=S.isub(T).iushrn(this.shift),P=_;return _.cmp(this.m)>=0?P=_.isub(this.m):_.cmpn(0)<0&&(P=_.iadd(this.m)),P._forceRed(this)},V.prototype.invm=function(k){var C=this.imod(k._invmp(this.m).mul(this.r2));return C._forceRed(this)}})(t,ql)})(qV);var M1e=qV.exports;const zt=Ks(M1e),OJe="bytes/5.8.0",ci=new Re(OJe);function D1e(t){return!!t.toHexString}function Jv(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Jv(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function GV(t){return br(t)&&!(t.length%2)||F3(t)}function Oee(t){return typeof t=="number"&&t==t&&t%1===0}function F3(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!Oee(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const n=t[e];if(!Oee(n)||n<0||n>=256)return!1}return!0}function un(t,e){if(e||(e={}),typeof t=="number"){ci.checkSafeUint53(t,"invalid arrayify value");const n=[];for(;t;)n.unshift(t&255),t=parseInt(String(t/256));return n.length===0&&n.push(0),Jv(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),D1e(t)&&(t=t.toHexString()),br(t)){let n=t.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":ci.throwArgumentError("hex data is odd-length","value",t));const r=[];for(let i=0;i<n.length;i+=2)r.push(parseInt(n.substring(i,i+2),16));return Jv(new Uint8Array(r))}return F3(t)?Jv(new Uint8Array(t)):ci.throwArgumentError("invalid arrayify value","value",t)}function Ny(t){const e=t.map(i=>un(i)),n=e.reduce((i,s)=>i+s.length,0),r=new Uint8Array(n);return e.reduce((i,s)=>(r.set(s,i),i+s.length),0),Jv(r)}function Mx(t){let e=un(t);if(e.length===0)return e;let n=0;for(;n<e.length&&e[n]===0;)n++;return n&&(e=e.slice(n)),e}function MJe(t,e){t=un(t),t.length>e&&ci.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(e);return n.set(t,e-t.length),Jv(n)}function br(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const VR="0123456789abcdef";function cn(t,e){if(e||(e={}),typeof t=="number"){ci.checkSafeUint53(t,"invalid hexlify value");let n="";for(;t;)n=VR[t&15]+n,t=Math.floor(t/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),D1e(t))return t.toHexString();if(br(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":ci.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(F3(t)){let n="0x";for(let r=0;r<t.length;r++){let i=t[r];n+=VR[(i&240)>>4]+VR[i&15]}return n}return ci.throwArgumentError("invalid hexlify value","value",t)}function ew(t){if(typeof t!="string")t=cn(t);else if(!br(t)||t.length%2)return null;return(t.length-2)/2}function Go(t,e,n){return typeof t!="string"?t=cn(t):(!br(t)||t.length%2)&&ci.throwArgumentError("invalid hexData","value",t),e=2+2*e,n!=null?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function Fl(t){let e="0x";return t.forEach(n=>{e+=cn(n).substring(2)}),e}function KV(t){const e=DJe(cn(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function DJe(t){typeof t!="string"&&(t=cn(t)),br(t)||ci.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function gi(t,e){for(typeof t!="string"?t=cn(t):br(t)||ci.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&ci.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function YT(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(GV(t)){let n=un(t);n.length===64?(e.v=27+(n[32]>>7),n[32]&=127,e.r=cn(n.slice(0,32)),e.s=cn(n.slice(32,64))):n.length===65?(e.r=cn(n.slice(0,32)),e.s=cn(n.slice(32,64)),e.v=n[64]):ci.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:ci.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=cn(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=MJe(un(e._vs),32);e._vs=cn(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&ci.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=cn(i);e.s==null?e.s=o:e.s!==o&&ci.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?ci.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&ci.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!br(e.r)?ci.throwArgumentError("signature missing or invalid r","signature",t):e.r=gi(e.r,32),e.s==null||!br(e.s)?ci.throwArgumentError("signature missing or invalid s","signature",t):e.s=gi(e.s,32);const n=un(e.s);n[0]>=128&&ci.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);const r=cn(n);e._vs&&(br(e._vs)||ci.throwArgumentError("signature invalid _vs","signature",t),e._vs=gi(e._vs,32)),e._vs==null?e._vs=r:e._vs!==r&&ci.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const B1e="bignumber/5.8.0";var G_=zt.BN;const Mf=new Re(B1e),qR={},Mee=9007199254740991;function BJe(t){return t!=null&&(dt.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||br(t)||typeof t=="bigint"||F3(t))}let Dee=!1;class dt{constructor(e,n){e!==qR&&Mf.throwError("cannot call constructor directly; use BigNumber.from",Re.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Aa(In(this).fromTwos(e))}toTwos(e){return Aa(In(this).toTwos(e))}abs(){return this._hex[0]==="-"?dt.from(this._hex.substring(1)):this}add(e){return Aa(In(this).add(In(e)))}sub(e){return Aa(In(this).sub(In(e)))}div(e){return dt.from(e).isZero()&&pc("division-by-zero","div"),Aa(In(this).div(In(e)))}mul(e){return Aa(In(this).mul(In(e)))}mod(e){const n=In(e);return n.isNeg()&&pc("division-by-zero","mod"),Aa(In(this).umod(n))}pow(e){const n=In(e);return n.isNeg()&&pc("negative-power","pow"),Aa(In(this).pow(n))}and(e){const n=In(e);return(this.isNegative()||n.isNeg())&&pc("unbound-bitwise-result","and"),Aa(In(this).and(n))}or(e){const n=In(e);return(this.isNegative()||n.isNeg())&&pc("unbound-bitwise-result","or"),Aa(In(this).or(n))}xor(e){const n=In(e);return(this.isNegative()||n.isNeg())&&pc("unbound-bitwise-result","xor"),Aa(In(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&pc("negative-width","mask"),Aa(In(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&pc("negative-width","shl"),Aa(In(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&pc("negative-width","shr"),Aa(In(this).shrn(e))}eq(e){return In(this).eq(In(e))}lt(e){return In(this).lt(In(e))}lte(e){return In(this).lte(In(e))}gt(e){return In(this).gt(In(e))}gte(e){return In(this).gte(In(e))}isNegative(){return this._hex[0]==="-"}isZero(){return In(this).isZero()}toNumber(){try{return In(this).toNumber()}catch{pc("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Mf.throwError("this platform does not support BigInt",Re.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Dee||(Dee=!0,Mf.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Mf.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Re.errors.UNEXPECTED_ARGUMENT,{}):Mf.throwError("BigNumber.toString does not accept parameters",Re.errors.UNEXPECTED_ARGUMENT,{})),In(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof dt)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new dt(qR,V8(e)):e.match(/^-?[0-9]+$/)?new dt(qR,V8(new G_(e))):Mf.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&pc("underflow","BigNumber.from",e),(e>=Mee||e<=-Mee)&&pc("overflow","BigNumber.from",e),dt.from(String(e));const n=e;if(typeof n=="bigint")return dt.from(n.toString());if(F3(n))return dt.from(cn(n));if(n)if(n.toHexString){const r=n.toHexString();if(typeof r=="string")return dt.from(r)}else{let r=n._hex;if(r==null&&n.type==="BigNumber"&&(r=n.hex),typeof r=="string"&&(br(r)||r[0]==="-"&&br(r.substring(1))))return dt.from(r)}return Mf.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function V8(t){if(typeof t!="string")return V8(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Mf.throwArgumentError("invalid hex","value",t),t=V8(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Aa(t){return dt.from(V8(t))}function In(t){const e=dt.from(t).toHexString();return e[0]==="-"?new G_("-"+e.substring(3),16):new G_(e.substring(2),16)}function pc(t,e,n){const r={fault:t,operation:e};return n!=null&&(r.value=n),Mf.throwError(t,Re.errors.NUMERIC_FAULT,r)}function LJe(t){return new G_(t,36).toString(16)}const Jo=new Re(B1e),i4={},L1e=dt.from(0),F1e=dt.from(-1);function U1e(t,e,n,r){const i={fault:e,operation:n};return r!==void 0&&(i.value=r),Jo.throwError(t,Re.errors.NUMERIC_FAULT,i)}let s4="0";for(;s4.length<256;)s4+=s4;function YV(t){if(typeof t!="number")try{t=dt.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+s4.substring(0,t):Jo.throwArgumentError("invalid decimal size","decimals",t)}function GR(t,e){e==null&&(e=0);const n=YV(e);t=dt.from(t);const r=t.lt(L1e);r&&(t=t.mul(F1e));let i=t.mod(n).toString();for(;i.length<n.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(n).toString();return n.length===1?t=s:t=s+"."+i,r&&(t="-"+t),t}function Zd(t,e){e==null&&(e=0);const n=YV(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&Jo.throwArgumentError("invalid decimal value","value",t);const r=t.substring(0,1)==="-";r&&(t=t.substring(1)),t==="."&&Jo.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&Jo.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>n.length-1&&U1e("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<n.length-1;)o+="0";const a=dt.from(s),l=dt.from(o);let c=a.mul(n).add(l);return r&&(c=c.mul(F1e)),c}class Xv{constructor(e,n,r,i){e!==i4&&Jo.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Re.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=n,this.width=r,this.decimals=i,this.name=(n?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=YV(i),Object.freeze(this)}static from(e){if(e instanceof Xv)return e;typeof e=="number"&&(e=`fixed128x${e}`);let n=!0,r=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")n=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Jo.throwArgumentError("invalid fixed format","format",e),n=s[1]!=="u",r=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,l)=>e[o]==null?l:(typeof e[o]!==a&&Jo.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);n=s("signed","boolean",n),r=s("width","number",r),i=s("decimals","number",i)}return r%8&&Jo.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&Jo.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Xv(i4,n,r,i)}}let z1e=class Fo{constructor(e,n,r,i){e!==i4&&Jo.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Re.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=n,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Jo.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const n=Zd(this._value,this.format.decimals),r=Zd(e._value,e.format.decimals);return Fo.fromValue(n.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const n=Zd(this._value,this.format.decimals),r=Zd(e._value,e.format.decimals);return Fo.fromValue(n.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const n=Zd(this._value,this.format.decimals),r=Zd(e._value,e.format.decimals);return Fo.fromValue(n.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const n=Zd(this._value,this.format.decimals),r=Zd(e._value,e.format.decimals);return Fo.fromValue(n.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=Fo.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(n=n.subUnsafe(Bee.toFormat(n.format))),n}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=Fo.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(n=n.addUnsafe(Bee.toFormat(n.format))),n}round(e){e==null&&(e=0);const n=this.toString().split(".");if(n.length===1&&n.push("0"),(e<0||e>80||e%1)&&Jo.throwArgumentError("invalid decimal count","decimals",e),n[1].length<=e)return this;const r=Fo.from("1"+s4.substring(0,e),this.format),i=FJe.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Jo.throwArgumentError("invalid byte width","width",e);const n=dt.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return gi(n,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Fo.fromString(this._value,e)}static fromValue(e,n,r){return r==null&&n!=null&&!BJe(n)&&(r=n,n=null),n==null&&(n=0),r==null&&(r="fixed"),Fo.fromString(GR(e,n),Xv.from(r))}static fromString(e,n){n==null&&(n="fixed");const r=Xv.from(n),i=Zd(e,r.decimals);!r.signed&&i.lt(L1e)&&U1e("unsigned value cannot be negative","overflow","value",e);let s=null;r.signed?s=i.toTwos(r.width).toHexString():(s=i.toHexString(),s=gi(s,r.width/8));const o=GR(i,r.decimals);return new Fo(i4,s,o,r)}static fromBytes(e,n){n==null&&(n="fixed");const r=Xv.from(n);if(un(e).length>r.width/8)throw new Error("overflow");let i=dt.from(e);r.signed&&(i=i.fromTwos(r.width));const s=i.toTwos((r.signed?0:1)+r.width).toHexString(),o=GR(i,r.decimals);return new Fo(i4,s,o,r)}static from(e,n){if(typeof e=="string")return Fo.fromString(e,n);if(F3(e))return Fo.fromBytes(e,n);try{return Fo.fromValue(e,0,n)}catch(r){if(r.code!==Re.errors.INVALID_ARGUMENT)throw r}return Jo.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}};const Bee=z1e.from(1),FJe=z1e.from("0.5"),UJe="abstract-provider/5.8.0";var zJe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const WJe=new Re(UJe);class HJe extends IJe{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class QV{constructor(){WJe.checkAbstract(new.target,QV),$n(this,"_isProvider",!0)}getFeeData(){return zJe(this,void 0,void 0,function*(){const{block:e,gasPrice:n}=yield Ds({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let r=null,i=null,s=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,s=dt.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:r,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:n}})}addListener(e,n){return this.on(e,n)}removeListener(e,n){return this.off(e,n)}static isProvider(e){return!!(e&&e._isProvider)}}const VJe="networks/5.8.0",Lee=new Re(VJe);function qJe(t){return t&&typeof t.renetwork=="function"}function Bu(t){const e=function(n,r){r==null&&(r={});const i=[];if(n.InfuraProvider&&r.infura!=="-")try{i.push(new n.InfuraProvider(t,r.infura))}catch{}if(n.EtherscanProvider&&r.etherscan!=="-")try{i.push(new n.EtherscanProvider(t,r.etherscan))}catch{}if(n.AlchemyProvider&&r.alchemy!=="-")try{i.push(new n.AlchemyProvider(t,r.alchemy))}catch{}if(n.PocketProvider&&r.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new n.PocketProvider(t,r.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(n.CloudflareProvider&&r.cloudflare!=="-")try{i.push(new n.CloudflareProvider(t))}catch{}if(n.AnkrProvider&&r.ankr!=="-")try{const s=["ropsten"],o=new n.AnkrProvider(t,r.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(n.QuickNodeProvider&&r.quicknode!=="-")try{i.push(new n.QuickNodeProvider(t,r.quicknode))}catch{}if(i.length===0)return null;if(n.FallbackProvider){let s=1;return r.quorum!=null?s=r.quorum:t==="homestead"&&(s=2),new n.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(n){return Bu(n)},e}function K_(t,e){const n=function(r,i){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return n.renetwork=function(r){return K_(t,r)},n}const Fee={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Bu("homestead")},Uee={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Bu("ropsten")},zee={chainId:63,name:"classicMordor",_defaultProvider:K_("https://www.ethercluster.com/mordor","classicMordor")},lk={unspecified:{chainId:0,name:"unspecified"},homestead:Fee,mainnet:Fee,morden:{chainId:2,name:"morden"},ropsten:Uee,testnet:Uee,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Bu("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Bu("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Bu("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:Bu("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:Bu("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:K_("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:zee,classicTestnet:zee,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:K_("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Bu("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:Bu("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:Bu("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function GJe(t){if(t==null)return null;if(typeof t=="number"){for(const r in lk){const i=lk[r];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const r=lk[t];return r==null?null:{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress,_defaultProvider:r._defaultProvider||null}}const e=lk[t.name];if(!e)return typeof t.chainId!="number"&&Lee.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&Lee.throwArgumentError("network chainId mismatch","network",t);let n=t._defaultProvider||null;return n==null&&e._defaultProvider&&(qJe(e._defaultProvider)?n=e._defaultProvider.renetwork(t):n=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:n}}function W1e(t){t=atob(t);const e=[];for(let n=0;n<t.length;n++)e.push(t.charCodeAt(n));return un(e)}function H1e(t){t=un(t);let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}class V1e{constructor(e){$n(this,"alphabet",e),$n(this,"base",e.length),$n(this,"_alphabetMap",{}),$n(this,"_leader",e.charAt(0));for(let n=0;n<e.length;n++)this._alphabetMap[e.charAt(n)]=n}encode(e){let n=un(e);if(n.length===0)return"";let r=[0];for(let s=0;s<n.length;++s){let o=n[s];for(let a=0;a<r.length;++a)o+=r[a]<<8,r[a]=o%this.base,o=o/this.base|0;for(;o>0;)r.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;n[s]===0&&s<n.length-1;++s)i+=this._leader;for(let s=r.length-1;s>=0;--s)i+=this.alphabet[r[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let n=[];if(e.length===0)return new Uint8Array(n);n.push(0);for(let r=0;r<e.length;r++){let i=this._alphabetMap[e[r]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<n.length;++o)s+=n[o]*this.base,n[o]=s&255,s>>=8;for(;s>0;)n.push(s&255),s>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)n.push(0);return un(new Uint8Array(n.reverse()))}}new V1e("abcdefghijklmnopqrstuvwxyz234567");const vL=new V1e("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),KJe="0x0000000000000000000000000000000000000000",YJe=dt.from(0),QJe="0x0000000000000000000000000000000000000000000000000000000000000000";var q1e={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",n="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA3_NO_WINDOW&&(r=!1);var s=!r&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=globalThis:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,l=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],h=[4,1024,262144,67108864],f=[1,256,65536,16777216],p=[6,1536,393216,100663296],m=[0,8,16,24],g=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],y=[224,256,384,512],w=[128,256],v=["hex","buffer","arrayBuffer","array","digest"],b={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(M){return Object.prototype.toString.call(M)==="[object Array]"}),l&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(M){return typeof M=="object"&&M.buffer&&M.buffer.constructor===ArrayBuffer});for(var A=function(M,Q,ee){return function(J){return new I(M,Q,M).update(J)[ee]()}},E=function(M,Q,ee){return function(J,oe){return new I(M,Q,oe).update(J)[ee]()}},$=function(M,Q,ee){return function(J,oe,de,ae){return k["cshake"+M].update(J,oe,de,ae)[ee]()}},N=function(M,Q,ee){return function(J,oe,de,ae){return k["kmac"+M].update(J,oe,de,ae)[ee]()}},R=function(M,Q,ee,J){for(var oe=0;oe<v.length;++oe){var de=v[oe];M[de]=Q(ee,J,de)}return M},j=function(M,Q){var ee=A(M,Q,"hex");return ee.create=function(){return new I(M,Q,M)},ee.update=function(J){return ee.create().update(J)},R(ee,A,M,Q)},F=function(M,Q){var ee=E(M,Q,"hex");return ee.create=function(J){return new I(M,Q,J)},ee.update=function(J,oe){return ee.create(oe).update(J)},R(ee,E,M,Q)},W=function(M,Q){var ee=b[M],J=$(M,Q,"hex");return J.create=function(oe,de,ae){return!de&&!ae?k["shake"+M].create(oe):new I(M,Q,oe).bytepad([de,ae],ee)},J.update=function(oe,de,ae,he){return J.create(de,ae,he).update(oe)},R(J,$,M,Q)},V=function(M,Q){var ee=b[M],J=N(M,Q,"hex");return J.create=function(oe,de,ae){return new D(M,Q,de).bytepad(["KMAC",ae],ee).bytepad([oe],ee)},J.update=function(oe,de,ae,he){return J.create(oe,ae,he).update(de)},R(J,N,M,Q)},B=[{name:"keccak",padding:f,bits:y,createMethod:j},{name:"sha3",padding:p,bits:y,createMethod:j},{name:"shake",padding:u,bits:w,createMethod:F},{name:"cshake",padding:h,bits:w,createMethod:W},{name:"kmac",padding:h,bits:w,createMethod:V}],k={},C=[],S=0;S<B.length;++S)for(var T=B[S],_=T.bits,P=0;P<_.length;++P){var L=T.name+"_"+_[P];if(C.push(L),k[L]=T.createMethod(_[P],T.padding),T.name!=="sha3"){var O=T.name+_[P];C.push(O),k[O]=k[L]}}function I(M,Q,ee){this.blocks=[],this.s=[],this.padding=Q,this.outputBits=ee,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(M<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=ee>>5,this.extraBytes=(ee&31)>>3;for(var J=0;J<50;++J)this.s[J]=0}I.prototype.update=function(M){if(this.finalized)throw new Error(n);var Q,ee=typeof M;if(ee!=="string"){if(ee==="object"){if(M===null)throw new Error(e);if(l&&M.constructor===ArrayBuffer)M=new Uint8Array(M);else if(!Array.isArray(M)&&(!l||!ArrayBuffer.isView(M)))throw new Error(e)}else throw new Error(e);Q=!0}for(var J=this.blocks,oe=this.byteCount,de=M.length,ae=this.blockCount,he=0,be=this.s,fe,ke;he<de;){if(this.reset)for(this.reset=!1,J[0]=this.block,fe=1;fe<ae+1;++fe)J[fe]=0;if(Q)for(fe=this.start;he<de&&fe<oe;++he)J[fe>>2]|=M[he]<<m[fe++&3];else for(fe=this.start;he<de&&fe<oe;++he)ke=M.charCodeAt(he),ke<128?J[fe>>2]|=ke<<m[fe++&3]:ke<2048?(J[fe>>2]|=(192|ke>>6)<<m[fe++&3],J[fe>>2]|=(128|ke&63)<<m[fe++&3]):ke<55296||ke>=57344?(J[fe>>2]|=(224|ke>>12)<<m[fe++&3],J[fe>>2]|=(128|ke>>6&63)<<m[fe++&3],J[fe>>2]|=(128|ke&63)<<m[fe++&3]):(ke=65536+((ke&1023)<<10|M.charCodeAt(++he)&1023),J[fe>>2]|=(240|ke>>18)<<m[fe++&3],J[fe>>2]|=(128|ke>>12&63)<<m[fe++&3],J[fe>>2]|=(128|ke>>6&63)<<m[fe++&3],J[fe>>2]|=(128|ke&63)<<m[fe++&3]);if(this.lastByteIndex=fe,fe>=oe){for(this.start=fe-oe,this.block=J[ae],fe=0;fe<ae;++fe)be[fe]^=J[fe];Y(be),this.reset=!0}else this.start=fe}return this},I.prototype.encode=function(M,Q){var ee=M&255,J=1,oe=[ee];for(M=M>>8,ee=M&255;ee>0;)oe.unshift(ee),M=M>>8,ee=M&255,++J;return Q?oe.push(J):oe.unshift(J),this.update(oe),oe.length},I.prototype.encodeString=function(M){var Q,ee=typeof M;if(ee!=="string"){if(ee==="object"){if(M===null)throw new Error(e);if(l&&M.constructor===ArrayBuffer)M=new Uint8Array(M);else if(!Array.isArray(M)&&(!l||!ArrayBuffer.isView(M)))throw new Error(e)}else throw new Error(e);Q=!0}var J=0,oe=M.length;if(Q)J=oe;else for(var de=0;de<M.length;++de){var ae=M.charCodeAt(de);ae<128?J+=1:ae<2048?J+=2:ae<55296||ae>=57344?J+=3:(ae=65536+((ae&1023)<<10|M.charCodeAt(++de)&1023),J+=4)}return J+=this.encode(J*8),this.update(M),J},I.prototype.bytepad=function(M,Q){for(var ee=this.encode(Q),J=0;J<M.length;++J)ee+=this.encodeString(M[J]);var oe=Q-ee%Q,de=[];return de.length=oe,this.update(de),this},I.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var M=this.blocks,Q=this.lastByteIndex,ee=this.blockCount,J=this.s;if(M[Q>>2]|=this.padding[Q&3],this.lastByteIndex===this.byteCount)for(M[0]=M[ee],Q=1;Q<ee+1;++Q)M[Q]=0;for(M[ee-1]|=2147483648,Q=0;Q<ee;++Q)J[Q]^=M[Q];Y(J)}},I.prototype.toString=I.prototype.hex=function(){this.finalize();for(var M=this.blockCount,Q=this.s,ee=this.outputBlocks,J=this.extraBytes,oe=0,de=0,ae="",he;de<ee;){for(oe=0;oe<M&&de<ee;++oe,++de)he=Q[oe],ae+=c[he>>4&15]+c[he&15]+c[he>>12&15]+c[he>>8&15]+c[he>>20&15]+c[he>>16&15]+c[he>>28&15]+c[he>>24&15];de%M===0&&(Y(Q),oe=0)}return J&&(he=Q[oe],ae+=c[he>>4&15]+c[he&15],J>1&&(ae+=c[he>>12&15]+c[he>>8&15]),J>2&&(ae+=c[he>>20&15]+c[he>>16&15])),ae},I.prototype.arrayBuffer=function(){this.finalize();var M=this.blockCount,Q=this.s,ee=this.outputBlocks,J=this.extraBytes,oe=0,de=0,ae=this.outputBits>>3,he;J?he=new ArrayBuffer(ee+1<<2):he=new ArrayBuffer(ae);for(var be=new Uint32Array(he);de<ee;){for(oe=0;oe<M&&de<ee;++oe,++de)be[de]=Q[oe];de%M===0&&Y(Q)}return J&&(be[oe]=Q[oe],he=he.slice(0,ae)),he},I.prototype.buffer=I.prototype.arrayBuffer,I.prototype.digest=I.prototype.array=function(){this.finalize();for(var M=this.blockCount,Q=this.s,ee=this.outputBlocks,J=this.extraBytes,oe=0,de=0,ae=[],he,be;de<ee;){for(oe=0;oe<M&&de<ee;++oe,++de)he=de<<2,be=Q[oe],ae[he]=be&255,ae[he+1]=be>>8&255,ae[he+2]=be>>16&255,ae[he+3]=be>>24&255;de%M===0&&Y(Q)}return J&&(he=de<<2,be=Q[oe],ae[he]=be&255,J>1&&(ae[he+1]=be>>8&255),J>2&&(ae[he+2]=be>>16&255)),ae};function D(M,Q,ee){I.call(this,M,Q,ee)}D.prototype=new I,D.prototype.finalize=function(){return this.encode(this.outputBits,!0),I.prototype.finalize.call(this)};var Y=function(M){var Q,ee,J,oe,de,ae,he,be,fe,ke,we,Ue,Me,_e,xe,Oe,Le,Ce,De,Ve,rt,G,U,z,X,ne,ie,ce,Be,Xe,Ye,et,Pe,Tt,dn,Bt,He,Ln,En,ot,Qt,q,K,se,re,le,ge,$e,je,Mt,bt,St,rn,Qe,ut,at,ct,ht,an,zn,Ht,Ft,An;for(J=0;J<48;J+=2)oe=M[0]^M[10]^M[20]^M[30]^M[40],de=M[1]^M[11]^M[21]^M[31]^M[41],ae=M[2]^M[12]^M[22]^M[32]^M[42],he=M[3]^M[13]^M[23]^M[33]^M[43],be=M[4]^M[14]^M[24]^M[34]^M[44],fe=M[5]^M[15]^M[25]^M[35]^M[45],ke=M[6]^M[16]^M[26]^M[36]^M[46],we=M[7]^M[17]^M[27]^M[37]^M[47],Ue=M[8]^M[18]^M[28]^M[38]^M[48],Me=M[9]^M[19]^M[29]^M[39]^M[49],Q=Ue^(ae<<1|he>>>31),ee=Me^(he<<1|ae>>>31),M[0]^=Q,M[1]^=ee,M[10]^=Q,M[11]^=ee,M[20]^=Q,M[21]^=ee,M[30]^=Q,M[31]^=ee,M[40]^=Q,M[41]^=ee,Q=oe^(be<<1|fe>>>31),ee=de^(fe<<1|be>>>31),M[2]^=Q,M[3]^=ee,M[12]^=Q,M[13]^=ee,M[22]^=Q,M[23]^=ee,M[32]^=Q,M[33]^=ee,M[42]^=Q,M[43]^=ee,Q=ae^(ke<<1|we>>>31),ee=he^(we<<1|ke>>>31),M[4]^=Q,M[5]^=ee,M[14]^=Q,M[15]^=ee,M[24]^=Q,M[25]^=ee,M[34]^=Q,M[35]^=ee,M[44]^=Q,M[45]^=ee,Q=be^(Ue<<1|Me>>>31),ee=fe^(Me<<1|Ue>>>31),M[6]^=Q,M[7]^=ee,M[16]^=Q,M[17]^=ee,M[26]^=Q,M[27]^=ee,M[36]^=Q,M[37]^=ee,M[46]^=Q,M[47]^=ee,Q=ke^(oe<<1|de>>>31),ee=we^(de<<1|oe>>>31),M[8]^=Q,M[9]^=ee,M[18]^=Q,M[19]^=ee,M[28]^=Q,M[29]^=ee,M[38]^=Q,M[39]^=ee,M[48]^=Q,M[49]^=ee,_e=M[0],xe=M[1],le=M[11]<<4|M[10]>>>28,ge=M[10]<<4|M[11]>>>28,ce=M[20]<<3|M[21]>>>29,Be=M[21]<<3|M[20]>>>29,zn=M[31]<<9|M[30]>>>23,Ht=M[30]<<9|M[31]>>>23,q=M[40]<<18|M[41]>>>14,K=M[41]<<18|M[40]>>>14,Tt=M[2]<<1|M[3]>>>31,dn=M[3]<<1|M[2]>>>31,Oe=M[13]<<12|M[12]>>>20,Le=M[12]<<12|M[13]>>>20,$e=M[22]<<10|M[23]>>>22,je=M[23]<<10|M[22]>>>22,Xe=M[33]<<13|M[32]>>>19,Ye=M[32]<<13|M[33]>>>19,Ft=M[42]<<2|M[43]>>>30,An=M[43]<<2|M[42]>>>30,Qe=M[5]<<30|M[4]>>>2,ut=M[4]<<30|M[5]>>>2,Bt=M[14]<<6|M[15]>>>26,He=M[15]<<6|M[14]>>>26,Ce=M[25]<<11|M[24]>>>21,De=M[24]<<11|M[25]>>>21,Mt=M[34]<<15|M[35]>>>17,bt=M[35]<<15|M[34]>>>17,et=M[45]<<29|M[44]>>>3,Pe=M[44]<<29|M[45]>>>3,z=M[6]<<28|M[7]>>>4,X=M[7]<<28|M[6]>>>4,at=M[17]<<23|M[16]>>>9,ct=M[16]<<23|M[17]>>>9,Ln=M[26]<<25|M[27]>>>7,En=M[27]<<25|M[26]>>>7,Ve=M[36]<<21|M[37]>>>11,rt=M[37]<<21|M[36]>>>11,St=M[47]<<24|M[46]>>>8,rn=M[46]<<24|M[47]>>>8,se=M[8]<<27|M[9]>>>5,re=M[9]<<27|M[8]>>>5,ne=M[18]<<20|M[19]>>>12,ie=M[19]<<20|M[18]>>>12,ht=M[29]<<7|M[28]>>>25,an=M[28]<<7|M[29]>>>25,ot=M[38]<<8|M[39]>>>24,Qt=M[39]<<8|M[38]>>>24,G=M[48]<<14|M[49]>>>18,U=M[49]<<14|M[48]>>>18,M[0]=_e^~Oe&Ce,M[1]=xe^~Le&De,M[10]=z^~ne&ce,M[11]=X^~ie&Be,M[20]=Tt^~Bt&Ln,M[21]=dn^~He&En,M[30]=se^~le&$e,M[31]=re^~ge&je,M[40]=Qe^~at&ht,M[41]=ut^~ct&an,M[2]=Oe^~Ce&Ve,M[3]=Le^~De&rt,M[12]=ne^~ce&Xe,M[13]=ie^~Be&Ye,M[22]=Bt^~Ln&ot,M[23]=He^~En&Qt,M[32]=le^~$e&Mt,M[33]=ge^~je&bt,M[42]=at^~ht&zn,M[43]=ct^~an&Ht,M[4]=Ce^~Ve&G,M[5]=De^~rt&U,M[14]=ce^~Xe&et,M[15]=Be^~Ye&Pe,M[24]=Ln^~ot&q,M[25]=En^~Qt&K,M[34]=$e^~Mt&St,M[35]=je^~bt&rn,M[44]=ht^~zn&Ft,M[45]=an^~Ht&An,M[6]=Ve^~G&_e,M[7]=rt^~U&xe,M[16]=Xe^~et&z,M[17]=Ye^~Pe&X,M[26]=ot^~q&Tt,M[27]=Qt^~K&dn,M[36]=Mt^~St&se,M[37]=bt^~rn&re,M[46]=zn^~Ft&Qe,M[47]=Ht^~An&ut,M[8]=G^~_e&Oe,M[9]=U^~xe&Le,M[18]=et^~z&ne,M[19]=Pe^~X&ie,M[28]=q^~Tt&Bt,M[29]=K^~dn&He,M[38]=St^~se&le,M[39]=rn^~re&ge,M[48]=Ft^~Qe&at,M[49]=An^~ut&ct,M[0]^=g[J],M[1]^=g[J+1]};if(a)t.exports=k;else for(S=0;S<C.length;++S)i[C[S]]=k[C[S]]})()})(q1e);var ZJe=q1e.exports;const JJe=Ks(ZJe);function Us(t){return"0x"+JJe.keccak_256(un(t))}const XJe="strings/5.8.0",G1e=new Re(XJe);var q8;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(q8||(q8={}));var Nl;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Nl||(Nl={}));function eXe(t,e,n,r,i){return G1e.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function K1e(t,e,n,r,i){if(t===Nl.BAD_PREFIX||t===Nl.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)s++;return s}return t===Nl.OVERRUN?n.length-e-1:0}function tXe(t,e,n,r,i){return t===Nl.OVERLONG?(r.push(i),0):(r.push(65533),K1e(t,e,n))}const nXe=Object.freeze({error:eXe,ignore:K1e,replace:tXe});function Y1e(t,e){e==null&&(e=nXe.error),t=un(t);const n=[];let r=0;for(;r<t.length;){const i=t[r++];if(!(i>>7)){n.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?r+=e(Nl.UNEXPECTED_CONTINUE,r-1,t,n):r+=e(Nl.BAD_PREFIX,r-1,t,n);continue}if(r-1+s>=t.length){r+=e(Nl.OVERRUN,r-1,t,n);continue}let a=i&(1<<8-s-1)-1;for(let l=0;l<s;l++){let c=t[r];if((c&192)!=128){r+=e(Nl.MISSING_CONTINUE,r,t,n),a=null;break}a=a<<6|c&63,r++}if(a!==null){if(a>1114111){r+=e(Nl.OUT_OF_RANGE,r-1-s,t,n,a);continue}if(a>=55296&&a<=57343){r+=e(Nl.UTF16_SURROGATE,r-1-s,t,n,a);continue}if(a<=o){r+=e(Nl.OVERLONG,r-1-s,t,n,a);continue}n.push(a)}}return n}function qp(t,e=q8.current){e!=q8.current&&(G1e.checkNormalize(),t=t.normalize(e));let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const s=t.charCodeAt(r);if(r>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return un(n)}function rXe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function QT(t,e){return rXe(Y1e(t,e))}function iXe(t,e=q8.current){return Y1e(qp(t,e))}function Q1e(t){return Us(qp(t))}const Z1e="hash/5.8.0";function J1e(t,e){e==null&&(e=1);const n=[],r=n.forEach,i=function(s,o){r.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):n.push(a)})};return i(t,e),n}function sXe(t){const e={};for(let n=0;n<t.length;n++){const r=t[n];e[r[0]]=r[1]}return e}function oXe(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let E=1;E<r;E++)s.push(i+=n());let o=n(),a=e;e+=o;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const h=31,f=Math.pow(2,h),p=f>>>1,m=p>>1,g=f-1;let y=0;for(let E=0;E<h;E++)y=y<<1|u();let w=[],v=0,b=f;for(;;){let E=Math.floor(((y-v+1)*i-1)/b),$=0,N=r;for(;N-$>1;){let F=$+N>>>1;E<s[F]?N=F:$=F}if($==0)break;w.push($);let R=v+Math.floor(b*s[$]/i),j=v+Math.floor(b*s[$+1]/i)-1;for(;!((R^j)&p);)y=y<<1&g|u(),R=R<<1&g,j=j<<1&g|1;for(;R&~j&m;)y=y&p|y<<1&g>>>1|u(),R=R<<1^p,j=(j^p)<<1|p|1;v=R,b=1+j-R}let A=r-4;return w.map(E=>{switch(E-A){case 3:return A+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return A+256+(t[a++]<<8|t[a++]);case 1:return A+t[a++];default:return E-1}})}function aXe(t){let e=0;return()=>t[e++]}function lXe(t){return aXe(oXe(t))}function cXe(t){return t&1?~t>>1:t>>1}function uXe(t,e){let n=Array(t);for(let r=0;r<t;r++)n[r]=1+e();return n}function Wee(t,e){let n=Array(t);for(let r=0,i=-1;r<t;r++)n[r]=i+=1+e();return n}function dXe(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=cXe(e());return n}function Y_(t,e){let n=Wee(t(),t),r=t(),i=Wee(r,t),s=uXe(r,t);for(let o=0;o<r;o++)for(let a=0;a<s[o];a++)n.push(i[o]+a);return e?n.map(o=>e[o]):n}function hXe(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(pXe(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(mXe(n,t))}return sXe(J1e(e))}function fXe(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(n)}return e}function X1e(t,e,n){let r=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)dXe(t,n).forEach((s,o)=>r[o].push(s));return r}function pXe(t,e){let n=1+e(),r=e(),i=fXe(e),s=X1e(i.length,1+t,e);return J1e(s.map((o,a)=>{const l=o[0],c=o.slice(1);return Array(i[a]).fill(void 0).map((u,h)=>{let f=h*r;return[l+h*n,c.map(p=>p+f)]})}))}function mXe(t,e){let n=1+e();return X1e(n,1+t,e).map(i=>[i[0],i.slice(1)])}function gXe(t){let e=Y_(t).sort((r,i)=>r-i);return n();function n(){let r=[];for(;;){let c=Y_(t,e);if(c.length==0)break;r.push({set:new Set(c),node:n()})}r.sort((c,u)=>u.set.size-c.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,l=i==2;return{branches:r,valid:s,fe0f:o,save:a,check:l}}}function yXe(){return lXe(W1e("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const ZT=yXe(),wXe=new Set(Y_(ZT)),bXe=new Set(Y_(ZT)),vXe=hXe(ZT),xXe=gXe(ZT),Hee=45,Vee=95;function ewe(t){return iXe(t)}function EXe(t){return t.filter(e=>e!=65039)}function twe(t){for(let e of t.split(".")){let n=ewe(e);try{for(let r=n.lastIndexOf(Vee)-1;r>=0;r--)if(n[r]!==Vee)throw new Error("underscore only allowed at start");if(n.length>=4&&n.every(r=>r<128)&&n[2]===Hee&&n[3]===Hee)throw new Error("invalid label extension")}catch(r){throw new Error(`Invalid label "${e}": ${r.message}`)}}return t}function AXe(t){return twe(CXe(t,EXe))}function CXe(t,e){let n=ewe(t).reverse(),r=[];for(;n.length;){let i=SXe(n);if(i){r.push(...e(i));continue}let s=n.pop();if(wXe.has(s)){r.push(s);continue}if(bXe.has(s))continue;let o=vXe[s];if(o){r.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return twe(kXe(String.fromCodePoint(...r)))}function kXe(t){return t.normalize("NFC")}function SXe(t,e){var n;let r=xXe,i,s,o=[],a=t.length;for(;a;){let l=t[--a];if(r=(n=r.branches.find(c=>c.set.has(l)))===null||n===void 0?void 0:n.node,!r)break;if(r.save)s=l;else if(r.check&&l===s)break;o.push(l),r.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),r.valid&&(i=o.slice(),r.valid==2&&i.splice(1,1),t.length=a)}return i}const _Xe=new Re(Z1e),nwe=new Uint8Array(32);nwe.fill(0);function qee(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function rwe(t){const e=qp(AXe(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(qee(e.slice(r,i))),r=i+1);if(r>=e.length)throw new Error("invalid ENS name; empty component");return n.push(qee(e.slice(r))),n}function U9(t){typeof t!="string"&&_Xe.throwArgumentError("invalid ENS name; not a string","name",t);let e=nwe;const n=rwe(t);for(;n.length;)e=Us(Ny([e,Us(n.pop())]));return cn(e)}function IXe(t){return cn(Ny(rwe(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const n=new Uint8Array(e.length+1);return n.set(e,1),n[0]=n.length-1,n})))+"00"}const TXe="rlp/5.8.0",sh=new Re(TXe);function Gee(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function Kee(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function iwe(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(s){r=r.concat(iwe(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=Gee(r.length);return i.unshift(247+i.length),i.concat(r)}GV(t)||sh.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(un(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=Gee(e.length);return n.unshift(183+n.length),n.concat(e)}function JT(t){return cn(iwe(t))}function Yee(t,e,n,r){const i=[];for(;n<e+1+r;){const s=swe(t,n);i.push(s.result),n+=s.consumed,n>e+1+r&&sh.throwError("child data too short",Re.errors.BUFFER_OVERRUN,{})}return{consumed:1+r,result:i}}function swe(t,e){if(t.length===0&&sh.throwError("data too short",Re.errors.BUFFER_OVERRUN,{}),t[e]>=248){const n=t[e]-247;e+1+n>t.length&&sh.throwError("data short segment too short",Re.errors.BUFFER_OVERRUN,{});const r=Kee(t,e+1,n);return e+1+n+r>t.length&&sh.throwError("data long segment too short",Re.errors.BUFFER_OVERRUN,{}),Yee(t,e,e+1+n,n+r)}else if(t[e]>=192){const n=t[e]-192;return e+1+n>t.length&&sh.throwError("data array too short",Re.errors.BUFFER_OVERRUN,{}),Yee(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;e+1+n>t.length&&sh.throwError("data array too short",Re.errors.BUFFER_OVERRUN,{});const r=Kee(t,e+1,n);e+1+n+r>t.length&&sh.throwError("data array too short",Re.errors.BUFFER_OVERRUN,{});const i=cn(t.slice(e+1+n,e+1+n+r));return{consumed:1+n+r,result:i}}else if(t[e]>=128){const n=t[e]-128;e+1+n>t.length&&sh.throwError("data too short",Re.errors.BUFFER_OVERRUN,{});const r=cn(t.slice(e+1,e+1+n));return{consumed:1+n,result:r}}return{consumed:1,result:cn(t[e])}}function ZV(t){const e=un(t),n=swe(e,0);return n.consumed!==e.length&&sh.throwArgumentError("invalid rlp data","data",t),n.result}const $Xe="address/5.8.0",xv=new Re($Xe);function Qee(t){br(t,20)||xv.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=un(Us(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const NXe=9007199254740991;function PXe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const JV={};for(let t=0;t<10;t++)JV[String(t)]=String(t);for(let t=0;t<26;t++)JV[String.fromCharCode(65+t)]=String(10+t);const Zee=Math.floor(PXe(NXe));function RXe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>JV[r]).join("");for(;e.length>=Zee;){let r=e.substring(0,Zee);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}function vd(t){let e=null;if(typeof t!="string"&&xv.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=Qee(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&xv.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==RXe(t)&&xv.throwArgumentError("bad icap checksum","address",t),e=LJe(t.substring(4));e.length<40;)e="0"+e;e=Qee("0x"+e)}else xv.throwArgumentError("invalid address","address",t);return e}function jXe(t){let e=null;try{e=vd(t.from)}catch{xv.throwArgumentError("missing from address","transaction",t)}const n=Mx(un(dt.from(t.nonce).toHexString()));return vd(Go(Us(JT([e,n])),12))}var OXe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Zr=new Re(Z1e),owe=new Uint8Array(32);owe.fill(0);const MXe=dt.from(-1),awe=dt.from(0),lwe=dt.from(1),DXe=dt.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function BXe(t){const e=un(t),n=e.length%32;return n?Fl([e,owe.slice(n)]):cn(e)}const LXe=gi(lwe.toHexString(),32),FXe=gi(awe.toHexString(),32),Jee={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},KR=["name","version","chainId","verifyingContract","salt"];function Xee(t){return function(e){return typeof e!="string"&&Zr.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const UXe={name:Xee("name"),version:Xee("version"),chainId:function(t){try{return dt.from(t).toString()}catch{}return Zr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return vd(t).toLowerCase()}catch{}return Zr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=un(t);if(e.length!==32)throw new Error("bad length");return cn(e)}catch{}return Zr.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function YR(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const n=e[1]==="",r=parseInt(e[2]||"256");(r%8!==0||r>256||e[2]&&e[2]!==String(r))&&Zr.throwArgumentError("invalid numeric width","type",t);const i=DXe.mask(n?r-1:r),s=n?i.add(lwe).mul(MXe):awe;return function(o){const a=dt.from(o);return(a.lt(s)||a.gt(i))&&Zr.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),gi(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return(n===0||n>32||e[1]!==String(n))&&Zr.throwArgumentError("invalid bytes width","type",t),function(r){return un(r).length!==n&&Zr.throwArgumentError(`invalid length for ${t}`,"value",r),BXe(r)}}}switch(t){case"address":return function(e){return gi(vd(e),32)};case"bool":return function(e){return e?LXe:FXe};case"bytes":return function(e){return Us(e)};case"string":return function(e){return Q1e(e)}}return null}function ete(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}let tte=class ku{constructor(e){$n(this,"types",Object.freeze(H8(e))),$n(this,"_encoderCache",{}),$n(this,"_types",{});const n={},r={},i={};Object.keys(e).forEach(a=>{n[a]={},r[a]=[],i[a]={}});for(const a in e){const l={};e[a].forEach(c=>{l[c.name]&&Zr.throwArgumentError(`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(a)}`,"types",e),l[c.name]=!0;const u=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&Zr.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!YR(u)&&(r[u]||Zr.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),r[u].push(a),n[a][u]=!0)})}const s=Object.keys(r).filter(a=>r[a].length===0);s.length===0?Zr.throwArgumentError("missing primary type","types",e):s.length>1&&Zr.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),$n(this,"primaryType",s[0]);function o(a,l){l[a]&&Zr.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),l[a]=!0,Object.keys(n[a]).forEach(c=>{r[c]&&(o(c,l),Object.keys(l).forEach(u=>{i[u][c]=!0}))}),delete l[a]}o(this.primaryType,{});for(const a in i){const l=Object.keys(i[a]);l.sort(),this._types[a]=ete(a,e[a])+l.map(c=>ete(c,e[c])).join("")}}getEncoder(e){let n=this._encoderCache[e];return n||(n=this._encoderCache[e]=this._getEncoder(e)),n}_getEncoder(e){{const i=YR(e);if(i)return i}const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const i=n[1],s=this.getEncoder(i),o=parseInt(n[3]);return a=>{o>=0&&a.length!==o&&Zr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let l=a.map(s);return this._types[i]&&(l=l.map(Us)),Us(Fl(l))}}const r=this.types[e];if(r){const i=Q1e(this._types[e]);return s=>{const o=r.map(({name:a,type:l})=>{const c=this.getEncoder(l)(s[a]);return this._types[l]?Us(c):c});return o.unshift(i),Fl(o)}}return Zr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const n=this._types[e];return n||Zr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Us(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(YR(e))return r(e,n);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&n.length!==a&&Zr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",n),n.map(l=>this._visit(o,l,r))}const s=this.types[e];return s?s.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,n[a],r),o),{}):Zr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new ku(e)}static getPrimaryType(e){return ku.from(e).primaryType}static hashStruct(e,n,r){return ku.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){const i=Jee[r];i||Zr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>KR.indexOf(r.name)-KR.indexOf(i.name)),ku.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return Fl(["0x1901",ku.hashDomain(e),ku.from(n).hash(r)])}static hash(e,n,r){return Us(ku.encode(e,n,r))}static resolveNames(e,n,r,i){return OXe(this,void 0,void 0,function*(){e=Va(e);const s={};e.verifyingContract&&!br(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=ku.from(n);o.visit(r,(a,l)=>(a==="address"&&!br(l,20)&&(s[l]="0x"),l));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=o.visit(r,(a,l)=>a==="address"&&s[l]?s[l]:l),{domain:e,value:r}})}static getPayload(e,n,r){ku.hashDomain(e);const i={},s=[];KR.forEach(l=>{const c=e[l];c!=null&&(i[l]=UXe[l](c),s.push({name:l,type:Jee[l]}))});const o=ku.from(n),a=Va(n);return a.EIP712Domain?Zr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",n):a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,(l,c)=>{if(l.match(/^bytes(\d*)/))return cn(un(c));if(l.match(/^u?int/))return dt.from(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return typeof c!="string"&&Zr.throwArgumentError("invalid string","value",c),c}return Zr.throwArgumentError("unsupported type","type",l)})}}};var cwe={},Pn={},zA=uwe;function uwe(t,e){if(!t)throw new Error(e||"Assertion failed")}uwe.equal=function(e,n,r){if(e!=n)throw new Error(r||"Assertion failed: "+e+" != "+n)};var xL={exports:{}};typeof Object.create=="function"?xL.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:xL.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}};var zXe=xL.exports,WXe=zA,HXe=zXe;Pn.inherits=HXe;function VXe(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function qXe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)n.push(parseInt(t[i]+t[i+1],16))}else for(var r=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?n[r++]=s:s<2048?(n[r++]=s>>6|192,n[r++]=s&63|128):VXe(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),n[r++]=s>>18|240,n[r++]=s>>12&63|128,n[r++]=s>>6&63|128,n[r++]=s&63|128):(n[r++]=s>>12|224,n[r++]=s>>6&63|128,n[r++]=s&63|128)}else for(i=0;i<t.length;i++)n[i]=t[i]|0;return n}Pn.toArray=qXe;function GXe(t){for(var e="",n=0;n<t.length;n++)e+=hwe(t[n].toString(16));return e}Pn.toHex=GXe;function dwe(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Pn.htonl=dwe;function KXe(t,e){for(var n="",r=0;r<t.length;r++){var i=t[r];e==="little"&&(i=dwe(i)),n+=fwe(i.toString(16))}return n}Pn.toHex32=KXe;function hwe(t){return t.length===1?"0"+t:t}Pn.zero2=hwe;function fwe(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Pn.zero8=fwe;function YXe(t,e,n,r){var i=n-e;WXe(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var l;r==="big"?l=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:l=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=l>>>0}return s}Pn.join32=YXe;function QXe(t,e){for(var n=new Array(t.length*4),r=0,i=0;r<t.length;r++,i+=4){var s=t[r];e==="big"?(n[i]=s>>>24,n[i+1]=s>>>16&255,n[i+2]=s>>>8&255,n[i+3]=s&255):(n[i+3]=s>>>24,n[i+2]=s>>>16&255,n[i+1]=s>>>8&255,n[i]=s&255)}return n}Pn.split32=QXe;function ZXe(t,e){return t>>>e|t<<32-e}Pn.rotr32=ZXe;function JXe(t,e){return t<<e|t>>>32-e}Pn.rotl32=JXe;function XXe(t,e){return t+e>>>0}Pn.sum32=XXe;function eet(t,e,n){return t+e+n>>>0}Pn.sum32_3=eet;function tet(t,e,n,r){return t+e+n+r>>>0}Pn.sum32_4=tet;function net(t,e,n,r,i){return t+e+n+r+i>>>0}Pn.sum32_5=net;function ret(t,e,n,r){var i=t[e],s=t[e+1],o=r+s>>>0,a=(o<r?1:0)+n+i;t[e]=a>>>0,t[e+1]=o}Pn.sum64=ret;function iet(t,e,n,r){var i=e+r>>>0,s=(i<e?1:0)+t+n;return s>>>0}Pn.sum64_hi=iet;function set(t,e,n,r){var i=e+r;return i>>>0}Pn.sum64_lo=set;function oet(t,e,n,r,i,s,o,a){var l=0,c=e;c=c+r>>>0,l+=c<e?1:0,c=c+s>>>0,l+=c<s?1:0,c=c+a>>>0,l+=c<a?1:0;var u=t+n+i+o+l;return u>>>0}Pn.sum64_4_hi=oet;function aet(t,e,n,r,i,s,o,a){var l=e+r+s+a;return l>>>0}Pn.sum64_4_lo=aet;function cet(t,e,n,r,i,s,o,a,l,c){var u=0,h=e;h=h+r>>>0,u+=h<e?1:0,h=h+s>>>0,u+=h<s?1:0,h=h+a>>>0,u+=h<a?1:0,h=h+c>>>0,u+=h<c?1:0;var f=t+n+i+o+l+u;return f>>>0}Pn.sum64_5_hi=cet;function uet(t,e,n,r,i,s,o,a,l,c){var u=e+r+s+a+c;return u>>>0}Pn.sum64_5_lo=uet;function det(t,e,n){var r=e<<32-n|t>>>n;return r>>>0}Pn.rotr64_hi=det;function het(t,e,n){var r=t<<32-n|e>>>n;return r>>>0}Pn.rotr64_lo=het;function fet(t,e,n){return t>>>n}Pn.shr64_hi=fet;function pet(t,e,n){var r=t<<32-n|e>>>n;return r>>>0}Pn.shr64_lo=pet;var U3={},nte=Pn,met=zA;function XT(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}U3.BlockHash=XT;XT.prototype.update=function(e,n){if(e=nte.toArray(e,n),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=nte.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};XT.prototype.digest=function(e){return this.update(this._pad()),met(this.pending===null),this._digest(e)};XT.prototype._pad=function(){var e=this.pendingTotal,n=this._delta8,r=n-(e+this.padLength)%n,i=new Array(r+this.padLength);i[0]=128;for(var s=1;s<r;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var z3={},cf={},get=Pn,Lh=get.rotr32;function yet(t,e,n,r){if(t===0)return pwe(e,n,r);if(t===1||t===3)return gwe(e,n,r);if(t===2)return mwe(e,n,r)}cf.ft_1=yet;function pwe(t,e,n){return t&e^~t&n}cf.ch32=pwe;function mwe(t,e,n){return t&e^t&n^e&n}cf.maj32=mwe;function gwe(t,e,n){return t^e^n}cf.p32=gwe;function wet(t){return Lh(t,2)^Lh(t,13)^Lh(t,22)}cf.s0_256=wet;function bet(t){return Lh(t,6)^Lh(t,11)^Lh(t,25)}cf.s1_256=bet;function vet(t){return Lh(t,7)^Lh(t,18)^t>>>3}cf.g0_256=vet;function xet(t){return Lh(t,17)^Lh(t,19)^t>>>10}cf.g1_256=xet;var Dx=Pn,Eet=U3,Aet=cf,QR=Dx.rotl32,N5=Dx.sum32,Cet=Dx.sum32_5,ket=Aet.ft_1,ywe=Eet.BlockHash,_et=[1518500249,1859775393,2400959708,3395469782];function Zh(){if(!(this instanceof Zh))return new Zh;ywe.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Dx.inherits(Zh,ywe);var Iet=Zh;Zh.blockSize=512;Zh.outSize=160;Zh.hmacStrength=80;Zh.padLength=64;Zh.prototype._update=function(e,n){for(var r=this.W,i=0;i<16;i++)r[i]=e[n+i];for(;i<r.length;i++)r[i]=QR(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],c=this.h[4];for(i=0;i<r.length;i++){var u=~~(i/20),h=Cet(QR(s,5),ket(u,o,a,l),c,r[i],_et[u]);c=l,l=a,a=QR(o,30),o=s,s=h}this.h[0]=N5(this.h[0],s),this.h[1]=N5(this.h[1],o),this.h[2]=N5(this.h[2],a),this.h[3]=N5(this.h[3],l),this.h[4]=N5(this.h[4],c)};Zh.prototype._digest=function(e){return e==="hex"?Dx.toHex32(this.h,"big"):Dx.split32(this.h,"big")};var Bx=Pn,Tet=U3,W3=cf,$et=zA,vu=Bx.sum32,Net=Bx.sum32_4,Pet=Bx.sum32_5,Ret=W3.ch32,jet=W3.maj32,Oet=W3.s0_256,Met=W3.s1_256,Det=W3.g0_256,Bet=W3.g1_256,wwe=Tet.BlockHash,Let=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Jh(){if(!(this instanceof Jh))return new Jh;wwe.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Let,this.W=new Array(64)}Bx.inherits(Jh,wwe);var bwe=Jh;Jh.blockSize=512;Jh.outSize=256;Jh.hmacStrength=192;Jh.padLength=64;Jh.prototype._update=function(e,n){for(var r=this.W,i=0;i<16;i++)r[i]=e[n+i];for(;i<r.length;i++)r[i]=Net(Bet(r[i-2]),r[i-7],Det(r[i-15]),r[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],c=this.h[4],u=this.h[5],h=this.h[6],f=this.h[7];for($et(this.k.length===r.length),i=0;i<r.length;i++){var p=Pet(f,Met(c),Ret(c,u,h),this.k[i],r[i]),m=vu(Oet(s),jet(s,o,a));f=h,h=u,u=c,c=vu(l,p),l=a,a=o,o=s,s=vu(p,m)}this.h[0]=vu(this.h[0],s),this.h[1]=vu(this.h[1],o),this.h[2]=vu(this.h[2],a),this.h[3]=vu(this.h[3],l),this.h[4]=vu(this.h[4],c),this.h[5]=vu(this.h[5],u),this.h[6]=vu(this.h[6],h),this.h[7]=vu(this.h[7],f)};Jh.prototype._digest=function(e){return e==="hex"?Bx.toHex32(this.h,"big"):Bx.split32(this.h,"big")};var EL=Pn,vwe=bwe;function Gp(){if(!(this instanceof Gp))return new Gp;vwe.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}EL.inherits(Gp,vwe);var Fet=Gp;Gp.blockSize=512;Gp.outSize=224;Gp.hmacStrength=192;Gp.padLength=64;Gp.prototype._digest=function(e){return e==="hex"?EL.toHex32(this.h.slice(0,7),"big"):EL.split32(this.h.slice(0,7),"big")};var rl=Pn,Uet=U3,zet=zA,Fh=rl.rotr64_hi,Uh=rl.rotr64_lo,xwe=rl.shr64_hi,Ewe=rl.shr64_lo,p0=rl.sum64,ZR=rl.sum64_hi,JR=rl.sum64_lo,Wet=rl.sum64_4_hi,Het=rl.sum64_4_lo,Vet=rl.sum64_5_hi,qet=rl.sum64_5_lo,Awe=Uet.BlockHash,Get=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function xd(){if(!(this instanceof xd))return new xd;Awe.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Get,this.W=new Array(160)}rl.inherits(xd,Awe);var Cwe=xd;xd.blockSize=1024;xd.outSize=512;xd.hmacStrength=192;xd.padLength=128;xd.prototype._prepareBlock=function(e,n){for(var r=this.W,i=0;i<32;i++)r[i]=e[n+i];for(;i<r.length;i+=2){var s=itt(r[i-4],r[i-3]),o=stt(r[i-4],r[i-3]),a=r[i-14],l=r[i-13],c=ntt(r[i-30],r[i-29]),u=rtt(r[i-30],r[i-29]),h=r[i-32],f=r[i-31];r[i]=Wet(s,o,a,l,c,u,h,f),r[i+1]=Het(s,o,a,l,c,u,h,f)}};xd.prototype._update=function(e,n){this._prepareBlock(e,n);var r=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],l=this.h[4],c=this.h[5],u=this.h[6],h=this.h[7],f=this.h[8],p=this.h[9],m=this.h[10],g=this.h[11],y=this.h[12],w=this.h[13],v=this.h[14],b=this.h[15];zet(this.k.length===r.length);for(var A=0;A<r.length;A+=2){var E=v,$=b,N=ett(f,p),R=ttt(f,p),j=Ket(f,p,m,g,y),F=Yet(f,p,m,g,y,w),W=this.k[A],V=this.k[A+1],B=r[A],k=r[A+1],C=Vet(E,$,N,R,j,F,W,V,B,k),S=qet(E,$,N,R,j,F,W,V,B,k);E=Jet(i,s),$=Xet(i,s),N=Qet(i,s,o,a,l),R=Zet(i,s,o,a,l,c);var T=ZR(E,$,N,R),_=JR(E,$,N,R);v=y,b=w,y=m,w=g,m=f,g=p,f=ZR(u,h,C,S),p=JR(h,h,C,S),u=l,h=c,l=o,c=a,o=i,a=s,i=ZR(C,S,T,_),s=JR(C,S,T,_)}p0(this.h,0,i,s),p0(this.h,2,o,a),p0(this.h,4,l,c),p0(this.h,6,u,h),p0(this.h,8,f,p),p0(this.h,10,m,g),p0(this.h,12,y,w),p0(this.h,14,v,b)};xd.prototype._digest=function(e){return e==="hex"?rl.toHex32(this.h,"big"):rl.split32(this.h,"big")};function Ket(t,e,n,r,i){var s=t&n^~t&i;return s<0&&(s+=4294967296),s}function Yet(t,e,n,r,i,s){var o=e&r^~e&s;return o<0&&(o+=4294967296),o}function Qet(t,e,n,r,i){var s=t&n^t&i^n&i;return s<0&&(s+=4294967296),s}function Zet(t,e,n,r,i,s){var o=e&r^e&s^r&s;return o<0&&(o+=4294967296),o}function Jet(t,e){var n=Fh(t,e,28),r=Fh(e,t,2),i=Fh(e,t,7),s=n^r^i;return s<0&&(s+=4294967296),s}function Xet(t,e){var n=Uh(t,e,28),r=Uh(e,t,2),i=Uh(e,t,7),s=n^r^i;return s<0&&(s+=4294967296),s}function ett(t,e){var n=Fh(t,e,14),r=Fh(t,e,18),i=Fh(e,t,9),s=n^r^i;return s<0&&(s+=4294967296),s}function ttt(t,e){var n=Uh(t,e,14),r=Uh(t,e,18),i=Uh(e,t,9),s=n^r^i;return s<0&&(s+=4294967296),s}function ntt(t,e){var n=Fh(t,e,1),r=Fh(t,e,8),i=xwe(t,e,7),s=n^r^i;return s<0&&(s+=4294967296),s}function rtt(t,e){var n=Uh(t,e,1),r=Uh(t,e,8),i=Ewe(t,e,7),s=n^r^i;return s<0&&(s+=4294967296),s}function itt(t,e){var n=Fh(t,e,19),r=Fh(e,t,29),i=xwe(t,e,6),s=n^r^i;return s<0&&(s+=4294967296),s}function stt(t,e){var n=Uh(t,e,19),r=Uh(e,t,29),i=Ewe(t,e,6),s=n^r^i;return s<0&&(s+=4294967296),s}var AL=Pn,kwe=Cwe;function Kp(){if(!(this instanceof Kp))return new Kp;kwe.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}AL.inherits(Kp,kwe);var ott=Kp;Kp.blockSize=1024;Kp.outSize=384;Kp.hmacStrength=192;Kp.padLength=128;Kp.prototype._digest=function(e){return e==="hex"?AL.toHex32(this.h.slice(0,12),"big"):AL.split32(this.h.slice(0,12),"big")};z3.sha1=Iet;z3.sha224=Fet;z3.sha256=bwe;z3.sha384=ott;z3.sha512=Cwe;var Swe={},tw=Pn,att=U3,ck=tw.rotl32,rte=tw.sum32,P5=tw.sum32_3,ite=tw.sum32_4,_we=att.BlockHash;function Xh(){if(!(this instanceof Xh))return new Xh;_we.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}tw.inherits(Xh,_we);Swe.ripemd160=Xh;Xh.blockSize=512;Xh.outSize=160;Xh.hmacStrength=192;Xh.padLength=64;Xh.prototype._update=function(e,n){for(var r=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],l=r,c=i,u=s,h=o,f=a,p=0;p<80;p++){var m=rte(ck(ite(r,ste(p,i,s,o),e[utt[p]+n],ltt(p)),htt[p]),a);r=a,a=o,o=ck(s,10),s=i,i=m,m=rte(ck(ite(l,ste(79-p,c,u,h),e[dtt[p]+n],ctt(p)),ftt[p]),f),l=f,f=h,h=ck(u,10),u=c,c=m}m=P5(this.h[1],s,h),this.h[1]=P5(this.h[2],o,f),this.h[2]=P5(this.h[3],a,l),this.h[3]=P5(this.h[4],r,c),this.h[4]=P5(this.h[0],i,u),this.h[0]=m};Xh.prototype._digest=function(e){return e==="hex"?tw.toHex32(this.h,"little"):tw.split32(this.h,"little")};function ste(t,e,n,r){return t<=15?e^n^r:t<=31?e&n|~e&r:t<=47?(e|~n)^r:t<=63?e&r|n&~r:e^(n|~r)}function ltt(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function ctt(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var utt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],dtt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],htt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ftt=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],ptt=Pn,mtt=zA;function Lx(t,e,n){if(!(this instanceof Lx))return new Lx(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(ptt.toArray(e,n))}var gtt=Lx;Lx.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),mtt(e.length<=this.blockSize);for(var n=e.length;n<this.blockSize;n++)e.push(0);for(n=0;n<e.length;n++)e[n]^=54;for(this.inner=new this.Hash().update(e),n=0;n<e.length;n++)e[n]^=106;this.outer=new this.Hash().update(e)};Lx.prototype.update=function(e,n){return this.inner.update(e,n),this};Lx.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Pn,e.common=U3,e.sha=z3,e.ripemd=Swe,e.hmac=gtt,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(cwe);const th=Ks(cwe);function ote(t){return"0x"+th.sha256().update(un(t)).digest("hex")}const ytt="web/5.8.0";var wtt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function btt(t,e){return wtt(this,void 0,void 0,function*(){e==null&&(e={});const n={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(n.mode=o.mode),o.cache&&(n.cache=o.cache),o.credentials&&(n.credentials=o.credentials),o.redirect&&(n.redirect=o.redirect),o.referrer&&(n.referrer=o.referrer)}const r=yield fetch(t,n),i=yield r.arrayBuffer(),s={};return r.headers.forEach?r.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):r.headers.keys().forEach(o=>{s[o.toLowerCase()]=r.headers.get(o)}),{headers:s,statusCode:r.status,statusMessage:r.statusText,body:un(new Uint8Array(i))}})}var vtt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Su=new Re(ytt);function ate(t){return new Promise(e=>{setTimeout(e,t)})}function m0(t,e){if(t==null)return null;if(typeof t=="string")return t;if(GV(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return QT(t)}catch{}return cn(t)}return t}function xtt(t){return qp(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function Ett(t,e,n){const r=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;Su.assertArgument(r>0&&r%1===0,"invalid connection throttle limit","connection.throttleLimit",r);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;Su.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let l=null;const c={method:"GET"};let u=!1,h=2*60*1e3;if(typeof t=="string")l=t;else if(typeof t=="object"){if((t==null||t.url==null)&&Su.throwArgumentError("missing URL","connection.url",t),l=t.url,typeof t.timeout=="number"&&t.timeout>0&&(h=t.timeout),t.headers)for(const w in t.headers)a[w.toLowerCase()]={key:w,value:String(t.headers[w])},["if-none-match","if-modified-since"].indexOf(w.toLowerCase())>=0&&(u=!0);if(c.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){l.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&Su.throwError("basic authentication requires a secure https url",Re.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:t.user,password:"[REDACTED]"});const w=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+H1e(qp(w))}}t.skipFetchSetup!=null&&(c.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(c.fetchOptions=Va(t.fetchOptions))}const f=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),p=l?l.match(f):null;if(p)try{const w={statusCode:200,statusMessage:"OK",headers:{"content-type":p[1]||"text/plain"},body:p[2]?W1e(p[3]):xtt(p[3])};let v=w.body;return n&&(v=n(w.body,w)),Promise.resolve(v)}catch(w){Su.throwError("processing response error",Re.errors.SERVER_ERROR,{body:m0(p[1],p[2]),error:w,requestBody:null,requestMethod:"GET",url:l})}e&&(c.method="POST",c.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const m={};Object.keys(a).forEach(w=>{const v=a[w];m[v.key]=v.value}),c.headers=m;const g=function(){let w=null;return{promise:new Promise(function(A,E){h&&(w=setTimeout(()=>{w!=null&&(w=null,E(Su.makeError("timeout",Re.errors.TIMEOUT,{requestBody:m0(c.body,m["content-type"]),requestMethod:c.method,timeout:h,url:l})))},h))}),cancel:function(){w!=null&&(clearTimeout(w),w=null)}}}(),y=function(){return vtt(this,void 0,void 0,function*(){for(let w=0;w<r;w++){let v=null;try{if(v=yield btt(l,c),w<r){if(v.statusCode===301||v.statusCode===302){const A=v.headers.location||"";if(c.method==="GET"&&A.match(/^https:/)){l=v.headers.location;continue}}else if(v.statusCode===429){let A=!0;if(i&&(A=yield i(w,l)),A){let E=0;const $=v.headers["retry-after"];typeof $=="string"&&$.match(/^[1-9][0-9]*$/)?E=parseInt($)*1e3:E=s*parseInt(String(Math.random()*Math.pow(2,w))),yield ate(E);continue}}}}catch(A){v=A.response,v==null&&(g.cancel(),Su.throwError("missing response",Re.errors.SERVER_ERROR,{requestBody:m0(c.body,m["content-type"]),requestMethod:c.method,serverError:A,url:l}))}let b=v.body;if(u&&v.statusCode===304?b=null:!o&&(v.statusCode<200||v.statusCode>=300)&&(g.cancel(),Su.throwError("bad response",Re.errors.SERVER_ERROR,{status:v.statusCode,headers:v.headers,body:m0(b,v.headers?v.headers["content-type"]:null),requestBody:m0(c.body,m["content-type"]),requestMethod:c.method,url:l})),n)try{const A=yield n(b,v);return g.cancel(),A}catch(A){if(A.throttleRetry&&w<r){let E=!0;if(i&&(E=yield i(w,l)),E){const $=s*parseInt(String(Math.random()*Math.pow(2,w)));yield ate($);continue}}g.cancel(),Su.throwError("processing response error",Re.errors.SERVER_ERROR,{body:m0(b,v.headers?v.headers["content-type"]:null),error:A,requestBody:m0(c.body,m["content-type"]),requestMethod:c.method,url:l})}return g.cancel(),b}return Su.throwError("failed response",Re.errors.SERVER_ERROR,{requestBody:m0(c.body,m["content-type"]),requestMethod:c.method,url:l})})}();return Promise.race([g.promise,y])}function XV(t,e,n){let r=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(QT(s))}catch(l){Su.throwError("invalid JSON",Re.errors.SERVER_ERROR,{body:s,error:l})}return n&&(a=n(a,o)),a},i=null;if(e!=null){i=qp(e);const s=typeof t=="string"?{url:t}:Va(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=Va(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return Ett(t,i,r)}function A6(t,e){return e||(e={}),e=Va(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(n,r){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&r(new Error("timeout"))},e.timeout));const a=e.retryLimit;let l=0;function c(){return t().then(function(u){if(u!==void 0)o()&&n(u);else if(e.oncePoll)e.oncePoll.once("poll",c);else if(e.onceBlock)e.onceBlock.once("block",c);else if(!s){if(l++,l>a){o()&&r(new Error("retry limit reached"));return}let h=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));h<e.floor&&(h=e.floor),h>e.ceiling&&(h=e.ceiling),setTimeout(c,h)}return null},function(u){o()&&r(u)})}c()})}var Q_="qpzry9x8gf2tvdw0s3jn54khce6mua7l",CL={};for(var uk=0;uk<Q_.length;uk++){var XR=Q_.charAt(uk);if(CL[XR]!==void 0)throw new TypeError(XR+" is ambiguous");CL[XR]=uk}function e2(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function Iwe(t){for(var e=1,n=0;n<t.length;++n){var r=t.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+t+")";e=e2(e)^r>>5}for(e=e2(e),n=0;n<t.length;++n){var i=t.charCodeAt(n);e=e2(e)^i&31}return e}function Att(t,e,n){if(n=n||90,t.length+7+e.length>n)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var r=Iwe(t);if(typeof r=="string")throw new Error(r);for(var i=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");r=e2(r)^o,i+=Q_.charAt(o)}for(s=0;s<6;++s)r=e2(r);for(r^=1,s=0;s<6;++s){var a=r>>(5-s)*5&31;i+=Q_.charAt(a)}return i}function Twe(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var n=t.toLowerCase(),r=t.toUpperCase();if(t!==n&&t!==r)return"Mixed-case string "+t;t=n;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)return"Data too short";var a=Iwe(s);if(typeof a=="string")return a;for(var l=[],c=0;c<o.length;++c){var u=o.charAt(c),h=CL[u];if(h===void 0)return"Unknown character "+u;a=e2(a)^h,!(c+6>=o.length)&&l.push(h)}return a!==1?"Invalid checksum for "+t:{prefix:s,words:l}}function Ctt(){var t=Twe.apply(null,arguments);if(typeof t=="object")return t}function ktt(t){var e=Twe.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function e$(t,e,n,r){for(var i=0,s=0,o=(1<<n)-1,a=[],l=0;l<t.length;++l)for(i=i<<e|t[l],s+=e;s>=n;)s-=n,a.push(i>>s&o);if(r)s>0&&a.push(i<<n-s&o);else{if(s>=e)return"Excess padding";if(i<<n-s&o)return"Non-zero padding"}return a}function Stt(t){var e=e$(t,8,5,!0);if(Array.isArray(e))return e}function _tt(t){var e=e$(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function Itt(t){var e=e$(t,5,8,!1);if(Array.isArray(e))return e}function Ttt(t){var e=e$(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var $tt={decodeUnsafe:Ctt,decode:ktt,encode:Att,toWordsUnsafe:Stt,toWords:_tt,fromWordsUnsafe:Itt,fromWords:Ttt};const lte=Ks($tt),t$="providers/5.8.0";function H3(t,e,n){return n={path:e,exports:{},require:function(r,i){return Ntt(r,i??n.path)}},t(n,n.exports),n.exports}function Ntt(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var eq=$we;function $we(t,e){if(!t)throw new Error(e||"Assertion failed")}$we.equal=function(e,n,r){if(e!=n)throw new Error(r||"Assertion failed: "+e+" != "+n)};var nd=H3(function(t,e){var n=e;function r(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var l=[];if(typeof o!="string"){for(var c=0;c<o.length;c++)l[c]=o[c]|0;return l}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var c=0;c<o.length;c+=2)l.push(parseInt(o[c]+o[c+1],16))}else for(var c=0;c<o.length;c++){var u=o.charCodeAt(c),h=u>>8,f=u&255;h?l.push(h,f):l.push(f)}return l}n.toArray=r;function i(o){return o.length===1?"0"+o:o}n.zero2=i;function s(o){for(var a="",l=0;l<o.length;l++)a+=i(o[l].toString(16));return a}n.toHex=s,n.encode=function(a,l){return l==="hex"?s(a):a}}),oc=H3(function(t,e){var n=e;n.assert=eq,n.toArray=nd.toArray,n.zero2=nd.zero2,n.toHex=nd.toHex,n.encode=nd.encode;function r(l,c,u){var h=new Array(Math.max(l.bitLength(),u)+1),f;for(f=0;f<h.length;f+=1)h[f]=0;var p=1<<c+1,m=l.clone();for(f=0;f<h.length;f++){var g,y=m.andln(p-1);m.isOdd()?(y>(p>>1)-1?g=(p>>1)-y:g=y,m.isubn(g)):g=0,h[f]=g,m.iushrn(1)}return h}n.getNAF=r;function i(l,c){var u=[[],[]];l=l.clone(),c=c.clone();for(var h=0,f=0,p;l.cmpn(-h)>0||c.cmpn(-f)>0;){var m=l.andln(3)+h&3,g=c.andln(3)+f&3;m===3&&(m=-1),g===3&&(g=-1);var y;m&1?(p=l.andln(7)+h&7,(p===3||p===5)&&g===2?y=-m:y=m):y=0,u[0].push(y);var w;g&1?(p=c.andln(7)+f&7,(p===3||p===5)&&m===2?w=-g:w=g):w=0,u[1].push(w),2*h===y+1&&(h=1-h),2*f===w+1&&(f=1-f),l.iushrn(1),c.iushrn(1)}return u}n.getJSF=i;function s(l,c,u){var h="_"+c;l.prototype[c]=function(){return this[h]!==void 0?this[h]:this[h]=u.call(this)}}n.cachedProperty=s;function o(l){return typeof l=="string"?n.toArray(l,"hex"):l}n.parseBytes=o;function a(l){return new zt(l,"hex","le")}n.intFromLE=a}),Z_=oc.getNAF,Ptt=oc.getJSF,J_=oc.assert;function Ng(t,e){this.type=t,this.p=new zt(e.p,16),this.red=e.prime?zt.red(e.prime):zt.mont(this.p),this.zero=new zt(0).toRed(this.red),this.one=new zt(1).toRed(this.red),this.two=new zt(2).toRed(this.red),this.n=e.n&&new zt(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var jw=Ng;Ng.prototype.point=function(){throw new Error("Not implemented")};Ng.prototype.validate=function(){throw new Error("Not implemented")};Ng.prototype._fixedNafMul=function(e,n){J_(e.precomputed);var r=e._getDoubles(),i=Z_(n,1,this._bitLength),s=(1<<r.step+1)-(r.step%2===0?2:1);s/=3;var o=[],a,l;for(a=0;a<i.length;a+=r.step){l=0;for(var c=a+r.step-1;c>=a;c--)l=(l<<1)+i[c];o.push(l)}for(var u=this.jpoint(null,null,null),h=this.jpoint(null,null,null),f=s;f>0;f--){for(a=0;a<o.length;a++)l=o[a],l===f?h=h.mixedAdd(r.points[a]):l===-f&&(h=h.mixedAdd(r.points[a].neg()));u=u.add(h)}return u.toP()};Ng.prototype._wnafMul=function(e,n){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var s=i.points,o=Z_(n,r,this._bitLength),a=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var c=0;l>=0&&o[l]===0;l--)c++;if(l>=0&&c++,a=a.dblp(c),l<0)break;var u=o[l];J_(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};Ng.prototype._wnafMulAdd=function(e,n,r,i,s){var o=this._wnafT1,a=this._wnafT2,l=this._wnafT3,c=0,u,h,f;for(u=0;u<i;u++){f=n[u];var p=f._getNAFPoints(e);o[u]=p.wnd,a[u]=p.points}for(u=i-1;u>=1;u-=2){var m=u-1,g=u;if(o[m]!==1||o[g]!==1){l[m]=Z_(r[m],o[m],this._bitLength),l[g]=Z_(r[g],o[g],this._bitLength),c=Math.max(l[m].length,c),c=Math.max(l[g].length,c);continue}var y=[n[m],null,null,n[g]];n[m].y.cmp(n[g].y)===0?(y[1]=n[m].add(n[g]),y[2]=n[m].toJ().mixedAdd(n[g].neg())):n[m].y.cmp(n[g].y.redNeg())===0?(y[1]=n[m].toJ().mixedAdd(n[g]),y[2]=n[m].add(n[g].neg())):(y[1]=n[m].toJ().mixedAdd(n[g]),y[2]=n[m].toJ().mixedAdd(n[g].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],v=Ptt(r[m],r[g]);for(c=Math.max(v[0].length,c),l[m]=new Array(c),l[g]=new Array(c),h=0;h<c;h++){var b=v[0][h]|0,A=v[1][h]|0;l[m][h]=w[(b+1)*3+(A+1)],l[g][h]=0,a[m]=y}}var E=this.jpoint(null,null,null),$=this._wnafT4;for(u=c;u>=0;u--){for(var N=0;u>=0;){var R=!0;for(h=0;h<i;h++)$[h]=l[h][u]|0,$[h]!==0&&(R=!1);if(!R)break;N++,u--}if(u>=0&&N++,E=E.dblp(N),u<0)break;for(h=0;h<i;h++){var j=$[h];j!==0&&(j>0?f=a[h][j-1>>1]:j<0&&(f=a[h][-j-1>>1].neg()),f.type==="affine"?E=E.mixedAdd(f):E=E.add(f))}}for(u=0;u<i;u++)a[u]=null;return s?E:E.toP()};function hu(t,e){this.curve=t,this.type=e,this.precomputed=null}Ng.BasePoint=hu;hu.prototype.eq=function(){throw new Error("Not implemented")};hu.prototype.validate=function(){return this.curve.validate(this)};Ng.prototype.decodePoint=function(e,n){e=oc.toArray(e,n);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?J_(e[e.length-1]%2===0):e[0]===7&&J_(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")};hu.prototype.encodeCompressed=function(e){return this.encode(e,!0)};hu.prototype._encode=function(e){var n=this.curve.p.byteLength(),r=this.getX().toArray("be",n);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",n))};hu.prototype.encode=function(e,n){return oc.encode(this._encode(n),e)};hu.prototype.precompute=function(e){if(this.precomputed)return this;var n={doubles:null,naf:null,beta:null};return n.naf=this._getNAFPoints(8),n.doubles=this._getDoubles(4,e),n.beta=this._getBeta(),this.precomputed=n,this};hu.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var n=this.precomputed.doubles;return n?n.points.length>=Math.ceil((e.bitLength()+1)/n.step):!1};hu.prototype._getDoubles=function(e,n){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,s=0;s<n;s+=e){for(var o=0;o<e;o++)i=i.dbl();r.push(i)}return{step:e,points:r}};hu.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var n=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),s=1;s<r;s++)n[s]=n[s-1].add(i);return{wnd:e,points:n}};hu.prototype._getBeta=function(){return null};hu.prototype.dblp=function(e){for(var n=this,r=0;r<e;r++)n=n.dbl();return n};var tq=H3(function(t){typeof Object.create=="function"?t.exports=function(n,r){r&&(n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(n,r){if(r){n.super_=r;var i=function(){};i.prototype=r.prototype,n.prototype=new i,n.prototype.constructor=n}}}),Rtt=oc.assert;function fu(t){jw.call(this,"short",t),this.a=new zt(t.a,16).toRed(this.red),this.b=new zt(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}tq(fu,jw);var jtt=fu;fu.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var n,r;if(e.beta)n=new zt(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);n=i[0].cmp(i[1])<0?i[0]:i[1],n=n.toRed(this.red)}if(e.lambda)r=new zt(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(n))===0?r=s[0]:(r=s[1],Rtt(this.g.mul(r).x.cmp(this.g.x.redMul(n))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new zt(a.a,16),b:new zt(a.b,16)}}):o=this._getEndoBasis(r),{beta:n,lambda:r,basis:o}}};fu.prototype._getEndoRoots=function(e){var n=e===this.p?this.red:zt.mont(e),r=new zt(2).toRed(n).redInvm(),i=r.redNeg(),s=new zt(3).toRed(n).redNeg().redSqrt().redMul(r),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};fu.prototype._getEndoBasis=function(e){for(var n=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),s=new zt(1),o=new zt(0),a=new zt(0),l=new zt(1),c,u,h,f,p,m,g,y=0,w,v;r.cmpn(0)!==0;){var b=i.div(r);w=i.sub(b.mul(r)),v=a.sub(b.mul(s));var A=l.sub(b.mul(o));if(!h&&w.cmp(n)<0)c=g.neg(),u=s,h=w.neg(),f=v;else if(h&&++y===2)break;g=w,i=r,r=w,a=s,s=v,l=o,o=A}p=w.neg(),m=v;var E=h.sqr().add(f.sqr()),$=p.sqr().add(m.sqr());return $.cmp(E)>=0&&(p=c,m=u),h.negative&&(h=h.neg(),f=f.neg()),p.negative&&(p=p.neg(),m=m.neg()),[{a:h,b:f},{a:p,b:m}]};fu.prototype._endoSplit=function(e){var n=this.endo.basis,r=n[0],i=n[1],s=i.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=s.mul(r.a),l=o.mul(i.a),c=s.mul(r.b),u=o.mul(i.b),h=e.sub(a).sub(l),f=c.add(u).neg();return{k1:h,k2:f}};fu.prototype.pointFromX=function(e,n){e=new zt(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(n&&!s||!n&&s)&&(i=i.redNeg()),this.point(e,i)};fu.prototype.validate=function(e){if(e.inf)return!0;var n=e.x,r=e.y,i=this.a.redMul(n),s=n.redSqr().redMul(n).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(s).cmpn(0)===0};fu.prototype._endoWnafMulAdd=function(e,n,r){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(n[o]),l=e[o],c=l._getBeta();a.k1.negative&&(a.k1.ineg(),l=l.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),i[o*2]=l,i[o*2+1]=c,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,r),h=0;h<o*2;h++)i[h]=null,s[h]=null;return u};function ks(t,e,n,r){jw.BasePoint.call(this,t,"affine"),e===null&&n===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new zt(e,16),this.y=new zt(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}tq(ks,jw.BasePoint);fu.prototype.point=function(e,n,r){return new ks(this,e,n,r)};fu.prototype.pointFromJSON=function(e,n){return ks.fromJSON(this,e,n)};ks.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(s){return r.point(s.x.redMul(r.endo.beta),s.y)};e.beta=n,n.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return n}};ks.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ks.fromJSON=function(e,n,r){typeof n=="string"&&(n=JSON.parse(n));var i=e.point(n[0],n[1],r);if(!n[2])return i;function s(a){return e.point(a[0],a[1],r)}var o=n[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};ks.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ks.prototype.isInfinity=function(){return this.inf};ks.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var n=this.y.redSub(e.y);n.cmpn(0)!==0&&(n=n.redMul(this.x.redSub(e.x).redInvm()));var r=n.redSqr().redISub(this.x).redISub(e.x),i=n.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)};ks.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var n=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),s=r.redAdd(r).redIAdd(r).redIAdd(n).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};ks.prototype.getX=function(){return this.x.fromRed()};ks.prototype.getY=function(){return this.y.fromRed()};ks.prototype.mul=function(e){return e=new zt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ks.prototype.mulAdd=function(e,n,r){var i=[this,n],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};ks.prototype.jmulAdd=function(e,n,r){var i=[this,n],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};ks.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ks.prototype.neg=function(e){if(this.inf)return this;var n=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(s){return s.neg()};n.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return n};ks.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Qs(t,e,n,r){jw.BasePoint.call(this,t,"jacobian"),e===null&&n===null&&r===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new zt(0)):(this.x=new zt(e,16),this.y=new zt(n,16),this.z=new zt(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}tq(Qs,jw.BasePoint);fu.prototype.jpoint=function(e,n,r){return new Qs(this,e,n,r)};Qs.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),n=e.redSqr(),r=this.x.redMul(n),i=this.y.redMul(n).redMul(e);return this.curve.point(r,i)};Qs.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Qs.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var n=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(n),s=e.x.redMul(r),o=this.y.redMul(n.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),l=i.redSub(s),c=o.redSub(a);if(l.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=l.redSqr(),h=u.redMul(l),f=i.redMul(u),p=c.redSqr().redIAdd(h).redISub(f).redISub(f),m=c.redMul(f.redISub(p)).redISub(o.redMul(h)),g=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(p,m,g)};Qs.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var n=this.z.redSqr(),r=this.x,i=e.x.redMul(n),s=this.y,o=e.y.redMul(n).redMul(this.z),a=r.redSub(i),l=s.redSub(o);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),h=r.redMul(c),f=l.redSqr().redIAdd(u).redISub(h).redISub(h),p=l.redMul(h.redISub(f)).redISub(s.redMul(u)),m=this.z.redMul(a);return this.curve.jpoint(f,p,m)};Qs.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var n;if(this.curve.zeroA||this.curve.threeA){var r=this;for(n=0;n<e;n++)r=r.dbl();return r}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,l=this.z,c=l.redSqr().redSqr(),u=a.redAdd(a);for(n=0;n<e;n++){var h=o.redSqr(),f=u.redSqr(),p=f.redSqr(),m=h.redAdd(h).redIAdd(h).redIAdd(i.redMul(c)),g=o.redMul(f),y=m.redSqr().redISub(g.redAdd(g)),w=g.redISub(y),v=m.redMul(w);v=v.redIAdd(v).redISub(p);var b=u.redMul(l);n+1<e&&(c=c.redMul(p)),o=y,l=b,u=v}return this.curve.jpoint(o,u.redMul(s),l)};Qs.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Qs.prototype._zeroDbl=function(){var e,n,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i),c=l.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=c,n=l.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),f=this.y.redSqr(),p=f.redSqr(),m=this.x.redAdd(f).redSqr().redISub(h).redISub(p);m=m.redIAdd(m);var g=h.redAdd(h).redIAdd(h),y=g.redSqr(),w=p.redIAdd(p);w=w.redIAdd(w),w=w.redIAdd(w),e=y.redISub(m).redISub(m),n=g.redMul(m.redISub(e)).redISub(w),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,n,r)};Qs.prototype._threeDbl=function(){var e,n,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=l.redSqr().redISub(a).redISub(a);e=c;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),n=l.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),f=this.y.redSqr(),p=this.x.redMul(f),m=this.x.redSub(h).redMul(this.x.redAdd(h));m=m.redAdd(m).redIAdd(m);var g=p.redIAdd(p);g=g.redIAdd(g);var y=g.redAdd(g);e=m.redSqr().redISub(y),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(h);var w=f.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),n=m.redMul(g.redISub(e)).redISub(w)}return this.curve.jpoint(e,n,r)};Qs.prototype._dbl=function(){var e=this.curve.a,n=this.x,r=this.y,i=this.z,s=i.redSqr().redSqr(),o=n.redSqr(),a=r.redSqr(),l=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),c=n.redAdd(n);c=c.redIAdd(c);var u=c.redMul(a),h=l.redSqr().redISub(u.redAdd(u)),f=u.redISub(h),p=a.redSqr();p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var m=l.redMul(f).redISub(p),g=r.redAdd(r).redMul(i);return this.curve.jpoint(h,m,g)};Qs.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),n=this.y.redSqr(),r=this.z.redSqr(),i=n.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(n).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var l=a.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var u=s.redIAdd(a).redSqr().redISub(o).redISub(l).redISub(c),h=n.redMul(u);h=h.redIAdd(h),h=h.redIAdd(h);var f=this.x.redMul(l).redISub(h);f=f.redIAdd(f),f=f.redIAdd(f);var p=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(l)));p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var m=this.z.redAdd(a).redSqr().redISub(r).redISub(l);return this.curve.jpoint(f,p,m)};Qs.prototype.mul=function(e,n){return e=new zt(e,n),this.curve._wnafMul(this,e)};Qs.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var n=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(n)).cmpn(0)!==0)return!1;var i=n.redMul(this.z),s=r.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};Qs.prototype.eqXToP=function(e){var n=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(n);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(n);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(s),this.x.cmp(r)===0)return!0}};Qs.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Qs.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var z9=H3(function(t,e){var n=e;n.base=jw,n.short=jtt,n.mont=null,n.edwards=null}),W9=H3(function(t,e){var n=e,r=oc.assert;function i(a){a.type==="short"?this.curve=new z9.short(a):a.type==="edwards"?this.curve=new z9.edwards(a):this.curve=new z9.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,r(this.g.validate(),"Invalid curve"),r(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}n.PresetCurve=i;function s(a,l){Object.defineProperty(n,a,{configurable:!0,enumerable:!0,get:function(){var c=new i(l);return Object.defineProperty(n,a,{configurable:!0,enumerable:!0,value:c}),c}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:th.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:th.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:th.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:th.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:th.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:th.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:th.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:th.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function wg(t){if(!(this instanceof wg))return new wg(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=nd.toArray(t.entropy,t.entropyEnc||"hex"),n=nd.toArray(t.nonce,t.nonceEnc||"hex"),r=nd.toArray(t.pers,t.persEnc||"hex");eq(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,r)}var Nwe=wg;wg.prototype._init=function(e,n,r){var i=e.concat(n).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};wg.prototype._hmac=function(){return new th.hmac(this.hash,this.K)};wg.prototype._update=function(e){var n=this._hmac().update(this.V).update([0]);e&&(n=n.update(e)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};wg.prototype.reseed=function(e,n,r,i){typeof n!="string"&&(i=r,r=n,n=null),e=nd.toArray(e,n),r=nd.toArray(r,i),eq(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1};wg.prototype.generate=function(e,n,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(i=r,r=n,n=null),r&&(r=nd.toArray(r,i||"hex"),this._update(r));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(r),this._reseed++,nd.encode(o,n)};var kL=oc.assert;function jo(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var nq=jo;jo.fromPublic=function(e,n,r){return n instanceof jo?n:new jo(e,{pub:n,pubEnc:r})};jo.fromPrivate=function(e,n,r){return n instanceof jo?n:new jo(e,{priv:n,privEnc:r})};jo.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};jo.prototype.getPublic=function(e,n){return typeof e=="string"&&(n=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),n?this.pub.encode(n,e):this.pub};jo.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};jo.prototype._importPrivate=function(e,n){this.priv=new zt(e,n||16),this.priv=this.priv.umod(this.ec.curve.n)};jo.prototype._importPublic=function(e,n){if(e.x||e.y){this.ec.curve.type==="mont"?kL(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&kL(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,n)};jo.prototype.derive=function(e){return e.validate()||kL(e.validate(),"public point not validated"),e.mul(this.priv).getX()};jo.prototype.sign=function(e,n,r){return this.ec.sign(e,this,n,r)};jo.prototype.verify=function(e,n,r){return this.ec.verify(e,n,this,void 0,r)};jo.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Ott=oc.assert;function n$(t,e){if(t instanceof n$)return t;this._importDER(t,e)||(Ott(t.r&&t.s,"Signature without r or s"),this.r=new zt(t.r,16),this.s=new zt(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var r$=n$;function Mtt(){this.place=0}function ej(t,e){var n=t[e.place++];if(!(n&128))return n;var r=n&15;if(r===0||r>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<r;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function cte(t){for(var e=0,n=t.length-1;!t[e]&&!(t[e+1]&128)&&e<n;)e++;return e===0?t:t.slice(e)}n$.prototype._importDER=function(e,n){e=oc.toArray(e,n);var r=new Mtt;if(e[r.place++]!==48)return!1;var i=ej(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var s=ej(e,r);if(s===!1||e[r.place]&128)return!1;var o=e.slice(r.place,s+r.place);if(r.place+=s,e[r.place++]!==2)return!1;var a=ej(e,r);if(a===!1||e.length!==a+r.place||e[r.place]&128)return!1;var l=e.slice(r.place,a+r.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new zt(o),this.s=new zt(l),this.recoveryParam=null,!0};function tj(t,e){if(e<128){t.push(e);return}var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(n|128);--n;)t.push(e>>>(n<<3)&255);t.push(e)}n$.prototype.toDER=function(e){var n=this.r.toArray(),r=this.s.toArray();for(n[0]&128&&(n=[0].concat(n)),r[0]&128&&(r=[0].concat(r)),n=cte(n),r=cte(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];tj(i,n.length),i=i.concat(n),i.push(2),tj(i,r.length);var s=i.concat(r),o=[48];return tj(o,s.length),o=o.concat(s),oc.encode(o,e)};var Dtt=function(){throw new Error("unsupported")},cy=oc.assert;function eu(t){if(!(this instanceof eu))return new eu(t);typeof t=="string"&&(cy(Object.prototype.hasOwnProperty.call(W9,t),"Unknown curve "+t),t=W9[t]),t instanceof W9.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Btt=eu;eu.prototype.keyPair=function(e){return new nq(this,e)};eu.prototype.keyFromPrivate=function(e,n){return nq.fromPrivate(this,e,n)};eu.prototype.keyFromPublic=function(e,n){return nq.fromPublic(this,e,n)};eu.prototype.genKeyPair=function(e){e||(e={});for(var n=new Nwe({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Dtt(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new zt(2));;){var s=new zt(n.generate(r));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};eu.prototype._truncateToN=function(e,n,r){var i;if(zt.isBN(e)||typeof e=="number")e=new zt(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new zt(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new zt(s,16)}typeof r!="number"&&(r=i*8);var o=r-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!n&&e.cmp(this.n)>=0?e.sub(this.n):e};eu.prototype.sign=function(e,n,r,i){if(typeof r=="object"&&(i=r,r=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!zt.isBN(e)){cy(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),cy(e.length>>>0===e.length);for(var s=0;s<e.length;s++)cy((e[s]&255)===e[s])}n=this.keyFromPrivate(n,r),e=this._truncateToN(e,!1,i.msgBitLength),cy(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=n.getPrivate().toArray("be",o),l=e.toArray("be",o);cy(new zt(l).eq(e),"Can not sign message");for(var c=new Nwe({hash:this.hash,entropy:a,nonce:l,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new zt(1)),h=0;;h++){var f=i.k?i.k(h):new zt(c.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(u)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var m=p.getX(),g=m.umod(this.n);if(g.cmpn(0)!==0){var y=f.invm(this.n).mul(g.mul(n.getPrivate()).iadd(e));if(y=y.umod(this.n),y.cmpn(0)!==0){var w=(p.getY().isOdd()?1:0)|(m.cmp(g)!==0?2:0);return i.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),w^=1),new r$({r:g,s:y,recoveryParam:w})}}}}}};eu.prototype.verify=function(e,n,r,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),r=this.keyFromPublic(r,i),n=new r$(n,"hex");var o=n.r,a=n.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var l=a.invm(this.n),c=l.mul(e).umod(this.n),u=l.mul(o).umod(this.n),h;return this.curve._maxwellTrick?(h=this.g.jmulAdd(c,r.getPublic(),u),h.isInfinity()?!1:h.eqXToP(o)):(h=this.g.mulAdd(c,r.getPublic(),u),h.isInfinity()?!1:h.getX().umod(this.n).cmp(o)===0)};eu.prototype.recoverPubKey=function(t,e,n,r){cy((3&n)===n,"The recovery param is more than two bits"),e=new r$(e,r);var i=this.n,s=new zt(t),o=e.r,a=e.s,l=n&1,c=n>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),l):o=this.curve.pointFromX(o,l);var u=e.r.invm(i),h=i.sub(s).mul(u).umod(i),f=a.mul(u).umod(i);return this.g.mulAdd(h,o,f)};eu.prototype.getKeyRecoveryParam=function(t,e,n,r){if(e=new r$(e,r),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(n))return i}throw new Error("Unable to find valid recovery factor")};var Ltt=H3(function(t,e){var n=e;n.version="6.6.1",n.utils=oc,n.rand=function(){throw new Error("unsupported")},n.curve=z9,n.curves=W9,n.ec=Btt,n.eddsa=null}),Ftt=Ltt.ec;const Utt="signing-key/5.8.0",SL=new Re(Utt);let nj=null;function Z0(){return nj||(nj=new Ftt("secp256k1")),nj}let ztt=class{constructor(e){$n(this,"curve","secp256k1"),$n(this,"privateKey",cn(e)),ew(this.privateKey)!==32&&SL.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const n=Z0().keyFromPrivate(un(this.privateKey));$n(this,"publicKey","0x"+n.getPublic(!1,"hex")),$n(this,"compressedPublicKey","0x"+n.getPublic(!0,"hex")),$n(this,"_isSigningKey",!0)}_addPoint(e){const n=Z0().keyFromPublic(un(this.publicKey)),r=Z0().keyFromPublic(un(e));return"0x"+n.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const n=Z0().keyFromPrivate(un(this.privateKey)),r=un(e);r.length!==32&&SL.throwArgumentError("bad digest length","digest",e);const i=n.sign(r,{canonical:!0});return YT({recoveryParam:i.recoveryParam,r:gi("0x"+i.r.toString(16),32),s:gi("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const n=Z0().keyFromPrivate(un(this.privateKey)),r=Z0().keyFromPublic(un(Pwe(e)));return gi("0x"+n.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function Wtt(t,e){const n=YT(e),r={r:un(n.r),s:un(n.s)};return"0x"+Z0().recoverPubKey(un(t),r,n.recoveryParam).encode("hex",!1)}function Pwe(t,e){const n=un(t);return n.length===32?new ztt(n).publicKey:n.length===33?"0x"+Z0().keyFromPublic(n).getPublic(!1,"hex"):n.length===65?cn(n):SL.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Htt="transactions/5.8.0",s0=new Re(Htt);var ute;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(ute||(ute={}));function rq(t){return t==="0x"?null:vd(t)}function _o(t){return t==="0x"?YJe:dt.from(t)}function Vtt(t){const e=Pwe(t);return vd(Go(Us(Go(e,1)),12))}function Rwe(t,e){return Vtt(Wtt(un(t),e))}function Pl(t,e){const n=Mx(dt.from(t).toHexString());return n.length>32&&s0.throwArgumentError("invalid length for "+e,"transaction:"+e,t),n}function rj(t,e){return{address:vd(t),storageKeys:(e||[]).map((n,r)=>(ew(n)!==32&&s0.throwArgumentError("invalid access list storageKey",`accessList[${t}:${r}]`,n),n.toLowerCase()))}}function WA(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(n.length>2&&s0.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${r}]`,n),rj(n[0],n[1])):rj(n.address,n.storageKeys));const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,s)=>(i[s]=!0,i),{});return rj(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function jwe(t){return WA(t).map(e=>[e.address,e.storageKeys])}function qtt(t,e){if(t.gasPrice!=null){const r=dt.from(t.gasPrice),i=dt.from(t.maxFeePerGas||0);r.eq(i)||s0.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:i})}const n=[Pl(t.chainId||0,"chainId"),Pl(t.nonce||0,"nonce"),Pl(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Pl(t.maxFeePerGas||0,"maxFeePerGas"),Pl(t.gasLimit||0,"gasLimit"),t.to!=null?vd(t.to):"0x",Pl(t.value||0,"value"),t.data||"0x",jwe(t.accessList||[])];if(e){const r=YT(e);n.push(Pl(r.recoveryParam,"recoveryParam")),n.push(Mx(r.r)),n.push(Mx(r.s))}return Fl(["0x02",JT(n)])}function Gtt(t,e){const n=[Pl(t.chainId||0,"chainId"),Pl(t.nonce||0,"nonce"),Pl(t.gasPrice||0,"gasPrice"),Pl(t.gasLimit||0,"gasLimit"),t.to!=null?vd(t.to):"0x",Pl(t.value||0,"value"),t.data||"0x",jwe(t.accessList||[])];if(e){const r=YT(e);n.push(Pl(r.recoveryParam,"recoveryParam")),n.push(Mx(r.r)),n.push(Mx(r.s))}return Fl(["0x01",JT(n)])}function Owe(t,e,n){try{const r=_o(e[0]).toNumber();if(r!==0&&r!==1)throw new Error("bad recid");t.v=r}catch{s0.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=gi(e[1],32),t.s=gi(e[2],32);try{const r=Us(n(t));t.from=Rwe(r,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function Ktt(t){const e=ZV(t.slice(1));e.length!==9&&e.length!==12&&s0.throwArgumentError("invalid component count for transaction type: 2","payload",cn(t));const n=_o(e[2]),r=_o(e[3]),i={type:2,chainId:_o(e[0]).toNumber(),nonce:_o(e[1]).toNumber(),maxPriorityFeePerGas:n,maxFeePerGas:r,gasPrice:null,gasLimit:_o(e[4]),to:rq(e[5]),value:_o(e[6]),data:e[7],accessList:WA(e[8])};return e.length===9||(i.hash=Us(t),Owe(i,e.slice(9),qtt)),i}function Ytt(t){const e=ZV(t.slice(1));e.length!==8&&e.length!==11&&s0.throwArgumentError("invalid component count for transaction type: 1","payload",cn(t));const n={type:1,chainId:_o(e[0]).toNumber(),nonce:_o(e[1]).toNumber(),gasPrice:_o(e[2]),gasLimit:_o(e[3]),to:rq(e[4]),value:_o(e[5]),data:e[6],accessList:WA(e[7])};return e.length===8||(n.hash=Us(t),Owe(n,e.slice(8),Gtt)),n}function Qtt(t){const e=ZV(t);e.length!==9&&e.length!==6&&s0.throwArgumentError("invalid raw transaction","rawTransaction",t);const n={nonce:_o(e[0]).toNumber(),gasPrice:_o(e[1]),gasLimit:_o(e[2]),to:rq(e[3]),value:_o(e[4]),data:e[5],chainId:0};if(e.length===6)return n;try{n.v=dt.from(e[6]).toNumber()}catch{return n}if(n.r=gi(e[7],32),n.s=gi(e[8],32),dt.from(n.r).isZero()&&dt.from(n.s).isZero())n.chainId=n.v,n.v=0;else{n.chainId=Math.floor((n.v-35)/2),n.chainId<0&&(n.chainId=0);let r=n.v-27;const i=e.slice(0,6);n.chainId!==0&&(i.push(cn(n.chainId)),i.push("0x"),i.push("0x"),r-=n.chainId*2+8);const s=Us(JT(i));try{n.from=Rwe(s,{r:cn(n.r),s:cn(n.s),recoveryParam:r})}catch{}n.hash=Us(t)}return n.type=null,n}function Ztt(t){const e=un(t);if(e[0]>127)return Qtt(e);switch(e[0]){case 1:return Ytt(e);case 2:return Ktt(e)}return s0.throwError(`unsupported transaction type: ${e[0]}`,Re.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const R5=new Re(t$);class kt{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},n=this.address.bind(this),r=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),l=this.number.bind(this),c=this.type.bind(this),u=h=>this.data(h,!0);return e.transaction={hash:o,type:c,accessList:kt.allowNull(this.accessList.bind(this),null),blockHash:kt.allowNull(o,null),blockNumber:kt.allowNull(l,null),transactionIndex:kt.allowNull(l,null),confirmations:kt.allowNull(l,null),from:n,gasPrice:kt.allowNull(r),maxPriorityFeePerGas:kt.allowNull(r),maxFeePerGas:kt.allowNull(r),gasLimit:r,to:kt.allowNull(n,null),value:r,nonce:l,data:s,r:kt.allowNull(this.uint256),s:kt.allowNull(this.uint256),v:kt.allowNull(l),creates:kt.allowNull(n,null),raw:kt.allowNull(s)},e.transactionRequest={from:kt.allowNull(n),nonce:kt.allowNull(l),gasLimit:kt.allowNull(r),gasPrice:kt.allowNull(r),maxPriorityFeePerGas:kt.allowNull(r),maxFeePerGas:kt.allowNull(r),to:kt.allowNull(n),value:kt.allowNull(r),data:kt.allowNull(u),type:kt.allowNull(l),accessList:kt.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:o,address:n,topics:kt.arrayOf(o),data:s,logIndex:l,blockHash:o},e.receipt={to:kt.allowNull(this.address,null),from:kt.allowNull(this.address,null),contractAddress:kt.allowNull(n,null),transactionIndex:l,root:kt.allowNull(a),gasUsed:r,logsBloom:kt.allowNull(s),blockHash:o,transactionHash:o,logs:kt.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:kt.allowNull(l,null),cumulativeGasUsed:r,effectiveGasPrice:kt.allowNull(r),status:kt.allowNull(l),type:c},e.block={hash:kt.allowNull(o),parentHash:o,number:l,timestamp:l,nonce:kt.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:kt.allowNull(n),extraData:s,transactions:kt.allowNull(kt.arrayOf(o)),baseFeePerGas:kt.allowNull(r)},e.blockWithTransactions=Va(e.block),e.blockWithTransactions.transactions=kt.allowNull(kt.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:kt.allowNull(i,void 0),toBlock:kt.allowNull(i,void 0),blockHash:kt.allowNull(o,void 0),address:kt.allowNull(n,void 0),topics:kt.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:kt.allowNull(l),blockHash:kt.allowNull(o),transactionIndex:l,removed:kt.allowNull(this.boolean.bind(this)),address:n,data:kt.allowFalsish(s,"0x"),topics:kt.arrayOf(o),transactionHash:o,logIndex:l},e}accessList(e){return WA(e||[])}number(e){return e==="0x"?0:dt.from(e).toNumber()}type(e){return e==="0x"||e==null?0:dt.from(e).toNumber()}bigNumber(e){return dt.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,n){return typeof e=="string"&&(!n&&e.substring(0,2)!=="0x"&&(e="0x"+e),br(e))?e.toLowerCase():R5.throwArgumentError("invalid hash","value",e)}data(e,n){const r=this.hex(e,n);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return vd(e)}callAddress(e){if(!br(e,32))return null;const n=vd(Go(e,12));return n===KJe?null:n}contractAddress(e){return jXe(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||br(e))return KV(e);throw new Error("invalid blockTag")}hash(e,n){const r=this.hex(e,n);return ew(r)!==32?R5.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(e==null)return null;const n=dt.from(e);try{return n.toNumber()}catch{}return null}uint256(e){if(!br(e))throw new Error("invalid uint256");return gi(e,32)}_block(e,n){e.author!=null&&e.miner==null&&(e.miner=e.author);const r=e._difficulty!=null?e._difficulty:e.difficulty,i=kt.check(n,e);return i._difficulty=r==null?null:dt.from(r),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return kt.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&dt.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const n=kt.check(this.formats.transaction,e);if(e.chainId!=null){let r=e.chainId;br(r)&&(r=dt.from(r).toNumber()),n.chainId=r}else{let r=e.networkId;r==null&&n.v==null&&(r=e.chainId),br(r)&&(r=dt.from(r).toNumber()),typeof r!="number"&&n.v!=null&&(r=(n.v-35)/2,r<0&&(r=0),r=parseInt(r)),typeof r!="number"&&(r=0),n.chainId=r}return n.blockHash&&n.blockHash.replace(/0/g,"")==="x"&&(n.blockHash=null),n}transaction(e){return Ztt(e)}receiptLog(e){return kt.check(this.formats.receiptLog,e)}receipt(e){const n=kt.check(this.formats.receipt,e);if(n.root!=null)if(n.root.length<=4){const r=dt.from(n.root).toNumber();r===0||r===1?(n.status!=null&&n.status!==r&&R5.throwArgumentError("alt-root-status/status mismatch","value",{root:n.root,status:n.status}),n.status=r,delete n.root):R5.throwArgumentError("invalid alt-root-status","value.root",n.root)}else n.root.length!==66&&R5.throwArgumentError("invalid root hash","value.root",n.root);return n.status!=null&&(n.byzantium=!0),n}topics(e){return Array.isArray(e)?e.map(n=>this.topics(n)):e!=null?this.hash(e,!0):null}filter(e){return kt.check(this.formats.filter,e)}filterLog(e){return kt.check(this.formats.filterLog,e)}static check(e,n){const r={};for(const i in e)try{const s=e[i](n[i]);s!==void 0&&(r[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=n[i],s}return r}static allowNull(e,n){return function(r){return r==null?n:e(r)}}static allowFalsish(e,n){return function(r){return r?e(r):n}}static arrayOf(e){return function(n){if(!Array.isArray(n))throw new Error("not an array");const r=[];return n.forEach(function(i){r.push(e(i))}),r}}}var Jt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Cn=new Re(t$),Jtt=10;function dte(t){return t==null?"null":(ew(t)!==32&&Cn.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function hte(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const n={};e.forEach(i=>{n[dte(i)]=!0});const r=Object.keys(n);return r.sort(),r.join("|")}else return dte(e)}).join("&")}function Xtt(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const n=e.split("|").map(r=>r==="null"?null:r);return n.length===1?n[0]:n})}function lb(t){if(typeof t=="string"){if(t=t.toLowerCase(),ew(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+hte(t);if(HJe.isForkEvent(t))throw Cn.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+hte(t.topics||[])}throw new Error("invalid event - "+t)}function j5(){return new Date().getTime()}function fte(t){return new Promise(e=>{setTimeout(e,t)})}const ent=["block","network","pending","poll"];let tnt=class{constructor(e,n,r){$n(this,"tag",e),$n(this,"listener",n),$n(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const n=e[1],r=Xtt(e[2]),i={};return r.length>0&&(i.topics=r),n&&n!=="*"&&(i.address=n),i}pollable(){return this.tag.indexOf(":")>=0||ent.indexOf(this.tag)>=0}};const nnt={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function ij(t){return gi(dt.from(t).toHexString(),32)}function pte(t){return vL.encode(Ny([t,Go(ote(ote(t)),0,4)]))}const Mwe=new RegExp("^(ipfs)://(.*)$","i"),mte=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Mwe,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function H9(t,e){try{return QT(G8(t,e))}catch{}return null}function G8(t,e){if(t==="0x")return null;const n=dt.from(Go(t,e,e+32)).toNumber(),r=dt.from(Go(t,n,n+32)).toNumber();return Go(t,n+32,n+32+r)}function sj(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Cn.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function gte(t){const e=un(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function rnt(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function Dwe(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(null),n+=32;for(let r=0;r<t.length;r++){const i=un(t[r]);e[r]=gte(n),e.push(gte(i.length)),e.push(rnt(i)),n+=32+Math.ceil(i.length/32)*32}return Fl(e)}class yte{constructor(e,n,r,i){$n(this,"provider",e),$n(this,"name",r),$n(this,"address",e.formatter.address(n)),$n(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>dt.from(e).eq(1)).catch(e=>{if(e.code===Re.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,n){return Jt(this,void 0,void 0,function*(){const r={to:this.address,ccipReadEnabled:!0,data:Fl([e,U9(this.name),n||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,r.data=Fl(["0x9061b923",Dwe([IXe(this.name),r.data])]));try{let s=yield this.provider.call(r);return un(s).length%32===4&&Cn.throwError("resolver threw error",Re.errors.CALL_EXCEPTION,{transaction:r,data:s}),i&&(s=G8(s,0)),s}catch(s){if(s.code===Re.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,n){return Jt(this,void 0,void 0,function*(){const r=yield this._fetch(e,n);return r!=null?G8(r,0):null})}_getAddress(e,n){const r=nnt[String(e)];if(r==null&&Cn.throwError(`unsupported coin type: ${e}`,Re.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),r.ilk==="eth")return this.provider.formatter.address(n);const i=un(n);if(r.p2pkh!=null){const s=n.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return pte(Ny([[r.p2pkh],"0x"+s[2]]))}}if(r.p2sh!=null){const s=n.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return pte(Ny([[r.p2sh],"0x"+s[2]]))}}if(r.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=lte.toWords(i.slice(2));return a.unshift(o),lte.encode(r.prefix,a)}}return null}getAddress(e){return Jt(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===QJe?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===Re.errors.CALL_EXCEPTION)return null;throw i}const n=yield this._fetchBytes("0xf1cb7e06",ij(e));if(n==null||n==="0x")return null;const r=this._getAddress(e,n);return r==null&&Cn.throwError("invalid or unsupported coin data",Re.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:n}),r})}getAvatar(){return Jt(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const n=yield this.getText("avatar");if(n==null)return null;for(let r=0;r<mte.length;r++){const i=n.match(mte[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:n}),{linkage:e,url:n};case"data":return e.push({type:"data",content:n}),{linkage:e,url:n};case"ipfs":return e.push({type:"ipfs",content:n}),{linkage:e,url:sj(n)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:n});const a=this._resolvedAddress||(yield this.getAddress()),l=(i[2]||"").split("/");if(l.length!==2)return null;const c=yield this.provider.formatter.address(l[0]),u=gi(dt.from(l[1]).toHexString(),32);if(s==="erc721"){const g=this.provider.formatter.callAddress(yield this.provider.call({to:c,data:Fl(["0x6352211e",u])}));if(a!==g)return null;e.push({type:"owner",content:g})}else if(s==="erc1155"){const g=dt.from(yield this.provider.call({to:c,data:Fl(["0x00fdd58e",gi(a,32),u])}));if(g.isZero())return null;e.push({type:"balance",content:g.toString()})}const h={to:this.provider.formatter.address(l[0]),data:Fl([o,u])};let f=H9(yield this.provider.call(h),0);if(f==null)return null;e.push({type:"metadata-url-base",content:f}),s==="erc1155"&&(f=f.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:f})),f.match(/^ipfs:/i)&&(f=sj(f)),e.push({type:"metadata-url",content:f});const p=yield XV(f);if(!p)return null;e.push({type:"metadata",content:JSON.stringify(p)});let m=p.image;if(typeof m!="string")return null;if(!m.match(/^(https:\/\/|data:)/i)){if(m.match(Mwe)==null)return null;e.push({type:"url-ipfs",content:m}),m=sj(m)}return e.push({type:"url",content:m}),{linkage:e,url:m}}}}}catch{}return null})}getContentHash(){return Jt(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const n=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipfs://"+vL.encode("0x"+n[1])}const r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipns://"+vL.encode("0x"+r[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+H1e("0x"+s[1]).replace(/[=+\/]/g,l=>o[l])}return Cn.throwError("invalid or unsupported content hash data",Re.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Jt(this,void 0,void 0,function*(){let n=qp(e);n=Ny([ij(64),ij(n.length),n]),n.length%32!==0&&(n=Ny([n,gi("0x",32-e.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",cn(n));return r==null||r==="0x"?null:QT(r)})}}let oj=null,int=1;class snt extends QV{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),$n(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(n=>{}),this._ready().catch(n=>{});else{const n=E6(new.target,"getNetwork")(e);n?($n(this,"_network",n),this.emit("network",n,null)):Cn.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Jt(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Cn.throwError("no network detected",Re.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:$n(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return A6(()=>this._ready().then(e=>e,e=>{if(!(e.code===Re.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return oj==null&&(oj=new kt),oj}static getNetwork(e){return GJe(e??"homestead")}ccipReadFetch(e,n,r){return Jt(this,void 0,void 0,function*(){if(this.disableCcipRead||r.length===0)return null;const i=e.to.toLowerCase(),s=n.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const l=r[a],c=l.replace("{sender}",i).replace("{data}",s),u=l.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),h=yield XV({url:c,errorPassThrough:!0},u,(p,m)=>(p.status=m.statusCode,p));if(h.data)return h.data;const f=h.message||"unknown error";if(h.status>=400&&h.status<500)return Cn.throwError(`response not found during CCIP fetch: ${f}`,Re.errors.SERVER_ERROR,{url:l,errorMessage:f});o.push(f)}return Cn.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,Re.errors.SERVER_ERROR,{urls:r,errorMessages:o})})}_getInternalBlockNumber(e){return Jt(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(j5()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const n=j5(),r=Ds({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),s;const o=j5();return i=dt.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:n,respTime:o}});return this._internalBlockNumber=r,r.catch(i=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return Jt(this,void 0,void 0,function*(){const e=int++,n=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)Cn.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",Cn.makeError("network block skew detected",Re.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let i=this._emitted.block+1;i<=r;i++)this.emit("block",i);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&r-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=r-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});n.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=r-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=r;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(l=>{i._inflight=!1,l.length!==0&&l.forEach(c=>{c.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=c.blockNumber),this._emitted["b:"+c.blockHash]=c.blockNumber,this._emitted["t:"+c.transactionHash]=c.blockNumber,this.emit(s,c)})}).catch(l=>{this.emit("error",l),i._inflight=!1});n.push(a)}break}}}),this._lastBlockNumber=r,Promise.all(n).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Jt(this,void 0,void 0,function*(){return Cn.throwError("provider does not support network detection",Re.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Jt(this,void 0,void 0,function*(){const e=yield this._ready(),n=yield this.detectNetwork();if(e.chainId!==n.chainId){if(this.anyNetwork)return this._network=n,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",n,e),yield fte(0),this._network;const r=Cn.makeError("underlying network changed",Re.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:n});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=j5();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(n=>((this._fastBlockNumber==null||n>this._fastBlockNumber)&&(this._fastBlockNumber=n),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=j5(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,n,r){return Jt(this,void 0,void 0,function*(){return this._waitForTransaction(e,n??1,r||0,null)})}_waitForTransaction(e,n,r,i){return Jt(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=n?s:new Promise((o,a)=>{const l=[];let c=!1;const u=function(){return c?!0:(c=!0,l.forEach(f=>{f()}),!1)},h=f=>{f.confirmations<n||u()||o(f)};if(this.on(e,h),l.push(()=>{this.removeListener(e,h)}),i){let f=i.startBlock,p=null;const m=g=>Jt(this,void 0,void 0,function*(){c||(yield fte(1e3),this.getTransactionCount(i.from).then(y=>Jt(this,void 0,void 0,function*(){if(!c){if(y<=i.nonce)f=g;else{{const w=yield this.getTransaction(e);if(w&&w.blockNumber!=null)return}for(p==null&&(p=f-3,p<i.startBlock&&(p=i.startBlock));p<=g;){if(c)return;const w=yield this.getBlockWithTransactions(p);for(let v=0;v<w.transactions.length;v++){const b=w.transactions[v];if(b.hash===e)return;if(b.from===i.from&&b.nonce===i.nonce){if(c)return;const A=yield this.waitForTransaction(b.hash,n);if(u())return;let E="replaced";b.data===i.data&&b.to===i.to&&b.value.eq(i.value)?E="repriced":b.data==="0x"&&b.from===b.to&&b.value.isZero()&&(E="cancelled"),a(Cn.makeError("transaction was replaced",Re.errors.TRANSACTION_REPLACED,{cancelled:E==="replaced"||E==="cancelled",reason:E,replacement:this._wrapTransaction(b),hash:e,receipt:A}));return}}p++}}c||this.once("block",m)}}),y=>{c||this.once("block",m)}))});if(c)return;this.once("block",m),l.push(()=>{this.removeListener("block",m)})}if(typeof r=="number"&&r>0){const f=setTimeout(()=>{u()||a(Cn.makeError("timeout exceeded",Re.errors.TIMEOUT,{timeout:r}))},r);f.unref&&f.unref(),l.push(()=>{clearTimeout(f)})}})})}getBlockNumber(){return Jt(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Jt(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return dt.from(e)}catch(n){return Cn.throwError("bad result from backend",Re.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:n})}})}getBalance(e,n){return Jt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Ds({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getBalance",r);try{return dt.from(i)}catch(s){return Cn.throwError("bad result from backend",Re.errors.SERVER_ERROR,{method:"getBalance",params:r,result:i,error:s})}})}getTransactionCount(e,n){return Jt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Ds({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getTransactionCount",r);try{return dt.from(i).toNumber()}catch(s){return Cn.throwError("bad result from backend",Re.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:i,error:s})}})}getCode(e,n){return Jt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Ds({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getCode",r);try{return cn(i)}catch(s){return Cn.throwError("bad result from backend",Re.errors.SERVER_ERROR,{method:"getCode",params:r,result:i,error:s})}})}getStorageAt(e,n,r){return Jt(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Ds({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(n).then(o=>KV(o))}),s=yield this.perform("getStorageAt",i);try{return cn(s)}catch(o){return Cn.throwError("bad result from backend",Re.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,n,r){if(n!=null&&ew(n)!==32)throw new Error("invalid response - sendTransaction");const i=e;return n!=null&&e.hash!==n&&Cn.throwError("Transaction hash mismatch from Provider.sendTransaction.",Re.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:n}),i.wait=(s,o)=>Jt(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&r!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});const l=yield this._waitForTransaction(e.hash,s,o,a);return l==null&&s===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&Cn.throwError("transaction failed",Re.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),i}sendTransaction(e){return Jt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Promise.resolve(e).then(s=>cn(s)),r=this.formatter.transaction(e);r.confirmations==null&&(r.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:n});return this._wrapTransaction(r,s,i)}catch(s){throw s.transaction=r,s.transactionHash=r.hash,s}})}_getTransactionRequest(e){return Jt(this,void 0,void 0,function*(){const n=yield e,r={};return["from","to"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s?dt.from(s):null))}),["type"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s??null))}),n.accessList&&(r.accessList=this.formatter.accessList(n.accessList)),["data"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s?cn(s):null))}),this.formatter.transactionRequest(yield Ds(r))})}_getFilter(e){return Jt(this,void 0,void 0,function*(){e=yield e;const n={};return e.address!=null&&(n.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{e[r]!=null&&(n[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{e[r]!=null&&(n[r]=this._getBlockTag(e[r]))}),this.formatter.filter(yield Ds(n))})}_call(e,n,r){return Jt(this,void 0,void 0,function*(){r>=Jtt&&Cn.throwError("CCIP read exceeded maximum redirections",Re.errors.SERVER_ERROR,{redirects:r,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:n});if(r>=0&&n==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&ew(s)%32===4)try{const o=Go(s,4),a=Go(o,0,32);dt.from(a).eq(i)||Cn.throwError("CCIP Read sender did not match",Re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const l=[],c=dt.from(Go(o,32,64)).toNumber(),u=dt.from(Go(o,c,c+32)).toNumber(),h=Go(o,c+32);for(let w=0;w<u;w++){const v=H9(h,w*32);v==null&&Cn.throwError("CCIP Read contained corrupt URL string",Re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),l.push(v)}const f=G8(o,64);dt.from(Go(o,100,128)).isZero()||Cn.throwError("CCIP Read callback selector included junk",Re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const p=Go(o,96,100),m=G8(o,128),g=yield this.ccipReadFetch(e,f,l);g==null&&Cn.throwError("CCIP Read disabled or provided no URLs",Re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const y={to:i,data:Fl([p,Dwe([g,m])])};return this._call(y,n,r+1)}catch(o){if(o.code===Re.errors.SERVER_ERROR)throw o}try{return cn(s)}catch(o){return Cn.throwError("bad result from backend",Re.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:n},result:s,error:o})}})}call(e,n){return Jt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Ds({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(n),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return Jt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ds({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",n);try{return dt.from(r)}catch(i){return Cn.throwError("bad result from backend",Re.errors.SERVER_ERROR,{method:"estimateGas",params:n,result:r,error:i})}})}_getAddress(e){return Jt(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Cn.throwArgumentError("invalid address or ENS name","name",e);const n=yield this.resolveName(e);return n==null&&Cn.throwError("ENS name not configured",Re.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),n})}_getBlock(e,n){return Jt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128;const i={includeTransactions:!!n};if(br(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),br(i.blockTag)&&(r=parseInt(i.blockTag.substring(2),16))}catch{Cn.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return A6(()=>Jt(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&r>this._emitted.block?null:void 0;if(n){let o=null;for(let l=0;l<s.transactions.length;l++){const c=s.transactions[l];if(c.blockNumber==null)c.confirmations=0;else if(c.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=o-c.blockNumber+1;u<=0&&(u=1),c.confirmations=u}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(l=>this._wrapTransaction(l)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Jt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return A6(()=>Jt(this,void 0,void 0,function*(){const r=yield this.perform("getTransaction",n);if(r==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return Jt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return A6(()=>Jt(this,void 0,void 0,function*(){const r=yield this.perform("getTransactionReceipt",n);if(r==null)return this._emitted["t:"+e]==null?null:void 0;if(r.blockHash==null)return;const i=this.formatter.receipt(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return Jt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ds({filter:this._getFilter(e)}),r=yield this.perform("getLogs",n);return r.forEach(i=>{i.removed==null&&(i.removed=!1)}),kt.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return Jt(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Jt(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Cn.throwArgumentError("invalid BlockTag","blockTag",e);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return n+=e,n<0&&(n=0),this.formatter.blockTag(n)}return this.formatter.blockTag(e)})}getResolver(e){return Jt(this,void 0,void 0,function*(){let n=e;for(;;){if(n===""||n==="."||e!=="eth"&&n==="eth")return null;const r=yield this._getResolver(n,"getResolver");if(r!=null){const i=new yte(this,r,e);return n!==e&&!(yield i.supportsWildcard())?null:i}n=n.split(".").slice(1).join(".")}})}_getResolver(e,n){return Jt(this,void 0,void 0,function*(){n==null&&(n="ENS");const r=yield this.getNetwork();r.ensAddress||Cn.throwError("network does not support ENS",Re.errors.UNSUPPORTED_OPERATION,{operation:n,network:r.name});try{const i=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+U9(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return Jt(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(r){if(br(e))throw r}typeof e!="string"&&Cn.throwArgumentError("invalid ENS name","name",e);const n=yield this.getResolver(e);return n?yield n.getAddress():null})}lookupAddress(e){return Jt(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const n=e.substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(n,"lookupAddress");if(r==null)return null;const i=H9(yield this.call({to:r,data:"0x691f3431"+U9(n).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return Jt(this,void 0,void 0,function*(){let n=null;if(br(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;n=new yte(this,o,s);try{const a=yield n.getAvatar();if(a)return a.url}catch(a){if(a.code!==Re.errors.CALL_EXCEPTION)throw a}try{const a=H9(yield this.call({to:o,data:"0x691f3431"+U9(s).substring(2)}),0);n=yield this.getResolver(a)}catch(a){if(a.code!==Re.errors.CALL_EXCEPTION)throw a;return null}}else if(n=yield this.getResolver(e),!n)return null;const r=yield n.getAvatar();return r==null?null:r.url})}perform(e,n){return Cn.throwError(e+" not implemented",Re.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_addEventListener(e,n,r){const i=new tnt(lb(e),n,r);return this._events.push(i),this._startEvent(i),this}on(e,n){return this._addEventListener(e,n,!1)}once(e,n){return this._addEventListener(e,n,!0)}emit(e,...n){let r=!1,i=[],s=lb(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,n)},0),r=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),r}listenerCount(e){if(!e)return this._events.length;let n=lb(e);return this._events.filter(r=>r.tag===n).length}listeners(e){if(e==null)return this._events.map(r=>r.listener);let n=lb(e);return this._events.filter(r=>r.tag===n).map(r=>r.listener)}off(e,n){if(n==null)return this.removeAllListeners(e);const r=[];let i=!1,s=lb(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=n||i?!0:(i=!0,r.push(o),!1)),r.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let n=[];if(e==null)n=this._events,this._events=[];else{const r=lb(e);this._events=this._events.filter(i=>i.tag!==r?!0:(n.push(i),!1))}return n.forEach(r=>{this._stopEvent(r)}),this}}var Df=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Li=new Re(t$),ont=["call","estimateGas"];function o4(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const n=br(t.data)?t.data:null;if(!e||n)return{message:t.message,data:n}}if(typeof t=="object"){for(const n in t){const r=o4(t[n],e);if(r)return r}return null}if(typeof t=="string")try{return o4(JSON.parse(t),e)}catch{}return null}function Bwe(t,e,n){const r=n.transaction||n.signedTransaction;if(t==="call"){const s=o4(e,!0);if(s)return s.data;Li.throwError("missing revert data in call exception; Transaction reverted without a reason string",Re.errors.CALL_EXCEPTION,{data:"0x",transaction:r,error:e})}if(t==="estimateGas"){let s=o4(e.body,!1);s==null&&(s=o4(e,!1)),s&&Li.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Re.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:r,error:e})}let i=e.message;throw e.code===Re.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Li.throwError("insufficient funds for intrinsic transaction cost",Re.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),i.match(/nonce (is )?too low/i)&&Li.throwError("nonce has already been used",Re.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Li.throwError("replacement fee too low",Re.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),i.match(/only replay-protected/i)&&Li.throwError("legacy pre-eip-155 transactions not supported",Re.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:r}),ont.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Li.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Re.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}function wte(t){return new Promise(function(e){setTimeout(e,t)})}function ant(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function O5(t){return t&&t.toLowerCase()}const _L={};let Lwe=class extends KT{constructor(e,n,r){if(super(),e!==_L)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");$n(this,"provider",n),r==null&&(r=0),typeof r=="string"?($n(this,"_address",this.provider.formatter.address(r)),$n(this,"_index",null)):typeof r=="number"?($n(this,"_index",r),$n(this,"_address",null)):Li.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return Li.throwError("cannot alter JSON-RPC Signer connection",Re.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new lnt(_L,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Li.throwError("unknown account #"+this._index,Re.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Va(e);const n=this.getAddress().then(r=>(r&&(r=r.toLowerCase()),r));if(e.gasLimit==null){const r=Va(e);r.from=n,e.gasLimit=this.provider.estimateGas(r)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(r=>Df(this,void 0,void 0,function*(){if(r==null)return null;const i=yield this.provider.resolveName(r);return i==null&&Li.throwArgumentError("provided ENS name resolves to null","tx.to",r),i}))),Ds({tx:Ds(e),sender:n}).then(({tx:r,sender:i})=>{r.from!=null?r.from.toLowerCase()!==i&&Li.throwArgumentError("from address mismatch","transaction",e):r.from=i;const s=this.provider.constructor.hexlifyTransaction(r,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&Li.throwError("user rejected transaction",Re.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:r}),Bwe("sendTransaction",o,s)))})}signTransaction(e){return Li.throwError("signing transactions is unsupported",Re.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Df(this,void 0,void 0,function*(){const n=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield A6(()=>Df(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(r);if(i!==null)return this.provider._wrapTransaction(i,r,n)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=r,i}})}signMessage(e){return Df(this,void 0,void 0,function*(){const n=typeof e=="string"?qp(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[cn(n),r.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Li.throwError("user rejected signing",Re.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),i}})}_legacySignMessage(e){return Df(this,void 0,void 0,function*(){const n=typeof e=="string"?qp(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),cn(n)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Li.throwError("user rejected signing",Re.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),i}})}_signTypedData(e,n,r){return Df(this,void 0,void 0,function*(){const i=yield tte.resolveNames(e,n,r,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(tte.getPayload(i.domain,n,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&Li.throwError("user rejected signing",Re.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:n,value:i.value}}),o}})}unlock(e){return Df(this,void 0,void 0,function*(){const n=this.provider,r=yield this.getAddress();return n.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}};class lnt extends Lwe{sendTransaction(e){return this.sendUncheckedTransaction(e).then(n=>({hash:n,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:r=>this.provider.waitForTransaction(n,r)}))}}const cnt={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};let unt=class extends snt{constructor(e,n){let r=n;r==null&&(r=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(r),e||(e=E6(this.constructor,"defaultUrl")()),typeof e=="string"?$n(this,"connection",Object.freeze({url:e})):$n(this,"connection",Object.freeze(Va(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Df(this,void 0,void 0,function*(){yield wte(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const n=E6(this.constructor,"getNetwork");try{return n(dt.from(e).toNumber())}catch(r){return Li.throwError("could not detect network",Re.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:r})}}return Li.throwError("could not detect network",Re.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new Lwe(_L,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(n=>this.formatter.address(n)))}send(e,n){const r={method:e,params:n,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:H8(r),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=XV(this.connection,JSON.stringify(r),ant).then(o=>(this.emit("debug",{action:"response",request:r,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:r,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,n){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[O5(n.address),n.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[O5(n.address),n.blockTag]];case"getCode":return["eth_getCode",[O5(n.address),n.blockTag]];case"getStorageAt":return["eth_getStorageAt",[O5(n.address),gi(n.position,32),n.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[n.signedTransaction]];case"getBlock":return n.blockTag?["eth_getBlockByNumber",[n.blockTag,!!n.includeTransactions]]:n.blockHash?["eth_getBlockByHash",[n.blockHash,!!n.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[n.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[n.transactionHash]];case"call":return["eth_call",[E6(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0}),n.blockTag]];case"estimateGas":return["eth_estimateGas",[E6(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0})]];case"getLogs":return n.filter&&n.filter.address!=null&&(n.filter.address=O5(n.filter.address)),["eth_getLogs",[n.filter]]}return null}perform(e,n){return Df(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=n.transaction;if(i&&i.type!=null&&dt.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(n=Va(n),n.transaction=Va(i),delete n.transaction.type)}}const r=this.prepareRequest(e,n);r==null&&Li.throwError(e+" not implemented",Re.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(i){return Bwe(e,i,n)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,n=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=n,n.then(function(r){function i(){e.send("eth_getFilterChanges",[r]).then(function(s){if(e._pendingFilter!=n)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(l){return e.emit("pending",l),null})})}),o.then(function(){return wte(1e3)})}).then(function(){if(e._pendingFilter!=n){e.send("eth_uninstallFilter",[r]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),r}).catch(r=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,n){const r=Va(cnt);if(n)for(const s in n)n[s]&&(r[s]=!0);kJe(e,r);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=KV(dt.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=cn(e[s]))}),e.accessList&&(i.accessList=WA(e.accessList)),i}};var dnt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const hnt=new Re(t$);class fnt extends unt{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return dnt(this,void 0,void 0,function*(){let n=this.network;return n==null&&(n=yield e.detectNetwork.call(this),n||hnt.throwError("no network detected",Re.errors.UNKNOWN_ERROR,{}),this._network==null&&($n(this,"_network",n),this.emit("network",n,null))),n})}}function IL(t){if(typeof t=="number"||typeof t=="bigint"||typeof t=="string")return t;if(typeof t.toHexString=="function")return t.toHexString();throw Error(`Expected numeric value but received ${t}`)}const Fwe=t=>[cu.id,HT.id].includes(t),pnt=async(t,e)=>{if(!Fwe(t.chainId))throw Error("Invalid chain ID for Arbitrum gas estimation.");if(t.type===void 0&&(t.type=2),t.maxFeePerGas)return t;try{let{lastBaseFeePerGas:n}=await e.getFeeData();if(n){let r=n.mul(dt.from(120)).div(dt.from(100));t.maxFeePerGas=IL(r),t.maxPriorityFeePerGas=IL(dt.from(0))}}catch(n){throw Error(`Failed to set gas price for Arbitrum transaction: ${n}.`)}return t},Uwe=t=>[56,97].includes(t),mnt=async(t,e)=>{var n;if(!Uwe(t.chainId))throw Error("Invalid chain ID for BSC gas estimation.");if(t.type===void 0?t.type=0:(t.type==1||t.type==2)&&console.warn("Transaction request type specified is incompatible for chain and will result in undefined behavior.  Please use transaction type 0."),!t.gasPrice){let r=await e.getFeeData();t.gasPrice=(n=r.gasPrice)==null?void 0:n.toHexString()}return t},zwe=t=>[uu.id,VT.id,lf.id,GT.id,zV.id,N1e.id,$1e.id,81457,168587773].includes(t),gnt=async(t,e)=>{if(!zwe(t.chainId))throw Error("Invalid chain ID for OP Stack gas estimation.");if(t.type===void 0&&(t.type=2),t.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete t.gasPrice),t.maxPriorityFeePerGas&&t.maxFeePerGas)return t;try{if(!t.maxPriorityFeePerGas){let n=await e.send("eth_maxPriorityFeePerGas",[]);t.maxPriorityFeePerGas=n}if(t.maxFeePerGas&&(console.warn("maxFeePerGas is specified without maxPriorityFeePerGas - this can result in hung transactions."),t.maxPriorityFeePerGas>=t.maxFeePerGas))throw Error("Overridden maxFeePerGas is less than or equal to the calculated maxPriorityFeePerGas. Please set both values or maxPriorityFeePerGas alone for correct gas estimation.");if(!t.maxFeePerGas){let{lastBaseFeePerGas:n}=await e.getFeeData();if(!n)throw Error("Unable to fetch baseFee for last block.");let r=dt.from(n).mul(dt.from(126)).div(dt.from(100)).add(dt.from(t.maxPriorityFeePerGas));t.maxFeePerGas=IL(r)}}catch(n){throw Error(`Failed to set gas price for OP stack transaction: ${n}.`)}return t},ynt="units/5.8.0",wnt=new Re(ynt),bnt=["wei","kwei","mwei","gwei","szabo","finney","ether"];function bte(t,e){if(typeof t!="string"&&wnt.throwArgumentError("value must be a string","value",t),typeof e=="string"){const n=bnt.indexOf(e);n!==-1&&(e=3*n)}return Zd(t,e??18)}var Wwe={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ql,function(){var n=function(s,o){if(o=o||{},typeof s!="function")throw new i("fetch must be a function");if(typeof o!="object")throw new i("defaults must be an object");if(o.retries!==void 0&&!r(o.retries))throw new i("retries must be a positive integer");if(o.retryDelay!==void 0&&!r(o.retryDelay)&&typeof o.retryDelay!="function")throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(o.retryOn!==void 0&&!Array.isArray(o.retryOn)&&typeof o.retryOn!="function")throw new i("retryOn property expects an array or function");var a={retries:3,retryDelay:1e3,retryOn:[]};return o=Object.assign(a,o),function(c,u){var h=o.retries,f=o.retryDelay,p=o.retryOn;if(u&&u.retries!==void 0)if(r(u.retries))h=u.retries;else throw new i("retries must be a positive integer");if(u&&u.retryDelay!==void 0)if(r(u.retryDelay)||typeof u.retryDelay=="function")f=u.retryDelay;else throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(u&&u.retryOn)if(Array.isArray(u.retryOn)||typeof u.retryOn=="function")p=u.retryOn;else throw new i("retryOn property expects an array or function");return new Promise(function(m,g){var y=function(v){var b=typeof Request<"u"&&c instanceof Request?c.clone():c;s(b,u).then(function(A){if(Array.isArray(p)&&p.indexOf(A.status)===-1)m(A);else if(typeof p=="function")try{return Promise.resolve(p(v,null,A)).then(function(E){E?w(v,null,A):m(A)}).catch(g)}catch(E){g(E)}else v<h?w(v,null,A):m(A)}).catch(function(A){if(typeof p=="function")try{Promise.resolve(p(v,A,null)).then(function(E){E?w(v,A,null):g(A)}).catch(function(E){g(E)})}catch(E){g(E)}else v<h?w(v,A,null):g(A)})};function w(v,b,A){var E=typeof f=="function"?f(v,b,A):f;setTimeout(function(){y(++v)},E)}y(0)})}};function r(s){return Number.isInteger(s)&&s>=0}function i(s){this.name="ArgumentError",this.message=s}return n})})(Wwe);var vnt=Wwe.exports;const iq=Ks(vnt);let xnt=iq(fetch,{retries:3,retryDelay:500});const Hwe=t=>[ll.id,FA.id].includes(t);let aj=t=>({maxPriorityFee:bte(t.maxPriorityFee.toFixed(9),"gwei").toHexString(),maxFee:bte(t.maxFee.toFixed(9),"gwei").toHexString()}),Ent=t=>({safeLow:aj(t.safeLow),standard:aj(t.standard),fast:aj(t.fast)});const Ant=async t=>{let e="";switch(t){case ll.id:e="https://gasstation.polygon.technology/v2";break;case FA.id:e="https://gasstation.polygon.technology/amoy";break;default:throw Error(`chainId ${t} does not support polygon gas stations`)}let n=await xnt(e),r=await n.json();if(n.status>399)throw r;return Ent(r)};async function Cnt(t){if(!Hwe(t.chainId))throw Error("Invalid chain ID for Polygon gas estimation.");if(t.type===void 0&&(t.type=2),t.maxPriorityFeePerGas&&t.maxFeePerGas)return t;try{let{standard:e}=await Ant(t.chainId);t.maxPriorityFeePerGas||(t.maxPriorityFeePerGas=e.maxPriorityFee),t.maxFeePerGas||(t.maxFeePerGas=e.maxFee),t.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete t.gasPrice)}catch(e){throw Error(`Failed to set gas prices from Polygon gas station with error: ${e}.`)}return t}const knt=async(t,e)=>{var n,r,i;if(t.type===void 0&&(t.type=2),t.type===2){if(!t.maxFeePerGas||!t.maxPriorityFeePerGas){let s=await e.getFeeData();t.maxFeePerGas||(t.maxFeePerGas=(n=s.maxFeePerGas)==null?void 0:n.toHexString()),t.maxPriorityFeePerGas||(t.maxPriorityFeePerGas=(r=s.maxPriorityFeePerGas)==null?void 0:r.toHexString())}}else if(!t.gasPrice){let s=await e.getFeeData();t.gasPrice=(i=s.gasPrice)==null?void 0:i.toHexString()}return t};async function Snt(t,e){try{return(await e.estimateGas(t)).toHexString()}catch(n){let r;if("message"in n&&n.message.includes("insufficient funds")&&(console.warn(`Gas estimation failed with error: ${n}. Retrying gas estimation by omitting the 'value'`),r=await async function({txRequest:i,provider:s}){try{let o={...i,value:void 0};return(await s.estimateGas(o)).toHexString()}catch(o){return console.warn(`Gas estimation failed with error: ${o} when omitting the 'value'`),null}}({txRequest:t,provider:e})),r||(console.warn(`Gas estimation failed with error: ${n}. Retrying gas estimation by omitting the 'from'`),r=await async function({txRequest:i,provider:s}){try{let o={...i,from:void 0};return(await s.estimateGas(o)).toHexString()}catch(o){return console.warn(`Gas estimation failed with error: ${o} when omitting the 'from' address`),null}}({txRequest:t,provider:e})),!r)throw n;return r}}const vte=(t,e,n,r)=>{var o,a,l,c;let i=Number(t),s=e.find(u=>u.id===i);if(!s)throw new j1e(`Unsupported chainId ${t}`,4901);return new fnt(s.rpcUrls.privyWalletOverride&&s.rpcUrls.privyWalletOverride.http[0]?s.rpcUrls.privyWalletOverride.http[0]:n.rpcUrls&&n.rpcUrls[i]?n.rpcUrls[i]:(o=s.rpcUrls.privy)!=null&&o.http[0]?{url:s.rpcUrls.privy.http[0],headers:{"privy-app-id":r.appId}}:(a=s.rpcUrls.public)!=null&&a.http[0]?(l=s.rpcUrls.public)==null?void 0:l.http[0]:(c=s.rpcUrls.default)==null?void 0:c.http[0])},_nt=(t,e,n)=>{var o,a,l;let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if((o=t.rpcUrls.privy)!=null&&o.http[0]){let c=new URL(t.rpcUrls.privy.http[0]);c.searchParams.append("privyAppId",n),r=c.toString()}else r=(a=t.rpcUrls.public)!=null&&a.http[0]?t.rpcUrls.public.http[0]:(l=t.rpcUrls.default)==null?void 0:l.http[0];if(!r)throw new j1e(`No RPC url found for ${i}`);return r};function Vwe(t){return/^-?0x[a-f0-9]+$/i.test(t)}function Int(t){for(let e of["gasLimit","gasPrice","value","maxPriorityFeePerGas","maxFeePerGas"]){let n=t[e];if(n!==void 0&&!function(r){let i=typeof r=="number",s=typeof r=="bigint",o=typeof r=="string"&&Vwe(r);return i||s||o}(n))throw Error(`Transaction request property '${e}' must be a valid number, bigint, or hex string representing a quantity`)}if(typeof t.chainId!="number")throw Error("Transaction request property 'chainId' must be a number")}async function xte(t,e,n){if(e.chainId=Number(e.chainId),Int(e),e.from||(e.from=t),!e.nonce){let r=new VV(t,n);e.nonce=await r.getTransactionCount("pending")}return e.gasLimit||(e.gas?(e.gasLimit=e.gas,delete e.gas):e.gasLimit=await Snt(e,n)),typeof e.type=="string"&&Vwe(e.type)&&(e.type=Number(e.type)),[23294,23295].includes(e.chainId)&&(e.type=0),(e=Hwe(e.chainId)?await Cnt(e):Fwe(e.chainId)?await pnt(e,n):zwe(e.chainId)?await gnt(e,n):Uwe(e.chainId)?await mnt(e,n):await knt(e,n)).type===0&&delete e.accessList,e.type!==2&&(delete e.maxPriorityFeePerGas,delete e.maxFeePerGas),e}function Tnt({currentRecoveryMethod:t,upgradeToRecoveryMethod:e}){switch(t){case"privy":case"user-passcode":case"recovery-encryption-key":return!0;case"icloud":case"google-drive":if(t===e)throw Error("Cannot upgrade to the existing cloud platform");return!0;default:throw Error("Unknown recovery method")}}function qwe(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}let $nt=class{enqueue(e,n){this.callbacks[e]=n}dequeue(e,n){let r=this.callbacks[n];if(!r)throw Error(`cannot dequeue ${e} event: no event found for id ${n}`);switch(delete this.callbacks[n],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return r;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}};async function Nnt(t,e,n,r,i=!1,s,o){var u,h,f;let a=i,l=async p=>{var m;if(a){p===(i?0:1)?r():(m=n.current)==null||m.reject(new L9("missing_or_invalid_mfa","MFA verification failed, retry."));let g=await new Promise((y,w)=>{e.current={resolve:y,reject:w},setTimeout(()=>{var b;let v=new L9("mfa_timeout","Timed out waiting for MFA code");(b=n.current)==null||b.reject(v),w(v)},o)});return await t(g)}return await t()},c=null;for(let p=0;p<s;p++)try{c=await l(p),(u=n.current)==null||u.resolve(void 0);break}catch(m){if(m.type!=="missing_or_invalid_mfa")throw(h=n.current)==null||h.resolve(void 0),m;a=!0}if(c===null){let p=new L9("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw(f=n.current)==null||f.reject(p),p}return c}var Ete;let Pnt=(Ete=0,()=>"id-"+Ete++),Rnt=(t,e)=>typeof e=="bigint"?e.toString():e,g0=(t,{ms:e,msg:n})=>Promise.race([t,qwe(e??15e3).then(()=>Promise.reject(Error(n)))]),Ate=new $nt,Cte=class{invokeWithMfa(e,n){return g0(Nnt(r=>g0(this.waitForReady().then(()=>e(r)),{msg:n.timeoutMsg,ms:n.timeoutMs}),this.mfa.rootPromise,this.mfa.submitPromise,()=>this.mfa.emit("mfaRequired"),n.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return g0(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return g0(this.waitForReady().then(()=>this.invoke("privy:wallet:create",e)),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa(n=>this.invoke("privy:wallet:rpc",{...n,...e}),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa(n=>this.invoke("privy:solana-wallet:create",{...n,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return g0(this.waitForReady().then(()=>this.invoke("privy:solana-wallet:create-additional",e)),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa(n=>this.invoke("privy:solana-wallet:rpc",{...n,...e}),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa(n=>this.invoke("privy:delegated-actions:consent",{...n,...e}),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:verify",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:init-enrollment",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:submit-enrollment",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:unenroll",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return g0(this.waitForReady().then(()=>this.invoke("privy:mfa:clear",e)),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:create",{...n,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa(n=>this.invoke("privy:user-signer:sign",{...n,...e}),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return g0(this.waitForReady().then(()=>this.invoke("privy:wallets:add",e)),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:set-recovery",{...n,...e}),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return g0(this.waitForReady().then(()=>this.invoke("privy:wallets:connect",e)),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:recover",{...n,...e}),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:rpc",{...n,...e}),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){let{reject:n,resolve:r}=Ate.dequeue(e.event,e.id);return e.error!==void 0?n(new L9(e.error.type,e.error.message)):r(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise(async(e,n)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then(()=>{this.ready=!0,e()}).catch(n),await qwe(150)})}invoke(e,n){let r=((s,o)=>`${s}${JSON.stringify(o,Rnt)}`)(e,n);if(e==="privy:wallet:create"||e==="privy:solana-wallet:create"){let s=this.cache.get(r);if(s)return s}let i=new Promise((s,o)=>{let a=Pnt();Ate.enqueue(a,{resolve:s,reject:o}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:a,event:e,data:n}),"*")}).finally(()=>{this.cache.delete(r)});return this.cache.set(r,i),i}constructor(e,n){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=n}};var Gwe={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,h||l,f),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},a.prototype.listenerCount=function(c){var u=n?n+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,f,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],w=arguments.length,v,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,h),!0;case 4:return y.fn.call(y.context,u,h,f),!0;case 5:return y.fn.call(y.context,u,h,f,p),!0;case 6:return y.fn.call(y.context,u,h,f,p,m),!0}for(b=1,v=new Array(w-1);b<w;b++)v[b-1]=arguments[b];y.fn.apply(y.context,v)}else{var A=y.length,E;for(b=0;b<A;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),w){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,h);break;case 4:y[b].fn.call(y[b].context,u,h,f);break;default:if(!v)for(E=1,v=new Array(w-1);E<w;E++)v[E-1]=arguments[E];y[b].fn.apply(y[b].context,v)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,f){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!h||m.context===h)&&o(this,p);else{for(var g=0,y=[],w=m.length;g<w;g++)(m[g].fn!==u||f&&!m[g].once||h&&m[g].context!==h)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Gwe);var jnt=Gwe.exports;const sq=Ks(jnt);let Ont=["eth_sign","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];const Mnt=t=>Ont.includes(t),X_=t=>/^0x[0-9a-fA-F]*$/.test(t),e7=t=>Buffer.from(t,"utf8"),K8=t=>`0x${t.toString("hex")}`;var Dnt=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((i,s,o)=>`${i}${o===0?"":","}${t(s===void 0||typeof s=="symbol"?null:s)}`,"")}]`:`{${Object.keys(e).sort().reduce((r,i)=>{if(e[i]===void 0||typeof e[i]=="symbol")return r;const s=r.length===0?"":",";return`${r}${s}${t(i)}:${t(e[i])}`},"")}}`};const Bnt=Ks(Dnt);async function Lnt(t,e){let n=Bnt(e);if(n===void 0)throw new Qn({error:"Failed to prepare the payload for signing",code:"invalid_input"});let r=Buffer.from(n).toString("base64"),{signature:i}=await t({message:r});return{signature:i}}async function Qu(t,e,{wallet_id:n,...r}){let i={version:1,url:t.getCompiledPath(jR,{params:{wallet_id:n}}),method:jR.method,headers:{"privy-app-id":t.app.appId},body:{...r}},{signature:s}=await Lnt(e,i);return await t.fetchPrivyRoute(jR,{body:r,params:{wallet_id:n},headers:{"privy-authorization-signature":s}})}function Fnt(t){return{from:t.from,to:t.to,nonce:Vg(t.nonce),chain_id:Vg(t.chainId),data:function(e){if(e!==void 0)return typeof e=="string"?X_(e)?e:K8(e7(e)):K8(Buffer.from(Uint8Array.from(e)))}(t.data),value:Vg(t.value),type:t.type,gas_limit:Vg(t.gasLimit),gas_price:Vg(t.gasPrice),max_fee_per_gas:Vg(t.maxFeePerGas),max_priority_fee_per_gas:Vg(t.maxPriorityFeePerGas)}}function Vg(t){if(typeof t=="number"||typeof t=="bigint")return`0x${BigInt(t).toString(16)}`;if(typeof t=="string")return X_(t)?t:K8(e7(t))}function Unt(t){return typeof t=="string"&&(t=JSON.parse(t)),{types:t.types,primary_type:String(t.primaryType),domain:t.domain,message:t.message}}async function Kwe({context:t,account:e,rpcRequest:n}){switch(n.chainType){case"ethereum":return async function({context:r,account:i,rpcRequest:s}){switch(s.method){case"personal_sign":{let[o]=s.params,a=await Qu(r,r.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:i.id,params:o.startsWith("0x")?{message:o.slice(2),encoding:"hex"}:{message:o,encoding:"utf-8"}});if(a.method!=="personal_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"eth_signTransaction":{let[o]=s.params,a=await Qu(r,r.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:i.id,params:{transaction:Fnt(o)}});if(a.method!=="eth_signTransaction")throw Error("Unable to sign transaction");return{data:a.data.signed_transaction}}case"eth_signTypedData_v4":{let[,o]=s.params,a=await Qu(r,r.signRequest,{chain_type:"ethereum",method:s.method,wallet_id:i.id,params:{typed_data:Unt(o)}});if(a.method!=="eth_signTypedData_v4")throw Error("Unable to sign typed data");return{data:a.data.signature}}case"eth_sign":{let[,o]=s.params,a=await Qu(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:X_(o)?o:K8(e7(o))}});if(a.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"secp256k1_sign":{let[o]=s.params,a=await Qu(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:X_(o)?o:K8(e7(o))}});if(a.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${s.method}`)}}({context:t,account:e,rpcRequest:n.request});case"solana":return async function({context:r,account:i,rpcRequest:s}){if(s.method==="signMessage"){let{message:o}=s.params,a=await Qu(r,r.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:i.id,params:{message:o,encoding:"base64"}});if(a.method!=="signMessage")throw Error("Unable to sign message");return{data:a.data.signature}}}({context:t,account:e,rpcRequest:n.request})}}let lj=class extends sq{async request(e){var n,r;if(Mnt(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":{let i=(n=e.params)==null?void 0:n[0];return this.handleSendTransaction(i)}case"eth_populateTransactionRequest":{let i=(r=e.params)==null?void 0:r[0];return this.handlePopulateTransaction(i)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let n={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(n.chainId),n}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._jsonRpcProvider=vte(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let n=this.ensureChainId(e);return xte(this._account.address,n,this._jsonRpcProvider)}async handleSendTransaction(e){let n=this.ensureChainId(e),r=await xte(this._account.address,n,this._jsonRpcProvider),i=await this.handleIFrameRpc({method:"eth_signTransaction",params:[r]});return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[i]})}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let n={...e.params[0],chainId:`0x${this._chainId.toString(16)}`};this.internalSwitchEthereumChain(n.chainId);try{return await this._jsonRpcProvider.send("eth_estimateGas",[n])}catch(r){console.warn(`Gas estimation failed with error: ${r}. Retrying gas estimation by omitting the 'from' address`);try{return delete n.from,await this._jsonRpcProvider.send("eth_estimateGas",[n])}catch(i){throw console.warn(`Gas estimation failed with error: ${i} when omitting the 'from' address`),r}}}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new Tee(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new Tee(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.internalSwitchEthereumChain(n)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let r=this._account;if(om(r)){let{data:i}=await Kwe({context:{app:this._appApi,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._walletProxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"ethereum",request:e}});return i}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n})}catch(i){let s=HV(i);if(s&&this._account.recovery_method==="privy")await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n});else{if(!s||!this._onNeedsRecovery)throw i;{let o;await new Promise(async(a,l)=>{var c;o=setTimeout(()=>l(new Qn({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await((c=this._onNeedsRecovery)==null?void 0:c.call(this,{recoveryMethod:this._account.recovery_method,onRecovered:()=>a(!0)}))}).finally(()=>clearTimeout(o))}}}return(await this._walletProxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Qn({code:"embedded_wallet_request_error",error:r})}}async handleJsonRpc(e){return this._jsonRpcProvider.send(e.method,e.params??[])}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,chains:o,onNeedsRecovery:a,chainId:l=o[0].id,appApi:c}){super(),this._walletProxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._chainId=l,this._chains=o,this._onNeedsRecovery=a,this._jsonRpcProvider=vte(l,o,{rpcUrls:[]},{appId:c.appId}),this._appApi=c}};function TL(t){return"version"in t}function kte(t,e){let n=(TL(t)?t.message:t.compileMessage()).staticAccountKeys.find(r=>r.toBase58()===e);if(!n)throw Error(`Transaction does not contain public key ${e}`);return n}let znt=class{async request(e){if(!await this._privyInternal.getAccessToken())throw new Qn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if(this._account.recovery_method!=="privy-v2")try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(n){let r=HV(n);if(r&&this._account.recovery_method==="privy")await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!r||!this._onNeedsRecovery)throw n;{let i;await new Promise(async(s,o)=>{var a;i=setTimeout(()=>o(new Qn({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await((a=this._onNeedsRecovery)==null?void 0:a.call(this,{recoveryMethod:this._account.recovery_method,onRecovered:()=>s(!0)}))}).finally(()=>clearTimeout(i))}}}}async signMessageRpc(e,n){let r=this._account;if(!om(r))return(await this._proxy.rpcWallet({accessToken:n,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:i}=await Kwe({context:{app:this._app,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._proxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"solana",request:e}});return{signature:i}}}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n),await this.signMessageRpc(e,n)}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Qn({code:"embedded_wallet_request_error",error:r})}}async handleSignAndSendTransaction(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r,connection:i,options:s}=e.params,o=kte(r,this._account.address),a=TL(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:l}=await this.signMessageRpc({method:"signMessage",params:{message:a.toString("base64")}},n);return r.addSignature(o,Buffer.from(l,"base64")),{signature:await i.sendRawTransaction(r.serialize(),s)}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Qn({code:"embedded_wallet_request_error",error:r})}}async handleSignTransaction(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r}=e.params,i=kte(r,this._account.address),s=TL(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:o}=await this.signMessageRpc({method:"signMessage",params:{message:s.toString("base64")}},n);return r.addSignature(i,Buffer.from(o,"base64")),{signedTransaction:r}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:r}),new Qn({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,onNeedsRecovery:o,app:a}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._onNeedsRecovery=o,this._app=a}},Wnt=class{setMessagePoster(e){this._proxy=new Cte(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let n=await this._privyInternal.getAccessToken();if(!n)throw new Qn({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:r}=await this._proxy.signWithUserSigner({accessToken:n,message:e.message});return{signature:r}}async add(e){var r;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(((r=this._privyInternal.config)==null?void 0:r.embedded_wallet_config.mode)==="user-controlled-server-wallets-only")await WR({context:{app:this._appApi,fetchPrivyRoute:(...i)=>this._privyInternal.fetch(...i),getCompiledPath:(...i)=>this._privyInternal.getPath(...i)},chainType:e.chainType});else{let i=await this._privyInternal.getAccessToken();if(!i)throw new Qn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:i,...e})}let{user:n}=await this._privyInternal.refreshSession();return{user:n}}async getBitcoinProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return om(e)||await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}),new yJe({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r})}async create({password:e,recoveryMethod:n,recoveryToken:r,recoveryKey:i,recoverySecretOverride:s,iCloudRecordNameOverride:o,solanaAccount:a,skipCallbacks:l}){var c,u;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(((c=this._privyInternal.config)==null?void 0:c.embedded_wallet_config.mode)==="user-controlled-server-wallets-only"){if(n&&!n.startsWith("privy"))throw new Qn({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await WR({context:{app:this._appApi,fetchPrivyRoute:(...h)=>this._privyInternal.fetch(...h),getCompiledPath:(...h)=>this._privyInternal.getPath(...h)},chainType:"ethereum"})}else{let h;if(h=n||(e?"user-passcode":"privy"),e&&typeof e!="string")throw Error("Invalid recovery password, must be a string");if(h==="privy"&&((u=this._privyInternal.config)!=null&&u.embedded_wallet_config.require_user_password_on_create))throw Error("Password not provided yet is required by App configuration");let f=await this._privyInternal.getAccessToken();if(!f)throw Error("User must be logged in to create an embedded wallet");let{address:p}=await this._proxy.create({accessToken:f,recoveryMethod:h,recoveryKey:i,recoveryPassword:e,recoveryAccessToken:r,recoverySecretOverride:s,iCloudRecordNameOverride:o,solanaAddress:a==null?void 0:a.address});if(!p)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(l)}async createSolana(e){var n,r;if(!this._proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if(((n=this._privyInternal.config)==null?void 0:n.embedded_wallet_config.mode)==="user-controlled-server-wallets-only")await WR({context:{app:this._appApi,fetchPrivyRoute:(...i)=>this._privyInternal.fetch(...i),getCompiledPath:(...i)=>this._privyInternal.getPath(...i)},chainType:"solana"});else{let i=await this._privyInternal.getAccessToken();if(!i)throw new Qn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e!=null&&e.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:s}=await this._proxy.createSolana({accessToken:i,ethereumAddress:(r=e==null?void 0:e.ethereumAccount)==null?void 0:r.address});if(!s)throw new Qn({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:n}){if(!this._proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let r=await this._privyInternal.getAccessToken();if(!r)throw new Qn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:r,delegatedWallets:e,rootWallet:n})}async getProvider(e,n,r,i,s){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return om(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:n,recoveryKey:s,recoveryAccessToken:r,recoverySecretOverride:i}),new lj({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o,recoveryKey:a,onNeedsRecovery:l}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return om(e)||(!l||i||s||o||a)&&await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o,recoveryKey:a}),new lj({account:e,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:l,appApi:this._appApi})}async getSolanaProvider(e,n,r,i,s,o,a){if(!this._proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return om(e)||(!a||i||s||o)&&await this._load({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}),new znt({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r,onNeedsRecovery:a,app:this._appApi})}async setRecovery(e){let{wallet:n,...r}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(om(n))throw new Qn({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});Tnt({currentRecoveryMethod:n.recovery_method,upgradeToRecoveryMethod:r.recoveryMethod==="icloud-native"?"icloud":r.recoveryMethod}),await this._load(n.chain_type==="solana"?{wallet:n,entropyId:n.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier"});let i=await this._privyInternal.getAccessToken();if(!i)throw Error("User must be logged in to interact with embedded wallets");let s=n.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});try{let o;if(r.recoveryMethod==="user-passcode")o={recoveryMethod:"user-passcode",recoveryPassword:r.password};else if(r.recoveryMethod==="google-drive")o={recoveryMethod:"google-drive",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud")o={recoveryMethod:"icloud",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud-native")o={recoveryMethod:"icloud-native",iCloudRecordNameOverride:r.iCloudRecordNameOverride,recoverySecretOverride:r.recoverySecretOverride};else if(r.recoveryMethod==="recovery-encryption-key")o={recoveryMethod:"recovery-encryption-key",recoveryKey:r.recoveryKey};else{if(r.recoveryMethod!=="privy")throw Error(`Unknown recovery method: ${r.recoveryMethod}`);o={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:i,entropyId:n.address,entropyIdVerifier:n.chain_type==="solana"?"solana-address-verifier":"ethereum-address-verifier",...o}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});let{user:a}=await this._privyInternal.refreshSession();return{user:a,provider:n.chain_type!=="ethereum"?null:new lj({account:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(o){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:n.address,recovery_method:n.recovery_method,error:o instanceof Error?o.message:"Unable to recover wallet"}),o}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(n){return console.error(n),!1}}async _load({entropyId:e,entropyIdVerifier:n,wallet:r,recoveryPassword:i,recoveryKey:s,recoveryAccessToken:o,recoverySecretOverride:a}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let l=await this._privyInternal.getAccessToken();if(!l)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:l,entropyId:e,entropyIdVerifier:n}),e}catch(c){if(HV(c))try{if(r.recovery_method==="privy"){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:l,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}if(r.recovery_method==="user-passcode"&&i){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:l,recoveryPassword:i,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}if(["google-drive","icloud"].includes(r.recovery_method)&&o){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:l,recoveryAccessToken:o,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}if(r.recovery_method==="icloud"&&a){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:"icloud-native"});let u=await this._proxy.recover({accessToken:l,recoverySecretOverride:a,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:"icloud-native"}),u.entropyId}if(r.recovery_method==="recovery-encryption-key"&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:l,recoveryKey:s,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}}catch(u){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:r.address,recovery_method:r.recovery_method,error:u instanceof Error?u.message:`Unable to recover wallet: ${e}`}),u}throw c}}constructor(e,n,r,i,s,o){if(this._chains=Array.from(UA),this._privyInternal=e,n&&(this._proxy=new Cte(n,s),i.setProxy(this._proxy)),r){let a=R1e(r);this._chains=a}this._mfa=i,this._mfaPromises=s,this._appApi=o}},Hnt=class extends sq{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}};var dk,Vnt=new Uint8Array(16);function Ywe(){if(!dk&&(dk=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!dk))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dk(Vnt)}const qnt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function i$(t){return typeof t=="string"&&qnt.test(t)}var Ns=[];for(var cj=0;cj<256;++cj)Ns.push((cj+256).toString(16).substr(1));function s$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ns[t[e+0]]+Ns[t[e+1]]+Ns[t[e+2]]+Ns[t[e+3]]+"-"+Ns[t[e+4]]+Ns[t[e+5]]+"-"+Ns[t[e+6]]+Ns[t[e+7]]+"-"+Ns[t[e+8]]+Ns[t[e+9]]+"-"+Ns[t[e+10]]+Ns[t[e+11]]+Ns[t[e+12]]+Ns[t[e+13]]+Ns[t[e+14]]+Ns[t[e+15]]).toLowerCase();if(!i$(n))throw TypeError("Stringified UUID is invalid");return n}var Ste,uj,dj=0,hj=0;function Gnt(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var s=t.node||Ste,o=t.clockseq!==void 0?t.clockseq:uj;if(s==null||o==null){var a=t.random||(t.rng||Ywe)();s==null&&(s=Ste=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=uj=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:hj+1,u=l-dj+(c-hj)/1e4;if(u<0&&t.clockseq===void 0&&(o=o+1&16383),(u<0||l>dj)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");dj=l,hj=c,uj=o,l+=122192928e5;var h=((l&268435455)*1e4+c)%4294967296;i[r++]=h>>>24&255,i[r++]=h>>>16&255,i[r++]=h>>>8&255,i[r++]=h&255;var f=l/4294967296*1e4&268435455;i[r++]=f>>>8&255,i[r++]=f&255,i[r++]=f>>>24&15|16,i[r++]=f>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var p=0;p<6;++p)i[r+p]=s[p];return e||s$(i)}function Qwe(t){if(!i$(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function Knt(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var Ynt="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Qnt="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Zwe(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=Knt(i)),typeof s=="string"&&(s=Qwe(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(var c=0;c<16;++c)o[a+c]=l[c];return o}return s$(l)}try{r.name=t}catch{}return r.DNS=Ynt,r.URL=Qnt,r}function Znt(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return Jnt(Xnt(ert(t),t.length*8))}function Jnt(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function Jwe(t){return(t+64>>>9<<4)+14+1}function Xnt(t,e){t[e>>5]|=128<<e%32,t[Jwe(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=n,l=r,c=i,u=s;n=io(n,r,i,s,t[o],7,-680876936),s=io(s,n,r,i,t[o+1],12,-389564586),i=io(i,s,n,r,t[o+2],17,606105819),r=io(r,i,s,n,t[o+3],22,-1044525330),n=io(n,r,i,s,t[o+4],7,-176418897),s=io(s,n,r,i,t[o+5],12,1200080426),i=io(i,s,n,r,t[o+6],17,-1473231341),r=io(r,i,s,n,t[o+7],22,-45705983),n=io(n,r,i,s,t[o+8],7,1770035416),s=io(s,n,r,i,t[o+9],12,-1958414417),i=io(i,s,n,r,t[o+10],17,-42063),r=io(r,i,s,n,t[o+11],22,-1990404162),n=io(n,r,i,s,t[o+12],7,1804603682),s=io(s,n,r,i,t[o+13],12,-40341101),i=io(i,s,n,r,t[o+14],17,-1502002290),r=io(r,i,s,n,t[o+15],22,1236535329),n=so(n,r,i,s,t[o+1],5,-165796510),s=so(s,n,r,i,t[o+6],9,-1069501632),i=so(i,s,n,r,t[o+11],14,643717713),r=so(r,i,s,n,t[o],20,-373897302),n=so(n,r,i,s,t[o+5],5,-701558691),s=so(s,n,r,i,t[o+10],9,38016083),i=so(i,s,n,r,t[o+15],14,-660478335),r=so(r,i,s,n,t[o+4],20,-405537848),n=so(n,r,i,s,t[o+9],5,568446438),s=so(s,n,r,i,t[o+14],9,-1019803690),i=so(i,s,n,r,t[o+3],14,-187363961),r=so(r,i,s,n,t[o+8],20,1163531501),n=so(n,r,i,s,t[o+13],5,-1444681467),s=so(s,n,r,i,t[o+2],9,-51403784),i=so(i,s,n,r,t[o+7],14,1735328473),r=so(r,i,s,n,t[o+12],20,-1926607734),n=oo(n,r,i,s,t[o+5],4,-378558),s=oo(s,n,r,i,t[o+8],11,-2022574463),i=oo(i,s,n,r,t[o+11],16,1839030562),r=oo(r,i,s,n,t[o+14],23,-35309556),n=oo(n,r,i,s,t[o+1],4,-1530992060),s=oo(s,n,r,i,t[o+4],11,1272893353),i=oo(i,s,n,r,t[o+7],16,-155497632),r=oo(r,i,s,n,t[o+10],23,-1094730640),n=oo(n,r,i,s,t[o+13],4,681279174),s=oo(s,n,r,i,t[o],11,-358537222),i=oo(i,s,n,r,t[o+3],16,-722521979),r=oo(r,i,s,n,t[o+6],23,76029189),n=oo(n,r,i,s,t[o+9],4,-640364487),s=oo(s,n,r,i,t[o+12],11,-421815835),i=oo(i,s,n,r,t[o+15],16,530742520),r=oo(r,i,s,n,t[o+2],23,-995338651),n=ao(n,r,i,s,t[o],6,-198630844),s=ao(s,n,r,i,t[o+7],10,1126891415),i=ao(i,s,n,r,t[o+14],15,-1416354905),r=ao(r,i,s,n,t[o+5],21,-57434055),n=ao(n,r,i,s,t[o+12],6,1700485571),s=ao(s,n,r,i,t[o+3],10,-1894986606),i=ao(i,s,n,r,t[o+10],15,-1051523),r=ao(r,i,s,n,t[o+1],21,-2054922799),n=ao(n,r,i,s,t[o+8],6,1873313359),s=ao(s,n,r,i,t[o+15],10,-30611744),i=ao(i,s,n,r,t[o+6],15,-1560198380),r=ao(r,i,s,n,t[o+13],21,1309151649),n=ao(n,r,i,s,t[o+4],6,-145523070),s=ao(s,n,r,i,t[o+11],10,-1120210379),i=ao(i,s,n,r,t[o+2],15,718787259),r=ao(r,i,s,n,t[o+9],21,-343485551),n=Lm(n,a),r=Lm(r,l),i=Lm(i,c),s=Lm(s,u)}return[n,r,i,s]}function ert(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(Jwe(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function Lm(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function trt(t,e){return t<<e|t>>>32-e}function o$(t,e,n,r,i,s){return Lm(trt(Lm(Lm(e,t),Lm(r,s)),i),n)}function io(t,e,n,r,i,s,o){return o$(e&n|~e&r,t,e,i,s,o)}function so(t,e,n,r,i,s,o){return o$(e&r|n&~r,t,e,i,s,o)}function oo(t,e,n,r,i,s,o){return o$(e^n^r,t,e,i,s,o)}function ao(t,e,n,r,i,s,o){return o$(n^(e|~r),t,e,i,s,o)}var nrt=Zwe("v3",48,Znt);function t7(t,e,n){t=t||{};var r=t.random||(t.rng||Ywe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return s$(r)}function rrt(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function fj(t,e){return t<<e|t>>>32-e}function irt(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),l=0;l<o;++l){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=t[l*64+u*4]<<24|t[l*64+u*4+1]<<16|t[l*64+u*4+2]<<8|t[l*64+u*4+3];a[l]=c}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var h=0;h<o;++h){for(var f=new Uint32Array(80),p=0;p<16;++p)f[p]=a[h][p];for(var m=16;m<80;++m)f[m]=fj(f[m-3]^f[m-8]^f[m-14]^f[m-16],1);for(var g=n[0],y=n[1],w=n[2],v=n[3],b=n[4],A=0;A<80;++A){var E=Math.floor(A/20),$=fj(g,5)+rrt(E,y,w,v)+b+e[E]+f[A]>>>0;b=v,v=w,w=fj(y,30)>>>0,y=g,g=$}n[0]=n[0]+g>>>0,n[1]=n[1]+y>>>0,n[2]=n[2]+w>>>0,n[3]=n[3]+v>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var srt=Zwe("v5",80,irt);const ort="00000000-0000-0000-0000-000000000000";function art(t){if(!i$(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const lrt=Object.freeze(Object.defineProperty({__proto__:null,NIL:ort,parse:Qwe,stringify:s$,v1:Gnt,v3:nrt,v4:t7,v5:srt,validate:i$,version:art},Symbol.toStringTag,{value:"Module"}));/*! js-cookie v3.0.5 | MIT */function hk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var crt={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function $L(t,e){function n(i,s,o){if(!(typeof document>"u")){o=hk({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var l=s[a].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(o[u]=t.read(c,u),i===u)break}catch{}}return i?o[i]:o}}return Object.create({set:n,get:r,remove:function(i,s){n(i,"",hk({},s,{expires:-1}))},withAttributes:function(i){return $L(this.converter,hk({},this.attributes,i))},withConverter:function(i){return $L(hk({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Ci=$L(crt,{path:"/"});const _te=Promise.allSettled.bind(Promise)??(t=>Promise.all(t.map(e=>e.then(n=>({status:"fulfilled",value:n})).catch(n=>({status:"rejected",reason:n})))));let cb="privy:token",pj="privy-token",fk="privy:refresh_token",mj="privy-refresh-token",ub="privy:id-token",gj="privy-id-token",pk="privy-session",Xwe=class extends sq{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getToken(){let e=await this._storage.get(cb);try{return typeof e=="string"?new x6(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(fk);return typeof e=="string"?e:null}async getIdentityToken(){let e=await this._storage.get(ub);return typeof e=="string"?e:null}get mightHaveServerCookies(){try{let e=Ci.get(pk);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,n){return this.mightHaveServerCookies||typeof e=="string"&&typeof n=="string"}tokenIsActive(e){if(!e)return!1;let n=x6.parse(e);return n!==null&&!n.isExpired(30)}async destroyLocalState(e){await _te([this._storage.del(cb),this._storage.del(fk),this._storage.del(ub),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),Ci.remove(pj),Ci.remove(mj),Ci.remove(gj),Ci.remove(pk),e!=null&&e.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeToken(e){var n;if(typeof e=="string"){let r=await this._storage.get(cb);if(await this._storage.put(cb,e),!this._isUsingServerCookies){let i=(n=x6.parse(e))==null?void 0:n.expiration;Ci.set(pj,e,{sameSite:"Strict",secure:!0,expires:i?new Date(1e3*i):void 0})}r!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let r=await this._storage.get(cb);await this._storage.del(cb),Ci.remove(pj),r!==null&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storeRefreshToken(e){typeof e=="string"?(await this._storage.put(fk,e),this._isUsingServerCookies||(Ci.set(pk,"t",{sameSite:"Strict",secure:!0,expires:30}),Ci.set(mj,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(fk),Ci.remove(mj),Ci.remove(pk),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let n=(await _te([this.storeToken(e.token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter(r=>r.status==="rejected");n.length>0&&this.emit("error_storing_tokens",n.map(r=>String(r.reason)).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){var n;if(typeof e=="string"){let r=await this._storage.get(ub);if(await this._storage.put(ub,e),!this._isUsingServerCookies){let i=(n=x6.parse(e))==null?void 0:n.expiration;Ci.set(gj,e,{sameSite:"Strict",secure:!0,expires:i?new Date(1e3*i):void 0})}r!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let r=await this._storage.get(ub);await this._storage.del(ub),Ci.remove(gj),r!==null&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&typeof e=="string")return e;let n=X1(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,n),n}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}};Xwe.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];var urt=t=>{let e=new AbortController;return setTimeout(()=>e.abort(),t),e.signal};function drt(t){let e=new URLSearchParams;for(let n in t)t[n]!=null&&e.append(n,String(t[n]));return Array.from(e).length?"?"+e.toString():""}const mk=()=>{};let y0={NONE:Number.NEGATIVE_INFINITY,ERROR:1,WARN:2,INFO:3,DEBUG:Number.POSITIVE_INFINITY};const hrt=({level:t}={level:"ERROR"})=>({get level(){return t},error:y0[t]>=y0.ERROR?console.error:mk,warn:y0[t]>=y0.WARN?console.warn:mk,info:y0[t]>=y0.INFO?console.info:mk,debug:y0[t]>=y0.DEBUG?console.debug:mk});let yj="privy:caid",frt=class{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){var e,n,r,i,s;if(this.isReady)(n=(e=this.callbacks)==null?void 0:e.setIsReady)==null||n.call(e,!0);else{if(!await this.isStorageAccessible())throw new Qn({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),(r=this._config)!=null&&r.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),(s=(i=this.callbacks)==null?void 0:i.setIsReady)==null||s.call(i,!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:n,query:r}){return`${this.baseUrl}${KVe(e.path,n)}${drt(r)}`}async fetch(e,{body:n,params:r,query:i,headers:s,onRequest:o=this._beforeRequest.bind(this)}){let a=new Request(this.getPath(e,{params:r,query:i}),{method:e.method,body:JSON.stringify(n),headers:s}),l=await o(a),c=await this._fetch(a,l),u=await c.json();if(c.status>299)throw new zR(u);return u}async _beforeRequestWithoutInitialize(e){let n=await this.session.getToken(),r=new Headers(e.headers);r.set("privy-app-id",this.appId),this.appClientId&&r.set("privy-client-id",this.appClientId),r.set("privy-client",this._sdkVersion),n&&r.set("Authorization",`Bearer ${n}`),r.set("Content-Type","application/json"),r.set("Accept","application/json");let i=await this._getOrGenerateClientAnalyticsId();return i&&r.set("privy-ca-id",i),this.nativeAppIdentifier&&r.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:urt(2e4),headers:r,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessToken(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(lVe,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(yj);if(typeof e=="string"&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=t7()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(!this._analyticsId)return null;try{await this._storage.put(yj,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}async destroyClientAnalyticsId(){try{return await this._storage.del(yj)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,n){try{await this.fetch(aVe,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:n},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch{}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new Qn({code:"storage_error",error:"Unable to access storage"});let n=await this.session.getRefreshToken()??void 0,r=n??"key",i=this._cache.get(r);if(i)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await i;let s=this._refreshSession(n,e);this._cache.set(r,s);try{return await s}finally{this._cache.delete(r)}}async _refreshSession(e,n){var i,s,o,a,l,c;let r=await this.session.getToken();if(!this.session.hasRefreshCredentials(r,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new zR({code:VX.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage"});try{this.logger.debug(`[privy:refresh] fetching: ${jX.path}`);let u=await this.fetch(jX,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),h=u.session_update_action;return this.logger.debug(`[privy:refresh] response: ${h}`),n||((s=(i=this.callbacks)==null?void 0:i.setUser)==null||s.call(i,u.user)),h==="set"&&(await this.session.updateWithTokensResponse(u),this.logger.debug("[privy:refresh] tokens stored")),h==="clear"&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),n||((a=(o=this.callbacks)==null?void 0:o.setUser)==null||a.call(o,null))),h==="ignore"&&u.token&&(await this.session.storeToken(u.token),this.logger.debug("[privy:refresh] access token stored"),u.identity_token&&(this.logger.debug("[privy:refresh] identity token stored"),await this.session.storeIdentityToken(u.identity_token))),this.logger.debug("[privy:refresh] returning response"),u}catch(u){throw this.logger.debug(`[privy:refresh] error: ${u.message??"unknown error"}`),u instanceof zR&&u.code===VX.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),n||((c=(l=this.callbacks)==null?void 0:l.setUser)==null||c.call(l,null))),u}}async getAccessToken(){let[e,n]=await Promise.all([this.session.getToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,n)){let r=await this.refreshSession(),i=await this.session.getToken();return r.token||this.logger.debug("[privy:getAccessToken] expected token received null"),r.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),i===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),r.token??i}return e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${t7()}`,n="blobby";await this._storage.put(e,n);let r=await this._storage.get(e);return await this._storage.del(e),r===n}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.55.2",this._cache=new Map,this.logger=hrt({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new Xwe({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=iq(globalThis.fetch,{retries:3,retryDelay:n=>3**n*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",n=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:n})})}},prt=class{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(sqe,{})}}constructor(e){this._privyInternal=e}};const ebe=t=>t.type==="wallet"&&t.wallet_client_type==="privy"&&t.connector_type==="embedded",tbe=t=>t?t.linked_accounts.filter(ebe).filter(e=>e.chain_type==="ethereum").sort((e,n)=>e.wallet_index-n.wallet_index):[],Ite=t=>tbe(t).find(e=>e.wallet_index===0)??null,nbe=t=>t?t.linked_accounts.filter(ebe).filter(e=>e.chain_type==="solana").sort((e,n)=>e.wallet_index-n.wallet_index):[],mrt=t=>nbe(t).find(e=>e.wallet_index===0)??null,grt=(t,e)=>!(e==="off"||tbe(t).length>0||t.linked_accounts.filter(n=>n.type==="wallet"&&n.chain_type==="ethereum").length>0&&e!=="all-users"),yrt=(t,e)=>!(e==="off"||nbe(t).length>0||t.linked_accounts.filter(n=>n.type==="wallet"&&n.chain_type==="solana").length>0&&e!=="all-users"),Ed=async(t,e,n)=>{var s,o;let r=grt(e.user,((s=n==null?void 0:n.ethereum)==null?void 0:s.createOnLogin)??"off"),i=yrt(e.user,((o=n==null?void 0:n.solana)==null?void 0:o.createOnLogin)??"off");if(r&&i){let a=await t.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await t.createSolana({ethereumAccount:Ite(a.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}}return r?{...await t.create({recoveryMethod:"privy",solanaAccount:mrt(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:i?{...await t.createSolana({ethereumAccount:Ite(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:e};let wrt=class{async syncWithToken(e,n,r){var o,a;let i=await this._privyInternal.fetch(hVe,{body:{token:e,mode:r}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await Ed(this._embedded,i,n==null?void 0:n.embedded);return(a=(o=this._privyInternal.callbacks)==null?void 0:o.setUser)==null||a.call(o,s.user),s}constructor(e,n){this._privyInternal=e,this._embedded=n}},brt=class{async sendCode(e,n){return this._privyInternal.fetch(jVe,{body:{email:e,token:n}})}async loginWithCode(e,n,r,i){var a,l;let s=await this._privyInternal.fetch(RVe,{body:{email:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await Ed(this._embedded,s,i==null?void 0:i.embedded);return(l=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||l.call(a,o.user),o}async linkWithCode(e,n){await this._privyInternal.fetch(OVe,{body:{email:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:n,code:r}){await this._privyInternal.fetch(DVe,{body:{oldAddress:e,newAddress:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(MVe,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},vrt=class{async initializeAuth({relyingParty:e,redirectUrl:n,token:r}){return await this._privyInternal.fetch(fVe,{body:{relying_party:e,redirect_url:n,token:r}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(yVe,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:n,signature:r,fid:i,mode:s},o){var c,u;let a=await this._privyInternal.fetch(pVe,{body:{channel_token:e,message:n,signature:r,fid:i,mode:s}});await this._privyInternal.session.updateWithTokensResponse(a);let l=await Ed(this._embedded,a,o==null?void 0:o.embedded);return(u=(c=this._privyInternal.callbacks)==null?void 0:c.setUser)==null||u.call(c,l.user),l}async link({channel_token:e,message:n,signature:r,fid:i}){await this._privyInternal.fetch(mVe,{body:{channel_token:e,message:n,signature:r,fid:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(gVe,{body:{fid:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},xrt=class{async initializeAuth(){return await this._privyInternal.fetch(wVe,{body:{}})}async authenticate({message:e,signature:n,fid:r},i){var a,l;let s=await this._privyInternal.fetch(bVe,{body:{message:e,signature:n,fid:r}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await Ed(this._embedded,s,i==null?void 0:i.embedded);return(l=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||l.call(a,o.user),o}constructor(e,n){this._privyInternal=e,this._embedded=n}},Ert=class{async create(e){var s,o;let n=await this._privyInternal.session.getOrCreateGuestCredential(),r=await this._privyInternal.fetch(vVe,{body:{guest_credential:n}});await this._privyInternal.session.updateWithTokensResponse(r);let i=await Ed(this._embedded,r,e==null?void 0:e.embedded);return(o=(s=this._privyInternal.callbacks)==null?void 0:s.setUser)==null||o.call(s,i.user),i}constructor(e,n){this._privyInternal=e,this._embedded=n}};const am="privy:state_code",lm="privy:code_verifier";async function Art(t,e){let n=new TextEncoder().encode(t);return new Uint8Array(await e("SHA-256",n))}function Crt(t){return crypto.getRandomValues(new Uint8Array(t))}function oq(){return X1(Crt(36))}function rbe(){return oq()}async function ibe({codeVerifier:t,method:e="S256",digest:n=crypto.subtle.digest.bind(crypto.subtle)}){if(e!="S256")return t;{let r=await Art(t,n);return X1(r)}}let krt=class{async generateURL(e,n){var o;let r=oq(),i=rbe(),s=await ibe({codeVerifier:r,digest:(o=this._crypto)==null?void 0:o.digest});return await Promise.all([this._storage.put(lm,r),this._storage.put(am,i)]),this._privyInternal.fetch(CVe,{body:{redirect_to:n,provider:e,code_challenge:s,state_code:i}})}async loginWithCode(e,n,r,i,s,o){var h,f;let[a,l]=await Promise.all([this._storage.get(lm),this._storage.get(am)]);if(l!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:l??"",returnedStateCode:n??""}),new Qn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let c=await this._privyInternal.fetch(AVe,{body:{authorization_code:e,code_type:i,state_code:l,code_verifier:a,mode:s}});await this._privyInternal.session.updateWithTokensResponse(c);let u=await Ed(this._embedded,c,o==null?void 0:o.embedded);return await Promise.all([this._storage.del(lm),this._storage.del(am)]),(f=(h=this._privyInternal.callbacks)==null?void 0:h.setUser)==null||f.call(h,u.user),u}async linkWithCode(e,n,r,i){let[s,o]=await Promise.all([this._storage.get(lm),this._storage.get(am)]);if(o!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:o??"",returnedStateCode:n??""}),new Qn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let a=await this._privyInternal.fetch(kVe,{body:{authorization_code:e,code_type:i,state_code:o,code_verifier:s}});await this._privyInternal.session.processOAuthTokens(a.oauth_tokens);let l=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(lm),this._storage.del(am)]),{user:l.user,identity_token:l.identity_token}}async unlink(e,n){await this._privyInternal.fetch(SVe,{body:{provider:e,subject:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,n,r,i){this._privyInternal=e,this._embedded=n,this._storage=r,this._crypto=i}},Srt=class{async generateRegistrationOptions(e){return await this._privyInternal.fetch(PVe,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch($Ve,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(NVe,{body:{relying_party:e}})}async loginWithPasskey(e,n,r,i){var a,l;let s=await this._privyInternal.fetch(IVe,{body:{relying_party:r,challenge:n,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await Ed(this._embedded,s,i==null?void 0:i.embedded);return(l=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||l.call(a,o.user),o}async signupWithPasskey(e,n,r){var o,a;let i=await this._privyInternal.fetch(TVe,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await Ed(this._embedded,i,r==null?void 0:r.embedded);return(a=(o=this._privyInternal.callbacks)==null?void 0:o.setUser)==null||a.call(o,s.user),s}async linkWithPasskey(e,n){await this._privyInternal.fetch(_Ve,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,n){this._privyInternal=e,this._embedded=n}},_rt=class{async sendCode(e,n){return this._privyInternal.fetch(LVe,{body:{phoneNumber:e,token:n}})}async loginWithCode(e,n,r,i){var a,l;let s=await this._privyInternal.fetch(BVe,{body:{phoneNumber:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await Ed(this._embedded,s,i==null?void 0:i.embedded);return(l=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||l.call(a,o.user),o}async linkWithCode(e,n){await this._privyInternal.fetch(FVe,{body:{phoneNumber:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:n,code:r}){await this._privyInternal.fetch(zVe,{body:{old_phone_number:e,new_phone_number:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(UVe,{body:{phoneNumber:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Irt=class{async unlinkWallet(e){await this._privyInternal.fetch(eqe,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async linkWithSiwe(e,n,r){let i=n||this._wallet,s=r||this._preparedMessage;if(!i)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!s)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(JVe,{body:{message:s,signature:e,chainId:i.chainId,walletClientType:i.walletClientType,connectorType:i.connectorType}});let o=await this._privyInternal.refreshSession();return{user:o.user,identity_token:o.identity_token}}async loginWithSiwe(e,n,r,i,s){var u,h;let o=n||this._wallet,a=r||this._preparedMessage;if(!o)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!a)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let l=await this._privyInternal.fetch(ZVe,{body:{signature:e,message:a,chainId:o.chainId,walletClientType:o.walletClientType,connectorType:o.connectorType,mode:i}});await this._privyInternal.session.updateWithTokensResponse(l);let c=await Ed(this._embedded,l,s==null?void 0:s.embedded);return(h=(u=this._privyInternal.callbacks)==null?void 0:u.setUser)==null||h.call(u,c.user),c}async init(e,n,r){var i;this._wallet=e;let{nonce:s}=await this._privyInternal.fetch(Pye,{body:{address:e.address}}),o=`${(i={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:n,nonce:s,uri:r}).domain} wants you to sign in with your Ethereum account:
${i.address}

${i.statement}

URI: ${i.uri}
Version: 1
Chain ID: ${i.chainId}
Nonce: ${i.nonce}
Issued At: ${i.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=o,{nonce:s,message:o}}constructor(e,n){this._wallet=void 0,this._privyInternal=e,this._embedded=n}},Trt=class{async unlink({address:e}){await this._privyInternal.fetch(iqe,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async link({message:e,signature:n,walletClientType:r,connectorType:i}){await this._privyInternal.fetch(rqe,{body:{message:e,signature:n,walletClientType:r,connectorType:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async login({mode:e,message:n,signature:r,walletClientType:i,connectorType:s,opts:o}){var c,u;let a=await this._privyInternal.fetch(nqe,{body:{signature:r,message:n,walletClientType:i,connectorType:s,mode:e}});await this._privyInternal.session.updateWithTokensResponse(a);let l=await Ed(this._embedded,a,o==null?void 0:o.embedded);return(u=(c=this._privyInternal.callbacks)==null?void 0:c.setUser)==null||u.call(c,l.user),l}async fetchNonce({address:e}){let{nonce:n}=await this._privyInternal.fetch(tqe,{body:{address:e}});return{nonce:n}}constructor(e,n){this._privyInternal=e,this._embedded=n}},$rt=class{async link(e,n,r,i){await this._privyInternal.fetch(XVe,{body:{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async init(e){var n;let{nonce:r}=await this._privyInternal.fetch(Pye,{body:{address:e.address}});return{nonce:r,message:`${(n={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:r}).domain} wants you to sign in with your Ethereum account:
${n.address}

${n.statement}

URI: ${n.uri}
Version: 1
Chain ID: ${n.chainId}
Nonce: ${n.nonce}
Issued At: ${n.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}},Nrt=class{async logout(){var e,n;try{let r=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(YVe,{body:{refresh_token:r}})}catch{console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId()]),(n=(e=this._privyInternal.callbacks)==null?void 0:e.setUser)==null||n.call(e,null)}constructor(e,n,r,i){this._privyInternal=e,this.customProvider=new wrt(this._privyInternal,n),this.phone=new _rt(this._privyInternal,n),this.email=new brt(this._privyInternal,n),this.oauth=new krt(this._privyInternal,n,r,i),this.guest=new Ert(this._privyInternal,n),this.siwe=new Irt(this._privyInternal,n),this.siws=new Trt(this._privyInternal,n),this.smartWallet=new $rt(this._privyInternal),this.passkey=new Srt(this._privyInternal,n),this.farcaster=new vrt(this._privyInternal,n),this.farcasterV2=new xrt(this._privyInternal,n)}},Prt=class{async initOnRampSession(e){return await this._privyInternal.fetch(cVe,{body:e})}async getStatus(e){return await this._privyInternal.fetch(uVe,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}};const Rrt={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}};let jrt=new Set([du.id,cu.id,uu.id,ll.id,L3.id,qT.id]),Ort=new Set([du.id,cu.id,lf.id,uu.id,ll.id]);function Mrt(t,e){switch(e){case"native-currency":return jrt.has(t);case"USDC":return Ort.has(t);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}function Drt(t,e){switch(t){case cu.id:return e==="native-currency"?"ETH_ARBITRUM":"USDC_ARBITRUM";case L3.id:return"AVAX_CCHAIN";case uu.id:return e==="native-currency"?"ETH_BASE":"USDC_BASE";case qT.id:return"CELO_CELO";case ll.id:return e==="native-currency"?"MATIC_POLYGON":"USDC_POLYGON";case du.id:return e==="native-currency"?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${t} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}let Brt=class{async sign(e){return await this._privyInternal.fetch(oqe,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:n}){let{url:r,key:i}=Rrt[n?"sandbox":"prod"],s=await iq(fetch,{retries:3,retryDelay:500})(`${r}/transactions/ext/${e}?apiKey=${i}`);if(!s.ok)throw new gJe({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:s});let o=await s.json();return Array.isArray(o)?o.at(0):void 0}constructor(e){this._privyInternal=e}},Lrt=class{constructor(e){this.moonpay=new Brt(e),this.coinbase=new Prt(e)}},Frt=class{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(xVe,{body:e})}constructor(e){this._privyInternal=e}},Urt=class{async sendCode(e){return await this._privyInternal.fetch(EVe,{body:e})}constructor(e){this._privyInternal=e}},zrt=class{setProxy(e){this.proxy=e}async getAccessToken(){let e=await this.privyInternal.getAccessToken();if(!e)throw new Qn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessToken()})}async initEnrollMfa(e){if(!this.proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessToken()})}async submitEnrollMfa(e){if(!this.proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),n}async unenrollMfa(e){if(!this.proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),n}async clearMfa(e){if(!this.proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,n){this.proxy=n,this.privyInternal=e,this.sms=new Urt(e),this.passkey=new Frt(e)}},Wrt=class{async init(e){return this._privyInternal.fetch(qVe,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(GVe,{body:{client_type:e}})}constructor(e){this._privyInternal=e}},Hrt=class{async generateURL(e){var s;let n=oq(),r=rbe(),i=await ibe({codeVerifier:n,digest:(s=this._crypto)==null?void 0:s.digest});return await Promise.all([this._storage.put(lm,n),this._storage.put(am,r)]),this._privyInternal.fetch(HVe,{body:{redirect_to:e,code_challenge:i,state_code:r}})}async authorize(e,n){let[r,i]=await Promise.all([this._storage.get(lm),this._storage.get(am)]);if(i!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:i??"",returnedStateCode:n??""}),new Qn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let s=await this._privyInternal.fetch(VVe,{body:{authorization_code:e,state_code:i,code_verifier:r}});return await Promise.all([this._storage.del(lm),this._storage.del(am)]),s}constructor(e,n,r){this._privyInternal=e,this._storage=n,this._crypto=r}},Vrt=class{async getRecoveryKeyMaterial(e,n){return this._privyInternal.fetch(WVe,{body:{chain_type:n},params:{address:e}})}constructor(e,n,r){this._privyInternal=e,this.auth=new Hrt(this._privyInternal,n,r),this.icloudAuth=new Wrt(this._privyInternal)}},qrt=class{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,n){return this._privyInternal.getPath(e,n)}async fetchPrivyRoute(e,n){return this._privyInternal.fetch(e,n)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...n}){this._privyInternal=new frt({...n,appClientId:e}),this.mfa=new zrt(this._privyInternal),this.mfaPromises=new Hnt,this.app=new YZe(this._privyInternal),this.embeddedWallet=new Wnt(this._privyInternal,n.embeddedWalletMessagePoster,n.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new prt(this._privyInternal),this.auth=new Nrt(this._privyInternal,this.embeddedWallet,n.storage,n.crypto),this.recovery=new Vrt(this._privyInternal,n.storage,n.crypto),this.funding=new Lrt(this._privyInternal),this.delegated=new sJe(this._privyInternal),this.crossApp=new I1e(this._privyInternal,n.storage)}};const Grt={AC:"40123",AD:"312345",AE:"501234567",AF:"701234567",AG:"2684641234",AI:"2642351234",AL:"672123456",AM:"77123456",AO:"923123456",AR:"91123456789",AS:"6847331234",AT:"664123456",AU:"412345678",AW:"5601234",AX:"412345678",AZ:"401234567",BA:"61123456",BB:"2462501234",BD:"1812345678",BE:"470123456",BF:"70123456",BG:"43012345",BH:"36001234",BI:"79561234",BJ:"0195123456",BL:"690001234",BM:"4413701234",BN:"7123456",BO:"71234567",BQ:"3181234",BR:"11961234567",BS:"2423591234",BT:"17123456",BW:"71123456",BY:"294911911",BZ:"6221234",CA:"5062345678",CC:"412345678",CD:"991234567",CF:"70012345",CG:"061234567",CH:"781234567",CI:"0123456789",CK:"71234",CL:"221234567",CM:"671234567",CN:"13123456789",CO:"3211234567",CR:"83123456",CU:"51234567",CV:"9911234",CW:"95181234",CX:"412345678",CY:"96123456",CZ:"601123456",DE:"15123456789",DJ:"77831001",DK:"34412345",DM:"7672251234",DO:"8092345678",DZ:"551234567",EC:"991234567",EE:"51234567",EG:"1001234567",EH:"650123456",ER:"7123456",ES:"612345678",ET:"911234567",FI:"412345678",FJ:"7012345",FK:"51234",FM:"3501234",FO:"211234",FR:"612345678",GA:"06031234",GB:"7400123456",GD:"4734031234",GE:"555123456",GF:"694201234",GG:"7781123456",GH:"231234567",GI:"57123456",GL:"221234",GM:"3012345",GN:"601123456",GP:"690001234",GQ:"222123456",GR:"6912345678",GT:"51234567",GU:"6713001234",GW:"955012345",GY:"6091234",HK:"51234567",HN:"91234567",HR:"921234567",HT:"34101234",HU:"201234567",ID:"812345678",IE:"850123456",IL:"502345678",IM:"7924123456",IN:"8123456789",IO:"3801234",IQ:"7912345678",IR:"9123456789",IS:"6111234",IT:"3123456789",JE:"7797712345",JM:"8762101234",JO:"790123456",JP:"9012345678",KE:"712123456",KG:"700123456",KH:"91234567",KI:"72001234",KM:"3212345",KN:"8697652917",KP:"1921234567",KR:"1020000000",KW:"50012345",KY:"3453231234",KZ:"7710009998",LA:"2023123456",LB:"71123456",LC:"7582845678",LI:"660234567",LK:"712345678",LR:"770123456",LS:"50123456",LT:"61234567",LU:"628123456",LV:"21234567",LY:"912345678",MA:"650123456",MC:"612345678",MD:"62112345",ME:"60123456",MF:"690001234",MG:"321234567",MH:"2351234",MK:"72345678",ML:"65012345",MM:"92123456",MN:"88123456",MO:"66123456",MP:"6702345678",MQ:"696201234",MR:"22123456",MS:"6644923456",MT:"96961234",MU:"52512345",MV:"7712345",MW:"991234567",MX:"2221234567",MY:"123456789",MZ:"821234567",NA:"811234567",NC:"751234",NE:"93123456",NF:"381234",NG:"8021234567",NI:"81234567",NL:"612345678",NO:"40612345",NP:"9841234567",NR:"5551234",NU:"8884012",NZ:"211234567",OM:"92123456",PA:"61234567",PE:"912345678",PF:"87123456",PG:"70123456",PH:"9051234567",PK:"3012345678",PL:"512345678",PM:"551234",PR:"7872345678",PS:"599123456",PT:"912345678",PW:"6201234",PY:"961456789",QA:"33123456",RE:"692123456",RO:"712034567",RS:"601234567",RU:"9123456789",RW:"720123456",SA:"512345678",SB:"7421234",SC:"2510123",SD:"911231234",SE:"701234567",SG:"81234567",SH:"51234",SI:"31234567",SJ:"41234567",SK:"912123456",SL:"25123456",SM:"66661212",SN:"701234567",SO:"71123456",SR:"7412345",SS:"977123456",ST:"9812345",SV:"70123456",SX:"7215205678",SY:"944567890",SZ:"76123456",TA:"8999",TC:"6492311234",TD:"63012345",TG:"90112345",TH:"812345678",TJ:"917123456",TK:"7290",TL:"77212345",TM:"66123456",TN:"20123456",TO:"7715123",TR:"5012345678",TT:"8682911234",TV:"901234",TW:"912345678",TZ:"621234567",UA:"501234567",UG:"712345678",US:"2015550123",UY:"94231234",UZ:"912345678",VA:"3123456789",VC:"7844301234",VE:"4121234567",VG:"2843001234",VI:"3406421234",VN:"912345678",VU:"5912345",WF:"821234",WS:"7212345",XK:"43201234",YE:"712345678",YT:"639012345",ZA:"711234567",ZM:"955123456",ZW:"712345678"},sbe={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:2(?:(?:[0-26-9]\\d|3[0-8]|5[0135-9])\\d|4(?:[02-9]\\d|10))|3(?:(?:[0-3589]\\d|6[1-9]|7[0-35-9])\\d|4(?:[0-578]\\d|90))|7(?:[013-57-9]\\d|2[0-8])\\d)\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|[24-689])\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-35])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-8]|5[0-5]|8[0-7]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[0135-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function a$(t,e){var n=Array.prototype.slice.call(e);return n.push(sbe),t.apply(this,n)}function Krt(){return a$(FKe,arguments)}function Y8(t){return Xye.call(this,t,sbe)}Y8.prototype=Object.create(Xye.prototype,{});Y8.prototype.constructor=Y8;function Yrt(){return a$(iQe,arguments)}function aq(){return a$(jT,arguments)}function Qrt(){return a$(sQe,arguments)}const gk=(t,e)=>Krt(String(t),e),wj=(t,e)=>`+${aq(e)} ${t}`,Zrt=t=>`*${t.replaceAll("-","").slice(-4)}`,Jrt=t=>new Y8(t),Xrt=Yrt().map(t=>({code:t,callCode:aq(t)})),eit=t=>{var n;let e=(n=Qrt(t,Grt))==null?void 0:n.formatInternational();return e==null?void 0:e.substring(e.indexOf(" ")+1)},tit=t=>{let e=new Y8;e.input(t);let n=e.getCountry()||"US",r=e.getCallingCode()||"1";return{countryCode:n,phone:t.replace("+"+r,"")}},nit=(t,e=!0)=>t.reduce((n,r)=>({...n,[r]:e}),{}),rit={[du.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[UV.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[lf.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[GT.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[ll.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[FA.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[uu.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[VT.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[L3.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[FV.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[cu.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[HT.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"};let iit=new Set([du.id,uu.id,lf.id,ll.id,cu.id]),sit=new Set([du.id,uu.id,ll.id,lf.id,cu.id]),oit={buy:"CARD",send:"CRYPTO_ACCOUNT"},ait={USDC:"2b92315d-eab7-5bef-84fa-089a131333f5",ETH:"d85dce9b-5b73-5c3c-8978-522ce1d1c1b4",BTC:"5b71fc48-3dd3-540c-809b-f8c94d0e68b5",SOL:"4f039497-3af8-5bb3-951c-6df9afa9be1c",POL:"026bcc1e-9163-591c-a709-34dd18b2e7a1"};du.id+"",uu.id+"",lf.id+"",ll.id+"",cu.id+"";function lit({appId:t,input:e,amount:n,blockchain:r,asset:i,experience:s}){let o=new URL("https://pay.coinbase.com/buy/select-asset");return o.searchParams.set("appId",e.app_id),o.searchParams.set("sessionToken",e.session_token),o.searchParams.set("endPartnerName",`privy:${t}`),o.searchParams.set("defaultExperience",s),o.searchParams.set("presetCryptoAmount",n.startsWith(".")?`0${n}`:n),o.searchParams.set("defaultNetwork",r),o.searchParams.set("defaultPaymentMethod",oit[s]),o.searchParams.set("defaultAsset",ait[i]),o.searchParams.set("partnerUserId",e.partner_user_id),{url:o}}const cit=(t,e)=>{switch(e){case"native-currency":return iit.has(t);case"USDC":return sit.has(t);default:return console.warn("Unknown asset passed to Coinbase Onramp"),!1}};function uit(t,e){return t===ll.id?"POL":"ETH"}function Tte(t){return t?`${t.slice(0,5)}${t.slice(-4)}`:""}function dit({wei:t,precision:e=3}){return parseFloat(Nw(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"")}function NL({amount:t,decimals:e}){return Wa(BigInt(t),e)}function cs(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var hit=0;function obe(t){return"__private_"+hit+++"_"+t}var Pr=obe("_wallet"),pl=obe("_account");let abe=class{get standardWallet(){return cs(this,Pr)[Pr]}get address(){return cs(this,pl)[pl].address}async disconnect(){var e;if(!((e=cs(this,Pr)[Pr].features["standard:disconnect"])!=null&&e.disconnect))throw Error("Wallet does not support disconnect");await cs(this,Pr)[Pr].features["standard:disconnect"].disconnect()}async signMessage(e){var r;if(!((r=cs(this,Pr)[Pr].features["solana:signMessage"])!=null&&r.signMessage))throw Error("Wallet does not support signMessage");let[n]=await cs(this,Pr)[Pr].features["solana:signMessage"].signMessage({...e,account:cs(this,pl)[pl]});return n}async signTransaction(e){var r;if(!((r=cs(this,Pr)[Pr].features["solana:signTransaction"])!=null&&r.signTransaction))throw Error("Wallet does not support signTransaction");let[n]=await cs(this,Pr)[Pr].features["solana:signTransaction"].signTransaction({...e,account:cs(this,pl)[pl]});return n}async signAndSendTransaction(e){var r;if(!((r=cs(this,Pr)[Pr].features["solana:signAndSendTransaction"])!=null&&r.signAndSendTransaction))throw Error("Wallet does not support signAndSendTransaction");let[n]=await cs(this,Pr)[Pr].features["solana:signAndSendTransaction"].signAndSendTransaction({...e,account:cs(this,pl)[pl]});return n}async signAndSendAllTransactions(e){var n;if(!((n=cs(this,Pr)[Pr].features["solana:signAndSendTransaction"])!=null&&n.signAndSendTransaction))throw Error("Wallet does not support signAndSendTransaction");return[...await cs(this,Pr)[Pr].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map(r=>({...r,account:cs(this,pl)[pl]})))]}constructor({wallet:e,account:n}){Object.defineProperty(this,Pr,{writable:!0,value:void 0}),Object.defineProperty(this,pl,{writable:!0,value:void 0}),cs(this,Pr)[Pr]=e,cs(this,pl)[pl]=n}};const fit=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,pit=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,mit=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function git(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){yit(t);return}return e}function yit(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function C6(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!mit.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(fit.test(t)||pit.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,git)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const wit=/#/g,bit=/&/g,vit=/\//g,xit=/=/g,lq=/\+/g,Eit=/%5e/gi,Ait=/%60/gi,Cit=/%7c/gi,kit=/%20/gi;function Sit(t){return encodeURI(""+t).replace(Cit,"|")}function PL(t){return Sit(typeof t=="string"?t:JSON.stringify(t)).replace(lq,"%2B").replace(kit,"+").replace(wit,"%23").replace(bit,"%26").replace(Ait,"`").replace(Eit,"^").replace(vit,"%2F")}function bj(t){return PL(t).replace(xit,"%3D")}function lbe(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function _it(t){return lbe(t.replace(lq," "))}function Iit(t){return lbe(t.replace(lq," "))}function Tit(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const i=_it(r[1]);if(i==="__proto__"||i==="constructor")continue;const s=Iit(r[2]||"");e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}return e}function $it(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${bj(t)}=${PL(n)}`).join("&"):`${bj(t)}=${PL(e)}`:bj(t)}function Nit(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>$it(e,t[e])).filter(Boolean).join("&")}const Pit=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,Rit=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,jit=/^([/\\]\s*){2,}[^/\\]/,Oit=/^\.?\//;function cbe(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?Pit.test(t):Rit.test(t)||(e.acceptRelative?jit.test(t):!1)}function Mit(t="",e){return t.endsWith("/")}function Dit(t="",e){return(Mit(t)?t.slice(0,-1):t)||"/"}function Bit(t="",e){return t.endsWith("/")?t:t+"/"}function Lit(t,e){if(Uit(e)||cbe(t))return t;const n=Dit(e);return t.startsWith(n)?t:Wit(n,t)}function Fit(t,e){const n=Hit(t),r={...Tit(n.search),...e};return n.search=Nit(r),Vit(n)}function Uit(t){return!t||t==="/"}function zit(t){return t&&t!=="/"}function Wit(t,...e){let n=t||"";for(const r of e.filter(i=>zit(i)))if(n){const i=r.replace(Oit,"");n=Bit(n)+i}else n=r;return n}const ube=Symbol.for("ufo:protocolRelative");function Hit(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,h,f=""]=n;return{protocol:h.toLowerCase(),pathname:f,href:h+f,auth:"",host:"",search:"",hash:""}}if(!cbe(t,{acceptRelative:!0}))return $te(t);const[,r="",i,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=s.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:c,hash:u}=$te(a);return{protocol:r.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:o,pathname:l,search:c,hash:u,[ube]:!r}}function $te(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function Vit(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",i=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol||t[ube]?(t.protocol||"")+"//":"")+i+s+e+n+r}class dbe extends Error{constructor(e,n){super(e,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function qit(t){var l,c,u,h,f;const e=((l=t.error)==null?void 0:l.message)||((c=t.error)==null?void 0:c.toString())||"",n=((u=t.request)==null?void 0:u.method)||((h=t.options)==null?void 0:h.method)||"GET",r=((f=t.request)==null?void 0:f.url)||String(t.request)||"/",i=`[${n}] ${JSON.stringify(r)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${i}: ${s}${e?` ${e}`:""}`,a=new dbe(o,t.error?{cause:t.error}:void 0);for(const p of["request","options","response"])Object.defineProperty(a,p,{get(){return t[p]}});for(const[p,m]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,p,{get(){return t.response&&t.response[m]}});return a}const Git=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Nte(t="GET"){return Git.has(t.toUpperCase())}function Kit(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const Yit=new Set(["image/svg","application/xml","application/xhtml","application/html"]),Qit=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function Zit(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return Qit.test(e)?"json":Yit.has(e)||e.startsWith("text/")?"text":"blob"}function Jit(t,e,n,r){const i=Xit((e==null?void 0:e.headers)??(t==null?void 0:t.headers),n==null?void 0:n.headers,r);let s;return(n!=null&&n.query||n!=null&&n.params||e!=null&&e.params||e!=null&&e.query)&&(s={...n==null?void 0:n.params,...n==null?void 0:n.query,...e==null?void 0:e.params,...e==null?void 0:e.query}),{...n,...e,query:s,params:s,headers:i}}function Xit(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[i,s]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(i,s);return r}async function yk(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const est=new Set([408,409,425,429,500,502,503,504]),tst=new Set([101,204,205,304]);function hbe(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function i(a){const l=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!l){let u;typeof a.options.retry=="number"?u=a.options.retry:u=Nte(a.options.method)?0:1;const h=a.response&&a.response.status||500;if(u>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(h):est.has(h))){const f=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return f>0&&await new Promise(p=>setTimeout(p,f)),s(a.request,{...a.options,retry:u-1})}}const c=qit(a);throw Error.captureStackTrace&&Error.captureStackTrace(c,s),c}const s=async function(l,c={}){const u={request:l,options:Jit(l,c,t.defaults,n),response:void 0,error:void 0};u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&await yk(u,u.options.onRequest),typeof u.request=="string"&&(u.options.baseURL&&(u.request=Lit(u.request,u.options.baseURL)),u.options.query&&(u.request=Fit(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&Nte(u.options.method)&&(Kit(u.options.body)?(u.options.body=typeof u.options.body=="string"?u.options.body:JSON.stringify(u.options.body),u.options.headers=new n(u.options.headers||{}),u.options.headers.has("content-type")||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")):("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half")));let h;if(!u.options.signal&&u.options.timeout){const p=new r;h=setTimeout(()=>{const m=new Error("[TimeoutError]: The operation was aborted due to timeout");m.name="TimeoutError",m.code=23,p.abort(m)},u.options.timeout),u.options.signal=p.signal}try{u.response=await e(u.request,u.options)}catch(p){return u.error=p,u.options.onRequestError&&await yk(u,u.options.onRequestError),await i(u)}finally{h&&clearTimeout(h)}if((u.response.body||u.response._bodyInit)&&!tst.has(u.response.status)&&u.options.method!=="HEAD"){const p=(u.options.parseResponse?"json":u.options.responseType)||Zit(u.response.headers.get("content-type")||"");switch(p){case"json":{const m=await u.response.text(),g=u.options.parseResponse||C6;u.response._data=g(m);break}case"stream":{u.response._data=u.response.body||u.response._bodyInit;break}default:u.response._data=await u.response[p]()}}return u.options.onResponse&&await yk(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await yk(u,u.options.onResponseError),await i(u)):u.response},o=async function(l,c){return(await s(l,c))._data};return o.raw=s,o.native=(...a)=>e(...a),o.create=(a={},l={})=>hbe({...t,...l,defaults:{...t.defaults,...l.defaults,...a}}),o}const n7=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}(),nst=n7.fetch?(...t)=>n7.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),rst=n7.Headers,ist=n7.AbortController,fbe=hbe({fetch:nst,Headers:rst,AbortController:ist});var Dt;let Do=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},Rl=class extends Do{constructor(e,n,r,i,s,o){super(r,i,s),this.type=e,this.status=n,this.data=o}},ue=class extends Do{constructor(e,n,r){super(e,n,r),this.type="client_error"}},sst=class extends ue{constructor(){super("Request timed out",void 0,"client_request_timeout")}},kr=class extends Do{constructor(e,n,r){super(e,n,r),this.type="connector_error"}};const Nn=t=>{if(t instanceof Do)return t;if(!(t instanceof dbe))return Or(t);if(!t.response)return new Rl("api_error",null,t.message,t);let{type:e,message:n,error:r,code:i}=t.data;return new Rl(e||"ApiError",t.response.status,n||r,t,i,t.data)},Or=t=>t instanceof Do?t:t instanceof Error?new ue(t.message,t):new ue(`Internal error: ${t}`);var pe=((Dt={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",Dt.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Dt.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Dt.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",Dt.INVALID_DATA="invalid_data",Dt.INVALID_CAPTCHA="invalid_captcha",Dt.LINKED_TO_ANOTHER_USER="linked_to_another_user",Dt.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",Dt.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",Dt.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",Dt.USER_EXITED_UPDATE_FLOW="exited_update_flow",Dt.ALLOWLIST_REJECTED="allowlist_rejected",Dt.OAUTH_USER_DENIED="oauth_user_denied",Dt.OAUTH_UNEXPECTED="oauth_unexpected",Dt.UNKNOWN_AUTH_ERROR="unknown_auth_error",Dt.USER_EXITED_AUTH_FLOW="exited_auth_flow",Dt.USER_EXITED_LINK_FLOW="exited_link_flow",Dt.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",Dt.MUST_BE_AUTHENTICATED="must_be_authenticated",Dt.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",Dt.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",Dt.CLIENT_REQUEST_TIMEOUT="client_request_timeout",Dt.INVALID_CREDENTIALS="invalid_credentials",Dt.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",Dt.UNKNOWN_MFA_ERROR="unknown_mfa_error",Dt.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",Dt.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",Dt.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",Dt.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",Dt.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",Dt.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",Dt.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",Dt.TRANSACTION_FAILURE="transaction_failure",Dt.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",Dt.NOT_SUPPORTED="not_supported",Dt.CAPTCHA_TIMEOUT="captcha_timeout",Dt.INVALID_MESSAGE="invalid_message",Dt.UNABLE_TO_SIGN="unable_to_sign",Dt.CAPTCHA_FAILURE="captcha_failure",Dt.CAPTCHA_DISABLED="captcha_disabled",Dt.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",Dt.TOO_MANY_REQUESTS="too_many_requests",Dt.USER_LIMIT_REACHED="max_accounts_reached",Dt.DISALLOWED_LOGIN_METHOD="disallowed_login_method",Dt.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",Dt.PASSKEY_NOT_ALLOWED="passkey_not_allowed",Dt.USER_DOES_NOT_EXIST="user_does_not_exist",Dt.INSUFFICIENT_BALANCE="insufficient_balance",Dt.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",Dt.BUFFER_NOT_DEFINED="buffer_not_defined",Dt.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",Dt);let qg=class extends ue{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}},ng=class extends ue{constructor(e="Embedded wallet error",n){super(e,n,"unknown_embedded_wallet_error")}},ost=class extends ue{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}},HA=class extends ue{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}};const pbe="/api/v1/sessions",mbe="/api/v1/sessions/logout",ast="/api/v1/siwe/init",lst="/api/v1/siwe/authenticate",cst="/api/v1/siwe/link",ust="/api/v1/siwe/link_smart_wallet",dst="/api/v1/siwe/unlink",hst="/api/v1/siwe/transfer",fst="/api/v1/siws/init",pst="/api/v1/siws/authenticate",mst="/api/v1/siws/link",gst="/api/v1/siws/unlink",yst="/api/v1/siws/transfer",wst="/api/v1/farcaster/init",bst="/api/v1/farcaster/authenticate",vst="/api/v1/farcaster/link",xst="/api/v1/farcaster/status",Est="/api/v1/farcaster/unlink",Ast="/api/v1/farcaster/transfer",Cst="/api/v1/passwordless/init",kst="/api/v1/passwordless/authenticate",Sst="/api/v1/passwordless/link",_st="/api/v1/passwordless/unlink",Ist="/api/v1/passwordless/update",Tst="/api/v1/passwordless/transfer",$st="/api/v1/passwordless_sms/init",Nst="/api/v1/passwordless_sms/link",Pst="/api/v1/passwordless_sms/unlink",Rst="/api/v1/passwordless_sms/authenticate",jst="/api/v1/passwordless_sms/update",Ost="/api/v1/passwordless_sms/transfer",gbe="/api/v1/oauth/init",ybe="/api/v1/oauth/authenticate",wbe="/api/v1/oauth/link",Mst="/api/v1/oauth/unlink",Dst="/api/v1/oauth/transfer",Bst="/api/v1/recovery/oauth/init",Lst="/api/v1/recovery/oauth/init_icloud",Fst="/api/v1/recovery/oauth/authenticate",Ust="/api/v1/passkeys/link/init",zst="/api/v1/passkeys/authenticate/init",Wst="/api/v1/passkeys/register/init",Hst="/api/v1/passkeys/link",Vst="/api/v1/passkeys/authenticate",qst="/api/v1/passkeys/register",Gst="/api/v1/telegram/authenticate",Kst="/api/v1/telegram/link",Yst="/api/v1/telegram/unlink",Qst="/api/v1/telegram/transfer",Zst="/api/v1/mfa/passwordless_sms/init",Jst="/api/v1/mfa/passkeys/init",Xst="/api/v1/users/me/accept_terms",bbe="/api/v1/analytics_events",eot="/api/v1/custom_jwt_account/authenticate",tot="/api/v1/custom_jwt_account/link",not="/api/v1/guest/authenticate",rot="/api/v1/plugins/moonpay_on_ramp/sign",iot="/api/v1/funding/coinbase_on_ramp/init",sot="/api/v1/funding/coinbase_on_ramp/status",oot="/api/v1/wallets/revoke",aot="/api/v1/users/me",lot="/api/v1/scan/transaction";function cot({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const l$=x.forwardRef(cot);function uot({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const dot=x.forwardRef(uot);var No=function(){return No=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},No.apply(this,arguments)};function Fx(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var jr="-ms-",a4="-moz-",tr="-webkit-",vbe="comm",c$="rule",cq="decl",hot="@import",xbe="@keyframes",fot="@layer",Ebe=Math.abs,uq=String.fromCharCode,RL=Object.assign;function pot(t,e){return ws(t,0)^45?(((e<<2^ws(t,0))<<2^ws(t,1))<<2^ws(t,2))<<2^ws(t,3):0}function Abe(t){return t.trim()}function Bf(t,e){return(t=e.exec(t))?t[0]:t}function gn(t,e,n){return t.replace(e,n)}function V9(t,e,n){return t.indexOf(e,n)}function ws(t,e){return t.charCodeAt(e)|0}function Ux(t,e,n){return t.slice(e,n)}function wh(t){return t.length}function Cbe(t){return t.length}function k6(t,e){return e.push(t),t}function mot(t,e){return t.map(e).join("")}function Pte(t,e){return t.filter(function(n){return!Bf(n,e)})}var u$=1,zx=1,kbe=0,tu=0,Vi=0,V3="";function d$(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:u$,column:zx,length:o,return:"",siblings:a}}function V0(t,e){return RL(d$("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function db(t){for(;t.root;)t=V0(t.root,{children:[t]});k6(t,t.siblings)}function got(){return Vi}function yot(){return Vi=tu>0?ws(V3,--tu):0,zx--,Vi===10&&(zx=1,u$--),Vi}function ad(){return Vi=tu<kbe?ws(V3,tu++):0,zx++,Vi===10&&(zx=1,u$++),Vi}function k1(){return ws(V3,tu)}function q9(){return tu}function h$(t,e){return Ux(V3,t,e)}function jL(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function wot(t){return u$=zx=1,kbe=wh(V3=t),tu=0,[]}function bot(t){return V3="",t}function vj(t){return Abe(h$(tu-1,OL(t===91?t+2:t===40?t+1:t)))}function vot(t){for(;(Vi=k1())&&Vi<33;)ad();return jL(t)>2||jL(Vi)>3?"":" "}function xot(t,e){for(;--e&&ad()&&!(Vi<48||Vi>102||Vi>57&&Vi<65||Vi>70&&Vi<97););return h$(t,q9()+(e<6&&k1()==32&&ad()==32))}function OL(t){for(;ad();)switch(Vi){case t:return tu;case 34:case 39:t!==34&&t!==39&&OL(Vi);break;case 40:t===41&&OL(t);break;case 92:ad();break}return tu}function Eot(t,e){for(;ad()&&t+Vi!==57;)if(t+Vi===84&&k1()===47)break;return"/*"+h$(e,tu-1)+"*"+uq(t===47?t:ad())}function Aot(t){for(;!jL(k1());)ad();return h$(t,tu)}function Cot(t){return bot(G9("",null,null,null,[""],t=wot(t),0,[0],t))}function G9(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,h=o,f=0,p=0,m=0,g=1,y=1,w=1,v=0,b="",A=i,E=s,$=r,N=b;y;)switch(m=v,v=ad()){case 40:if(m!=108&&ws(N,h-1)==58){V9(N+=gn(vj(v),"&","&\f"),"&\f",Ebe(c?a[c-1]:0))!=-1&&(w=-1);break}case 34:case 39:case 91:N+=vj(v);break;case 9:case 10:case 13:case 32:N+=vot(m);break;case 92:N+=xot(q9()-1,7);continue;case 47:switch(k1()){case 42:case 47:k6(kot(Eot(ad(),q9()),e,n,l),l);break;default:N+="/"}break;case 123*g:a[c++]=wh(N)*w;case 125*g:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+u:w==-1&&(N=gn(N,/\f/g,"")),p>0&&wh(N)-h&&k6(p>32?jte(N+";",r,n,h-1,l):jte(gn(N," ","")+";",r,n,h-2,l),l);break;case 59:N+=";";default:if(k6($=Rte(N,e,n,c,u,i,a,b,A=[],E=[],h,s),s),v===123)if(u===0)G9(N,e,$,$,A,s,h,a,E);else switch(f===99&&ws(N,3)===110?100:f){case 100:case 108:case 109:case 115:G9(t,$,$,r&&k6(Rte(t,$,$,0,0,i,a,b,i,A=[],h,E),E),i,E,h,a,r?A:E);break;default:G9(N,$,$,$,[""],E,0,a,E)}}c=u=p=0,g=w=1,b=N="",h=o;break;case 58:h=1+wh(N),p=m;default:if(g<1){if(v==123)--g;else if(v==125&&g++==0&&yot()==125)continue}switch(N+=uq(v),v*g){case 38:w=u>0?1:(N+="\f",-1);break;case 44:a[c++]=(wh(N)-1)*w,w=1;break;case 64:k1()===45&&(N+=vj(ad())),f=k1(),u=h=wh(b=N+=Aot(q9())),v++;break;case 45:m===45&&wh(N)==2&&(g=0)}}return s}function Rte(t,e,n,r,i,s,o,a,l,c,u,h){for(var f=i-1,p=i===0?s:[""],m=Cbe(p),g=0,y=0,w=0;g<r;++g)for(var v=0,b=Ux(t,f+1,f=Ebe(y=o[g])),A=t;v<m;++v)(A=Abe(y>0?p[v]+" "+b:gn(b,/&\f/g,p[v])))&&(l[w++]=A);return d$(t,e,n,i===0?c$:a,l,c,u,h)}function kot(t,e,n,r){return d$(t,e,n,vbe,uq(got()),Ux(t,2,-2),0,r)}function jte(t,e,n,r,i){return d$(t,e,n,cq,Ux(t,0,r),Ux(t,r+1,-1),r,i)}function Sbe(t,e,n){switch(pot(t,e)){case 5103:return tr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tr+t+t;case 4789:return a4+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return tr+t+a4+t+jr+t+t;case 5936:switch(ws(t,e+11)){case 114:return tr+t+jr+gn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return tr+t+jr+gn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return tr+t+jr+gn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return tr+t+jr+t+t;case 6165:return tr+t+jr+"flex-"+t+t;case 5187:return tr+t+gn(t,/(\w+).+(:[^]+)/,tr+"box-$1$2"+jr+"flex-$1$2")+t;case 5443:return tr+t+jr+"flex-item-"+gn(t,/flex-|-self/g,"")+(Bf(t,/flex-|baseline/)?"":jr+"grid-row-"+gn(t,/flex-|-self/g,""))+t;case 4675:return tr+t+jr+"flex-line-pack"+gn(t,/align-content|flex-|-self/g,"")+t;case 5548:return tr+t+jr+gn(t,"shrink","negative")+t;case 5292:return tr+t+jr+gn(t,"basis","preferred-size")+t;case 6060:return tr+"box-"+gn(t,"-grow","")+tr+t+jr+gn(t,"grow","positive")+t;case 4554:return tr+gn(t,/([^-])(transform)/g,"$1"+tr+"$2")+t;case 6187:return gn(gn(gn(t,/(zoom-|grab)/,tr+"$1"),/(image-set)/,tr+"$1"),t,"")+t;case 5495:case 3959:return gn(t,/(image-set\([^]*)/,tr+"$1$`$1");case 4968:return gn(gn(t,/(.+:)(flex-)?(.*)/,tr+"box-pack:$3"+jr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tr+t+t;case 4200:if(!Bf(t,/flex-|baseline/))return jr+"grid-column-align"+Ux(t,e)+t;break;case 2592:case 3360:return jr+gn(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Bf(r.props,/grid-\w+-end/)})?~V9(t+(n=n[e].value),"span",0)?t:jr+gn(t,"-start","")+t+jr+"grid-row-span:"+(~V9(n,"span",0)?Bf(n,/\d+/):+Bf(n,/\d+/)-+Bf(t,/\d+/))+";":jr+gn(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Bf(r.props,/grid-\w+-start/)})?t:jr+gn(gn(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return gn(t,/(.+)-inline(.+)/,tr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(wh(t)-1-e>6)switch(ws(t,e+1)){case 109:if(ws(t,e+4)!==45)break;case 102:return gn(t,/(.+:)(.+)-([^]+)/,"$1"+tr+"$2-$3$1"+a4+(ws(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~V9(t,"stretch",0)?Sbe(gn(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return gn(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,c){return jr+i+":"+s+c+(o?jr+i+"-span:"+(a?l:+l-+s)+c:"")+t});case 4949:if(ws(t,e+6)===121)return gn(t,":",":"+tr)+t;break;case 6444:switch(ws(t,ws(t,14)===45?18:11)){case 120:return gn(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+tr+(ws(t,14)===45?"inline-":"")+"box$3$1"+tr+"$2$3$1"+jr+"$2box$3")+t;case 100:return gn(t,":",":"+jr)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return gn(t,"scroll-","scroll-snap-")+t}return t}function r7(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function Sot(t,e,n,r){switch(t.type){case fot:if(t.children.length)break;case hot:case cq:return t.return=t.return||t.value;case vbe:return"";case xbe:return t.return=t.value+"{"+r7(t.children,r)+"}";case c$:if(!wh(t.value=t.props.join(",")))return""}return wh(n=r7(t.children,r))?t.return=t.value+"{"+n+"}":""}function _ot(t){var e=Cbe(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function Iot(t){return function(e){e.root||(e=e.return)&&t(e)}}function Tot(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case cq:t.return=Sbe(t.value,t.length,n);return;case xbe:return r7([V0(t,{value:gn(t.value,"@","@"+tr)})],r);case c$:if(t.length)return mot(n=t.props,function(i){switch(Bf(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":db(V0(t,{props:[gn(i,/:(read-\w+)/,":"+a4+"$1")]})),db(V0(t,{props:[i]})),RL(t,{props:Pte(n,r)});break;case"::placeholder":db(V0(t,{props:[gn(i,/:(plac\w+)/,":"+tr+"input-$1")]})),db(V0(t,{props:[gn(i,/:(plac\w+)/,":"+a4+"$1")]})),db(V0(t,{props:[gn(i,/:(plac\w+)/,jr+"input-$1")]})),db(V0(t,{props:[i]})),RL(t,{props:Pte(n,r)});break}return""})}}var $ot={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},El={},Wx=typeof process<"u"&&El!==void 0&&(El.REACT_APP_SC_ATTR||El.SC_ATTR)||"data-styled",_be="active",Ibe="data-styled-version",f$="6.1.19",dq=`/*!sc*/
`,i7=typeof window<"u"&&typeof document<"u",Not=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&El!==void 0&&El.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&El.REACT_APP_SC_DISABLE_SPEEDY!==""?El.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&El.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&El!==void 0&&El.SC_DISABLE_SPEEDY!==void 0&&El.SC_DISABLE_SPEEDY!==""&&El.SC_DISABLE_SPEEDY!=="false"&&El.SC_DISABLE_SPEEDY),Pot={},p$=Object.freeze([]),Hx=Object.freeze({});function Tbe(t,e,n){return n===void 0&&(n=Hx),t.theme!==n.theme&&t.theme||e||n.theme}var $be=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Rot=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,jot=/(^-|-$)/g;function Ote(t){return t.replace(Rot,"-").replace(jot,"")}var Oot=/(a)(d)/gi,wk=52,Mte=function(t){return String.fromCharCode(t+(t>25?39:97))};function ML(t){var e,n="";for(e=Math.abs(t);e>wk;e=e/wk|0)n=Mte(e%wk)+n;return(Mte(e%wk)+n).replace(Oot,"$1-$2")}var xj,Nbe=5381,Ev=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},Pbe=function(t){return Ev(Nbe,t)};function hq(t){return ML(Pbe(t)>>>0)}function Mot(t){return t.displayName||t.name||"Component"}function Ej(t){return typeof t=="string"&&!0}var Rbe=typeof Symbol=="function"&&Symbol.for,jbe=Rbe?Symbol.for("react.memo"):60115,Dot=Rbe?Symbol.for("react.forward_ref"):60112,Bot={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Lot={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Obe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Fot=((xj={})[Dot]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},xj[jbe]=Obe,xj);function Dte(t){return("type"in(e=t)&&e.type.$$typeof)===jbe?Obe:"$$typeof"in t?Fot[t.$$typeof]:Bot;var e}var Uot=Object.defineProperty,zot=Object.getOwnPropertyNames,Bte=Object.getOwnPropertySymbols,Wot=Object.getOwnPropertyDescriptor,Hot=Object.getPrototypeOf,Lte=Object.prototype;function Mbe(t,e,n){if(typeof e!="string"){if(Lte){var r=Hot(e);r&&r!==Lte&&Mbe(t,r,n)}var i=zot(e);Bte&&(i=i.concat(Bte(e)));for(var s=Dte(t),o=Dte(e),a=0;a<i.length;++a){var l=i[a];if(!(l in Lot||n&&n[l]||o&&l in o||s&&l in s)){var c=Wot(e,l);try{Uot(t,l,c)}catch{}}}}return t}function Vx(t){return typeof t=="function"}function fq(t){return typeof t=="object"&&"styledComponentId"in t}function Py(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function s7(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function Q8(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function DL(t,e,n){if(n===void 0&&(n=!1),!n&&!Q8(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=DL(t[r],e[r]);else if(Q8(e))for(var r in e)t[r]=DL(t[r],e[r]);return t}function pq(t,e){Object.defineProperty(t,"toString",{value:e})}function VA(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Vot=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw VA(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(dq);return n},t}(),K9=new Map,o7=new Map,Y9=1,bk=function(t){if(K9.has(t))return K9.get(t);for(;o7.has(Y9);)Y9++;var e=Y9++;return K9.set(t,e),o7.set(e,t),e},qot=function(t,e){Y9=e+1,K9.set(t,e),o7.set(e,t)},Got="style[".concat(Wx,"][").concat(Ibe,'="').concat(f$,'"]'),Kot=new RegExp("^".concat(Wx,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Yot=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},Qot=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(dq),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(Kot);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(qot(u,c),Yot(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}},Fte=function(t){for(var e=document.querySelectorAll(Got),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Wx)!==_be&&(Qot(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function Zot(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Dbe=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Wx,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Wx,_be),r.setAttribute(Ibe,f$);var o=Zot();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},Jot=function(){function t(e){this.element=Dbe(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw VA(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),Xot=function(){function t(e){this.element=Dbe(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),eat=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),Ute=i7,tat={isServer:!i7,useCSSOMInjection:!Not},a7=function(){function t(e,n,r){e===void 0&&(e=Hx),n===void 0&&(n={});var i=this;this.options=No(No({},tat),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&i7&&Ute&&(Ute=!1,Fte(this)),pq(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(h){var f=function(w){return o7.get(w)}(h);if(f===void 0)return"continue";var p=s.names.get(f),m=o.getGroup(h);if(p===void 0||!p.size||m.length===0)return"continue";var g="".concat(Wx,".g").concat(h,'[id="').concat(f,'"]'),y="";p!==void 0&&p.forEach(function(w){w.length>0&&(y+="".concat(w,","))}),l+="".concat(m).concat(g,'{content:"').concat(y,'"}').concat(dq)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return bk(e)},t.prototype.rehydrate=function(){!this.server&&i7&&Fte(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(No(No({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new eat(i):r?new Jot(i):new Xot(i)}(this.options),new Vot(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(bk(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(bk(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(bk(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),nat=/&/g,rat=/^\s*\/\/.*$/gm;function Bbe(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Bbe(n.children,e)),n})}function iat(t){var e,n,r,i=Hx,s=i.options,o=s===void 0?Hx:s,a=i.plugins,l=a===void 0?p$:a,c=function(f,p,m){return m.startsWith(n)&&m.endsWith(n)&&m.replaceAll(n,"").length>0?".".concat(e):f},u=l.slice();u.push(function(f){f.type===c$&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(nat,n).replace(r,c))}),o.prefix&&u.push(Tot),u.push(Sot);var h=function(f,p,m,g){p===void 0&&(p=""),m===void 0&&(m=""),g===void 0&&(g="&"),e=g,n=p,r=new RegExp("\\".concat(n,"\\b"),"g");var y=f.replace(rat,""),w=Cot(m||p?"".concat(m," ").concat(p," { ").concat(y," }"):y);o.namespace&&(w=Bbe(w,o.namespace));var v=[];return r7(w,_ot(u.concat(Iot(function(b){return v.push(b)})))),v};return h.hash=l.length?l.reduce(function(f,p){return p.name||VA(15),Ev(f,p.name)},Nbe).toString():"",h}var sat=new a7,BL=iat(),Lbe=Ae.createContext({shouldForwardProp:void 0,styleSheet:sat,stylis:BL});Lbe.Consumer;Ae.createContext(void 0);function LL(){return x.useContext(Lbe)}var Fbe=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=BL);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,pq(this,function(){throw VA(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=BL),this.name+e.hash},t}(),oat=function(t){return t>="A"&&t<="Z"};function zte(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;oat(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var Ube=function(t){return t==null||t===!1||t===""},zbe=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!Ube(s)&&(Array.isArray(s)&&s.isCss||Vx(s)?r.push("".concat(zte(i),":"),s,";"):Q8(s)?r.push.apply(r,Fx(Fx(["".concat(i," {")],zbe(s),!1),["}"],!1)):r.push("".concat(zte(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in $ot||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function rg(t,e,n,r){if(Ube(t))return[];if(fq(t))return[".".concat(t.styledComponentId)];if(Vx(t)){if(!Vx(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return rg(i,e,n,r)}var s;return t instanceof Fbe?n?(t.inject(n,r),[t.getName(r)]):[t]:Q8(t)?zbe(t):Array.isArray(t)?Array.prototype.concat.apply(p$,t.map(function(o){return rg(o,e,n,r)})):[t.toString()]}function Wbe(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Vx(n)&&!fq(n))return!1}return!0}var aat=Pbe(f$),lat=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Wbe(e),this.componentId=n,this.baseHash=Ev(aat,n),this.baseStyle=r,a7.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Py(i,this.staticRulesId);else{var s=s7(rg(this.rules,e,n,r)),o=ML(Ev(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Py(i,o),this.staticRulesId=o}else{for(var l=Ev(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var h=this.rules[u];if(typeof h=="string")c+=h;else if(h){var f=s7(rg(h,e,n,r));l=Ev(l,f+u),c+=f}}if(c){var p=ML(l>>>0);n.hasNameForId(this.componentId,p)||n.insertRules(this.componentId,p,r(c,".".concat(p),void 0,this.componentId)),i=Py(i,p)}}return i},t}(),mq=Ae.createContext(void 0);mq.Consumer;var Aj={};function cat(t,e,n){var r=fq(t),i=t,s=!Ej(t),o=e.attrs,a=o===void 0?p$:o,l=e.componentId,c=l===void 0?function(A,E){var $=typeof A!="string"?"sc":Ote(A);Aj[$]=(Aj[$]||0)+1;var N="".concat($,"-").concat(hq(f$+$+Aj[$]));return E?"".concat(E,"-").concat(N):N}(e.displayName,e.parentComponentId):l,u=e.displayName,h=u===void 0?function(A){return Ej(A)?"styled.".concat(A):"Styled(".concat(Mot(A),")")}(t):u,f=e.displayName&&e.componentId?"".concat(Ote(e.displayName),"-").concat(e.componentId):e.componentId||c,p=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,m=e.shouldForwardProp;if(r&&i.shouldForwardProp){var g=i.shouldForwardProp;if(e.shouldForwardProp){var y=e.shouldForwardProp;m=function(A,E){return g(A,E)&&y(A,E)}}else m=g}var w=new lat(n,f,r?i.componentStyle:void 0);function v(A,E){return function($,N,R){var j=$.attrs,F=$.componentStyle,W=$.defaultProps,V=$.foldedComponentIds,B=$.styledComponentId,k=$.target,C=Ae.useContext(mq),S=LL(),T=$.shouldForwardProp||S.shouldForwardProp,_=Tbe(N,C,W)||Hx,P=function(M,Q,ee){for(var J,oe=No(No({},Q),{className:void 0,theme:ee}),de=0;de<M.length;de+=1){var ae=Vx(J=M[de])?J(oe):J;for(var he in ae)oe[he]=he==="className"?Py(oe[he],ae[he]):he==="style"?No(No({},oe[he]),ae[he]):ae[he]}return Q.className&&(oe.className=Py(oe.className,Q.className)),oe}(j,N,_),L=P.as||k,O={};for(var I in P)P[I]===void 0||I[0]==="$"||I==="as"||I==="theme"&&P.theme===_||(I==="forwardedAs"?O.as=P.forwardedAs:T&&!T(I,L)||(O[I]=P[I]));var D=function(M,Q){var ee=LL(),J=M.generateAndInjectStyles(Q,ee.styleSheet,ee.stylis);return J}(F,P),Y=Py(V,B);return D&&(Y+=" "+D),P.className&&(Y+=" "+P.className),O[Ej(L)&&!$be.has(L)?"class":"className"]=Y,R&&(O.ref=R),x.createElement(L,O)}(b,A,E)}v.displayName=h;var b=Ae.forwardRef(v);return b.attrs=p,b.componentStyle=w,b.displayName=h,b.shouldForwardProp=m,b.foldedComponentIds=r?Py(i.foldedComponentIds,i.styledComponentId):"",b.styledComponentId=f,b.target=r?i.target:t,Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(A){this._foldedDefaultProps=r?function(E){for(var $=[],N=1;N<arguments.length;N++)$[N-1]=arguments[N];for(var R=0,j=$;R<j.length;R++)DL(E,j[R],!0);return E}({},i.defaultProps,A):A}}),pq(b,function(){return".".concat(b.styledComponentId)}),s&&Mbe(b,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),b}function Wte(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var Hte=function(t){return Object.assign(t,{isCss:!0})};function ls(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Vx(t)||Q8(t))return Hte(rg(Wte(p$,Fx([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?rg(r):Hte(rg(Wte(r,e)))}function FL(t,e,n){if(n===void 0&&(n=Hx),!e)throw VA(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,ls.apply(void 0,Fx([i],s,!1)))};return r.attrs=function(i){return FL(t,e,No(No({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return FL(t,e,No(No({},n),i))},r}var Hbe=function(t){return FL(cat,t)},Z=Hbe;$be.forEach(function(t){Z[t]=Hbe(t)});var uat=function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=Wbe(e),a7.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(s7(rg(this.rules,n,r,i)),""),o=this.componentId+e;r.insertRules(o,o,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&a7.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t}();function dat(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=ls.apply(void 0,Fx([t],e,!1)),i="sc-global-".concat(hq(JSON.stringify(r))),s=new uat(r,i),o=function(l){var c=LL(),u=Ae.useContext(mq),h=Ae.useRef(c.styleSheet.allocateGSInstance(i)).current;return c.styleSheet.server&&a(h,l,c.styleSheet,u,c.stylis),Ae.useLayoutEffect(function(){if(!c.styleSheet.server)return a(h,l,c.styleSheet,u,c.stylis),function(){return s.removeStyles(h,c.styleSheet)}},[h,l,c.styleSheet,u,c.stylis]),null};function a(l,c,u,h,f){if(s.isStatic)s.renderStyles(l,Pot,u,f);else{var p=No(No({},c),{theme:Tbe(c,h,o.defaultProps)});s.renderStyles(l,p,u,f)}}return Ae.memo(o)}function Vbe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=s7(ls.apply(void 0,Fx([t],e,!1))),i=hq(r);return new Fbe(i,r)}const Ie=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},qbe=x.createContext({setAuthenticated:Ie,setUser:Ie,setIsNewUser:Ie,isNewUserThisSession:!1,walletConnectionStatus:null,setWalletConnectionStatus:Ie,connectors:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",onCustomAuthAuthenticated:Ie,hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:Ie,initializeWalletProxy:Ie,getAuthMeta:Ie,getAuthFlow:Ie,closePrivyModal:Ie,openPrivyModal:Ie,connectWallet:Ie,initLoginWithWallet:Ie,loginWithWallet:Ie,initLoginWithFarcaster:Ie,loginWithFarcaster:Ie,loginWithCode:Ie,initLoginWithEmail:Ie,initLoginWithSms:Ie,initUpdateEmail:Ie,initUpdatePhone:Ie,resendEmailCode:Ie,resendSmsCode:Ie,initLoginWithHeadlessOAuth:Ie,loginWithHeadlessOAuth:Ie,crossAppAuthFlow:Ie,initLoginWithOAuth:Ie,loginWithOAuth:Ie,passkeyAuthState:{status:"initial"},setPasskeyAuthState:Ie,initSignupWithPasskey:Ie,signupWithPasskey:Ie,initLoginWithPasskey:Ie,loginWithPasskey:Ie,initLinkWithPasskey:Ie,linkWithPasskey:Ie,refreshSessionAndUser:Ie,walletProxy:null,createAnalyticsEvent:Ie,acceptTerms:Ie,getUsdTokenPrice:Ie,getUsdPriceForSol:Ie,getSplTokenMetadata:Ie,recoverEmbeddedWallet:Ie,updateWallets:Ie,fundWallet:Ie,openModal:Ie,setReadyToTrue:Ie,requestFarcasterSignerStatus:Ie,initLoginWithTelegram:Ie,loginWithTelegram:Ie,generateSiweMessage:Ie,generateSiweMessageForSmartWallet:Ie,loginWithSiwe:Ie,linkWithSiwe:Ie,linkSmartWallet:Ie,delegateWallet:Ie,revokeDelegatedWallets:Ie,connectCoinbaseSmartWallet:Ie,connectBaseAccount:Ie,initiateAccountTransfer:Ie,emailOtpState:{status:"initial"},setEmailOtpState:Ie,smsOtpState:{status:"initial"},setSmsOtpState:Ie,siweState:{status:"initial"},setSiweState:Ie,oAuthState:{status:"initial"},setOAuthState:Ie,telegramAuthState:{status:"initial"},setTelegramAuthState:Ie,isHeadlessOAuthLoading:!1,isHeadlessSigning:Ie,inProgressAuthFlowRef:{current:null},inProgressLoginOrLinkMethodRef:{current:null},baseAccountSdk:void 0,setBaseAccountSdk:Ie}),st=()=>x.useContext(qbe);function hat({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const fat=x.forwardRef(hat);function pat({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const mat=x.forwardRef(pat);function gat({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const gq=x.forwardRef(gat);function yat({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const yq=x.forwardRef(yat);function wat({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const m$=x.forwardRef(wat);function bat({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const Gbe=x.forwardRef(bat),Kbe=typeof document<"u"?Ae.useLayoutEffect:()=>{};var Cj;const vat=(Cj=Ae.useInsertionEffect)!==null&&Cj!==void 0?Cj:Kbe;function xat(t){const e=x.useRef(null);return vat(()=>{e.current=t},[t]),x.useCallback((...n)=>{const r=e.current;return r==null?void 0:r(...n)},[])}const Pg=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},Ry=t=>t&&"window"in t&&t.window===t?t:Pg(t).defaultView||window;function Eat(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function Aat(t){return Eat(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let Cat=!1;function wq(){return Cat}function Ybe(t,e){if(!wq())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:Aat(n)?n=n.host:n=n.parentNode}return!1}const UL=(t=document)=>{var e;if(!wq())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function Qbe(t){return wq()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function kat(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let n=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(n)&&n.some(r=>t.test(r.brand))||t.test(window.navigator.userAgent)}function Sat(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Zbe(t){let e=null;return()=>(e==null&&(e=t()),e)}const _at=Zbe(function(){return Sat(/^Mac/i)}),Iat=Zbe(function(){return kat(/Android/i)});function Jbe(){let t=x.useRef(new Map),e=x.useCallback((i,s,o,a)=>{let l=a!=null&&a.once?(...c)=>{t.current.delete(o),o(...c)}:o;t.current.set(o,{type:s,eventTarget:i,fn:l,options:a}),i.addEventListener(s,l,a)},[]),n=x.useCallback((i,s,o,a)=>{var l;let c=((l=t.current.get(o))===null||l===void 0?void 0:l.fn)||o;i.removeEventListener(s,c,a),t.current.delete(o)},[]),r=x.useCallback(()=>{t.current.forEach((i,s)=>{n(i.eventTarget,i.type,s,i.options)})},[n]);return x.useEffect(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:r}}function Tat(t){return t.pointerType===""&&t.isTrusted?!0:Iat()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function Xbe(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function $at(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function eve(t){let e=x.useRef({isFocused:!1,observer:null});Kbe(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=xat(r=>{t==null||t(r)});return x.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=r.target,s=o=>{if(e.current.isFocused=!1,i.disabled){let a=Xbe(o);n(a)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let a=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let Nat=!1,qA=null,zL=new Set,l4=new Map,nw=!1,WL=!1;const Pat={Tab:!0,Escape:!0};function bq(t,e){for(let n of zL)n(t,e)}function Rat(t){return!(t.metaKey||!_at()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function l7(t){nw=!0,Rat(t)&&(qA="keyboard",bq("keyboard",t))}function t2(t){qA="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(nw=!0,bq("pointer",t))}function tve(t){Tat(t)&&(nw=!0,qA="virtual")}function nve(t){t.target===window||t.target===document||Nat||!t.isTrusted||(!nw&&!WL&&(qA="virtual",bq("virtual",t)),nw=!1,WL=!1)}function rve(){nw=!1,WL=!0}function HL(t){if(typeof window>"u"||typeof document>"u"||l4.get(Ry(t)))return;const e=Ry(t),n=Pg(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){nw=!0,r.apply(this,arguments)},n.addEventListener("keydown",l7,!0),n.addEventListener("keyup",l7,!0),n.addEventListener("click",tve,!0),e.addEventListener("focus",nve,!0),e.addEventListener("blur",rve,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",t2,!0),n.addEventListener("pointermove",t2,!0),n.addEventListener("pointerup",t2,!0)),e.addEventListener("beforeunload",()=>{ive(t)},{once:!0}),l4.set(e,{focus:r})}const ive=(t,e)=>{const n=Ry(t),r=Pg(t);e&&r.removeEventListener("DOMContentLoaded",e),l4.has(n)&&(n.HTMLElement.prototype.focus=l4.get(n).focus,r.removeEventListener("keydown",l7,!0),r.removeEventListener("keyup",l7,!0),r.removeEventListener("click",tve,!0),n.removeEventListener("focus",nve,!0),n.removeEventListener("blur",rve,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",t2,!0),r.removeEventListener("pointermove",t2,!0),r.removeEventListener("pointerup",t2,!0)),l4.delete(n))};function jat(t){const e=Pg(t);let n;return e.readyState!=="loading"?HL(t):(n=()=>{HL(t)},e.addEventListener("DOMContentLoaded",n)),()=>ive(t,n)}typeof document<"u"&&jat();function sve(){return qA!=="pointer"}const Oat=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Mat(t,e,n){let r=Pg(n==null?void 0:n.target);const i=typeof window<"u"?Ry(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?Ry(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?Ry(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?Ry(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||r.activeElement instanceof i&&!Oat.has(r.activeElement.type)||r.activeElement instanceof s||r.activeElement instanceof o&&r.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof a&&!Pat[n.key])}function Dat(t,e,n){HL(),x.useEffect(()=>{let r=(i,s)=>{Mat(!!(n!=null&&n.isTextInput),i,s)&&t(sve())};return zL.add(r),()=>{zL.delete(r)}},e)}function Bat(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:i}=t;const s=x.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),o=eve(s),a=x.useCallback(l=>{const c=Pg(l.target),u=c?UL(c):UL();l.target===l.currentTarget&&u===Qbe(l.nativeEvent)&&(n&&n(l),i&&i(!0),o(l))},[i,n,o]);return{focusProps:{onFocus:!e&&(n||i||r)?a:void 0,onBlur:!e&&(r||i)?s:void 0}}}function Lat(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=t,s=x.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:a}=Jbe(),l=x.useCallback(h=>{h.currentTarget.contains(h.target)&&s.current.isFocusWithin&&!h.currentTarget.contains(h.relatedTarget)&&(s.current.isFocusWithin=!1,a(),n&&n(h),i&&i(!1))},[n,i,s,a]),c=eve(l),u=x.useCallback(h=>{if(!h.currentTarget.contains(h.target))return;const f=Pg(h.target),p=UL(f);if(!s.current.isFocusWithin&&p===Qbe(h.nativeEvent)){r&&r(h),i&&i(!0),s.current.isFocusWithin=!0,c(h);let m=h.currentTarget;o(f,"focus",g=>{if(s.current.isFocusWithin&&!Ybe(m,g.target)){let y=new f.defaultView.FocusEvent("blur",{relatedTarget:g.target});$at(y,m);let w=Xbe(y);l(w)}},{capture:!0})}},[r,i,c,o,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:l}}}let VL=!1,vk=0;function Fat(){VL=!0,setTimeout(()=>{VL=!1},50)}function Vte(t){t.pointerType==="touch"&&Fat()}function Uat(){if(!(typeof document>"u"))return vk===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",Vte),vk++,()=>{vk--,!(vk>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Vte)}}function zat(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:i}=t,[s,o]=x.useState(!1),a=x.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;x.useEffect(Uat,[]);let{addGlobalListener:l,removeAllGlobalListeners:c}=Jbe(),{hoverProps:u,triggerHoverEnd:h}=x.useMemo(()=>{let f=(g,y)=>{if(a.pointerType=y,i||y==="touch"||a.isHovered||!g.currentTarget.contains(g.target))return;a.isHovered=!0;let w=g.currentTarget;a.target=w,l(Pg(g.target),"pointerover",v=>{a.isHovered&&a.target&&!Ybe(a.target,v.target)&&p(v,v.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:w,pointerType:y}),n&&n(!0),o(!0)},p=(g,y)=>{let w=a.target;a.pointerType="",a.target=null,!(y==="touch"||!a.isHovered||!w)&&(a.isHovered=!1,c(),r&&r({type:"hoverend",target:w,pointerType:y}),n&&n(!1),o(!1))},m={};return typeof PointerEvent<"u"&&(m.onPointerEnter=g=>{VL&&g.pointerType==="mouse"||f(g,g.pointerType)},m.onPointerLeave=g=>{!i&&g.currentTarget.contains(g.target)&&p(g,g.pointerType)}),{hoverProps:m,triggerHoverEnd:p}},[e,n,r,i,a,l,c]);return x.useEffect(()=>{i&&h({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:u,isHovered:s}}function Wat(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,i=x.useRef({isFocused:!1,isFocusVisible:e||sve()}),[s,o]=x.useState(!1),[a,l]=x.useState(()=>i.current.isFocused&&i.current.isFocusVisible),c=x.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),u=x.useCallback(p=>{i.current.isFocused=p,o(p),c()},[c]);Dat(p=>{i.current.isFocusVisible=p,c()},[],{isTextInput:n});let{focusProps:h}=Bat({isDisabled:r,onFocusChange:u}),{focusWithinProps:f}=Lat({isDisabled:!r,onFocusWithinChange:u});return{isFocused:s,isFocusVisible:a,focusProps:r?f:h}}var Hat=Object.defineProperty,Vat=(t,e,n)=>e in t?Hat(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kj=(t,e,n)=>(Vat(t,typeof e!="symbol"?e+"":e,n),n);let qat=class{constructor(){kj(this,"current",this.detect()),kj(this,"handoffState","pending"),kj(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},zh=new qat;function Ow(t){var e;return zh.isServer?null:t==null?document:(e=t==null?void 0:t.ownerDocument)!=null?e:document}function c7(t){var e,n;return zh.isServer?null:t==null?document:(n=(e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))!=null?n:document}function vq(t){var e,n;return(n=(e=c7(t))==null?void 0:e.activeElement)!=null?n:null}function ove(t){return vq(t)===t}function g$(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function cl(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return g$(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=cl();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function Mw(){let[t]=x.useState(cl);return x.useEffect(()=>()=>t.dispose(),[t]),t}let zr=(t,e)=>{zh.isServer?x.useEffect(t,e):x.useLayoutEffect(t,e)};function Dw(t){let e=x.useRef(t);return zr(()=>{e.current=t},[t]),e}let Wt=function(t){let e=Dw(t);return Ae.useCallback((...n)=>e.current(...n),[e])};function Gat(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function Kat(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function Yat({disabled:t=!1}={}){let e=x.useRef(null),[n,r]=x.useState(!1),i=Mw(),s=Wt(()=>{e.current=null,r(!1),i.dispose()}),o=Wt(a=>{if(i.dispose(),e.current===null){e.current=a.currentTarget,r(!0);{let l=Ow(a.currentTarget);i.addEventListener(l,"pointerup",s,!1),i.addEventListener(l,"pointermove",c=>{if(e.current){let u=Gat(c);r(Kat(u,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}function uf(t){return x.useMemo(()=>t,Object.values(t))}let Qat=x.createContext(void 0);function ave(){return x.useContext(Qat)}function qL(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Ad(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ad),r}var qx=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(qx||{}),Fm=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Fm||{});function Yi(){let t=Jat();return x.useCallback(e=>Zat({mergeRefs:t,...e}),[t])}function Zat({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??Xat;let l=lve(e,t);if(s)return xk(l,n,r,o,a);let c=i??0;if(c&2){let{static:u=!1,...h}=l;if(u)return xk(h,n,r,o,a)}if(c&1){let{unmount:u=!0,...h}=l;return Ad(u?0:1,{0(){return null},1(){return xk({...h,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return xk(l,n,r,o,a)}function xk(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=Sj(t,["unmount","static"]),c=t.ref!==void 0?{[a]:t.ref}:{},u=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(e){let f=!1,p=[];for(let[m,g]of Object.entries(e))typeof g=="boolean"&&(f=!0),g===!0&&p.push(m.replace(/([A-Z])/g,y=>`-${y.toLowerCase()}`));if(f){h["data-headlessui-state"]=p.join(" ");for(let m of p)h[`data-${m}`]=""}}if(c4(s)&&(Object.keys(iy(l)).length>0||Object.keys(iy(h)).length>0))if(!x.isValidElement(u)||Array.isArray(u)&&u.length>1||tlt(u)){if(Object.keys(iy(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(iy(l)).concat(Object.keys(iy(h))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=u.props,p=f==null?void 0:f.className,m=typeof p=="function"?(...w)=>qL(p(...w),l.className):qL(p,l.className),g=m?{className:m}:{},y=lve(u.props,iy(Sj(l,["ref"])));for(let w in h)w in y&&delete h[w];return x.cloneElement(u,Object.assign({},y,h,c,{ref:i(elt(u),c.ref)},g))}return x.createElement(s,Object.assign({},Sj(l,["ref"]),!c4(s)&&c,!c4(s)&&h),u)}function Jat(){let t=x.useRef([]),e=x.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function Xat(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function lve(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function cve(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let s=n[r];for(let o of s)o==null||o(...i)}});return e}function bi(t){var e;return Object.assign(x.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function iy(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Sj(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function elt(t){return Ae.version.split(".")[0]>="19"?t.props.ref:t.ref}function c4(t){return t===x.Fragment||t===Symbol.for("react.fragment")}function tlt(t){return c4(t.type)}let nlt="span";var u7=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(u7||{});function rlt(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Yi()({ourProps:s,theirProps:i,slot:{},defaultTag:nlt,name:"Hidden"})}let GL=bi(rlt),ilt=x.createContext(void 0);function slt(){return x.useContext(ilt)}function uve(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function kp(t){return uve(t)&&"tagName"in t}function ec(t){return kp(t)&&"accessKey"in t}function Ih(t){return kp(t)&&"tabIndex"in t}function olt(t){return kp(t)&&"style"in t}function alt(t){return ec(t)&&t.nodeName==="IFRAME"}function dve(t){return ec(t)&&t.nodeName==="INPUT"}function qte(t){return ec(t)&&t.nodeName==="LABEL"}function llt(t){return ec(t)&&t.nodeName==="FIELDSET"}function hve(t){return ec(t)&&t.nodeName==="LEGEND"}function clt(t){return kp(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function Gte(t){let e=t.parentElement,n=null;for(;e&&!llt(e);)hve(e)&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&ult(n)?!1:r}function ult(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(hve(e))return!1;e=e.previousElementSibling}return!0}let fve=Symbol();function dlt(t,e=!0){return Object.assign(t,{[fve]:e})}function ba(...t){let e=x.useRef(t);x.useEffect(()=>{e.current=t},[t]);let n=Wt(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[fve]))?void 0:n}let xq=x.createContext(null);xq.displayName="DescriptionContext";function pve(){let t=x.useContext(xq);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,pve),e}return t}function mve(){let[t,e]=x.useState([]);return[t.length>0?t.join(" "):void 0,x.useMemo(()=>function(n){let r=Wt(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=x.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Ae.createElement(xq.Provider,{value:i},n.children)},[e])]}let hlt="p";function flt(t,e){let n=x.useId(),r=ave(),{id:i=`headlessui-description-${n}`,...s}=t,o=pve(),a=ba(e);zr(()=>o.register(i),[i,o.register]);let l=uf({...o.slot,disabled:r||!1}),c={ref:a,...o.props,id:i};return Yi()({ourProps:c,theirProps:s,slot:l,defaultTag:hlt,name:o.name||"Description"})}let plt=bi(flt),mlt=Object.assign(plt,{});var ms=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(ms||{});let y$=x.createContext(null);y$.displayName="LabelContext";function Eq(){let t=x.useContext(y$);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Eq),e}return t}function glt(t){var e,n,r;let i=(n=(e=x.useContext(y$))==null?void 0:e.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[i,...t].filter(Boolean).join(" "):i}function gve({inherit:t=!1}={}){let e=glt(),[n,r]=x.useState([]),i=t?[e,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,x.useMemo(()=>function(s){let o=Wt(l=>(r(c=>[...c,l]),()=>r(c=>{let u=c.slice(),h=u.indexOf(l);return h!==-1&&u.splice(h,1),u}))),a=x.useMemo(()=>({register:o,slot:s.slot,name:s.name,props:s.props,value:s.value}),[o,s.slot,s.name,s.props,s.value]);return Ae.createElement(y$.Provider,{value:a},s.children)},[r])]}let ylt="label";function wlt(t,e){var n;let r=x.useId(),i=Eq(),s=slt(),o=ave(),{id:a=`headlessui-label-${r}`,htmlFor:l=s??((n=i.props)==null?void 0:n.htmlFor),passive:c=!1,...u}=t,h=ba(e);zr(()=>i.register(a),[a,i.register]);let f=Wt(g=>{let y=g.currentTarget;if(!(g.target!==g.currentTarget&&clt(g.target))&&(qte(y)&&g.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(g),qte(y))){let w=document.getElementById(y.htmlFor);if(w){let v=w.getAttribute("disabled");if(v==="true"||v==="")return;let b=w.getAttribute("aria-disabled");if(b==="true"||b==="")return;(dve(w)&&(w.type==="file"||w.type==="radio"||w.type==="checkbox")||w.role==="radio"||w.role==="checkbox"||w.role==="switch")&&w.click(),w.focus({preventScroll:!0})}}}),p=uf({...i.slot,disabled:o||!1}),m={ref:h,...i.props,id:a,htmlFor:l,onClick:f};return c&&("onClick"in m&&(delete m.htmlFor,delete m.onClick),"onClick"in u&&delete u.onClick),Yi()({ourProps:m,theirProps:u,slot:p,defaultTag:l?ylt:"div",name:i.name||"Label"})}let blt=bi(wlt);Object.assign(blt,{});let vlt=x.createContext(()=>{});function xlt({value:t,children:e}){return Ae.createElement(vlt.Provider,{value:t},e)}function hb(t,e,n){let r=n.initialDeps??[],i;function s(){var o,a,l,c;let u;n.key&&((o=n.debug)!=null&&o.call(n))&&(u=Date.now());const h=t();if(!(h.length!==r.length||h.some((m,g)=>r[g]!==m)))return i;r=h;let p;if(n.key&&((a=n.debug)!=null&&a.call(n))&&(p=Date.now()),i=e(...h),n.key&&((l=n.debug)!=null&&l.call(n))){const m=Math.round((Date.now()-u)*100)/100,g=Math.round((Date.now()-p)*100)/100,y=g/16,w=(v,b)=>{for(v=String(v);v.length<b;)v=" "+v;return v};console.info(`%c ${w(g,5)} /${w(m,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*y,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(c=n==null?void 0:n.onChange)==null||c.call(n,i),i}return s.updateDeps=o=>{r=o},s}function Kte(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const Elt=(t,e)=>Math.abs(t-e)<1.01,Alt=(t,e,n)=>{let r;return function(...i){t.clearTimeout(r),r=t.setTimeout(()=>e.apply(this,i),n)}},Yte=t=>{const{offsetWidth:e,offsetHeight:n}=t;return{width:e,height:n}},Clt=t=>t,klt=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),r=[];for(let i=e;i<=n;i++)r.push(i);return r},Slt=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;const i=o=>{const{width:a,height:l}=o;e({width:Math.round(a),height:Math.round(l)})};if(i(Yte(n)),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(o=>{const a=()=>{const l=o[0];if(l!=null&&l.borderBoxSize){const c=l.borderBoxSize[0];if(c){i({width:c.inlineSize,height:c.blockSize});return}}i(Yte(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},Qte={passive:!0},Zte=typeof window>"u"?!0:"onscrollend"in window,_lt=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;let i=0;const s=t.options.useScrollendEvent&&Zte?()=>{}:Alt(r,()=>{e(i,!1)},t.options.isScrollingResetDelay),o=u=>()=>{const{horizontal:h,isRtl:f}=t.options;i=h?n.scrollLeft*(f&&-1||1):n.scrollTop,s(),e(i,u)},a=o(!0),l=o(!1);l(),n.addEventListener("scroll",a,Qte);const c=t.options.useScrollendEvent&&Zte;return c&&n.addEventListener("scrollend",l,Qte),()=>{n.removeEventListener("scroll",a),c&&n.removeEventListener("scrollend",l)}},Ilt=(t,e,n)=>{if(e!=null&&e.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},Tlt=(t,{adjustments:e=0,behavior:n},r)=>{var i,s;const o=t+e;(s=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class $lt{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{const o=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var s;return(s=r())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=r())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Clt,rangeExtractor:klt,onChange:()=>{},measureElement:Ilt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=hb(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,s=new Map;for(let o=r-1;o>=0;o--){const a=n[o];if(i.has(a.lane))continue;const l=s.get(a.lane);if(l==null||a.end>l.end?s.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((o,a)=>o.end===a.end?o.index-a.index:o.end-a.end)[0]:void 0},this.getMeasurementOptions=hb(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,s,o)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:o}),{key:!1}),this.getMeasurements=hb(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:o},a)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(u=>{this.itemSizeCache.set(u.key,u.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,l);for(let u=l;u<n;u++){const h=s(u),f=this.options.lanes===1?c[u-1]:this.getFurthestMeasurement(c,u),p=f?f.end+this.options.gap:r+i,m=a.get(h),g=typeof m=="number"?m:this.options.estimateSize(u),y=p+g,w=f?f.lane:u%this.options.lanes;c[u]={index:u,start:p,size:g,end:y,key:h,lane:w}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=hb(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,i,s)=>this.range=n.length>0&&r>0?Nlt({measurements:n,outerSize:r,scrollOffset:i,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=hb(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,s,o)=>s===null||o===null?[]:n({startIndex:s,endIndex:o,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),s=this.measurementsCache[i];if(!s)return;const o=s.key,a=this.elementsCache.get(o);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,o=r-s;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,o,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=hb(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let s=0,o=n.length;s<o;s++){const a=n[s],l=r[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return Kte(r[yve(0,r.length-1,i=>Kte(r[i]).start,n)])},this.getOffsetForAlignment=(n,r,i=0)=>{const s=this.getSize(),o=this.getScrollOffset();r==="auto"&&(r=n>=o+s?"end":"start"),r==="center"?n+=(i-s)/2:r==="end"&&(n-=s);const a=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(a,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const s=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(i.end>=o+s-this.options.scrollPaddingEnd)r="end";else if(i.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];const a=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let s=0;const o=10,a=c=>{if(!this.targetWindow)return;const u=this.getOffsetForIndex(n,c);if(!u){console.warn("Failed to get offset for index:",n);return}const[h,f]=u;this._scrollToOffset(h,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const p=this.getScrollOffset(),m=this.getOffsetForIndex(n,f);if(!m){console.warn("Failed to get offset for index:",n);return}Elt(m[0],p)||l(f)})},l=c=>{this.targetWindow&&(s++,s<o?this.targetWindow.requestAnimationFrame(()=>a(c)):console.warn(`Failed to scroll to index ${n} after ${o} attempts.`))};a(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((n=r[r.length-1])==null?void 0:n.end)??0;else{const s=Array(this.options.lanes).fill(null);let o=r.length-1;for(;o>=0&&s.some(a=>a===null);){const a=r[o];s[a.lane]===null&&(s[a.lane]=a.end),o--}i=Math.max(...s.filter(a=>a!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const yve=(t,e,n,r)=>{for(;t<=e;){const i=(t+e)/2|0,s=n(i);if(s<r)t=i+1;else if(s>r)e=i-1;else return i}return t>0?t-1:0};function Nlt({measurements:t,outerSize:e,scrollOffset:n,lanes:r}){const i=t.length-1,s=l=>t[l].start;if(t.length<=r)return{startIndex:0,endIndex:i};let o=yve(0,i,s,n),a=o;if(r===1)for(;a<i&&t[a].end<n+e;)a++;else if(r>1){const l=Array(r).fill(0);for(;a<i&&l.some(u=>u<n+e);){const u=t[a];l[u.lane]=u.end,a++}const c=Array(r).fill(n+e);for(;o>=0&&c.some(u=>u>=n);){const u=t[o];c[u.lane]=u.start,o--}o=Math.max(0,o-o%r),a=Math.min(i,a+(r-1-a%r))}return{startIndex:o,endIndex:a}}const Jte=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Plt(t){const e=x.useReducer(()=>({}),{})[1],n={...t,onChange:(i,s)=>{var o;s?Kl.flushSync(e):e(),(o=t.onChange)==null||o.call(t,i,s)}},[r]=x.useState(()=>new $lt(n));return r.setOptions(n),Jte(()=>r._didMount(),[]),Jte(()=>r._willUpdate()),r}function Rlt(t){return Plt({observeElementRect:Slt,observeElementOffset:_lt,scrollToFn:Tlt,...t})}function Xte(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function jlt(t,e,n=!1){let[r,i]=x.useState(()=>Xte(e));return zr(()=>{if(!e||!t)return;let s=cl();return s.requestAnimationFrame(function o(){s.requestAnimationFrame(o),i(a=>{let l=Xte(e);return l.width===a.width&&l.height===a.height?a:l})}),()=>{s.dispose()}},[e,t]),n?{width:`${r.width}px`,height:`${r.height}px`}:r}var wve=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(wve||{});function Olt(t){let e=x.useRef(null),n=Wt(i=>{e.current=i.pointerType,!Gte(i.currentTarget)&&i.pointerType==="mouse"&&i.button===wve.Left&&(i.preventDefault(),t(i))}),r=Wt(i=>{e.current!=="mouse"&&(Gte(i.currentTarget)||t(i))});return{onPointerDown:n,onClick:r}}let bve=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var Mlt=Object.defineProperty,Dlt=(t,e,n)=>e in t?Mlt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Blt=(t,e,n)=>(Dlt(t,e+"",n),n),vve=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},mc=(t,e,n)=>(vve(t,e,"read from private field"),n?n.call(t):e.get(t)),_j=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ene=(t,e,n,r)=>(vve(t,e,"write to private field"),e.set(t,n),n),Jd,S6,_6;let xve=class{constructor(e){_j(this,Jd,{}),_j(this,S6,new bve(()=>new Set)),_j(this,_6,new Set),Blt(this,"disposables",cl()),ene(this,Jd,e),zh.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return mc(this,Jd)}subscribe(e,n){if(zh.isServer)return()=>{};let r={selector:e,callback:n,current:e(mc(this,Jd))};return mc(this,_6).add(r),this.disposables.add(()=>{mc(this,_6).delete(r)})}on(e,n){return zh.isServer?()=>{}:(mc(this,S6).get(e).add(n),this.disposables.add(()=>{mc(this,S6).get(e).delete(n)}))}send(e){let n=this.reduce(mc(this,Jd),e);if(n!==mc(this,Jd)){ene(this,Jd,n);for(let r of mc(this,_6)){let i=r.selector(mc(this,Jd));Eve(r.current,i)||(r.current=i,r.callback(i))}for(let r of mc(this,S6).get(e.type))r(mc(this,Jd),e)}}};Jd=new WeakMap,S6=new WeakMap,_6=new WeakMap;function Eve(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:Ij(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:Ij(t.entries(),e.entries()):tne(t)&&tne(e)?Ij(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function Ij(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function tne(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function nne(t){let[e,n]=t(),r=cl();return(...i)=>{e(...i),r.dispose(),r.microTask(n)}}var Llt=Object.defineProperty,Flt=(t,e,n)=>e in t?Llt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rne=(t,e,n)=>(Flt(t,typeof e!="symbol"?e+"":e,n),n),Ave=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(Ave||{});let Ult={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(n),r=s,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},zlt=class Cve extends xve{constructor(){super(...arguments),rne(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),rne(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new Cve({stack:[]})}reduce(e,n){return Ad(n.type,Ult,e,n)}};const w$=new bve(()=>zlt.new());var kve={exports:{}},Sve={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GA=x;function Wlt(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hlt=typeof Object.is=="function"?Object.is:Wlt,Vlt=GA.useSyncExternalStore,qlt=GA.useRef,Glt=GA.useEffect,Klt=GA.useMemo,Ylt=GA.useDebugValue;Sve.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=qlt(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Klt(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return h=m}return h=p}if(m=h,Hlt(u,p))return m;var g=r(p);return i!==void 0&&i(m,g)?(u=p,m):(u=p,h=g)}var c=!1,u,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=Vlt(t,s[0],s[1]);return Glt(function(){o.hasValue=!0,o.value=a},[a]),Ylt(a),a};kve.exports=Sve;var Qlt=kve.exports;function zc(t,e,n=Eve){return Qlt.useSyncExternalStoreWithSelector(Wt(r=>t.subscribe(Zlt,r)),Wt(()=>t.state),Wt(()=>t.state),Wt(e),n)}function Zlt(t){return t}function KA(t,e){let n=x.useId(),r=w$.get(e),[i,s]=zc(r,x.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return zr(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?s?i:!0:!1}let KL=new Map,u4=new Map;function ine(t){var e;let n=(e=u4.get(t))!=null?e:0;return u4.set(t,n+1),n!==0?()=>sne(t):(KL.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>sne(t))}function sne(t){var e;let n=(e=u4.get(t))!=null?e:1;if(n===1?u4.delete(t):u4.set(t,n-1),n!==1)return;let r=KL.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,KL.delete(t))}function _ve(t,{allowed:e,disallowed:n}={}){let r=KA(t,"inert-others");zr(()=>{var i,s;if(!r)return;let o=cl();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&o.add(ine(l));let a=(s=e==null?void 0:e())!=null?s:[];for(let l of a){if(!l)continue;let c=Ow(l);if(!c)continue;let u=l.parentElement;for(;u&&u!==c.body;){for(let h of u.children)a.some(f=>h.contains(f))||o.add(ine(h));u=u.parentElement}}return o.dispose},[r,e,n])}function Ive(t,e,n){let r=Dw(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});x.useEffect(()=>{if(!t)return;let i=e===null?null:ec(e)?e:e.current;if(!i)return;let s=cl();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,r,t])}let d7=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),Jlt=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ed=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(ed||{}),YL=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(YL||{}),Xlt=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(Xlt||{});function Tve(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(d7)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function ect(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Jlt)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Aq=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Aq||{});function Cq(t,e=0){var n;return t===((n=Ow(t))==null?void 0:n.body)?!1:Ad(e,{0(){return t.matches(d7)},1(){let r=t;for(;r!==null;){if(r.matches(d7))return!0;r=r.parentElement}return!1}})}function $ve(t){cl().nextFrame(()=>{let e=vq(t);e&&Ih(e)&&!Cq(e,0)&&Wh(t)})}var tct=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(tct||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Wh(t){t==null||t.focus({preventScroll:!0})}let nct=["textarea","input"].join(",");function rct(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,nct))!=null?n:!1}function Nve(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ict(t,e,n=t===null?document.body:c7(t)){return n2(Tve(n),e,{relativeTo:t})}function n2(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?c7(t[0]):document:c7(t),o=Array.isArray(t)?n?Nve(t):t:e&64?ect(t):Tve(t);i.length>0&&o.length>1&&(o=o.filter(p=>!i.some(m=>m!=null&&"current"in m?(m==null?void 0:m.current)===p:m===p))),r=r??(s==null?void 0:s.activeElement);let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},u=0,h=o.length,f;do{if(u>=h||u+h<=0)return 0;let p=l+u;if(e&16)p=(p+h)%h;else{if(p<0)return 3;if(p>=h)return 1}f=o[p],f==null||f.focus(c),u+=a}while(f!==vq(f));return e&6&&rct(f)&&f.select(),2}function Pve(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function sct(){return/Android/gi.test(window.navigator.userAgent)}function one(){return Pve()||sct()}function Av(t,e,n,r){let i=Dw(n);x.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function Rve(t,e,n,r){let i=Dw(n);x.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const ane=30;function jve(t,e,n){let r=Dw(n),i=x.useCallback(function(a,l){if(a.defaultPrevented)return;let c=l(a);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function h(f){return typeof f=="function"?h(f()):Array.isArray(f)||f instanceof Set?f:[f]}(e);for(let h of u)if(h!==null&&(h.contains(c)||a.composed&&a.composedPath().includes(h)))return;return!Cq(c,Aq.Loose)&&c.tabIndex!==-1&&a.preventDefault(),r.current(a,c)},[r,e]),s=x.useRef(null);Av(t,"pointerdown",a=>{var l,c;one()||(s.current=((c=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:c[0])||a.target)},!0),Av(t,"pointerup",a=>{if(one()||!s.current)return;let l=s.current;return s.current=null,i(a,()=>l)},!0);let o=x.useRef({x:0,y:0});Av(t,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),Av(t,"touchend",a=>{let l={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=ane||Math.abs(l.y-o.current.y)>=ane))return i(a,()=>Ih(a.target)?a.target:null)},!0),Rve(t,"blur",a=>i(a,()=>alt(window.document.activeElement)?window.document.activeElement:null),!0)}function Z8(...t){return x.useMemo(()=>Ow(...t),[...t])}var oct=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))(oct||{});const Ek={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},act=200,lne=5;function lct(t,{trigger:e,action:n,close:r,select:i}){let s=x.useRef(null),o=x.useRef(null),a=x.useRef(null);Av(t&&e!==null,"pointerdown",l=>{uve(l==null?void 0:l.target)&&e!=null&&e.contains(l.target)&&(o.current=l.x,a.current=l.y,s.current=l.timeStamp)}),Av(t&&e!==null,"pointerup",l=>{var c,u;let h=s.current;if(h===null||(s.current=null,!Ih(l.target))||Math.abs(l.x-((c=o.current)!=null?c:l.x))<lne&&Math.abs(l.y-((u=a.current)!=null?u:l.y))<lne)return;let f=n(l);switch(f.kind){case 0:return;case 1:{l.timeStamp-h>act&&(i(f.target),r());break}case 2:{r();break}}},{capture:!0})}function Ove(t,e,n,r){let i=Dw(n);x.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function cct(t,e){return x.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function uct(t){return x.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function dct(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function hct(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function fct(){return Pve()?{before({doc:t,d:e,meta:n}){function r(i){for(let s of n().containers)for(let o of s())if(o.contains(i))return!0;return!1}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=cl();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(Ih(a.target))try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),u=t.querySelector(c);Ih(u)&&!r(u)&&(o=u)}catch{}},!0),e.group(a=>{e.addEventListener(t,"touchstart",l=>{if(a.dispose(),Ih(l.target)&&olt(l.target))if(r(l.target)){let c=l.target;for(;c.parentElement&&r(c.parentElement);)c=c.parentElement;a.style(c,"overscrollBehavior","contain")}else a.style(l.target,"touchAction","none")})}),e.addEventListener(t,"touchmove",a=>{if(Ih(a.target)){if(dve(a.target))return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function pct(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function cne(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let jy=dct(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:cl(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(e),r.computedMeta=cne(r.meta),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e),n.computedMeta=cne(n.meta)),this},SCROLL_PREVENT(t){let e={doc:t.doc,d:t.d,meta(){return t.computedMeta}},n=[fct(),hct(),pct()];n.forEach(({before:r})=>r==null?void 0:r(e)),n.forEach(({after:r})=>r==null?void 0:r(e))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});jy.subscribe(()=>{let t=jy.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&jy.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&jy.dispatch("TEARDOWN",n)}});function mct(t,e,n=()=>({containers:[]})){let r=uct(jy),i=e?r.get(e):void 0,s=i?i.count>0:!1;return zr(()=>{if(!(!e||!t))return jy.dispatch("PUSH",e,n),()=>jy.dispatch("POP",e,n)},[t,e]),s}function Mve(t,e,n=()=>[document.body]){let r=KA(t,"scroll-lock");mct(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function une(t){return[t.screenX,t.screenY]}function gct(){let t=x.useRef([-1,-1]);return{wasMoved(e){let n=une(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=une(e)}}}function yct(t=0){let[e,n]=x.useState(t),r=x.useCallback(l=>n(l),[]),i=x.useCallback(l=>n(c=>c|l),[]),s=x.useCallback(l=>(e&l)===l,[e]),o=x.useCallback(l=>n(c=>c&~l),[]),a=x.useCallback(l=>n(c=>c^l),[]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var wct={},dne,hne;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((dne=process==null?void 0:wct)==null?void 0:dne.NODE_ENV)==="test"&&typeof((hne=Element==null?void 0:Element.prototype)==null?void 0:hne.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var bct=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(bct||{});function Dve(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function Bve(t,e,n,r){let[i,s]=x.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=yct(t&&i?3:0),c=x.useRef(!1),u=x.useRef(!1),h=Mw();return zr(()=>{var f;if(t){if(n&&s(!0),!e){n&&a(3);return}return(f=r==null?void 0:r.start)==null||f.call(r,n),vct(e,{inFlight:c,prepare(){u.current?u.current=!1:u.current=c.current,c.current=!0,!u.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){u.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var p;u.current&&Act(e)||(c.current=!1,l(7),n||s(!1),(p=r==null?void 0:r.end)==null||p.call(r,n))}})}},[t,n,e,h]),t?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function vct(t,{prepare:e,run:n,done:r,inFlight:i}){let s=cl();return Ect(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(xct(t,r))})}),s.dispose}function xct(t,e){var n,r;let i=cl();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(e(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||e()}),i.dispose)}function Ect(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function Act(t){var e,n;return((n=(e=t.getAnimations)==null?void 0:e.call(t))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function Cct(t,{container:e,accept:n,walk:r}){let i=x.useRef(n),s=x.useRef(r);x.useEffect(()=>{i.current=n,s.current=r},[n,r]),zr(()=>{if(!e||!t)return;let o=Ow(e);if(!o)return;let a=i.current,l=s.current,c=Object.assign(h=>a(h),{acceptNode:a}),u=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,c,!1);for(;u.nextNode();)l(u.currentNode)},[e,t,i,s])}function kq(t,e){let n=x.useRef([]),r=Wt(t);x.useEffect(()=>{let i=[...n.current];for(let[s,o]of e.entries())if(n.current[s]!==o){let a=r(e,i);return n.current=e,a}},[r,...e])}function kct(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}const Lve={...N4},Sct=Lve.useInsertionEffect,_ct=Sct||(t=>t());function Fve(t){const e=x.useRef(()=>{});return _ct(()=>{e.current=t}),x.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var QL=typeof document<"u"?x.useLayoutEffect:x.useEffect;let fne=!1,Ict=0;const pne=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Ict++;function Tct(){const[t,e]=x.useState(()=>fne?pne():void 0);return QL(()=>{t==null&&e(pne())},[]),x.useEffect(()=>{fne=!0},[]),t}const $ct=Lve.useId,Nct=$ct||Tct;function Pct(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const Rct=x.createContext(null),jct=x.createContext(null),Oct=()=>{var t;return((t=x.useContext(Rct))==null?void 0:t.id)||null},Mct=()=>x.useContext(jct),Dct="data-floating-ui-focusable";function Bct(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=Nct(),s=x.useRef({}),[o]=x.useState(()=>Pct()),a=Oct()!=null,[l,c]=x.useState(r.reference),u=Fve((p,m,g)=>{s.current.openEvent=p?m:void 0,o.emit("openchange",{open:p,event:m,reason:g,nested:a}),n==null||n(p,m,g)}),h=x.useMemo(()=>({setPositionReference:c}),[]),f=x.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return x.useMemo(()=>({dataRef:s,open:e,onOpenChange:u,elements:f,events:o,floatingId:i,refs:h}),[e,u,f,o,i,h])}function Lct(t){t===void 0&&(t={});const{nodeId:e}=t,n=Bct({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=x.useState(null),[a,l]=x.useState(null),u=(i==null?void 0:i.domReference)||s,h=x.useRef(null),f=Mct();QL(()=>{u&&(h.current=u)},[u]);const p=lfe({...t,elements:{...i,...a&&{reference:a}}}),m=x.useCallback(b=>{const A=ta(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;l(A),p.refs.setReference(A)},[p.refs]),g=x.useCallback(b=>{(ta(b)||b===null)&&(h.current=b,o(b)),(ta(p.refs.reference.current)||p.refs.reference.current===null||b!==null&&!ta(b))&&p.refs.setReference(b)},[p.refs]),y=x.useMemo(()=>({...p.refs,setReference:g,setPositionReference:m,domReference:h}),[p.refs,g,m]),w=x.useMemo(()=>({...p.elements,domReference:u}),[p.elements,u]),v=x.useMemo(()=>({...p,...r,refs:y,elements:w,nodeId:e}),[p,y,w,e,r]);return QL(()=>{r.dataRef.current.floatingContext=v;const b=f==null?void 0:f.nodesRef.current.find(A=>A.id===e);b&&(b.context=v)}),x.useMemo(()=>({...p,context:v,refs:y,elements:w}),[p,y,w,v])}const mne="active",gne="selected";function Tj(t,e,n){const r=new Map,i=n==="item";let s=t;if(i&&t){const{[mne]:o,[gne]:a,...l}=t;s=l}return{...n==="floating"&&{tabIndex:-1,[Dct]:""},...s,...e.map(o=>{const a=o?o[n]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[c,u]=l;if(!(i&&[mne,gne].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof u=="function"){var h;(h=r.get(c))==null||h.push(u),o[c]=function(){for(var f,p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];return(f=r.get(c))==null?void 0:f.map(y=>y(...m)).find(y=>y!==void 0)}}}else o[c]=u}),o),{})}}function Fct(t){t===void 0&&(t=[]);const e=t.map(a=>a==null?void 0:a.reference),n=t.map(a=>a==null?void 0:a.floating),r=t.map(a=>a==null?void 0:a.item),i=x.useCallback(a=>Tj(a,t,"reference"),e),s=x.useCallback(a=>Tj(a,t,"floating"),n),o=x.useCallback(a=>Tj(a,t,"item"),r);return x.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function yne(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const Uct=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:s=0,index:o=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:c,...u}=Yh(t,e),{rects:h,elements:{floating:f}}=e,p=n.current[o],m=(c==null?void 0:c.current)||f,g=f.clientTop||m.clientTop,y=f.clientTop!==0,w=m.clientTop!==0,v=f===m;if(!p)return{};const b={...e,...await nH(-p.offsetTop-f.clientTop-h.reference.height/2-p.offsetHeight/2-s).fn(e)},A=await XP(yne(b,m.scrollHeight+g+f.clientTop),u),E=await XP(b,{...u,elementContext:"reference"}),$=So(0,A.top),N=b.y+$,F=(m.scrollHeight>m.clientHeight?W=>W:Y4)(So(0,m.scrollHeight+(y&&v||w?g*2:0)-$-So(0,A.bottom)));if(m.style.maxHeight=F+"px",m.scrollTop=$,i){const W=m.offsetHeight<p.offsetHeight*Op(a,n.current.length)-1||E.top>=-l||E.bottom>=-l;Kl.flushSync(()=>i(W))}return r&&(r.current=await XP(yne({...b,y:N},m.offsetHeight+g+f.clientTop),u)),{y:N}}});function zct(t,e){const{open:n,elements:r}=t,{enabled:i=!0,overflowRef:s,scrollRef:o,onChange:a}=e,l=Fve(a),c=x.useRef(!1),u=x.useRef(null),h=x.useRef(null);x.useEffect(()=>{if(!i)return;function p(g){if(g.ctrlKey||!m||s.current==null)return;const y=g.deltaY,w=s.current.top>=-.5,v=s.current.bottom>=-.5,b=m.scrollHeight-m.clientHeight,A=y<0?-1:1,E=y<0?"max":"min";m.scrollHeight<=m.clientHeight||(!w&&y>0||!v&&y<0?(g.preventDefault(),Kl.flushSync(()=>{l($=>$+Math[E](y,b*A))})):/firefox/i.test(kct())&&(m.scrollTop+=y))}const m=(o==null?void 0:o.current)||r.floating;if(n&&m)return m.addEventListener("wheel",p),requestAnimationFrame(()=>{u.current=m.scrollTop,s.current!=null&&(h.current={...s.current})}),()=>{u.current=null,h.current=null,m.removeEventListener("wheel",p)}},[i,n,r.floating,s,o,l]);const f=x.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const p=(o==null?void 0:o.current)||r.floating;if(!(!s.current||!p||!c.current)){if(u.current!==null){const m=p.scrollTop-u.current;(s.current.bottom<-.5&&m<-1||s.current.top<-.5&&m>1)&&Kl.flushSync(()=>l(g=>g+m))}requestAnimationFrame(()=>{u.current=p.scrollTop})}}}),[r.floating,l,s,o]);return x.useMemo(()=>i?{floating:f}:{},[i,f])}let q3=x.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});q3.displayName="FloatingContext";let Sq=x.createContext(null);Sq.displayName="PlacementContext";function Wct(t){return x.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function Hct(){return x.useContext(q3).setReference}function Vct(){return x.useContext(q3).getReferenceProps}function qct(){let{getFloatingProps:t,slot:e}=x.useContext(q3);return x.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function Gct(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=x.useContext(Sq),n=x.useMemo(()=>t,[JSON.stringify(t,(i,s)=>{var o;return(o=s==null?void 0:s.outerHTML)!=null?o:s})]);zr(()=>{e==null||e(n??null)},[e,n]);let r=x.useContext(q3);return x.useMemo(()=>[r.setFloating,t?r.styles:{}],[r.setFloating,t,r.styles])}let wne=4;function Kct({children:t,enabled:e=!0}){let[n,r]=x.useState(null),[i,s]=x.useState(0),o=x.useRef(null),[a,l]=x.useState(null);Yct(a);let c=e&&n!==null&&a!==null,{to:u="bottom",gap:h=0,offset:f=0,padding:p=0,inner:m}=Qct(n,a),[g,y="center"]=u.split(" ");zr(()=>{c&&s(0)},[c]);let{refs:w,floatingStyles:v,context:b}=Lct({open:c,placement:g==="selection"?y==="center"?"bottom":`bottom-${y}`:y==="center"?`${g}`:`${g}-${y}`,strategy:"absolute",transform:!1,middleware:[nH({mainAxis:g==="selection"?0:h,crossAxis:f}),cfe({padding:p}),g!=="selection"&&ufe({padding:p}),g==="selection"&&m?Uct({...m,padding:p,overflowRef:o,offset:i,minItemsVisible:wne,referenceOverflowThreshold:p,onFallbackChange(W){var V,B;if(!W)return;let k=b.elements.floating;if(!k)return;let C=parseFloat(getComputedStyle(k).scrollPaddingBottom)||0,S=Math.min(wne,k.childElementCount),T=0,_=0;for(let P of(B=(V=b.elements.floating)==null?void 0:V.childNodes)!=null?B:[])if(ec(P)){let L=P.offsetTop,O=L+P.clientHeight+C,I=k.scrollTop,D=I+k.clientHeight;if(L>=I&&O<=D)S--;else{_=Math.max(0,Math.min(O,D)-Math.max(L,I)),T=P.clientHeight;break}}S>=1&&s(P=>{let L=T*S-_+C;return P>=L?P:L})}}):null,dfe({padding:p,apply({availableWidth:W,availableHeight:V,elements:B}){Object.assign(B.floating.style,{overflow:"auto",maxWidth:`${W}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${V}px)`})}})].filter(Boolean),whileElementsMounted:ofe}),[A=g,E=y]=b.placement.split("-");g==="selection"&&(A="selection");let $=x.useMemo(()=>({anchor:[A,E].filter(Boolean).join(" ")}),[A,E]),N=zct(b,{overflowRef:o,onChange:s}),{getReferenceProps:R,getFloatingProps:j}=Fct([N]),F=Wt(W=>{l(W),w.setFloating(W)});return x.createElement(Sq.Provider,{value:r},x.createElement(q3.Provider,{value:{setFloating:F,setReference:w.setReference,styles:v,getReferenceProps:R,getFloatingProps:j,slot:$}},t))}function Yct(t){zr(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(t.style.maxHeight=`${Math.ceil(r)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function Qct(t,e){var n,r,i;let s=$j((n=t==null?void 0:t.gap)!=null?n:"var(--anchor-gap, 0)",e),o=$j((r=t==null?void 0:t.offset)!=null?r:"var(--anchor-offset, 0)",e),a=$j((i=t==null?void 0:t.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:s,offset:o,padding:a}}function $j(t,e,n=void 0){let r=Mw(),i=Wt((l,c)=>{if(l==null)return[n,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!c)return[n,null];let u=bne(l,c);return[u,h=>{let f=Uve(l);{let p=f.map(m=>window.getComputedStyle(c).getPropertyValue(m));r.requestAnimationFrame(function m(){r.nextFrame(m);let g=!1;for(let[w,v]of f.entries()){let b=window.getComputedStyle(c).getPropertyValue(v);if(p[w]!==b){p[w]=b,g=!0;break}}if(!g)return;let y=bne(l,c);u!==y&&(h(y),u=y)})}return r.dispose}]}return[n,null]}),s=x.useMemo(()=>i(t,e)[0],[t,e]),[o=s,a]=x.useState();return zr(()=>{let[l,c]=i(t,e);if(a(l),!!c)return c(a)},[t,e]),o}function Uve(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let r=e[1].slice(0,n).trim(),i=e[1].slice(n+1).trim();return i?[r,...Uve(i)]:[r]}return[]}function bne(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),r}let b$=x.createContext(null);b$.displayName="OpenClosedContext";var na=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(na||{});function YA(){return x.useContext(b$)}function zve({value:t,children:e}){return Ae.createElement(b$.Provider,{value:t},e)}function Zct({children:t}){return Ae.createElement(b$.Provider,{value:null},t)}function Jct(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let cm=[];Jct(()=>{function t(e){if(!Ih(e.target)||e.target===document.body||cm[0]===e.target)return;let n=e.target;n=n.closest(d7),cm.unshift(n??e.target),cm=cm.filter(r=>r!=null&&r.isConnected),cm.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function Xct(t){throw new Error("Unexpected object: "+t)}var Wi=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Wi||{});function Ak(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let s=0;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 1:{i===-1&&(i=n.length);for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=i+1;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(e.resolveId(n[s],s,n)===t.id)return s;return r}case 5:return null;default:Xct(t)}}function _q(t){let e=Wt(t),n=x.useRef(!1);x.useEffect(()=>(n.current=!1,()=>{n.current=!0,g$(()=>{n.current&&e()})}),[e])}let Wve=x.createContext(!1);function eut(){return x.useContext(Wve)}function vne(t){return Ae.createElement(Wve.Provider,{value:t.force},t.children)}function tut(t){let e=eut(),n=x.useContext(Vve),[r,i]=x.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(zh.isServer)return null;let o=t==null?void 0:t.getElementById("headlessui-portal-root");if(o)return o;if(t===null)return null;let a=t.createElement("div");return a.setAttribute("id","headlessui-portal-root"),t.body.appendChild(a)});return x.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),x.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let Hve=x.Fragment,nut=bi(function(t,e){let{ownerDocument:n=null,...r}=t,i=x.useRef(null),s=ba(dlt(f=>{i.current=f}),e),o=Z8(i.current),a=n??o,l=tut(a),c=x.useContext(ZL),u=Mw(),h=Yi();return _q(()=>{var f;l&&l.childNodes.length<=0&&((f=l.parentElement)==null||f.removeChild(l))}),l?Kl.createPortal(Ae.createElement("div",{"data-headlessui-portal":"",ref:f=>{u.dispose(),c&&f&&u.add(c.register(f))}},h({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:Hve,name:"Portal"})),l):null});function rut(t,e){let n=ba(e),{enabled:r=!0,ownerDocument:i,...s}=t,o=Yi();return r?Ae.createElement(nut,{...s,ownerDocument:i,ref:n}):o({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:Hve,name:"Portal"})}let iut=x.Fragment,Vve=x.createContext(null);function sut(t,e){let{target:n,...r}=t,i={ref:ba(e)},s=Yi();return Ae.createElement(Vve.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:iut,name:"Popover.Group"}))}let ZL=x.createContext(null);function out(){let t=x.useContext(ZL),e=x.useRef([]),n=Wt(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=Wt(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),i=x.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,x.useMemo(()=>function({children:s}){return Ae.createElement(ZL.Provider,{value:i},s)},[i])]}let aut=bi(rut),qve=bi(sut),Gve=Object.assign(aut,{Group:qve});const Q9={Idle:{kind:"Idle"},Tracked:t=>({kind:"Tracked",position:t}),Moved:{kind:"Moved"}};function Kve(t){let e=t.getBoundingClientRect();return`${e.x},${e.y}`}function lut(t,e,n){let r=cl();if(e.kind==="Tracked"){let i=function(){s!==Kve(t)&&(r.dispose(),n())},{position:s}=e,o=new ResizeObserver(i);o.observe(t),r.add(()=>o.disconnect()),r.addEventListener(window,"scroll",i,{passive:!0}),r.addEventListener(window,"resize",i)}return()=>r.dispose()}function cut(t,e=typeof document<"u"?document.defaultView:null,n){let r=KA(t,"escape");Ove(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===ms.Escape&&n(i))})}function uut(){var t;let[e]=x.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=x.useState((t=e==null?void 0:e.matches)!=null?t:!1);return zr(()=>{if(!e)return;function i(s){r(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function dut({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=Wt(()=>{var i,s;let o=Ow(n),a=[];for(let l of t)l!==null&&(kp(l)?a.push(l):"current"in l&&kp(l.current)&&a.push(l.current));if(e!=null&&e.current)for(let l of e.current)a.push(l);for(let l of(i=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?i:[])l!==document.body&&l!==document.head&&kp(l)&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((s=n==null?void 0:n.getRootNode())==null?void 0:s.host))||a.some(c=>l.contains(c))||a.push(l));return a});return{resolveContainers:r,contains:Wt(i=>r().some(s=>s.contains(i)))}}let Yve=x.createContext(null);function xne({children:t,node:e}){let[n,r]=x.useState(null),i=Qve(e??n);return Ae.createElement(Yve.Provider,{value:i},t,i===null&&Ae.createElement(GL,{features:u7.Hidden,ref:s=>{var o,a;if(s){for(let l of(a=(o=Ow(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&kp(l)&&l!=null&&l.contains(s)){r(l);break}}}}))}function Qve(t=null){var e;return(e=x.useContext(Yve))!=null?e:t}function hut(){let t=typeof document>"u";return"useSyncExternalStore"in N4?(e=>e.useSyncExternalStore)(N4)(()=>()=>{},()=>!1,()=>!t):!1}function v$(){let t=hut(),[e,n]=x.useState(zh.isHandoffComplete);return e&&zh.isHandoffComplete===!1&&n(!1),x.useEffect(()=>{e!==!0&&n(!0)},[e]),x.useEffect(()=>zh.handoff(),[]),t?!1:e}function Iq(){let t=x.useRef(!1);return zr(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var I6=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(I6||{});function fut(){let t=x.useRef(0);return Rve(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function Zve(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)kp(n.current)&&e.add(n.current);return e}let put="div";var uy=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(uy||{});function mut(t,e){let n=x.useRef(null),r=ba(n,e),{initialFocus:i,initialFocusFallback:s,containers:o,features:a=15,...l}=t;v$()||(a=0);let c=Z8(n.current);but(a,{ownerDocument:c});let u=vut(a,{ownerDocument:c,container:n,initialFocus:i,initialFocusFallback:s});xut(a,{ownerDocument:c,container:n,containers:o,previousActiveElement:u});let h=fut(),f=Wt(v=>{if(!ec(n.current))return;let b=n.current;(A=>A())(()=>{Ad(h.current,{[I6.Forwards]:()=>{n2(b,ed.First,{skipElements:[v.relatedTarget,s]})},[I6.Backwards]:()=>{n2(b,ed.Last,{skipElements:[v.relatedTarget,s]})}})})}),p=KA(!!(a&2),"focus-trap#tab-lock"),m=Mw(),g=x.useRef(!1),y={ref:r,onKeyDown(v){v.key=="Tab"&&(g.current=!0,m.requestAnimationFrame(()=>{g.current=!1}))},onBlur(v){if(!(a&4))return;let b=Zve(o);ec(n.current)&&b.add(n.current);let A=v.relatedTarget;Ih(A)&&A.dataset.headlessuiFocusGuard!=="true"&&(Jve(b,A)||(g.current?n2(n.current,Ad(h.current,{[I6.Forwards]:()=>ed.Next,[I6.Backwards]:()=>ed.Previous})|ed.WrapAround,{relativeTo:v.target}):Ih(v.target)&&Wh(v.target)))}},w=Yi();return Ae.createElement(Ae.Fragment,null,p&&Ae.createElement(GL,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:u7.Focusable}),w({ourProps:y,theirProps:l,defaultTag:put,name:"FocusTrap"}),p&&Ae.createElement(GL,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:u7.Focusable}))}let gut=bi(mut),yut=Object.assign(gut,{features:uy});function wut(t=!0){let e=x.useRef(cm.slice());return kq(([n],[r])=>{r===!0&&n===!1&&g$(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=cm.slice())},[t,cm,e]),Wt(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function but(t,{ownerDocument:e}){let n=!!(t&8),r=wut(n);kq(()=>{n||ove(e==null?void 0:e.body)&&Wh(r())},[n]),_q(()=>{n&&Wh(r())})}function vut(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let s=x.useRef(null),o=KA(!!(t&1),"focus-trap#initial-focus"),a=Iq();return kq(()=>{if(t===0)return;if(!o){i!=null&&i.current&&Wh(i.current);return}let l=n.current;l&&g$(()=>{if(!a.current)return;let c=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===c){s.current=c;return}}else if(l.contains(c)){s.current=c;return}if(r!=null&&r.current)Wh(r.current);else{if(t&16){if(n2(l,ed.First|ed.AutoFocus)!==YL.Error)return}else if(n2(l,ed.First)!==YL.Error)return;if(i!=null&&i.current&&(Wh(i.current),(e==null?void 0:e.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e==null?void 0:e.activeElement})},[i,o,t]),s}function xut(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let s=Iq(),o=!!(t&4);Ove(e==null?void 0:e.defaultView,"focus",a=>{if(!o||!s.current)return;let l=Zve(r);ec(n.current)&&l.add(n.current);let c=i.current;if(!c)return;let u=a.target;ec(u)?Jve(l,u)?(i.current=u,Wh(u)):(a.preventDefault(),a.stopPropagation(),Wh(c)):Wh(i.current)},!0)}function Jve(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function Xve(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!c4((e=t.as)!=null?e:t2e)||Ae.Children.count(t.children)===1}let x$=x.createContext(null);x$.displayName="TransitionContext";var Eut=(t=>(t.Visible="visible",t.Hidden="hidden",t))(Eut||{});function Aut(){let t=x.useContext(x$);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function Cut(){let t=x.useContext(E$);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let E$=x.createContext(null);E$.displayName="NestingContext";function A$(t){return"children"in t?A$(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function e2e(t,e){let n=Dw(t),r=x.useRef([]),i=Iq(),s=Mw(),o=Wt((p,m=Fm.Hidden)=>{let g=r.current.findIndex(({el:y})=>y===p);g!==-1&&(Ad(m,{[Fm.Unmount](){r.current.splice(g,1)},[Fm.Hidden](){r.current[g].state="hidden"}}),s.microTask(()=>{var y;!A$(r)&&i.current&&((y=n.current)==null||y.call(n))}))}),a=Wt(p=>{let m=r.current.find(({el:g})=>g===p);return m?m.state!=="visible"&&(m.state="visible"):r.current.push({el:p,state:"visible"}),()=>o(p,Fm.Unmount)}),l=x.useRef([]),c=x.useRef(Promise.resolve()),u=x.useRef({enter:[],leave:[]}),h=Wt((p,m,g)=>{l.current.splice(0),e&&(e.chains.current[m]=e.chains.current[m].filter(([y])=>y!==p)),e==null||e.chains.current[m].push([p,new Promise(y=>{l.current.push(y)})]),e==null||e.chains.current[m].push([p,new Promise(y=>{Promise.all(u.current[m].map(([w,v])=>v)).then(()=>y())})]),m==="enter"?c.current=c.current.then(()=>e==null?void 0:e.wait.current).then(()=>g(m)):g(m)}),f=Wt((p,m,g)=>{Promise.all(u.current[m].splice(0).map(([y,w])=>w)).then(()=>{var y;(y=l.current.shift())==null||y()}).then(()=>g(m))});return x.useMemo(()=>({children:r,register:a,unregister:o,onStart:h,onStop:f,wait:c,chains:u}),[a,o,r,h,f,u,c])}let t2e=x.Fragment,n2e=qx.RenderStrategy;function kut(t,e){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l,enter:c,enterFrom:u,enterTo:h,entered:f,leave:p,leaveFrom:m,leaveTo:g,...y}=t,[w,v]=x.useState(null),b=x.useRef(null),A=Xve(t),E=ba(...A?[b,e,v]:e===null?[]:[e]),$=(n=y.unmount)==null||n?Fm.Unmount:Fm.Hidden,{show:N,appear:R,initial:j}=Aut(),[F,W]=x.useState(N?"visible":"hidden"),V=Cut(),{register:B,unregister:k}=V;zr(()=>B(b),[B,b]),zr(()=>{if($===Fm.Hidden&&b.current){if(N&&F!=="visible"){W("visible");return}return Ad(F,{hidden:()=>k(b),visible:()=>B(b)})}},[F,b,B,k,N,$]);let C=v$();zr(()=>{if(A&&C&&F==="visible"&&b.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[b,F,C,A]);let S=j&&!R,T=R&&N&&j,_=x.useRef(!1),P=e2e(()=>{_.current||(W("hidden"),k(b))},V),L=Wt(ee=>{_.current=!0;let J=ee?"enter":"leave";P.onStart(b,J,oe=>{oe==="enter"?s==null||s():oe==="leave"&&(a==null||a())})}),O=Wt(ee=>{let J=ee?"enter":"leave";_.current=!1,P.onStop(b,J,oe=>{oe==="enter"?o==null||o():oe==="leave"&&(l==null||l())}),J==="leave"&&!A$(P)&&(W("hidden"),k(b))});x.useEffect(()=>{A&&i||(L(N),O(N))},[N,A,i]);let I=!(!i||!A||!C||S),[,D]=Bve(I,w,N,{start:L,end:O}),Y=iy({ref:E,className:((r=qL(y.className,T&&c,T&&u,D.enter&&c,D.enter&&D.closed&&u,D.enter&&!D.closed&&h,D.leave&&p,D.leave&&!D.closed&&m,D.leave&&D.closed&&g,!D.transition&&N&&f))==null?void 0:r.trim())||void 0,...Dve(D)}),M=0;F==="visible"&&(M|=na.Open),F==="hidden"&&(M|=na.Closed),N&&F==="hidden"&&(M|=na.Opening),!N&&F==="visible"&&(M|=na.Closing);let Q=Yi();return Ae.createElement(E$.Provider,{value:P},Ae.createElement(zve,{value:M},Q({ourProps:Y,theirProps:y,defaultTag:t2e,features:n2e,visible:F==="visible",name:"Transition.Child"})))}function Sut(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,o=x.useRef(null),a=Xve(t),l=ba(...a?[o,e]:e===null?[]:[e]);v$();let c=YA();if(n===void 0&&c!==null&&(n=(c&na.Open)===na.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,h]=x.useState(n?"visible":"hidden"),f=e2e(()=>{n||h("hidden")}),[p,m]=x.useState(!0),g=x.useRef([n]);zr(()=>{p!==!1&&g.current[g.current.length-1]!==n&&(g.current.push(n),m(!1))},[g,n]);let y=x.useMemo(()=>({show:n,appear:r,initial:p}),[n,r,p]);zr(()=>{n?h("visible"):!A$(f)&&o.current!==null&&h("hidden")},[n,f]);let w={unmount:i},v=Wt(()=>{var E;p&&m(!1),(E=t.beforeEnter)==null||E.call(t)}),b=Wt(()=>{var E;p&&m(!1),(E=t.beforeLeave)==null||E.call(t)}),A=Yi();return Ae.createElement(E$.Provider,{value:f},Ae.createElement(x$.Provider,{value:y},A({ourProps:{...w,as:x.Fragment,children:Ae.createElement(r2e,{ref:l,...w,...s,beforeEnter:v,beforeLeave:b})},theirProps:{},defaultTag:x.Fragment,features:n2e,visible:u==="visible",name:"Transition"})))}function _ut(t,e){let n=x.useContext(x$)!==null,r=YA()!==null;return Ae.createElement(Ae.Fragment,null,!n&&r?Ae.createElement(JL,{ref:e,...t}):Ae.createElement(r2e,{ref:e,...t}))}let JL=bi(Sut),r2e=bi(kut),J8=bi(_ut),i2e=Object.assign(JL,{Child:J8,Root:JL});var Iut=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Iut||{}),Tut=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(Tut||{});let $ut={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},Tq=x.createContext(null);Tq.displayName="DialogContext";function C$(t){let e=x.useContext(Tq);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,C$),n}return e}function Nut(t,e){return Ad(e.type,$ut,t,e)}let Ene=bi(function(t,e){let n=x.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:c=!1,unmount:u=!1,...h}=t,f=x.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(f.current||(f.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=YA();i===void 0&&p!==null&&(i=(p&na.Open)===na.Open);let m=x.useRef(null),g=ba(m,e),y=Z8(m.current),w=i?0:1,[v,b]=x.useReducer(Nut,{titleId:null,descriptionId:null,panelRef:x.createRef()}),A=Wt(()=>s(!1)),E=Wt(D=>b({type:0,id:D})),$=v$()?w===0:!1,[N,R]=out(),j={get current(){var D;return(D=v.panelRef.current)!=null?D:m.current}},F=Qve(),{resolveContainers:W}=dut({mainTreeNode:F,portals:N,defaultContainers:[j]}),V=p!==null?(p&na.Closing)===na.Closing:!1;_ve(c||V?!1:$,{allowed:Wt(()=>{var D,Y;return[(Y=(D=m.current)==null?void 0:D.closest("[data-headlessui-portal]"))!=null?Y:null]}),disallowed:Wt(()=>{var D;return[(D=F==null?void 0:F.closest("body > *:not(#headlessui-portal-root)"))!=null?D:null]})});let B=w$.get(null);zr(()=>{if($)return B.actions.push(r),()=>B.actions.pop(r)},[B,r,$]);let k=zc(B,x.useCallback(D=>B.selectors.isTop(D,r),[B,r]));jve(k,W,D=>{D.preventDefault(),A()}),cut(k,y==null?void 0:y.defaultView,D=>{D.preventDefault(),D.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),A()}),Mve(c||V?!1:$,y,W),Ive($,m,A);let[C,S]=mve(),T=x.useMemo(()=>[{dialogState:w,close:A,setTitleId:E,unmount:u},v],[w,A,E,u,v]),_=uf({open:w===0}),P={ref:g,id:r,role:a,tabIndex:-1,"aria-modal":c?void 0:w===0?!0:void 0,"aria-labelledby":v.titleId,"aria-describedby":C,unmount:u},L=!uut(),O=uy.None;$&&!c&&(O|=uy.RestoreFocus,O|=uy.TabLock,l&&(O|=uy.AutoFocus),L&&(O|=uy.InitialFocus));let I=Yi();return Ae.createElement(Zct,null,Ae.createElement(vne,{force:!0},Ae.createElement(Gve,null,Ae.createElement(Tq.Provider,{value:T},Ae.createElement(qve,{target:m},Ae.createElement(vne,{force:!1},Ae.createElement(S,{slot:_},Ae.createElement(R,null,Ae.createElement(yut,{initialFocus:o,initialFocusFallback:m,containers:W,features:O},Ae.createElement(xlt,{value:A},I({ourProps:P,theirProps:h,slot:_,defaultTag:Put,features:Rut,visible:w===0,name:"Dialog"})))))))))))}),Put="div",Rut=qx.RenderStrategy|qx.Static;function jut(t,e){let{transition:n=!1,open:r,...i}=t,s=YA(),o=t.hasOwnProperty("open")||s!==null,a=t.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?Ae.createElement(xne,null,Ae.createElement(i2e,{show:r,transition:n,unmount:i.unmount},Ae.createElement(Ene,{ref:e,...i}))):Ae.createElement(xne,null,Ae.createElement(Ene,{ref:e,open:r,...i}))}let Out="div";function Mut(t,e){let n=x.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=t,[{dialogState:o,unmount:a},l]=C$("Dialog.Panel"),c=ba(e,l.panelRef),u=uf({open:o===0}),h=Wt(y=>{y.stopPropagation()}),f={ref:c,id:r,onClick:h},p=i?J8:x.Fragment,m=i?{unmount:a}:{},g=Yi();return Ae.createElement(p,{...m},g({ourProps:f,theirProps:s,slot:u,defaultTag:Out,name:"Dialog.Panel"}))}let Dut="div";function But(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:s}]=C$("Dialog.Backdrop"),o=uf({open:i===0}),a={ref:e,"aria-hidden":!0},l=n?J8:x.Fragment,c=n?{unmount:s}:{},u=Yi();return Ae.createElement(l,{...c},u({ourProps:a,theirProps:r,slot:o,defaultTag:Dut,name:"Dialog.Backdrop"}))}let Lut="h2";function Fut(t,e){let n=x.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:o}]=C$("Dialog.Title"),a=ba(e);x.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=uf({open:s===0}),c={ref:a,id:r};return Yi()({ourProps:c,theirProps:i,slot:l,defaultTag:Lut,name:"Dialog.Title"})}let Uut=bi(jut),s2e=bi(Mut);bi(But);let zut=bi(Fut),Wut=Object.assign(Uut,{Panel:s2e,Title:zut,Description:mlt}),Ane=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Cne(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!ec(i))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(n=i.innerText)!=null?n:"":r;return Ane.test(o)&&(o=o.replace(Ane,"")),o}function Hut(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():Cne(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return Cne(t).trim()}function Vut(t){let e=x.useRef(""),n=x.useRef("");return Wt(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let s=Hut(r).trim().toLowerCase();return e.current=i,n.current=s,s})}var qut=Object.defineProperty,Gut=(t,e,n)=>e in t?qut(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kne=(t,e,n)=>(Gut(t,typeof e!="symbol"?e+"":e,n),n),Ao=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Ao||{}),h7=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(h7||{}),wr=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItems=5]="RegisterItems",t[t.UnregisterItems=6]="UnregisterItems",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t[t.SortItems=9]="SortItems",t[t.MarkButtonAsMoved=10]="MarkButtonAsMoved",t))(wr||{});function Sne(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=Nve(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let Kut={1(t){if(t.menuState===1)return t;let e=t.buttonElement?Q9.Tracked(Kve(t.buttonElement)):t.buttonPositionState;return{...t,activeItemIndex:null,pendingFocus:{focus:Wi.Nothing},menuState:1,buttonPositionState:e}},0(t,e){return t.menuState===0?t:{...t,__demoMode:!1,pendingFocus:e.focus,menuState:0,buttonPositionState:Q9.Idle}},2:(t,e)=>{var n,r,i,s,o;if(t.menuState===1)return t;let a={...t,searchQuery:"",activationTrigger:(n=e.trigger)!=null?n:1,__demoMode:!1};if(e.focus===Wi.Nothing)return{...a,activeItemIndex:null};if(e.focus===Wi.Specific)return{...a,activeItemIndex:t.items.findIndex(u=>u.id===e.id)};if(e.focus===Wi.Previous){let u=t.activeItemIndex;if(u!==null){let h=t.items[u].dataRef.current.domRef,f=Ak(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(f!==null){let p=t.items[f].dataRef.current.domRef;if(((r=h.current)==null?void 0:r.previousElementSibling)===p.current||((i=p.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeItemIndex:f}}}}else if(e.focus===Wi.Next){let u=t.activeItemIndex;if(u!==null){let h=t.items[u].dataRef.current.domRef,f=Ak(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(f!==null){let p=t.items[f].dataRef.current.domRef;if(((s=h.current)==null?void 0:s.nextElementSibling)===p.current||((o=p.current)==null?void 0:o.nextElementSibling)===null)return{...a,activeItemIndex:f}}}}let l=Sne(t),c=Ak(e,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});return{...a,...l,activeItemIndex:c}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=t.items.concat(e.items.map(i=>i)),r=t.activeItemIndex;return t.pendingFocus.focus!==Wi.Nothing&&(r=Ak(t.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>t.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...t,items:n,activeItemIndex:r,pendingFocus:{focus:Wi.Nothing},pendingShouldSort:!0}},6:(t,e)=>{let n=t.items,r=[],i=new Set(e.items);for(let[s,o]of n.entries())if(i.has(o.id)&&(r.push(s),i.delete(o.id),i.size===0))break;if(r.length>0){n=n.slice();for(let s of r.reverse())n.splice(s,1)}return{...t,items:n,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element},9:t=>t.pendingShouldSort?{...t,...Sne(t),pendingShouldSort:!1}:t,10(t){return t.buttonPositionState.kind!=="Tracked"?t:{...t,buttonPositionState:Q9.Moved}}},Yut=class o2e extends xve{constructor(e){super(e),kne(this,"actions",{registerItem:nne(()=>{let n=[],r=new Set;return[(i,s)=>{r.has(s)||(r.add(s),n.push({id:i,dataRef:s}))},()=>(r.clear(),this.send({type:5,items:n.splice(0)}))]}),unregisterItem:nne(()=>{let n=[];return[r=>n.push(r),()=>this.send({type:6,items:n.splice(0)})]})}),kne(this,"selectors",{activeDescendantId(n){var r;let i=n.activeItemIndex,s=n.items;return i===null||(r=s[i])==null?void 0:r.id},isActive(n,r){var i;let s=n.activeItemIndex,o=n.items;return s!==null?((i=o[s])==null?void 0:i.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.menuState!==0||n.activationTrigger===0?!1:this.isActive(n,r)},didButtonMove(n){return n.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,r=w$.get(null);this.disposables.add(r.on(Ave.Push,i=>{!r.selectors.isTop(i,n)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}this.disposables.group(n=>{this.on(1,r=>{r.buttonElement&&(n.dispose(),n.add(lut(r.buttonElement,r.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:e,__demoMode:n=!1}){return new o2e({id:e,__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:Wi.Nothing},buttonPositionState:Q9.Idle})}reduce(e,n){return Ad(n.type,Kut,e,n)}};const a2e=x.createContext(null);function $q(t){let e=x.useContext(a2e);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,l2e),n}return e}function l2e({id:t,__demoMode:e=!1}){let n=x.useMemo(()=>Yut.new({id:t,__demoMode:e}),[]);return _q(()=>n.dispose()),n}let Qut=x.Fragment;function Zut(t,e){let n=x.useId(),{__demoMode:r=!1,...i}=t,s=l2e({id:n,__demoMode:r}),[o,a,l]=zc(s,y=>[y.menuState,y.itemsElement,y.buttonElement]),c=ba(e),u=w$.get(null),h=zc(u,x.useCallback(y=>u.selectors.isTop(y,n),[u,n]));jve(h,[l,a],(y,w)=>{var v;s.send({type:wr.CloseMenu}),Cq(w,Aq.Loose)||(y.preventDefault(),(v=s.state.buttonElement)==null||v.focus())});let f=Wt(()=>{s.send({type:wr.CloseMenu})}),p=uf({open:o===Ao.Open,close:f}),m={ref:c},g=Yi();return Ae.createElement(Kct,null,Ae.createElement(a2e.Provider,{value:s},Ae.createElement(zve,{value:Ad(o,{[Ao.Open]:na.Open,[Ao.Closed]:na.Closed})},g({ourProps:m,theirProps:i,slot:p,defaultTag:Qut,name:"Menu"}))))}let Jut="button";function Xut(t,e){let n=$q("Menu.Button"),r=x.useId(),{id:i=`headlessui-menu-button-${r}`,disabled:s=!1,autoFocus:o=!1,...a}=t,l=x.useRef(null),c=Vct(),u=ba(e,l,Hct(),Wt(F=>n.send({type:wr.SetButtonElement,element:F}))),h=Wt(F=>{switch(F.key){case ms.Space:case ms.Enter:case ms.ArrowDown:F.preventDefault(),F.stopPropagation(),n.send({type:wr.OpenMenu,focus:{focus:Wi.First}});break;case ms.ArrowUp:F.preventDefault(),F.stopPropagation(),n.send({type:wr.OpenMenu,focus:{focus:Wi.Last}});break}}),f=Wt(F=>{switch(F.key){case ms.Space:F.preventDefault();break}}),[p,m,g]=zc(n,F=>[F.menuState,F.buttonElement,F.itemsElement]),y=p===Ao.Open;lct(y,{trigger:m,action:x.useCallback(F=>{if(m!=null&&m.contains(F.target))return Ek.Ignore;let W=F.target.closest('[role="menuitem"]:not([data-disabled])');return ec(W)?Ek.Select(W):g!=null&&g.contains(F.target)?Ek.Ignore:Ek.Close},[m,g]),close:x.useCallback(()=>n.send({type:wr.CloseMenu}),[]),select:x.useCallback(F=>F.click(),[])});let w=Olt(F=>{var W;s||(p===Ao.Open?(Kl.flushSync(()=>n.send({type:wr.CloseMenu})),(W=l.current)==null||W.focus({preventScroll:!0})):(F.preventDefault(),n.send({type:wr.OpenMenu,focus:{focus:Wi.Nothing},trigger:h7.Pointer})))}),{isFocusVisible:v,focusProps:b}=Wat({autoFocus:o}),{isHovered:A,hoverProps:E}=zat({isDisabled:s}),{pressed:$,pressProps:N}=Yat({disabled:s}),R=uf({open:p===Ao.Open,active:$||p===Ao.Open,disabled:s,hover:A,focus:v,autofocus:o}),j=cve(c(),{ref:u,id:i,type:cct(t,l.current),"aria-haspopup":"menu","aria-controls":g==null?void 0:g.id,"aria-expanded":p===Ao.Open,disabled:s||void 0,autoFocus:o,onKeyDown:h,onKeyUp:f},w,b,E,N);return Yi()({ourProps:j,theirProps:a,slot:R,defaultTag:Jut,name:"Menu.Button"})}let edt="div",tdt=qx.RenderStrategy|qx.Static;function ndt(t,e){let n=x.useId(),{id:r=`headlessui-menu-items-${n}`,anchor:i,portal:s=!1,modal:o=!0,transition:a=!1,...l}=t,c=Wct(i),u=$q("Menu.Items"),[h,f]=Gct(c),p=qct(),[m,g]=x.useState(null),y=ba(e,c?h:null,Wt(_=>u.send({type:wr.SetItemsElement,element:_})),g),[w,v]=zc(u,_=>[_.menuState,_.buttonElement]),b=Z8(v),A=Z8(m);c&&(s=!0);let E=YA(),[$,N]=Bve(a,m,E!==null?(E&na.Open)===na.Open:w===Ao.Open);Ive($,v,()=>{u.send({type:wr.CloseMenu})});let R=zc(u,_=>_.__demoMode),j=R?!1:o&&w===Ao.Open;Mve(j,A);let F=R?!1:o&&w===Ao.Open;_ve(F,{allowed:x.useCallback(()=>[v,m],[v,m])});let W=zc(u,u.selectors.didButtonMove)?!1:$;x.useEffect(()=>{let _=m;_&&w===Ao.Open&&(ove(_)||_.focus({preventScroll:!0}))},[w,m]),Cct(w===Ao.Open,{container:m,accept(_){return _.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:_.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(_){_.setAttribute("role","none")}});let V=Mw(),B=Wt(_=>{var P,L,O;switch(V.dispose(),_.key){case ms.Space:if(u.state.searchQuery!=="")return _.preventDefault(),_.stopPropagation(),u.send({type:wr.Search,value:_.key});case ms.Enter:if(_.preventDefault(),_.stopPropagation(),u.state.activeItemIndex!==null){let{dataRef:I}=u.state.items[u.state.activeItemIndex];(L=(P=I.current)==null?void 0:P.domRef.current)==null||L.click()}u.send({type:wr.CloseMenu}),$ve(u.state.buttonElement);break;case ms.ArrowDown:return _.preventDefault(),_.stopPropagation(),u.send({type:wr.GoToItem,focus:Wi.Next});case ms.ArrowUp:return _.preventDefault(),_.stopPropagation(),u.send({type:wr.GoToItem,focus:Wi.Previous});case ms.Home:case ms.PageUp:return _.preventDefault(),_.stopPropagation(),u.send({type:wr.GoToItem,focus:Wi.First});case ms.End:case ms.PageDown:return _.preventDefault(),_.stopPropagation(),u.send({type:wr.GoToItem,focus:Wi.Last});case ms.Escape:_.preventDefault(),_.stopPropagation(),Kl.flushSync(()=>u.send({type:wr.CloseMenu})),(O=u.state.buttonElement)==null||O.focus({preventScroll:!0});break;case ms.Tab:_.preventDefault(),_.stopPropagation(),Kl.flushSync(()=>u.send({type:wr.CloseMenu})),ict(u.state.buttonElement,_.shiftKey?ed.Previous:ed.Next);break;default:_.key.length===1&&(u.send({type:wr.Search,value:_.key}),V.setTimeout(()=>u.send({type:wr.ClearSearch}),350));break}}),k=Wt(_=>{switch(_.key){case ms.Space:_.preventDefault();break}}),C=uf({open:w===Ao.Open}),S=cve(c?p():{},{"aria-activedescendant":zc(u,u.selectors.activeDescendantId),"aria-labelledby":zc(u,_=>{var P;return(P=_.buttonElement)==null?void 0:P.id}),id:r,onKeyDown:B,onKeyUp:k,role:"menu",tabIndex:w===Ao.Open?0:void 0,ref:y,style:{...l.style,...f,"--button-width":jlt($,v,!0).width},...Dve(N)}),T=Yi();return Ae.createElement(Gve,{enabled:s?t.static||$:!1,ownerDocument:b},T({ourProps:S,theirProps:l,slot:C,defaultTag:edt,features:tdt,visible:W,name:"Menu.Items"}))}let rdt=x.Fragment;function idt(t,e){let n=x.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...s}=t,o=$q("Menu.Item"),a=zc(o,W=>o.selectors.isActive(W,r)),l=x.useRef(null),c=ba(e,l),u=zc(o,W=>o.selectors.shouldScrollIntoView(W,r));zr(()=>{if(u)return cl().requestAnimationFrame(()=>{var W,V;(V=(W=l.current)==null?void 0:W.scrollIntoView)==null||V.call(W,{block:"nearest"})})},[u,l]);let h=Vut(l),f=x.useRef({disabled:i,domRef:l,get textValue(){return h()}});zr(()=>{f.current.disabled=i},[f,i]),zr(()=>(o.actions.registerItem(r,f),()=>o.actions.unregisterItem(r)),[f,r]);let p=Wt(()=>{o.send({type:wr.CloseMenu})}),m=Wt(W=>{if(i)return W.preventDefault();o.send({type:wr.CloseMenu}),$ve(o.state.buttonElement)}),g=Wt(()=>{if(i)return o.send({type:wr.GoToItem,focus:Wi.Nothing});o.send({type:wr.GoToItem,focus:Wi.Specific,id:r})}),y=gct(),w=Wt(W=>y.update(W)),v=Wt(W=>{y.wasMoved(W)&&(i||a||o.send({type:wr.GoToItem,focus:Wi.Specific,id:r,trigger:h7.Pointer}))}),b=Wt(W=>{y.wasMoved(W)&&(i||a&&o.state.activationTrigger===h7.Pointer&&o.send({type:wr.GoToItem,focus:Wi.Nothing}))}),[A,E]=gve(),[$,N]=mve(),R=uf({active:a,focus:a,disabled:i,close:p}),j={id:r,ref:c,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":A,"aria-describedby":$,disabled:void 0,onClick:m,onFocus:g,onPointerEnter:w,onMouseEnter:w,onPointerMove:v,onMouseMove:v,onPointerLeave:b,onMouseLeave:b},F=Yi();return Ae.createElement(E,null,Ae.createElement(N,null,F({ourProps:j,theirProps:s,slot:R,defaultTag:rdt,name:"Menu.Item"})))}let sdt="div";function odt(t,e){let[n,r]=gve(),i=t,s={ref:e,"aria-labelledby":n,role:"group"},o=Yi();return Ae.createElement(r,null,o({ourProps:s,theirProps:i,slot:{},defaultTag:sdt,name:"Menu.Section"}))}let adt="header";function ldt(t,e){let n=x.useId(),{id:r=`headlessui-menu-heading-${n}`,...i}=t,s=Eq();zr(()=>s.register(r),[r,s.register]);let o={id:r,ref:e,role:"presentation",...s.props};return Yi()({ourProps:o,theirProps:i,slot:{},defaultTag:adt,name:"Menu.Heading"})}let cdt="div";function udt(t,e){let n=t,r={ref:e,role:"separator"};return Yi()({ourProps:r,theirProps:n,slot:{},defaultTag:cdt,name:"Menu.Separator"})}let ddt=bi(Zut),c2e=bi(Xut),u2e=bi(ndt),d2e=bi(idt),hdt=bi(odt),fdt=bi(ldt),pdt=bi(udt),mdt=Object.assign(ddt,{Button:c2e,Items:u2e,Item:d2e,Section:hdt,Heading:fdt,Separator:pdt});function gdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Nq=x.forwardRef(gdt);function ydt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const X8=x.forwardRef(ydt);function hn(t){return t?new Date(1e3*t):null}function lo(t,e){return t.slice().sort((n,r)=>{var i,s;return(((i=n.firstVerifiedAt)==null?void 0:i.getTime())??0)-(((s=r.firstVerifiedAt)==null?void 0:s.getTime())??0)}).find(n=>n.type===e)}const bh=t=>t?h2e(t).find(e=>e.walletIndex===0)??null:null,h2e=t=>t?f2e(t,"ethereum"):[],f2e=(t,e)=>t.linkedAccounts.filter(n=>n.type==="wallet"&&n.walletClientType==="privy"&&!n.imported&&n.chainType===e),wdt=t=>t?f2e(t,"solana"):[],k$=t=>t?wdt(t).find(e=>e.walletIndex===0)??null:null,XL=t=>(t==null?void 0:t.linkedAccounts.find(e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.imported&&e.chainType==="ethereum"))||null,p2e=t=>(t==null?void 0:t.linkedAccounts.find(e=>e.type==="wallet"&&e.imported&&e.walletClientType==="privy"&&e.chainType==="solana"))||null;let m2e=(t,e)=>t===e||!(!t.startsWith("0x")||!e.startsWith("0x"))&&Bi(t)===Bi(e);const Hf=(t,e)=>(t==null?void 0:t.linkedAccounts.find(n=>n.type==="wallet"&&n.walletClientType==="privy"&&m2e(n.address,e)))||null,Nj=(t,e)=>t.find(n=>m2e(n.address,e))||null,Cd=t=>bh(t)??k$(t);function Ps(t){if(!t)return null;let e=function(b){let A=[];for(let E of b){let $=E.type;switch(E.type){case"wallet":let N={id:E.id,address:E.address,type:E.type,imported:E.imported,delegated:E.delegated,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at),chainType:E.chain_type,walletClientType:E.wallet_client_type,connectorType:E.connector_type,recoveryMethod:E.recovery_method,walletIndex:E.wallet_index};A.push(N);break;case"smart_wallet":let R={address:E.address,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at),smartWalletType:E.smart_wallet_type,smartWalletVersion:E.smart_wallet_version};A.push(R);break;case"cross_app":let j={type:E.type,subject:E.subject,embeddedWallets:E.embedded_wallets,smartWallets:E.smart_wallets,providerApp:{id:E.provider_app_id},firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(j);break;case"email":let F={address:E.address,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(F);break;case"phone":let W={number:E.phoneNumber,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(W);break;case"google_oauth":let V={subject:E.subject,email:E.email,name:E.name,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(V);break;case"spotify_oauth":let B={subject:E.subject,email:E.email,name:E.name,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(B);break;case"instagram_oauth":let k={subject:E.subject,username:E.username,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(k);break;case"twitter_oauth":let C={subject:E.subject,username:E.username,name:E.name,type:E.type,profilePictureUrl:E.profile_picture_url,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(C);break;case"discord_oauth":let S={subject:E.subject,username:E.username,email:E.email,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(S);break;case"github_oauth":let T={subject:E.subject,username:E.username,name:E.name,email:E.email,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(T);break;case"tiktok_oauth":let _={subject:E.subject,username:E.username,name:E.name,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(_);break;case"line_oauth":let P={subject:E.subject,name:E.name,email:E.email,profilePictureUrl:E.profile_picture_url,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(P);break;case"linkedin_oauth":let L={subject:E.subject,name:E.name,email:E.email,vanityName:E.vanity_name,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(L);break;case"apple_oauth":let O={subject:E.subject,email:E.email,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(O);break;case"custom_auth":A.push({type:E.type,customUserId:E.custom_user_id,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)});break;case"farcaster":let I={type:E.type,fid:E.fid,ownerAddress:E.owner_address,displayName:E.display_name,username:E.username,bio:E.bio,pfp:E.profile_picture_url,url:E.homepage_url,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at),signerPublicKey:E.signer_public_key};A.push(I);break;case"passkey":let D={type:E.type,enrolledInMfa:E.enrolled_in_mfa,credentialId:E.credential_id,publicKey:E.public_key,authenticatorName:E.authenticator_name,createdWithDevice:E.created_with_device,createdWithOs:E.created_with_os,createdWithBrowser:E.created_with_browser,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(D);break;case"telegram":let Y={type:E.type,telegramUserId:E.telegram_user_id,firstName:E.first_name,lastName:E.last_name,username:E.username,photoUrl:E.photo_url,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(Y);break;default:console.warn(`Unrecognized account type: ${$}. Please consider upgrading the Privy SDK.`)}}return A}(t.linked_accounts),n=lo(e,"wallet"),r=lo(e,"smart_wallet"),i=lo(e,"email"),s=lo(e,"phone"),o=lo(e,"google_oauth"),a=lo(e,"twitter_oauth"),l=lo(e,"discord_oauth"),c=lo(e,"github_oauth"),u=lo(e,"spotify_oauth"),h=lo(e,"instagram_oauth"),f=lo(e,"tiktok_oauth"),p=lo(e,"line_oauth"),m=lo(e,"linkedin_oauth"),g=lo(e,"apple_oauth"),y=lo(e,"farcaster"),w=lo(e,"telegram"),v=t.mfa_methods.map(({type:b,verified_at:A})=>({type:b,verifiedAt:hn(A)}));return{id:t.id,createdAt:hn(t.created_at),linkedAccounts:e,email:i&&{address:i==null?void 0:i.address},phone:s&&{number:s==null?void 0:s.number},wallet:n&&{id:n.id,address:n.address,chainType:n.chainType,walletClientType:n.walletClientType,connectorType:n.connectorType,recoveryMethod:n.recoveryMethod,imported:n.imported,delegated:n.delegated,walletIndex:n.walletIndex},smartWallet:r&&{address:r.address,smartWalletType:r.smartWalletType,smartWalletVersion:r.smartWalletVersion},google:o&&{subject:o.subject,email:o.email,name:o.name},twitter:a&&{subject:a.subject,username:a.username,name:a.name,profilePictureUrl:a.profilePictureUrl},discord:l&&{subject:l.subject,username:l.username,email:l.email},github:c&&{subject:c.subject,username:c.username,name:c.name,email:c.email},spotify:u&&{subject:u.subject,email:u.email,name:u.name},instagram:h&&{subject:h.subject,username:h.username},tiktok:f&&{subject:f.subject,username:f.username,name:f.name},line:p&&{subject:p.subject,name:p.name,email:p.email,profilePictureUrl:p.profilePictureUrl},linkedin:m&&{subject:m.subject,name:m.name,email:m.email,vanityName:m.vanityName},apple:g&&{subject:g.subject,email:g.email},farcaster:y&&{fid:y.fid,ownerAddress:y.ownerAddress,displayName:y.displayName,username:y.username,bio:y.bio,pfp:y.pfp,url:y.url,signerPublicKey:y.signerPublicKey},telegram:w&&{telegramUserId:w.telegramUserId,firstName:w.firstName,lastName:w.lastName,username:w.username,photoUrl:w.photoUrl},delegatedWallets:[],mfaMethods:v.map(b=>b.type),hasAcceptedTerms:t.has_accepted_terms??!1,isGuest:t.is_guest,customMetadata:t.custom_metadata}}const vl=t=>!!t.id&&t.recoveryMethod==="privy-v2",G3=x.createContext({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:Ie,login:Ie,connectOrCreateWallet:Ie,linkEmail:Ie,linkPhone:Ie,linkFarcaster:Ie,linkWallet:Ie,startCrossAppAuthFlow:Ie,linkGoogle:Ie,linkTwitter:Ie,linkDiscord:Ie,linkGithub:Ie,linkSpotify:Ie,linkInstagram:Ie,linkTelegram:Ie,linkTiktok:Ie,linkLine:Ie,linkLinkedIn:Ie,linkApple:Ie,linkPasskey:Ie,updateEmail:Ie,updatePhone:Ie,logout:Ie,getAccessToken:Ie,unlinkEmail:Ie,unlinkPhone:Ie,unlinkWallet:Ie,unlinkGoogle:Ie,unlinkTwitter:Ie,unlinkDiscord:Ie,unlinkGithub:Ie,unlinkSpotify:Ie,unlinkInstagram:Ie,unlinkTiktok:Ie,unlinkLine:Ie,unlinkLinkedIn:Ie,unlinkApple:Ie,unlinkCrossAppAccount:Ie,unlinkFarcaster:Ie,unlinkTelegram:Ie,unlinkPasskey:Ie,signMessage:Ie,signTypedData:Ie,enrollInMfa:Ie,initEnrollmentWithSms:Ie,initEnrollmentWithTotp:Ie,initEnrollmentWithPasskey:Ie,promptMfa:Ie,init:Ie,submitEnrollmentWithSms:Ie,submitEnrollmentWithTotp:Ie,submitEnrollmentWithPasskey:Ie,unenroll:Ie,submit:Ie,cancel:Ie,sendTransaction:Ie,signTransaction:Ie,exportWallet:Ie,setWalletPassword:Ie,setWalletRecovery:Ie,requestFarcasterSignerFromWarpcast:Ie,getFarcasterSignerPublicKey:Ie,signFarcasterMessage:Ie,signMessageWithCrossAppWallet:Ie,signTypedDataWithCrossAppWallet:Ie,sendTransactionWithCrossAppWallet:Ie,signTransactionWithCrossAppWallet:Ie,isModalOpen:!1,mfaMethods:[]}),Sn=()=>x.useContext(G3);function bdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const vdt=x.forwardRef(bdt);function xdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Edt=x.forwardRef(xdt);function Adt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Cdt=x.forwardRef(Adt);function kdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25"}))}const Sdt=x.forwardRef(kdt);function _dt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const Idt=x.forwardRef(_dt);function Tdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const $dt=x.forwardRef(Tdt);function Ndt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Pdt=x.forwardRef(Ndt);function Rdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const jdt=x.forwardRef(Rdt);function Odt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const Mdt=x.forwardRef(Odt);function Ddt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const g2e=x.forwardRef(Ddt);function Bdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const Ldt=x.forwardRef(Bdt);function Fdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Udt=x.forwardRef(Fdt);function zdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const S$=x.forwardRef(zdt);function Wdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const Hdt=x.forwardRef(Wdt);function Vdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const _$=x.forwardRef(Vdt);function qdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Bw=x.forwardRef(qdt);function Gdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Kdt=x.forwardRef(Gdt);function Ydt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Qdt=x.forwardRef(Ydt);function Zdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}const Pq=x.forwardRef(Zdt);function Jdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const Xdt=x.forwardRef(Jdt);function eht({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const y2e=x.forwardRef(eht);function tht({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const nht=x.forwardRef(tht);function rht({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Pj=x.forwardRef(rht);function iht({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const sht=x.forwardRef(iht);function oht({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const bg=x.forwardRef(oht);function aht({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const r2=x.forwardRef(aht);function lht({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const rw=x.forwardRef(lht);function cht({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 8.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v8.25A2.25 2.25 0 0 0 6 16.5h2.25m8.25-8.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-7.5A2.25 2.25 0 0 1 8.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 0 0-2.25 2.25v6"}))}const uht=x.forwardRef(cht);function dht({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const hht=x.forwardRef(dht);function fht({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const pht=x.forwardRef(fht);let Rj={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"};const mht={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4};let fb=t=>t!==void 0?BigInt(t):void 0;function w2e(t){let e,{type:n=2,...r}=typeof t=="string"?JSON.parse(t):t;r.accessList&&Array.isArray(r.accessList)?e=r.accessList.map(c=>Array.isArray(c)?{address:c[0],storageKeys:c[1]}:c):r.accessList&&(e=Object.entries(r.accessList).map(c=>({address:c[0],storageKeys:c[1]})));let i=Number(r.chainId??1),s=Ro(r.data)?r.data:r.data?_i(Uint8Array.from(r.data)):void 0,o=r.nonce?Number(r.nonce):void 0,a={chainId:i,data:s,nonce:o,value:fb(r.value),gas:fb(r.gas??r.gasLimit)},l=Number(n);if(l===0)return{...r,type:Rj[l],...a,gasPrice:fb(r.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(l===1)return{...r,type:Rj[l],...a,gasPrice:fb(r.gasPrice),accessList:e,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(l===2)return{...r,type:Rj[l],...a,nonce:o,accessList:e,maxFeePerGas:fb(r.maxFeePerGas),maxPriorityFeePerGas:fb(r.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${n}`)}/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ght=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),b2e=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yht={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wht=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>x.createElement("svg",{ref:l,...yht,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:b2e("lucide",i),...a},[...o.map(([c,u])=>x.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=(t,e)=>{const n=x.forwardRef(({className:r,...i},s)=>x.createElement(wht,{ref:s,iconNode:e,className:b2e(`lucide-${ght(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bht=vi("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vht=vi("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=vi("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2e=vi("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=vi("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xht=vi("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eht=vi("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=vi("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aht=vi("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=vi("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=vi("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cht=vi("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=vi("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=vi("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=vi("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kht=vi("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2e=vi("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sht=vi("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ht=vi("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=vi("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iht=vi("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tht=vi("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function E2e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function $ht(t,...e){if(!E2e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function A2e(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function tE(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function Oq(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function tF(t){if(!Array.isArray(t))throw new Error("array expected")}function m7(t,e){if(!A2e(!0,e))throw new Error(`${t}: array of strings expected`)}function Nht(t,e){if(!A2e(!1,e))throw new Error(`${t}: array of numbers expected`)}function C2e(...t){const e=s=>s,n=(s,o)=>a=>s(o(a)),r=t.map(s=>s.encode).reduceRight(n,e),i=t.map(s=>s.decode).reduce(n,e);return{encode:r,decode:i}}function k2e(t){const e=typeof t=="string"?t.split(""):t,n=e.length;m7("alphabet",e);const r=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(tF(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(tF(i),i.map(s=>{tE("alphabet.decode",s);const o=r.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return o}))}}function S2e(t=""){return tE("join",t),{encode:e=>(m7("join.decode",e),e.join(t)),decode:e=>(tE("join.decode",e),e.split(t))}}function _2e(t,e="="){return Oq(t),tE("padding",e),{encode(n){for(m7("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){m7("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const I2e=(t,e)=>e===0?t:I2e(e,t%e),g7=(t,e)=>t+(e-I2e(t,e)),jj=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function _ne(t,e,n,r){if(tF(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(g7(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${g7(e,n)}`);let i=0,s=0;const o=jj[e],a=jj[n]-1,l=[];for(const c of t){if(Oq(c),c>=o)throw new Error(`convertRadix2: invalid data word=${c} from=${e}`);if(i=i<<e|c,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=n;s-=n)l.push((i>>s-n&a)>>>0);const u=jj[s];if(u===void 0)throw new Error("invalid carry");i&=u-1}if(i=i<<n-s&a,!r&&s>=e)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&l.push(i>>>0),l}function T2e(t,e=!1){if(Oq(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(g7(8,t)>32||g7(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!E2e(n))throw new Error("radix2.encode input should be Uint8Array");return _ne(Array.from(n),8,t,!e)},decode:n=>(Nht("radix2.decode",n),Uint8Array.from(_ne(n,t,8,e)))}}const Pht=C2e(T2e(5),k2e("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),_2e(5),S2e("")),Rht=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",jht=(t,e)=>{tE("base64",t);const n=/^[A-Za-z0-9=+/]+$/,r="base64";if(t.length>0&&!n.test(t))throw new Error("invalid base64");return Uint8Array.fromBase64(t,{alphabet:r,lastChunkHandling:"strict"})},Z9=Rht?{encode(t){return $ht(t),t.toBase64()},decode(t){return jht(t)}}:C2e(T2e(6),k2e("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),_2e(6),S2e(""));function y7(t){"@babel/helpers - typeof";return y7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y7(t)}var Oht=/^\s+/,Mht=/\s+$/;function gt(t,e){if(t=t||"",e=e||{},t instanceof gt)return t;if(!(this instanceof gt))return new gt(t,e);var n=Dht(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}gt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,o,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=$2e(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Tne(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Tne(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=Ine(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Ine(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return $ne(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return Uht(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Hr(this._r,255)*100)+"%",g:Math.round(Hr(this._g,255)*100)+"%",b:Math.round(Hr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Hr(this._r,255)*100)+"%, "+Math.round(Hr(this._g,255)*100)+"%, "+Math.round(Hr(this._b,255)*100)+"%)":"rgba("+Math.round(Hr(this._r,255)*100)+"%, "+Math.round(Hr(this._g,255)*100)+"%, "+Math.round(Hr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Xht[$ne(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+Nne(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=gt(e);r="#"+Nne(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return gt(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(Vht,arguments)},brighten:function(){return this._applyModification(qht,arguments)},darken:function(){return this._applyModification(Ght,arguments)},desaturate:function(){return this._applyModification(zht,arguments)},saturate:function(){return this._applyModification(Wht,arguments)},greyscale:function(){return this._applyModification(Hht,arguments)},spin:function(){return this._applyModification(Kht,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(Zht,arguments)},complement:function(){return this._applyCombination(Yht,arguments)},monochromatic:function(){return this._applyCombination(Jht,arguments)},splitcomplement:function(){return this._applyCombination(Qht,arguments)},triad:function(){return this._applyCombination(Pne,[3])},tetrad:function(){return this._applyCombination(Pne,[4])}};gt.fromRatio=function(t,e){if(y7(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=T6(t[r]));t=n}return gt(t,e)};function Dht(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=rft(t)),y7(t)=="object"&&(vf(t.r)&&vf(t.g)&&vf(t.b)?(e=Bht(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):vf(t.h)&&vf(t.s)&&vf(t.v)?(r=T6(t.s),i=T6(t.v),e=Fht(t.h,r,i),o=!0,a="hsv"):vf(t.h)&&vf(t.s)&&vf(t.l)&&(r=T6(t.s),s=T6(t.l),e=Lht(t.h,r,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=$2e(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function Bht(t,e,n){return{r:Hr(t,255)*255,g:Hr(e,255)*255,b:Hr(n,255)*255}}function Ine(t,e,n){t=Hr(t,255),e=Hr(e,255),n=Hr(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function Lht(t,e,n){var r,i,s;t=Hr(t,360),e=Hr(e,100),n=Hr(n,100);function o(c,u,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?c+(u-c)*6*h:h<1/2?u:h<2/3?c+(u-c)*(2/3-h)*6:c}if(e===0)r=i=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=o(l,a,t+1/3),i=o(l,a,t),s=o(l,a,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function Tne(t,e,n){t=Hr(t,255),e=Hr(e,255),n=Hr(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function Fht(t,e,n){t=Hr(t,360)*6,e=Hr(e,100),n=Hr(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,c=[n,o,s,s,a,n][l],u=[a,n,n,o,s,s][l],h=[s,s,a,n,n,o][l];return{r:c*255,g:u*255,b:h*255}}function $ne(t,e,n,r){var i=[rd(Math.round(t).toString(16)),rd(Math.round(e).toString(16)),rd(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Uht(t,e,n,r,i){var s=[rd(Math.round(t).toString(16)),rd(Math.round(e).toString(16)),rd(Math.round(n).toString(16)),rd(N2e(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function Nne(t,e,n,r){var i=[rd(N2e(r)),rd(Math.round(t).toString(16)),rd(Math.round(e).toString(16)),rd(Math.round(n).toString(16))];return i.join("")}gt.equals=function(t,e){return!t||!e?!1:gt(t).toRgbString()==gt(e).toRgbString()};gt.random=function(){return gt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function zht(t,e){e=e===0?0:e||10;var n=gt(t).toHsl();return n.s-=e/100,n.s=T$(n.s),gt(n)}function Wht(t,e){e=e===0?0:e||10;var n=gt(t).toHsl();return n.s+=e/100,n.s=T$(n.s),gt(n)}function Hht(t){return gt(t).desaturate(100)}function Vht(t,e){e=e===0?0:e||10;var n=gt(t).toHsl();return n.l+=e/100,n.l=T$(n.l),gt(n)}function qht(t,e){e=e===0?0:e||10;var n=gt(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),gt(n)}function Ght(t,e){e=e===0?0:e||10;var n=gt(t).toHsl();return n.l-=e/100,n.l=T$(n.l),gt(n)}function Kht(t,e){var n=gt(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,gt(n)}function Yht(t){var e=gt(t).toHsl();return e.h=(e.h+180)%360,gt(e)}function Pne(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=gt(t).toHsl(),r=[gt(t)],i=360/e,s=1;s<e;s++)r.push(gt({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function Qht(t){var e=gt(t).toHsl(),n=e.h;return[gt(t),gt({h:(n+72)%360,s:e.s,l:e.l}),gt({h:(n+216)%360,s:e.s,l:e.l})]}function Zht(t,e,n){e=e||6,n=n||30;var r=gt(t).toHsl(),i=360/n,s=[gt(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(gt(r));return s}function Jht(t,e){e=e||6;for(var n=gt(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(gt({h:r,s:i,v:s})),s=(s+a)%1;return o}gt.mix=function(t,e,n){n=n===0?0:n||50;var r=gt(t).toRgb(),i=gt(e).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return gt(o)};gt.readability=function(t,e){var n=gt(t),r=gt(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};gt.isReadable=function(t,e,n){var r=gt.readability(t,e),i,s;switch(s=!1,i=ift(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};gt.mostReadable=function(t,e,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<e.length;c++)s=gt.readability(t,e[c]),s>i&&(i=s,r=gt(e[c]));return gt.isReadable(t,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,gt.mostReadable(t,["#fff","#000"],n))};var nF=gt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Xht=gt.hexNames=eft(nF);function eft(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function $2e(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Hr(t,e){tft(t)&&(t="100%");var n=nft(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function T$(t){return Math.min(1,Math.max(0,t))}function wl(t){return parseInt(t,16)}function tft(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function nft(t){return typeof t=="string"&&t.indexOf("%")!=-1}function rd(t){return t.length==1?"0"+t:""+t}function T6(t){return t<=1&&(t=t*100+"%"),t}function N2e(t){return Math.round(parseFloat(t)*255).toString(16)}function Rne(t){return wl(t)/255}var _u=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function vf(t){return!!_u.CSS_UNIT.exec(t)}function rft(t){t=t.replace(Oht,"").replace(Mht,"").toLowerCase();var e=!1;if(nF[t])t=nF[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=_u.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=_u.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=_u.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=_u.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=_u.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=_u.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=_u.hex8.exec(t))?{r:wl(n[1]),g:wl(n[2]),b:wl(n[3]),a:Rne(n[4]),format:e?"name":"hex8"}:(n=_u.hex6.exec(t))?{r:wl(n[1]),g:wl(n[2]),b:wl(n[3]),format:e?"name":"hex"}:(n=_u.hex4.exec(t))?{r:wl(n[1]+""+n[1]),g:wl(n[2]+""+n[2]),b:wl(n[3]+""+n[3]),a:Rne(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=_u.hex3.exec(t))?{r:wl(n[1]+""+n[1]),g:wl(n[2]+""+n[2]),b:wl(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function ift(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}function sft({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const oft=x.forwardRef(sft);var aft=function(e,n){return Math.round(n*Math.log(e)/Math.LN2)},lft=[{name:"lowercase",re:/[a-z]/,length:26},{name:"uppercase",re:/[A-Z]/,length:26},{name:"numbers",re:/[0-9]/,length:10},{name:"symbols",re:/[^a-zA-Z0-9]/,length:33}],cft=function(e){return function(n){return e.reduce(function(r,i){return r+(i.re.test(n)?i.length:0)},0)}},uft=cft(lft),dft=function(e){return e?aft(uft(e),e.length):0},hft=dft;const fft=Ks(hft);function P2e(t){return crypto.getRandomValues(new Uint8Array(t))}const pft=256,d4=65536;function mft(){const[t]=P2e(1);return t}function gft(){const[t,e]=P2e(2);return(t<<8)+e}function yft(t){if(typeof t!="number"||t<2||t>d4)throw new Error(`Invalid number: number must be at least two and at most ${d4}`);const e=t>256,n=e?d4:pft,r=e?gft:mft,i=t*Math.floor(n/t);for(;;){const s=r();if(s<i)return s%t}}function wft(t,e,n){if(typeof n!="number"||n>d4)throw new Error(`Invalid argument: end must be a number less than or equal to ${d4}`);if(n-e<2)throw new Error("Invalid range: range must contain at least two values");const r=[];for(let i=0;i<t;i++)r[i]=e+yft(n-e);return r}function bft(t,e,n="-"){if(!Array.isArray(e)||e.length<2)throw new Error("Invalid argument: wordlist argument must be an array with length greater than or equal to 2");if(typeof n!="string")throw new Error("Invalid argument: sep argument must be a string");return wft(t,0,e.length).reduce((r,i,s)=>{const o=e[i];return r+(s===0?o:n+o)},"")}const vft=Object.freeze(["abacus","abdomen","abdominal","abide","abiding","ability","ablaze","able","abnormal","abrasion","abrasive","abreast","abridge","abroad","abruptly","absence","absentee","absently","absinthe","absolute","absolve","abstain","abstract","absurd","accent","acclaim","acclimate","accompany","account","accuracy","accurate","accustom","acetone","achiness","aching","acid","acorn","acquaint","acquire","acre","acrobat","acronym","acting","action","activate","activator","active","activism","activist","activity","actress","acts","acutely","acuteness","aeration","aerobics","aerosol","aerospace","afar","affair","affected","affecting","affection","affidavit","affiliate","affirm","affix","afflicted","affluent","afford","affront","aflame","afloat","aflutter","afoot","afraid","afterglow","afterlife","aftermath","aftermost","afternoon","aged","ageless","agency","agenda","agent","aggregate","aghast","agile","agility","aging","agnostic","agonize","agonizing","agony","agreeable","agreeably","agreed","agreeing","agreement","aground","ahead","ahoy","aide","aids","aim","ajar","alabaster","alarm","albatross","album","alfalfa","algebra","algorithm","alias","alibi","alienable","alienate","aliens","alike","alive","alkaline","alkalize","almanac","almighty","almost","aloe","aloft","aloha","alone","alongside","aloof","alphabet","alright","although","altitude","alto","aluminum","alumni","always","amaretto","amaze","amazingly","amber","ambiance","ambiguity","ambiguous","ambition","ambitious","ambulance","ambush","amendable","amendment","amends","amenity","amiable","amicably","amid","amigo","amino","amiss","ammonia","ammonium","amnesty","amniotic","among","amount","amperage","ample","amplifier","amplify","amply","amuck","amulet","amusable","amused","amusement","amuser","amusing","anaconda","anaerobic","anagram","anatomist","anatomy","anchor","anchovy","ancient","android","anemia","anemic","aneurism","anew","angelfish","angelic","anger","angled","angler","angles","angling","angrily","angriness","anguished","angular","animal","animate","animating","animation","animator","anime","animosity","ankle","annex","annotate","announcer","annoying","annually","annuity","anointer","another","answering","antacid","antarctic","anteater","antelope","antennae","anthem","anthill","anthology","antibody","antics","antidote","antihero","antiquely","antiques","antiquity","antirust","antitoxic","antitrust","antiviral","antivirus","antler","antonym","antsy","anvil","anybody","anyhow","anymore","anyone","anyplace","anything","anytime","anyway","anywhere","aorta","apache","apostle","appealing","appear","appease","appeasing","appendage","appendix","appetite","appetizer","applaud","applause","apple","appliance","applicant","applied","apply","appointee","appraisal","appraiser","apprehend","approach","approval","approve","apricot","april","apron","aptitude","aptly","aqua","aqueduct","arbitrary","arbitrate","ardently","area","arena","arguable","arguably","argue","arise","armadillo","armband","armchair","armed","armful","armhole","arming","armless","armoire","armored","armory","armrest","army","aroma","arose","around","arousal","arrange","array","arrest","arrival","arrive","arrogance","arrogant","arson","art","ascend","ascension","ascent","ascertain","ashamed","ashen","ashes","ashy","aside","askew","asleep","asparagus","aspect","aspirate","aspire","aspirin","astonish","astound","astride","astrology","astronaut","astronomy","astute","atlantic","atlas","atom","atonable","atop","atrium","atrocious","atrophy","attach","attain","attempt","attendant","attendee","attention","attentive","attest","attic","attire","attitude","attractor","attribute","atypical","auction","audacious","audacity","audible","audibly","audience","audio","audition","augmented","august","authentic","author","autism","autistic","autograph","automaker","automated","automatic","autopilot","available","avalanche","avatar","avenge","avenging","avenue","average","aversion","avert","aviation","aviator","avid","avoid","await","awaken","award","aware","awhile","awkward","awning","awoke","awry","axis","babble","babbling","babied","baboon","backache","backboard","backboned","backdrop","backed","backer","backfield","backfire","backhand","backing","backlands","backlash","backless","backlight","backlit","backlog","backpack","backpedal","backrest","backroom","backshift","backside","backslid","backspace","backspin","backstab","backstage","backtalk","backtrack","backup","backward","backwash","backwater","backyard","bacon","bacteria","bacterium","badass","badge","badland","badly","badness","baffle","baffling","bagel","bagful","baggage","bagged","baggie","bagginess","bagging","baggy","bagpipe","baguette","baked","bakery","bakeshop","baking","balance","balancing","balcony","balmy","balsamic","bamboo","banana","banish","banister","banjo","bankable","bankbook","banked","banker","banking","banknote","bankroll","banner","bannister","banshee","banter","barbecue","barbed","barbell","barber","barcode","barge","bargraph","barista","baritone","barley","barmaid","barman","barn","barometer","barrack","barracuda","barrel","barrette","barricade","barrier","barstool","bartender","barterer","bash","basically","basics","basil","basin","basis","basket","batboy","batch","bath","baton","bats","battalion","battered","battering","battery","batting","battle","bauble","bazooka","blabber","bladder","blade","blah","blame","blaming","blanching","blandness","blank","blaspheme","blasphemy","blast","blatancy","blatantly","blazer","blazing","bleach","bleak","bleep","blemish","blend","bless","blighted","blimp","bling","blinked","blinker","blinking","blinks","blip","blissful","blitz","blizzard","bloated","bloating","blob","blog","bloomers","blooming","blooper","blot","blouse","blubber","bluff","bluish","blunderer","blunt","blurb","blurred","blurry","blurt","blush","blustery","boaster","boastful","boasting","boat","bobbed","bobbing","bobble","bobcat","bobsled","bobtail","bodacious","body","bogged","boggle","bogus","boil","bok","bolster","bolt","bonanza","bonded","bonding","bondless","boned","bonehead","boneless","bonelike","boney","bonfire","bonnet","bonsai","bonus","bony","boogeyman","boogieman","book","boondocks","booted","booth","bootie","booting","bootlace","bootleg","boots","boozy","borax","boring","borough","borrower","borrowing","boss","botanical","botanist","botany","botch","both","bottle","bottling","bottom","bounce","bouncing","bouncy","bounding","boundless","bountiful","bovine","boxcar","boxer","boxing","boxlike","boxy","breach","breath","breeches","breeching","breeder","breeding","breeze","breezy","brethren","brewery","brewing","briar","bribe","brick","bride","bridged","brigade","bright","brilliant","brim","bring","brink","brisket","briskly","briskness","bristle","brittle","broadband","broadcast","broaden","broadly","broadness","broadside","broadways","broiler","broiling","broken","broker","bronchial","bronco","bronze","bronzing","brook","broom","brought","browbeat","brownnose","browse","browsing","bruising","brunch","brunette","brunt","brush","brussels","brute","brutishly","bubble","bubbling","bubbly","buccaneer","bucked","bucket","buckle","buckshot","buckskin","bucktooth","buckwheat","buddhism","buddhist","budding","buddy","budget","buffalo","buffed","buffer","buffing","buffoon","buggy","bulb","bulge","bulginess","bulgur","bulk","bulldog","bulldozer","bullfight","bullfrog","bullhorn","bullion","bullish","bullpen","bullring","bullseye","bullwhip","bully","bunch","bundle","bungee","bunion","bunkbed","bunkhouse","bunkmate","bunny","bunt","busboy","bush","busily","busload","bust","busybody","buzz","cabana","cabbage","cabbie","cabdriver","cable","caboose","cache","cackle","cacti","cactus","caddie","caddy","cadet","cadillac","cadmium","cage","cahoots","cake","calamari","calamity","calcium","calculate","calculus","caliber","calibrate","calm","caloric","calorie","calzone","camcorder","cameo","camera","camisole","camper","campfire","camping","campsite","campus","canal","canary","cancel","candied","candle","candy","cane","canine","canister","cannabis","canned","canning","cannon","cannot","canola","canon","canopener","canopy","canteen","canyon","capable","capably","capacity","cape","capillary","capital","capitol","capped","capricorn","capsize","capsule","caption","captivate","captive","captivity","capture","caramel","carat","caravan","carbon","cardboard","carded","cardiac","cardigan","cardinal","cardstock","carefully","caregiver","careless","caress","caretaker","cargo","caring","carless","carload","carmaker","carnage","carnation","carnival","carnivore","carol","carpenter","carpentry","carpool","carport","carried","carrot","carrousel","carry","cartel","cartload","carton","cartoon","cartridge","cartwheel","carve","carving","carwash","cascade","case","cash","casing","casino","casket","cassette","casually","casualty","catacomb","catalog","catalyst","catalyze","catapult","cataract","catatonic","catcall","catchable","catcher","catching","catchy","caterer","catering","catfight","catfish","cathedral","cathouse","catlike","catnap","catnip","catsup","cattail","cattishly","cattle","catty","catwalk","caucasian","caucus","causal","causation","cause","causing","cauterize","caution","cautious","cavalier","cavalry","caviar","cavity","cedar","celery","celestial","celibacy","celibate","celtic","cement","census","ceramics","ceremony","certainly","certainty","certified","certify","cesarean","cesspool","chafe","chaffing","chain","chair","chalice","challenge","chamber","chamomile","champion","chance","change","channel","chant","chaos","chaperone","chaplain","chapped","chaps","chapter","character","charbroil","charcoal","charger","charging","chariot","charity","charm","charred","charter","charting","chase","chasing","chaste","chastise","chastity","chatroom","chatter","chatting","chatty","cheating","cheddar","cheek","cheer","cheese","cheesy","chef","chemicals","chemist","chemo","cherisher","cherub","chess","chest","chevron","chevy","chewable","chewer","chewing","chewy","chief","chihuahua","childcare","childhood","childish","childless","childlike","chili","chill","chimp","chip","chirping","chirpy","chitchat","chivalry","chive","chloride","chlorine","choice","chokehold","choking","chomp","chooser","choosing","choosy","chop","chosen","chowder","chowtime","chrome","chubby","chuck","chug","chummy","chump","chunk","churn","chute","cider","cilantro","cinch","cinema","cinnamon","circle","circling","circular","circulate","circus","citable","citadel","citation","citizen","citric","citrus","city","civic","civil","clad","claim","clambake","clammy","clamor","clamp","clamshell","clang","clanking","clapped","clapper","clapping","clarify","clarinet","clarity","clash","clasp","class","clatter","clause","clavicle","claw","clay","clean","clear","cleat","cleaver","cleft","clench","clergyman","clerical","clerk","clever","clicker","client","climate","climatic","cling","clinic","clinking","clip","clique","cloak","clobber","clock","clone","cloning","closable","closure","clothes","clothing","cloud","clover","clubbed","clubbing","clubhouse","clump","clumsily","clumsy","clunky","clustered","clutch","clutter","coach","coagulant","coastal","coaster","coasting","coastland","coastline","coat","coauthor","cobalt","cobbler","cobweb","cocoa","coconut","cod","coeditor","coerce","coexist","coffee","cofounder","cognition","cognitive","cogwheel","coherence","coherent","cohesive","coil","coke","cola","cold","coleslaw","coliseum","collage","collapse","collar","collected","collector","collide","collie","collision","colonial","colonist","colonize","colony","colossal","colt","coma","come","comfort","comfy","comic","coming","comma","commence","commend","comment","commerce","commode","commodity","commodore","common","commotion","commute","commuting","compacted","compacter","compactly","compactor","companion","company","compare","compel","compile","comply","component","composed","composer","composite","compost","composure","compound","compress","comprised","computer","computing","comrade","concave","conceal","conceded","concept","concerned","concert","conch","concierge","concise","conclude","concrete","concur","condense","condiment","condition","condone","conducive","conductor","conduit","cone","confess","confetti","confidant","confident","confider","confiding","configure","confined","confining","confirm","conflict","conform","confound","confront","confused","confusing","confusion","congenial","congested","congrats","congress","conical","conjoined","conjure","conjuror","connected","connector","consensus","consent","console","consoling","consonant","constable","constant","constrain","constrict","construct","consult","consumer","consuming","contact","container","contempt","contend","contented","contently","contents","contest","context","contort","contour","contrite","control","contusion","convene","convent","copartner","cope","copied","copier","copilot","coping","copious","copper","copy","coral","cork","cornball","cornbread","corncob","cornea","corned","corner","cornfield","cornflake","cornhusk","cornmeal","cornstalk","corny","coronary","coroner","corporal","corporate","corral","correct","corridor","corrode","corroding","corrosive","corsage","corset","cortex","cosigner","cosmetics","cosmic","cosmos","cosponsor","cost","cottage","cotton","couch","cough","could","countable","countdown","counting","countless","country","county","courier","covenant","cover","coveted","coveting","coyness","cozily","coziness","cozy","crabbing","crabgrass","crablike","crabmeat","cradle","cradling","crafter","craftily","craftsman","craftwork","crafty","cramp","cranberry","crane","cranial","cranium","crank","crate","crave","craving","crawfish","crawlers","crawling","crayfish","crayon","crazed","crazily","craziness","crazy","creamed","creamer","creamlike","crease","creasing","creatable","create","creation","creative","creature","credible","credibly","credit","creed","creme","creole","crepe","crept","crescent","crested","cresting","crestless","crevice","crewless","crewman","crewmate","crib","cricket","cried","crier","crimp","crimson","cringe","cringing","crinkle","crinkly","crisped","crisping","crisply","crispness","crispy","criteria","critter","croak","crock","crook","croon","crop","cross","crouch","crouton","crowbar","crowd","crown","crucial","crudely","crudeness","cruelly","cruelness","cruelty","crumb","crummiest","crummy","crumpet","crumpled","cruncher","crunching","crunchy","crusader","crushable","crushed","crusher","crushing","crust","crux","crying","cryptic","crystal","cubbyhole","cube","cubical","cubicle","cucumber","cuddle","cuddly","cufflink","culinary","culminate","culpable","culprit","cultivate","cultural","culture","cupbearer","cupcake","cupid","cupped","cupping","curable","curator","curdle","cure","curfew","curing","curled","curler","curliness","curling","curly","curry","curse","cursive","cursor","curtain","curtly","curtsy","curvature","curve","curvy","cushy","cusp","cussed","custard","custodian","custody","customary","customer","customize","customs","cut","cycle","cyclic","cycling","cyclist","cylinder","cymbal","cytoplasm","cytoplast","dab","dad","daffodil","dagger","daily","daintily","dainty","dairy","daisy","dallying","dance","dancing","dandelion","dander","dandruff","dandy","danger","dangle","dangling","daredevil","dares","daringly","darkened","darkening","darkish","darkness","darkroom","darling","darn","dart","darwinism","dash","dastardly","data","datebook","dating","daughter","daunting","dawdler","dawn","daybed","daybreak","daycare","daydream","daylight","daylong","dayroom","daytime","dazzler","dazzling","deacon","deafening","deafness","dealer","dealing","dealmaker","dealt","dean","debatable","debate","debating","debit","debrief","debtless","debtor","debug","debunk","decade","decaf","decal","decathlon","decay","deceased","deceit","deceiver","deceiving","december","decency","decent","deception","deceptive","decibel","decidable","decimal","decimeter","decipher","deck","declared","decline","decode","decompose","decorated","decorator","decoy","decrease","decree","dedicate","dedicator","deduce","deduct","deed","deem","deepen","deeply","deepness","deface","defacing","defame","default","defeat","defection","defective","defendant","defender","defense","defensive","deferral","deferred","defiance","defiant","defile","defiling","define","definite","deflate","deflation","deflator","deflected","deflector","defog","deforest","defraud","defrost","deftly","defuse","defy","degraded","degrading","degrease","degree","dehydrate","deity","dejected","delay","delegate","delegator","delete","deletion","delicacy","delicate","delicious","delighted","delirious","delirium","deliverer","delivery","delouse","delta","deluge","delusion","deluxe","demanding","demeaning","demeanor","demise","democracy","democrat","demote","demotion","demystify","denatured","deniable","denial","denim","denote","dense","density","dental","dentist","denture","deny","deodorant","deodorize","departed","departure","depict","deplete","depletion","deplored","deploy","deport","depose","depraved","depravity","deprecate","depress","deprive","depth","deputize","deputy","derail","deranged","derby","derived","desecrate","deserve","deserving","designate","designed","designer","designing","deskbound","desktop","deskwork","desolate","despair","despise","despite","destiny","destitute","destruct","detached","detail","detection","detective","detector","detention","detergent","detest","detonate","detonator","detoxify","detract","deuce","devalue","deviancy","deviant","deviate","deviation","deviator","device","devious","devotedly","devotee","devotion","devourer","devouring","devoutly","dexterity","dexterous","diabetes","diabetic","diabolic","diagnoses","diagnosis","diagram","dial","diameter","diaper","diaphragm","diary","dice","dicing","dictate","dictation","dictator","difficult","diffused","diffuser","diffusion","diffusive","dig","dilation","diligence","diligent","dill","dilute","dime","diminish","dimly","dimmed","dimmer","dimness","dimple","diner","dingbat","dinghy","dinginess","dingo","dingy","dining","dinner","diocese","dioxide","diploma","dipped","dipper","dipping","directed","direction","directive","directly","directory","direness","dirtiness","disabled","disagree","disallow","disarm","disarray","disaster","disband","disbelief","disburse","discard","discern","discharge","disclose","discolor","discount","discourse","discover","discuss","disdain","disengage","disfigure","disgrace","dish","disinfect","disjoin","disk","dislike","disliking","dislocate","dislodge","disloyal","dismantle","dismay","dismiss","dismount","disobey","disorder","disown","disparate","disparity","dispatch","dispense","dispersal","dispersed","disperser","displace","display","displease","disposal","dispose","disprove","dispute","disregard","disrupt","dissuade","distance","distant","distaste","distill","distinct","distort","distract","distress","district","distrust","ditch","ditto","ditzy","dividable","divided","dividend","dividers","dividing","divinely","diving","divinity","divisible","divisibly","division","divisive","divorcee","dizziness","dizzy","doable","docile","dock","doctrine","document","dodge","dodgy","doily","doing","dole","dollar","dollhouse","dollop","dolly","dolphin","domain","domelike","domestic","dominion","dominoes","donated","donation","donator","donor","donut","doodle","doorbell","doorframe","doorknob","doorman","doormat","doornail","doorpost","doorstep","doorstop","doorway","doozy","dork","dormitory","dorsal","dosage","dose","dotted","doubling","douche","dove","down","dowry","doze","drab","dragging","dragonfly","dragonish","dragster","drainable","drainage","drained","drainer","drainpipe","dramatic","dramatize","drank","drapery","drastic","draw","dreaded","dreadful","dreadlock","dreamboat","dreamily","dreamland","dreamless","dreamlike","dreamt","dreamy","drearily","dreary","drench","dress","drew","dribble","dried","drier","drift","driller","drilling","drinkable","drinking","dripping","drippy","drivable","driven","driver","driveway","driving","drizzle","drizzly","drone","drool","droop","drop-down","dropbox","dropkick","droplet","dropout","dropper","drove","drown","drowsily","drudge","drum","dry","dubbed","dubiously","duchess","duckbill","ducking","duckling","ducktail","ducky","duct","dude","duffel","dugout","duh","duke","duller","dullness","duly","dumping","dumpling","dumpster","duo","dupe","duplex","duplicate","duplicity","durable","durably","duration","duress","during","dusk","dust","dutiful","duty","duvet","dwarf","dweeb","dwelled","dweller","dwelling","dwindle","dwindling","dynamic","dynamite","dynasty","dyslexia","dyslexic","each","eagle","earache","eardrum","earflap","earful","earlobe","early","earmark","earmuff","earphone","earpiece","earplugs","earring","earshot","earthen","earthlike","earthling","earthly","earthworm","earthy","earwig","easeful","easel","easiest","easily","easiness","easing","eastbound","eastcoast","easter","eastward","eatable","eaten","eatery","eating","eats","ebay","ebony","ebook","ecard","eccentric","echo","eclair","eclipse","ecologist","ecology","economic","economist","economy","ecosphere","ecosystem","edge","edginess","edging","edgy","edition","editor","educated","education","educator","eel","effective","effects","efficient","effort","eggbeater","egging","eggnog","eggplant","eggshell","egomaniac","egotism","egotistic","either","eject","elaborate","elastic","elated","elbow","eldercare","elderly","eldest","electable","election","elective","elephant","elevate","elevating","elevation","elevator","eleven","elf","eligible","eligibly","eliminate","elite","elitism","elixir","elk","ellipse","elliptic","elm","elongated","elope","eloquence","eloquent","elsewhere","elude","elusive","elves","email","embargo","embark","embassy","embattled","embellish","ember","embezzle","emblaze","emblem","embody","embolism","emboss","embroider","emcee","emerald","emergency","emission","emit","emote","emoticon","emotion","empathic","empathy","emperor","emphases","emphasis","emphasize","emphatic","empirical","employed","employee","employer","emporium","empower","emptier","emptiness","empty","emu","enable","enactment","enamel","enchanted","enchilada","encircle","enclose","enclosure","encode","encore","encounter","encourage","encroach","encrust","encrypt","endanger","endeared","endearing","ended","ending","endless","endnote","endocrine","endorphin","endorse","endowment","endpoint","endurable","endurance","enduring","energetic","energize","energy","enforced","enforcer","engaged","engaging","engine","engorge","engraved","engraver","engraving","engross","engulf","enhance","enigmatic","enjoyable","enjoyably","enjoyer","enjoying","enjoyment","enlarged","enlarging","enlighten","enlisted","enquirer","enrage","enrich","enroll","enslave","ensnare","ensure","entail","entangled","entering","entertain","enticing","entire","entitle","entity","entomb","entourage","entrap","entree","entrench","entrust","entryway","entwine","enunciate","envelope","enviable","enviably","envious","envision","envoy","envy","enzyme","epic","epidemic","epidermal","epidermis","epidural","epilepsy","epileptic","epilogue","epiphany","episode","equal","equate","equation","equator","equinox","equipment","equity","equivocal","eradicate","erasable","erased","eraser","erasure","ergonomic","errand","errant","erratic","error","erupt","escalate","escalator","escapable","escapade","escapist","escargot","eskimo","esophagus","espionage","espresso","esquire","essay","essence","essential","establish","estate","esteemed","estimate","estimator","estranged","estrogen","etching","eternal","eternity","ethanol","ether","ethically","ethics","euphemism","evacuate","evacuee","evade","evaluate","evaluator","evaporate","evasion","evasive","even","everglade","evergreen","everybody","everyday","everyone","evict","evidence","evident","evil","evoke","evolution","evolve","exact","exalted","example","excavate","excavator","exceeding","exception","excess","exchange","excitable","exciting","exclaim","exclude","excluding","exclusion","exclusive","excretion","excretory","excursion","excusable","excusably","excuse","exemplary","exemplify","exemption","exerciser","exert","exes","exfoliate","exhale","exhaust","exhume","exile","existing","exit","exodus","exonerate","exorcism","exorcist","expand","expanse","expansion","expansive","expectant","expedited","expediter","expel","expend","expenses","expensive","expert","expire","expiring","explain","expletive","explicit","explode","exploit","explore","exploring","exponent","exporter","exposable","expose","exposure","express","expulsion","exquisite","extended","extending","extent","extenuate","exterior","external","extinct","extortion","extradite","extras","extrovert","extrude","extruding","exuberant","fable","fabric","fabulous","facebook","facecloth","facedown","faceless","facelift","faceplate","faceted","facial","facility","facing","facsimile","faction","factoid","factor","factsheet","factual","faculty","fade","fading","failing","falcon","fall","false","falsify","fame","familiar","family","famine","famished","fanatic","fancied","fanciness","fancy","fanfare","fang","fanning","fantasize","fantastic","fantasy","fascism","fastball","faster","fasting","fastness","faucet","favorable","favorably","favored","favoring","favorite","fax","feast","federal","fedora","feeble","feed","feel","feisty","feline","felt-tip","feminine","feminism","feminist","feminize","femur","fence","fencing","fender","ferment","fernlike","ferocious","ferocity","ferret","ferris","ferry","fervor","fester","festival","festive","festivity","fetal","fetch","fever","fiber","fiction","fiddle","fiddling","fidelity","fidgeting","fidgety","fifteen","fifth","fiftieth","fifty","figment","figure","figurine","filing","filled","filler","filling","film","filter","filth","filtrate","finale","finalist","finalize","finally","finance","financial","finch","fineness","finer","finicky","finished","finisher","finishing","finite","finless","finlike","fiscally","fit","five","flaccid","flagman","flagpole","flagship","flagstick","flagstone","flail","flakily","flaky","flame","flammable","flanked","flanking","flannels","flap","flaring","flashback","flashbulb","flashcard","flashily","flashing","flashy","flask","flatbed","flatfoot","flatly","flatness","flatten","flattered","flatterer","flattery","flattop","flatware","flatworm","flavored","flavorful","flavoring","flaxseed","fled","fleshed","fleshy","flick","flier","flight","flinch","fling","flint","flip","flirt","float","flock","flogging","flop","floral","florist","floss","flounder","flyable","flyaway","flyer","flying","flyover","flypaper","foam","foe","fog","foil","folic","folk","follicle","follow","fondling","fondly","fondness","fondue","font","food","fool","footage","football","footbath","footboard","footer","footgear","foothill","foothold","footing","footless","footman","footnote","footpad","footpath","footprint","footrest","footsie","footsore","footwear","footwork","fossil","foster","founder","founding","fountain","fox","foyer","fraction","fracture","fragile","fragility","fragment","fragrance","fragrant","frail","frame","framing","frantic","fraternal","frayed","fraying","frays","freckled","freckles","freebase","freebee","freebie","freedom","freefall","freehand","freeing","freeload","freely","freemason","freeness","freestyle","freeware","freeway","freewill","freezable","freezing","freight","french","frenzied","frenzy","frequency","frequent","fresh","fretful","fretted","friction","friday","fridge","fried","friend","frighten","frightful","frigidity","frigidly","frill","fringe","frisbee","frisk","fritter","frivolous","frolic","from","front","frostbite","frosted","frostily","frosting","frostlike","frosty","froth","frown","frozen","fructose","frugality","frugally","fruit","frustrate","frying","gab","gaffe","gag","gainfully","gaining","gains","gala","gallantly","galleria","gallery","galley","gallon","gallows","gallstone","galore","galvanize","gambling","game","gaming","gamma","gander","gangly","gangrene","gangway","gap","garage","garbage","garden","gargle","garland","garlic","garment","garnet","garnish","garter","gas","gatherer","gathering","gating","gauging","gauntlet","gauze","gave","gawk","gazing","gear","gecko","geek","geiger","gem","gender","generic","generous","genetics","genre","gentile","gentleman","gently","gents","geography","geologic","geologist","geology","geometric","geometry","geranium","gerbil","geriatric","germicide","germinate","germless","germproof","gestate","gestation","gesture","getaway","getting","getup","giant","gibberish","giblet","giddily","giddiness","giddy","gift","gigabyte","gigahertz","gigantic","giggle","giggling","giggly","gigolo","gilled","gills","gimmick","girdle","giveaway","given","giver","giving","gizmo","gizzard","glacial","glacier","glade","gladiator","gladly","glamorous","glamour","glance","glancing","glandular","glare","glaring","glass","glaucoma","glazing","gleaming","gleeful","glider","gliding","glimmer","glimpse","glisten","glitch","glitter","glitzy","gloater","gloating","gloomily","gloomy","glorified","glorifier","glorify","glorious","glory","gloss","glove","glowing","glowworm","glucose","glue","gluten","glutinous","glutton","gnarly","gnat","goal","goatskin","goes","goggles","going","goldfish","goldmine","goldsmith","golf","goliath","gonad","gondola","gone","gong","good","gooey","goofball","goofiness","goofy","google","goon","gopher","gore","gorged","gorgeous","gory","gosling","gossip","gothic","gotten","gout","gown","grab","graceful","graceless","gracious","gradation","graded","grader","gradient","grading","gradually","graduate","graffiti","grafted","grafting","grain","granddad","grandkid","grandly","grandma","grandpa","grandson","granite","granny","granola","grant","granular","grape","graph","grapple","grappling","grasp","grass","gratified","gratify","grating","gratitude","gratuity","gravel","graveness","graves","graveyard","gravitate","gravity","gravy","gray","grazing","greasily","greedily","greedless","greedy","green","greeter","greeting","grew","greyhound","grid","grief","grievance","grieving","grievous","grill","grimace","grimacing","grime","griminess","grimy","grinch","grinning","grip","gristle","grit","groggily","groggy","groin","groom","groove","grooving","groovy","grope","ground","grouped","grout","grove","grower","growing","growl","grub","grudge","grudging","grueling","gruffly","grumble","grumbling","grumbly","grumpily","grunge","grunt","guacamole","guidable","guidance","guide","guiding","guileless","guise","gulf","gullible","gully","gulp","gumball","gumdrop","gumminess","gumming","gummy","gurgle","gurgling","guru","gush","gusto","gusty","gutless","guts","gutter","guy","guzzler","gyration","habitable","habitant","habitat","habitual","hacked","hacker","hacking","hacksaw","had","haggler","haiku","half","halogen","halt","halved","halves","hamburger","hamlet","hammock","hamper","hamster","hamstring","handbag","handball","handbook","handbrake","handcart","handclap","handclasp","handcraft","handcuff","handed","handful","handgrip","handgun","handheld","handiness","handiwork","handlebar","handled","handler","handling","handmade","handoff","handpick","handprint","handrail","handsaw","handset","handsfree","handshake","handstand","handwash","handwork","handwoven","handwrite","handyman","hangnail","hangout","hangover","hangup","hankering","hankie","hanky","haphazard","happening","happier","happiest","happily","happiness","happy","harbor","hardcopy","hardcore","hardcover","harddisk","hardened","hardener","hardening","hardhat","hardhead","hardiness","hardly","hardness","hardship","hardware","hardwired","hardwood","hardy","harmful","harmless","harmonica","harmonics","harmonize","harmony","harness","harpist","harsh","harvest","hash","hassle","haste","hastily","hastiness","hasty","hatbox","hatchback","hatchery","hatchet","hatching","hatchling","hate","hatless","hatred","haunt","haven","hazard","hazelnut","hazily","haziness","hazing","hazy","headache","headband","headboard","headcount","headdress","headed","header","headfirst","headgear","heading","headlamp","headless","headlock","headphone","headpiece","headrest","headroom","headscarf","headset","headsman","headstand","headstone","headway","headwear","heap","heat","heave","heavily","heaviness","heaving","hedge","hedging","heftiness","hefty","helium","helmet","helper","helpful","helping","helpless","helpline","hemlock","hemstitch","hence","henchman","henna","herald","herbal","herbicide","herbs","heritage","hermit","heroics","heroism","herring","herself","hertz","hesitancy","hesitant","hesitate","hexagon","hexagram","hubcap","huddle","huddling","huff","hug","hula","hulk","hull","human","humble","humbling","humbly","humid","humiliate","humility","humming","hummus","humongous","humorist","humorless","humorous","humpback","humped","humvee","hunchback","hundredth","hunger","hungrily","hungry","hunk","hunter","hunting","huntress","huntsman","hurdle","hurled","hurler","hurling","hurray","hurricane","hurried","hurry","hurt","husband","hush","husked","huskiness","hut","hybrid","hydrant","hydrated","hydration","hydrogen","hydroxide","hyperlink","hypertext","hyphen","hypnoses","hypnosis","hypnotic","hypnotism","hypnotist","hypnotize","hypocrisy","hypocrite","ibuprofen","ice","iciness","icing","icky","icon","icy","idealism","idealist","idealize","ideally","idealness","identical","identify","identity","ideology","idiocy","idiom","idly","igloo","ignition","ignore","iguana","illicitly","illusion","illusive","image","imaginary","imagines","imaging","imbecile","imitate","imitation","immature","immerse","immersion","imminent","immobile","immodest","immorally","immortal","immovable","immovably","immunity","immunize","impaired","impale","impart","impatient","impeach","impeding","impending","imperfect","imperial","impish","implant","implement","implicate","implicit","implode","implosion","implosive","imply","impolite","important","importer","impose","imposing","impotence","impotency","impotent","impound","imprecise","imprint","imprison","impromptu","improper","improve","improving","improvise","imprudent","impulse","impulsive","impure","impurity","iodine","iodize","ion","ipad","iphone","ipod","irate","irk","iron","irregular","irrigate","irritable","irritably","irritant","irritate","islamic","islamist","isolated","isolating","isolation","isotope","issue","issuing","italicize","italics","item","itinerary","itunes","ivory","ivy","jab","jackal","jacket","jackknife","jackpot","jailbird","jailbreak","jailer","jailhouse","jalapeno","jam","janitor","january","jargon","jarring","jasmine","jaundice","jaunt","java","jawed","jawless","jawline","jaws","jaybird","jaywalker","jazz","jeep","jeeringly","jellied","jelly","jersey","jester","jet","jiffy","jigsaw","jimmy","jingle","jingling","jinx","jitters","jittery","job","jockey","jockstrap","jogger","jogging","john","joining","jokester","jokingly","jolliness","jolly","jolt","jot","jovial","joyfully","joylessly","joyous","joyride","joystick","jubilance","jubilant","judge","judgingly","judicial","judiciary","judo","juggle","juggling","jugular","juice","juiciness","juicy","jujitsu","jukebox","july","jumble","jumbo","jump","junction","juncture","june","junior","juniper","junkie","junkman","junkyard","jurist","juror","jury","justice","justifier","justify","justly","justness","juvenile","kabob","kangaroo","karaoke","karate","karma","kebab","keenly","keenness","keep","keg","kelp","kennel","kept","kerchief","kerosene","kettle","kick","kiln","kilobyte","kilogram","kilometer","kilowatt","kilt","kimono","kindle","kindling","kindly","kindness","kindred","kinetic","kinfolk","king","kinship","kinsman","kinswoman","kissable","kisser","kissing","kitchen","kite","kitten","kitty","kiwi","kleenex","knapsack","knee","knelt","knickers","knoll","koala","kooky","kosher","krypton","kudos","kung","labored","laborer","laboring","laborious","labrador","ladder","ladies","ladle","ladybug","ladylike","lagged","lagging","lagoon","lair","lake","lance","landed","landfall","landfill","landing","landlady","landless","landline","landlord","landmark","landmass","landmine","landowner","landscape","landside","landslide","language","lankiness","lanky","lantern","lapdog","lapel","lapped","lapping","laptop","lard","large","lark","lash","lasso","last","latch","late","lather","latitude","latrine","latter","latticed","launch","launder","laundry","laurel","lavender","lavish","laxative","lazily","laziness","lazy","lecturer","left","legacy","legal","legend","legged","leggings","legible","legibly","legislate","lego","legroom","legume","legwarmer","legwork","lemon","lend","length","lens","lent","leotard","lesser","letdown","lethargic","lethargy","letter","lettuce","level","leverage","levers","levitate","levitator","liability","liable","liberty","librarian","library","licking","licorice","lid","life","lifter","lifting","liftoff","ligament","likely","likeness","likewise","liking","lilac","lilly","lily","limb","limeade","limelight","limes","limit","limping","limpness","line","lingo","linguini","linguist","lining","linked","linoleum","linseed","lint","lion","lip","liquefy","liqueur","liquid","lisp","list","litigate","litigator","litmus","litter","little","livable","lived","lively","liver","livestock","lividly","living","lizard","lubricant","lubricate","lucid","luckily","luckiness","luckless","lucrative","ludicrous","lugged","lukewarm","lullaby","lumber","luminance","luminous","lumpiness","lumping","lumpish","lunacy","lunar","lunchbox","luncheon","lunchroom","lunchtime","lung","lurch","lure","luridness","lurk","lushly","lushness","luster","lustfully","lustily","lustiness","lustrous","lusty","luxurious","luxury","lying","lyrically","lyricism","lyricist","lyrics","macarena","macaroni","macaw","mace","machine","machinist","magazine","magenta","maggot","magical","magician","magma","magnesium","magnetic","magnetism","magnetize","magnifier","magnify","magnitude","magnolia","mahogany","maimed","majestic","majesty","majorette","majority","makeover","maker","makeshift","making","malformed","malt","mama","mammal","mammary","mammogram","manager","managing","manatee","mandarin","mandate","mandatory","mandolin","manger","mangle","mango","mangy","manhandle","manhole","manhood","manhunt","manicotti","manicure","manifesto","manila","mankind","manlike","manliness","manly","manmade","manned","mannish","manor","manpower","mantis","mantra","manual","many","map","marathon","marauding","marbled","marbles","marbling","march","mardi","margarine","margarita","margin","marigold","marina","marine","marital","maritime","marlin","marmalade","maroon","married","marrow","marry","marshland","marshy","marsupial","marvelous","marxism","mascot","masculine","mashed","mashing","massager","masses","massive","mastiff","matador","matchbook","matchbox","matcher","matching","matchless","material","maternal","maternity","math","mating","matriarch","matrimony","matrix","matron","matted","matter","maturely","maturing","maturity","mauve","maverick","maximize","maximum","maybe","mayday","mayflower","moaner","moaning","mobile","mobility","mobilize","mobster","mocha","mocker","mockup","modified","modify","modular","modulator","module","moisten","moistness","moisture","molar","molasses","mold","molecular","molecule","molehill","mollusk","mom","monastery","monday","monetary","monetize","moneybags","moneyless","moneywise","mongoose","mongrel","monitor","monkhood","monogamy","monogram","monologue","monopoly","monorail","monotone","monotype","monoxide","monsieur","monsoon","monstrous","monthly","monument","moocher","moodiness","moody","mooing","moonbeam","mooned","moonlight","moonlike","moonlit","moonrise","moonscape","moonshine","moonstone","moonwalk","mop","morale","morality","morally","morbidity","morbidly","morphine","morphing","morse","mortality","mortally","mortician","mortified","mortify","mortuary","mosaic","mossy","most","mothball","mothproof","motion","motivate","motivator","motive","motocross","motor","motto","mountable","mountain","mounted","mounting","mourner","mournful","mouse","mousiness","moustache","mousy","mouth","movable","move","movie","moving","mower","mowing","much","muck","mud","mug","mulberry","mulch","mule","mulled","mullets","multiple","multiply","multitask","multitude","mumble","mumbling","mumbo","mummified","mummify","mummy","mumps","munchkin","mundane","municipal","muppet","mural","murkiness","murky","murmuring","muscular","museum","mushily","mushiness","mushroom","mushy","music","musket","muskiness","musky","mustang","mustard","muster","mustiness","musty","mutable","mutate","mutation","mute","mutilated","mutilator","mutiny","mutt","mutual","muzzle","myself","myspace","mystified","mystify","myth","nacho","nag","nail","name","naming","nanny","nanometer","nape","napkin","napped","napping","nappy","narrow","nastily","nastiness","national","native","nativity","natural","nature","naturist","nautical","navigate","navigator","navy","nearby","nearest","nearly","nearness","neatly","neatness","nebula","nebulizer","nectar","negate","negation","negative","neglector","negligee","negligent","negotiate","nemeses","nemesis","neon","nephew","nerd","nervous","nervy","nest","net","neurology","neuron","neurosis","neurotic","neuter","neutron","never","next","nibble","nickname","nicotine","niece","nifty","nimble","nimbly","nineteen","ninetieth","ninja","nintendo","ninth","nuclear","nuclei","nucleus","nugget","nullify","number","numbing","numbly","numbness","numeral","numerate","numerator","numeric","numerous","nuptials","nursery","nursing","nurture","nutcase","nutlike","nutmeg","nutrient","nutshell","nuttiness","nutty","nuzzle","nylon","oaf","oak","oasis","oat","obedience","obedient","obituary","object","obligate","obliged","oblivion","oblivious","oblong","obnoxious","oboe","obscure","obscurity","observant","observer","observing","obsessed","obsession","obsessive","obsolete","obstacle","obstinate","obstruct","obtain","obtrusive","obtuse","obvious","occultist","occupancy","occupant","occupier","occupy","ocean","ocelot","octagon","octane","october","octopus","ogle","oil","oink","ointment","okay","old","olive","olympics","omega","omen","ominous","omission","omit","omnivore","onboard","oncoming","ongoing","onion","online","onlooker","only","onscreen","onset","onshore","onslaught","onstage","onto","onward","onyx","oops","ooze","oozy","opacity","opal","open","operable","operate","operating","operation","operative","operator","opium","opossum","opponent","oppose","opposing","opposite","oppressed","oppressor","opt","opulently","osmosis","other","otter","ouch","ought","ounce","outage","outback","outbid","outboard","outbound","outbreak","outburst","outcast","outclass","outcome","outdated","outdoors","outer","outfield","outfit","outflank","outgoing","outgrow","outhouse","outing","outlast","outlet","outline","outlook","outlying","outmatch","outmost","outnumber","outplayed","outpost","outpour","output","outrage","outrank","outreach","outright","outscore","outsell","outshine","outshoot","outsider","outskirts","outsmart","outsource","outspoken","outtakes","outthink","outward","outweigh","outwit","oval","ovary","oven","overact","overall","overarch","overbid","overbill","overbite","overblown","overboard","overbook","overbuilt","overcast","overcoat","overcome","overcook","overcrowd","overdraft","overdrawn","overdress","overdrive","overdue","overeager","overeater","overexert","overfed","overfeed","overfill","overflow","overfull","overgrown","overhand","overhang","overhaul","overhead","overhear","overheat","overhung","overjoyed","overkill","overlabor","overlaid","overlap","overlay","overload","overlook","overlord","overlying","overnight","overpass","overpay","overplant","overplay","overpower","overprice","overrate","overreach","overreact","override","overripe","overrule","overrun","overshoot","overshot","oversight","oversized","oversleep","oversold","overspend","overstate","overstay","overstep","overstock","overstuff","oversweet","overtake","overthrow","overtime","overtly","overtone","overture","overturn","overuse","overvalue","overview","overwrite","owl","oxford","oxidant","oxidation","oxidize","oxidizing","oxygen","oxymoron","oyster","ozone","paced","pacemaker","pacific","pacifier","pacifism","pacifist","pacify","padded","padding","paddle","paddling","padlock","pagan","pager","paging","pajamas","palace","palatable","palm","palpable","palpitate","paltry","pampered","pamperer","pampers","pamphlet","panama","pancake","pancreas","panda","pandemic","pang","panhandle","panic","panning","panorama","panoramic","panther","pantomime","pantry","pants","pantyhose","paparazzi","papaya","paper","paprika","papyrus","parabola","parachute","parade","paradox","paragraph","parakeet","paralegal","paralyses","paralysis","paralyze","paramedic","parameter","paramount","parasail","parasite","parasitic","parcel","parched","parchment","pardon","parish","parka","parking","parkway","parlor","parmesan","parole","parrot","parsley","parsnip","partake","parted","parting","partition","partly","partner","partridge","party","passable","passably","passage","passcode","passenger","passerby","passing","passion","passive","passivism","passover","passport","password","pasta","pasted","pastel","pastime","pastor","pastrami","pasture","pasty","patchwork","patchy","paternal","paternity","path","patience","patient","patio","patriarch","patriot","patrol","patronage","patronize","pauper","pavement","paver","pavestone","pavilion","paving","pawing","payable","payback","paycheck","payday","payee","payer","paying","payment","payphone","payroll","pebble","pebbly","pecan","pectin","peculiar","peddling","pediatric","pedicure","pedigree","pedometer","pegboard","pelican","pellet","pelt","pelvis","penalize","penalty","pencil","pendant","pending","penholder","penknife","pennant","penniless","penny","penpal","pension","pentagon","pentagram","pep","perceive","percent","perch","percolate","perennial","perfected","perfectly","perfume","periscope","perish","perjurer","perjury","perkiness","perky","perm","peroxide","perpetual","perplexed","persecute","persevere","persuaded","persuader","pesky","peso","pessimism","pessimist","pester","pesticide","petal","petite","petition","petri","petroleum","petted","petticoat","pettiness","petty","petunia","phantom","phobia","phoenix","phonebook","phoney","phonics","phoniness","phony","phosphate","photo","phrase","phrasing","placard","placate","placidly","plank","planner","plant","plasma","plaster","plastic","plated","platform","plating","platinum","platonic","platter","platypus","plausible","plausibly","playable","playback","player","playful","playgroup","playhouse","playing","playlist","playmaker","playmate","playoff","playpen","playroom","playset","plaything","playtime","plaza","pleading","pleat","pledge","plentiful","plenty","plethora","plexiglas","pliable","plod","plop","plot","plow","ploy","pluck","plug","plunder","plunging","plural","plus","plutonium","plywood","poach","pod","poem","poet","pogo","pointed","pointer","pointing","pointless","pointy","poise","poison","poker","poking","polar","police","policy","polio","polish","politely","polka","polo","polyester","polygon","polygraph","polymer","poncho","pond","pony","popcorn","pope","poplar","popper","poppy","popsicle","populace","popular","populate","porcupine","pork","porous","porridge","portable","portal","portfolio","porthole","portion","portly","portside","poser","posh","posing","possible","possibly","possum","postage","postal","postbox","postcard","posted","poster","posting","postnasal","posture","postwar","pouch","pounce","pouncing","pound","pouring","pout","powdered","powdering","powdery","power","powwow","pox","praising","prance","prancing","pranker","prankish","prankster","prayer","praying","preacher","preaching","preachy","preamble","precinct","precise","precision","precook","precut","predator","predefine","predict","preface","prefix","preflight","preformed","pregame","pregnancy","pregnant","preheated","prelaunch","prelaw","prelude","premiere","premises","premium","prenatal","preoccupy","preorder","prepaid","prepay","preplan","preppy","preschool","prescribe","preseason","preset","preshow","president","presoak","press","presume","presuming","preteen","pretended","pretender","pretense","pretext","pretty","pretzel","prevail","prevalent","prevent","preview","previous","prewar","prewashed","prideful","pried","primal","primarily","primary","primate","primer","primp","princess","print","prior","prism","prison","prissy","pristine","privacy","private","privatize","prize","proactive","probable","probably","probation","probe","probing","probiotic","problem","procedure","process","proclaim","procreate","procurer","prodigal","prodigy","produce","product","profane","profanity","professed","professor","profile","profound","profusely","progeny","prognosis","program","progress","projector","prologue","prolonged","promenade","prominent","promoter","promotion","prompter","promptly","prone","prong","pronounce","pronto","proofing","proofread","proofs","propeller","properly","property","proponent","proposal","propose","props","prorate","protector","protegee","proton","prototype","protozoan","protract","protrude","proud","provable","proved","proven","provided","provider","providing","province","proving","provoke","provoking","provolone","prowess","prowler","prowling","proximity","proxy","prozac","prude","prudishly","prune","pruning","pry","psychic","public","publisher","pucker","pueblo","pug","pull","pulmonary","pulp","pulsate","pulse","pulverize","puma","pumice","pummel","punch","punctual","punctuate","punctured","pungent","punisher","punk","pupil","puppet","puppy","purchase","pureblood","purebred","purely","pureness","purgatory","purge","purging","purifier","purify","purist","puritan","purity","purple","purplish","purposely","purr","purse","pursuable","pursuant","pursuit","purveyor","pushcart","pushchair","pusher","pushiness","pushing","pushover","pushpin","pushup","pushy","putdown","putt","puzzle","puzzling","pyramid","pyromania","python","quack","quadrant","quail","quaintly","quake","quaking","qualified","qualifier","qualify","quality","qualm","quantum","quarrel","quarry","quartered","quarterly","quarters","quartet","quench","query","quicken","quickly","quickness","quicksand","quickstep","quiet","quill","quilt","quintet","quintuple","quirk","quit","quiver","quizzical","quotable","quotation","quote","rabid","race","racing","racism","rack","racoon","radar","radial","radiance","radiantly","radiated","radiation","radiator","radio","radish","raffle","raft","rage","ragged","raging","ragweed","raider","railcar","railing","railroad","railway","raisin","rake","raking","rally","ramble","rambling","ramp","ramrod","ranch","rancidity","random","ranged","ranger","ranging","ranked","ranking","ransack","ranting","rants","rare","rarity","rascal","rash","rasping","ravage","raven","ravine","raving","ravioli","ravishing","reabsorb","reach","reacquire","reaction","reactive","reactor","reaffirm","ream","reanalyze","reappear","reapply","reappoint","reapprove","rearrange","rearview","reason","reassign","reassure","reattach","reawake","rebalance","rebate","rebel","rebirth","reboot","reborn","rebound","rebuff","rebuild","rebuilt","reburial","rebuttal","recall","recant","recapture","recast","recede","recent","recess","recharger","recipient","recital","recite","reckless","reclaim","recliner","reclining","recluse","reclusive","recognize","recoil","recollect","recolor","reconcile","reconfirm","reconvene","recopy","record","recount","recoup","recovery","recreate","rectal","rectangle","rectified","rectify","recycled","recycler","recycling","reemerge","reenact","reenter","reentry","reexamine","referable","referee","reference","refill","refinance","refined","refinery","refining","refinish","reflected","reflector","reflex","reflux","refocus","refold","reforest","reformat","reformed","reformer","reformist","refract","refrain","refreeze","refresh","refried","refueling","refund","refurbish","refurnish","refusal","refuse","refusing","refutable","refute","regain","regalia","regally","reggae","regime","region","register","registrar","registry","regress","regretful","regroup","regular","regulate","regulator","rehab","reheat","rehire","rehydrate","reimburse","reissue","reiterate","rejoice","rejoicing","rejoin","rekindle","relapse","relapsing","relatable","related","relation","relative","relax","relay","relearn","release","relenting","reliable","reliably","reliance","reliant","relic","relieve","relieving","relight","relish","relive","reload","relocate","relock","reluctant","rely","remake","remark","remarry","rematch","remedial","remedy","remember","reminder","remindful","remission","remix","remnant","remodeler","remold","remorse","remote","removable","removal","removed","remover","removing","rename","renderer","rendering","rendition","renegade","renewable","renewably","renewal","renewed","renounce","renovate","renovator","rentable","rental","rented","renter","reoccupy","reoccur","reopen","reorder","repackage","repacking","repaint","repair","repave","repaying","repayment","repeal","repeated","repeater","repent","rephrase","replace","replay","replica","reply","reporter","repose","repossess","repost","repressed","reprimand","reprint","reprise","reproach","reprocess","reproduce","reprogram","reps","reptile","reptilian","repugnant","repulsion","repulsive","repurpose","reputable","reputably","request","require","requisite","reroute","rerun","resale","resample","rescuer","reseal","research","reselect","reseller","resemble","resend","resent","reset","reshape","reshoot","reshuffle","residence","residency","resident","residual","residue","resigned","resilient","resistant","resisting","resize","resolute","resolved","resonant","resonate","resort","resource","respect","resubmit","result","resume","resupply","resurface","resurrect","retail","retainer","retaining","retake","retaliate","retention","rethink","retinal","retired","retiree","retiring","retold","retool","retorted","retouch","retrace","retract","retrain","retread","retreat","retrial","retrieval","retriever","retry","return","retying","retype","reunion","reunite","reusable","reuse","reveal","reveler","revenge","revenue","reverb","revered","reverence","reverend","reversal","reverse","reversing","reversion","revert","revisable","revise","revision","revisit","revivable","revival","reviver","reviving","revocable","revoke","revolt","revolver","revolving","reward","rewash","rewind","rewire","reword","rework","rewrap","rewrite","rhyme","ribbon","ribcage","rice","riches","richly","richness","rickety","ricotta","riddance","ridden","ride","riding","rifling","rift","rigging","rigid","rigor","rimless","rimmed","rind","rink","rinse","rinsing","riot","ripcord","ripeness","ripening","ripping","ripple","rippling","riptide","rise","rising","risk","risotto","ritalin","ritzy","rival","riverbank","riverbed","riverboat","riverside","riveter","riveting","roamer","roaming","roast","robbing","robe","robin","robotics","robust","rockband","rocker","rocket","rockfish","rockiness","rocking","rocklike","rockslide","rockstar","rocky","rogue","roman","romp","rope","roping","roster","rosy","rotten","rotting","rotunda","roulette","rounding","roundish","roundness","roundup","roundworm","routine","routing","rover","roving","royal","rubbed","rubber","rubbing","rubble","rubdown","ruby","ruckus","rudder","rug","ruined","rule","rumble","rumbling","rummage","rumor","runaround","rundown","runner","running","runny","runt","runway","rupture","rural","ruse","rush","rust","rut","sabbath","sabotage","sacrament","sacred","sacrifice","sadden","saddlebag","saddled","saddling","sadly","sadness","safari","safeguard","safehouse","safely","safeness","saffron","saga","sage","sagging","saggy","said","saint","sake","salad","salami","salaried","salary","saline","salon","saloon","salsa","salt","salutary","salute","salvage","salvaging","salvation","same","sample","sampling","sanction","sanctity","sanctuary","sandal","sandbag","sandbank","sandbar","sandblast","sandbox","sanded","sandfish","sanding","sandlot","sandpaper","sandpit","sandstone","sandstorm","sandworm","sandy","sanitary","sanitizer","sank","santa","sapling","sappiness","sappy","sarcasm","sarcastic","sardine","sash","sasquatch","sassy","satchel","satiable","satin","satirical","satisfied","satisfy","saturate","saturday","sauciness","saucy","sauna","savage","savanna","saved","savings","savior","savor","saxophone","say","scabbed","scabby","scalded","scalding","scale","scaling","scallion","scallop","scalping","scam","scandal","scanner","scanning","scant","scapegoat","scarce","scarcity","scarecrow","scared","scarf","scarily","scariness","scarring","scary","scavenger","scenic","schedule","schematic","scheme","scheming","schilling","schnapps","scholar","science","scientist","scion","scoff","scolding","scone","scoop","scooter","scope","scorch","scorebook","scorecard","scored","scoreless","scorer","scoring","scorn","scorpion","scotch","scoundrel","scoured","scouring","scouting","scouts","scowling","scrabble","scraggly","scrambled","scrambler","scrap","scratch","scrawny","screen","scribble","scribe","scribing","scrimmage","script","scroll","scrooge","scrounger","scrubbed","scrubber","scruffy","scrunch","scrutiny","scuba","scuff","sculptor","sculpture","scurvy","scuttle","secluded","secluding","seclusion","second","secrecy","secret","sectional","sector","secular","securely","security","sedan","sedate","sedation","sedative","sediment","seduce","seducing","segment","seismic","seizing","seldom","selected","selection","selective","selector","self","seltzer","semantic","semester","semicolon","semifinal","seminar","semisoft","semisweet","senate","senator","send","senior","senorita","sensation","sensitive","sensitize","sensually","sensuous","sepia","september","septic","septum","sequel","sequence","sequester","series","sermon","serotonin","serpent","serrated","serve","service","serving","sesame","sessions","setback","setting","settle","settling","setup","sevenfold","seventeen","seventh","seventy","severity","shabby","shack","shaded","shadily","shadiness","shading","shadow","shady","shaft","shakable","shakily","shakiness","shaking","shaky","shale","shallot","shallow","shame","shampoo","shamrock","shank","shanty","shape","shaping","share","sharpener","sharper","sharpie","sharply","sharpness","shawl","sheath","shed","sheep","sheet","shelf","shell","shelter","shelve","shelving","sherry","shield","shifter","shifting","shiftless","shifty","shimmer","shimmy","shindig","shine","shingle","shininess","shining","shiny","ship","shirt","shivering","shock","shone","shoplift","shopper","shopping","shoptalk","shore","shortage","shortcake","shortcut","shorten","shorter","shorthand","shortlist","shortly","shortness","shorts","shortwave","shorty","shout","shove","showbiz","showcase","showdown","shower","showgirl","showing","showman","shown","showoff","showpiece","showplace","showroom","showy","shrank","shrapnel","shredder","shredding","shrewdly","shriek","shrill","shrimp","shrine","shrink","shrivel","shrouded","shrubbery","shrubs","shrug","shrunk","shucking","shudder","shuffle","shuffling","shun","shush","shut","shy","siamese","siberian","sibling","siding","sierra","siesta","sift","sighing","silenced","silencer","silent","silica","silicon","silk","silliness","silly","silo","silt","silver","similarly","simile","simmering","simple","simplify","simply","sincere","sincerity","singer","singing","single","singular","sinister","sinless","sinner","sinuous","sip","siren","sister","sitcom","sitter","sitting","situated","situation","sixfold","sixteen","sixth","sixties","sixtieth","sixtyfold","sizable","sizably","size","sizing","sizzle","sizzling","skater","skating","skedaddle","skeletal","skeleton","skeptic","sketch","skewed","skewer","skid","skied","skier","skies","skiing","skilled","skillet","skillful","skimmed","skimmer","skimming","skimpily","skincare","skinhead","skinless","skinning","skinny","skintight","skipper","skipping","skirmish","skirt","skittle","skydiver","skylight","skyline","skype","skyrocket","skyward","slab","slacked","slacker","slacking","slackness","slacks","slain","slam","slander","slang","slapping","slapstick","slashed","slashing","slate","slather","slaw","sled","sleek","sleep","sleet","sleeve","slept","sliceable","sliced","slicer","slicing","slick","slider","slideshow","sliding","slighted","slighting","slightly","slimness","slimy","slinging","slingshot","slinky","slip","slit","sliver","slobbery","slogan","sloped","sloping","sloppily","sloppy","slot","slouching","slouchy","sludge","slug","slum","slurp","slush","sly","small","smartly","smartness","smasher","smashing","smashup","smell","smelting","smile","smilingly","smirk","smite","smith","smitten","smock","smog","smoked","smokeless","smokiness","smoking","smoky","smolder","smooth","smother","smudge","smudgy","smuggler","smuggling","smugly","smugness","snack","snagged","snaking","snap","snare","snarl","snazzy","sneak","sneer","sneeze","sneezing","snide","sniff","snippet","snipping","snitch","snooper","snooze","snore","snoring","snorkel","snort","snout","snowbird","snowboard","snowbound","snowcap","snowdrift","snowdrop","snowfall","snowfield","snowflake","snowiness","snowless","snowman","snowplow","snowshoe","snowstorm","snowsuit","snowy","snub","snuff","snuggle","snugly","snugness","speak","spearfish","spearhead","spearman","spearmint","species","specimen","specked","speckled","specks","spectacle","spectator","spectrum","speculate","speech","speed","spellbind","speller","spelling","spendable","spender","spending","spent","spew","sphere","spherical","sphinx","spider","spied","spiffy","spill","spilt","spinach","spinal","spindle","spinner","spinning","spinout","spinster","spiny","spiral","spirited","spiritism","spirits","spiritual","splashed","splashing","splashy","splatter","spleen","splendid","splendor","splice","splicing","splinter","splotchy","splurge","spoilage","spoiled","spoiler","spoiling","spoils","spoken","spokesman","sponge","spongy","sponsor","spoof","spookily","spooky","spool","spoon","spore","sporting","sports","sporty","spotless","spotlight","spotted","spotter","spotting","spotty","spousal","spouse","spout","sprain","sprang","sprawl","spray","spree","sprig","spring","sprinkled","sprinkler","sprint","sprite","sprout","spruce","sprung","spry","spud","spur","sputter","spyglass","squabble","squad","squall","squander","squash","squatted","squatter","squatting","squeak","squealer","squealing","squeamish","squeegee","squeeze","squeezing","squid","squiggle","squiggly","squint","squire","squirt","squishier","squishy","stability","stabilize","stable","stack","stadium","staff","stage","staging","stagnant","stagnate","stainable","stained","staining","stainless","stalemate","staleness","stalling","stallion","stamina","stammer","stamp","stand","stank","staple","stapling","starboard","starch","stardom","stardust","starfish","stargazer","staring","stark","starless","starlet","starlight","starlit","starring","starry","starship","starter","starting","startle","startling","startup","starved","starving","stash","state","static","statistic","statue","stature","status","statute","statutory","staunch","stays","steadfast","steadier","steadily","steadying","steam","steed","steep","steerable","steering","steersman","stegosaur","stellar","stem","stench","stencil","step","stereo","sterile","sterility","sterilize","sterling","sternness","sternum","stew","stick","stiffen","stiffly","stiffness","stifle","stifling","stillness","stilt","stimulant","stimulate","stimuli","stimulus","stinger","stingily","stinging","stingray","stingy","stinking","stinky","stipend","stipulate","stir","stitch","stock","stoic","stoke","stole","stomp","stonewall","stoneware","stonework","stoning","stony","stood","stooge","stool","stoop","stoplight","stoppable","stoppage","stopped","stopper","stopping","stopwatch","storable","storage","storeroom","storewide","storm","stout","stove","stowaway","stowing","straddle","straggler","strained","strainer","straining","strangely","stranger","strangle","strategic","strategy","stratus","straw","stray","streak","stream","street","strength","strenuous","strep","stress","stretch","strewn","stricken","strict","stride","strife","strike","striking","strive","striving","strobe","strode","stroller","strongbox","strongly","strongman","struck","structure","strudel","struggle","strum","strung","strut","stubbed","stubble","stubbly","stubborn","stucco","stuck","student","studied","studio","study","stuffed","stuffing","stuffy","stumble","stumbling","stump","stung","stunned","stunner","stunning","stunt","stupor","sturdily","sturdy","styling","stylishly","stylist","stylized","stylus","suave","subarctic","subatomic","subdivide","subdued","subduing","subfloor","subgroup","subheader","subject","sublease","sublet","sublevel","sublime","submarine","submerge","submersed","submitter","subpanel","subpar","subplot","subprime","subscribe","subscript","subsector","subside","subsiding","subsidize","subsidy","subsoil","subsonic","substance","subsystem","subtext","subtitle","subtly","subtotal","subtract","subtype","suburb","subway","subwoofer","subzero","succulent","such","suction","sudden","sudoku","suds","sufferer","suffering","suffice","suffix","suffocate","suffrage","sugar","suggest","suing","suitable","suitably","suitcase","suitor","sulfate","sulfide","sulfite","sulfur","sulk","sullen","sulphate","sulphuric","sultry","superbowl","superglue","superhero","superior","superjet","superman","supermom","supernova","supervise","supper","supplier","supply","support","supremacy","supreme","surcharge","surely","sureness","surface","surfacing","surfboard","surfer","surgery","surgical","surging","surname","surpass","surplus","surprise","surreal","surrender","surrogate","surround","survey","survival","survive","surviving","survivor","sushi","suspect","suspend","suspense","sustained","sustainer","swab","swaddling","swagger","swampland","swan","swapping","swarm","sway","swear","sweat","sweep","swell","swept","swerve","swifter","swiftly","swiftness","swimmable","swimmer","swimming","swimsuit","swimwear","swinger","swinging","swipe","swirl","switch","swivel","swizzle","swooned","swoop","swoosh","swore","sworn","swung","sycamore","sympathy","symphonic","symphony","symptom","synapse","syndrome","synergy","synopses","synopsis","synthesis","synthetic","syrup","system","t-shirt","tabasco","tabby","tableful","tables","tablet","tableware","tabloid","tackiness","tacking","tackle","tackling","tacky","taco","tactful","tactical","tactics","tactile","tactless","tadpole","taekwondo","tag","tainted","take","taking","talcum","talisman","tall","talon","tamale","tameness","tamer","tamper","tank","tanned","tannery","tanning","tantrum","tapeless","tapered","tapering","tapestry","tapioca","tapping","taps","tarantula","target","tarmac","tarnish","tarot","tartar","tartly","tartness","task","tassel","taste","tastiness","tasting","tasty","tattered","tattle","tattling","tattoo","taunt","tavern","thank","that","thaw","theater","theatrics","thee","theft","theme","theology","theorize","thermal","thermos","thesaurus","these","thesis","thespian","thicken","thicket","thickness","thieving","thievish","thigh","thimble","thing","think","thinly","thinner","thinness","thinning","thirstily","thirsting","thirsty","thirteen","thirty","thong","thorn","those","thousand","thrash","thread","threaten","threefold","thrift","thrill","thrive","thriving","throat","throbbing","throng","throttle","throwaway","throwback","thrower","throwing","thud","thumb","thumping","thursday","thus","thwarting","thyself","tiara","tibia","tidal","tidbit","tidiness","tidings","tidy","tiger","tighten","tightly","tightness","tightrope","tightwad","tigress","tile","tiling","till","tilt","timid","timing","timothy","tinderbox","tinfoil","tingle","tingling","tingly","tinker","tinkling","tinsel","tinsmith","tint","tinwork","tiny","tipoff","tipped","tipper","tipping","tiptoeing","tiptop","tiring","tissue","trace","tracing","track","traction","tractor","trade","trading","tradition","traffic","tragedy","trailing","trailside","train","traitor","trance","tranquil","transfer","transform","translate","transpire","transport","transpose","trapdoor","trapeze","trapezoid","trapped","trapper","trapping","traps","trash","travel","traverse","travesty","tray","treachery","treading","treadmill","treason","treat","treble","tree","trekker","tremble","trembling","tremor","trench","trend","trespass","triage","trial","triangle","tribesman","tribunal","tribune","tributary","tribute","triceps","trickery","trickily","tricking","trickle","trickster","tricky","tricolor","tricycle","trident","tried","trifle","trifocals","trillion","trilogy","trimester","trimmer","trimming","trimness","trinity","trio","tripod","tripping","triumph","trivial","trodden","trolling","trombone","trophy","tropical","tropics","trouble","troubling","trough","trousers","trout","trowel","truce","truck","truffle","trump","trunks","trustable","trustee","trustful","trusting","trustless","truth","try","tubby","tubeless","tubular","tucking","tuesday","tug","tuition","tulip","tumble","tumbling","tummy","turban","turbine","turbofan","turbojet","turbulent","turf","turkey","turmoil","turret","turtle","tusk","tutor","tutu","tux","tweak","tweed","tweet","tweezers","twelve","twentieth","twenty","twerp","twice","twiddle","twiddling","twig","twilight","twine","twins","twirl","twistable","twisted","twister","twisting","twisty","twitch","twitter","tycoon","tying","tyke","udder","ultimate","ultimatum","ultra","umbilical","umbrella","umpire","unabashed","unable","unadorned","unadvised","unafraid","unaired","unaligned","unaltered","unarmored","unashamed","unaudited","unawake","unaware","unbaked","unbalance","unbeaten","unbend","unbent","unbiased","unbitten","unblended","unblessed","unblock","unbolted","unbounded","unboxed","unbraided","unbridle","unbroken","unbuckled","unbundle","unburned","unbutton","uncanny","uncapped","uncaring","uncertain","unchain","unchanged","uncharted","uncheck","uncivil","unclad","unclaimed","unclamped","unclasp","uncle","unclip","uncloak","unclog","unclothed","uncoated","uncoiled","uncolored","uncombed","uncommon","uncooked","uncork","uncorrupt","uncounted","uncouple","uncouth","uncover","uncross","uncrown","uncrushed","uncured","uncurious","uncurled","uncut","undamaged","undated","undaunted","undead","undecided","undefined","underage","underarm","undercoat","undercook","undercut","underdog","underdone","underfed","underfeed","underfoot","undergo","undergrad","underhand","underline","underling","undermine","undermost","underpaid","underpass","underpay","underrate","undertake","undertone","undertook","undertow","underuse","underwear","underwent","underwire","undesired","undiluted","undivided","undocked","undoing","undone","undrafted","undress","undrilled","undusted","undying","unearned","unearth","unease","uneasily","uneasy","uneatable","uneaten","unedited","unelected","unending","unengaged","unenvied","unequal","unethical","uneven","unexpired","unexposed","unfailing","unfair","unfasten","unfazed","unfeeling","unfiled","unfilled","unfitted","unfitting","unfixable","unfixed","unflawed","unfocused","unfold","unfounded","unframed","unfreeze","unfrosted","unfrozen","unfunded","unglazed","ungloved","unglue","ungodly","ungraded","ungreased","unguarded","unguided","unhappily","unhappy","unharmed","unhealthy","unheard","unhearing","unheated","unhelpful","unhidden","unhinge","unhitched","unholy","unhook","unicorn","unicycle","unified","unifier","uniformed","uniformly","unify","unimpeded","uninjured","uninstall","uninsured","uninvited","union","uniquely","unisexual","unison","unissued","unit","universal","universe","unjustly","unkempt","unkind","unknotted","unknowing","unknown","unlaced","unlatch","unlawful","unleaded","unlearned","unleash","unless","unleveled","unlighted","unlikable","unlimited","unlined","unlinked","unlisted","unlit","unlivable","unloaded","unloader","unlocked","unlocking","unlovable","unloved","unlovely","unloving","unluckily","unlucky","unmade","unmanaged","unmanned","unmapped","unmarked","unmasked","unmasking","unmatched","unmindful","unmixable","unmixed","unmolded","unmoral","unmovable","unmoved","unmoving","unnamable","unnamed","unnatural","unneeded","unnerve","unnerving","unnoticed","unopened","unopposed","unpack","unpadded","unpaid","unpainted","unpaired","unpaved","unpeeled","unpicked","unpiloted","unpinned","unplanned","unplanted","unpleased","unpledged","unplowed","unplug","unpopular","unproven","unquote","unranked","unrated","unraveled","unreached","unread","unreal","unreeling","unrefined","unrelated","unrented","unrest","unretired","unrevised","unrigged","unripe","unrivaled","unroasted","unrobed","unroll","unruffled","unruly","unrushed","unsaddle","unsafe","unsaid","unsalted","unsaved","unsavory","unscathed","unscented","unscrew","unsealed","unseated","unsecured","unseeing","unseemly","unseen","unselect","unselfish","unsent","unsettled","unshackle","unshaken","unshaved","unshaven","unsheathe","unshipped","unsightly","unsigned","unskilled","unsliced","unsmooth","unsnap","unsocial","unsoiled","unsold","unsolved","unsorted","unspoiled","unspoken","unstable","unstaffed","unstamped","unsteady","unsterile","unstirred","unstitch","unstopped","unstuck","unstuffed","unstylish","unsubtle","unsubtly","unsuited","unsure","unsworn","untagged","untainted","untaken","untamed","untangled","untapped","untaxed","unthawed","unthread","untidy","untie","until","untimed","untimely","untitled","untoasted","untold","untouched","untracked","untrained","untreated","untried","untrimmed","untrue","untruth","unturned","untwist","untying","unusable","unused","unusual","unvalued","unvaried","unvarying","unveiled","unveiling","unvented","unviable","unvisited","unvocal","unwanted","unwarlike","unwary","unwashed","unwatched","unweave","unwed","unwelcome","unwell","unwieldy","unwilling","unwind","unwired","unwitting","unwomanly","unworldly","unworn","unworried","unworthy","unwound","unwoven","unwrapped","unwritten","unzip","upbeat","upchuck","upcoming","upcountry","update","upfront","upgrade","upheaval","upheld","uphill","uphold","uplifted","uplifting","upload","upon","upper","upright","uprising","upriver","uproar","uproot","upscale","upside","upstage","upstairs","upstart","upstate","upstream","upstroke","upswing","uptake","uptight","uptown","upturned","upward","upwind","uranium","urban","urchin","urethane","urgency","urgent","urging","urologist","urology","usable","usage","useable","used","uselessly","user","usher","usual","utensil","utility","utilize","utmost","utopia","utter","vacancy","vacant","vacate","vacation","vagabond","vagrancy","vagrantly","vaguely","vagueness","valiant","valid","valium","valley","valuables","value","vanilla","vanish","vanity","vanquish","vantage","vaporizer","variable","variably","varied","variety","various","varmint","varnish","varsity","varying","vascular","vaseline","vastly","vastness","veal","vegan","veggie","vehicular","velcro","velocity","velvet","vendetta","vending","vendor","veneering","vengeful","venomous","ventricle","venture","venue","venus","verbalize","verbally","verbose","verdict","verify","verse","version","versus","vertebrae","vertical","vertigo","very","vessel","vest","veteran","veto","vexingly","viability","viable","vibes","vice","vicinity","victory","video","viewable","viewer","viewing","viewless","viewpoint","vigorous","village","villain","vindicate","vineyard","vintage","violate","violation","violator","violet","violin","viper","viral","virtual","virtuous","virus","visa","viscosity","viscous","viselike","visible","visibly","vision","visiting","visitor","visor","vista","vitality","vitalize","vitally","vitamins","vivacious","vividly","vividness","vixen","vocalist","vocalize","vocally","vocation","voice","voicing","void","volatile","volley","voltage","volumes","voter","voting","voucher","vowed","vowel","voyage","wackiness","wad","wafer","waffle","waged","wager","wages","waggle","wagon","wake","waking","walk","walmart","walnut","walrus","waltz","wand","wannabe","wanted","wanting","wasabi","washable","washbasin","washboard","washbowl","washcloth","washday","washed","washer","washhouse","washing","washout","washroom","washstand","washtub","wasp","wasting","watch","water","waviness","waving","wavy","whacking","whacky","wham","wharf","wheat","whenever","whiff","whimsical","whinny","whiny","whisking","whoever","whole","whomever","whoopee","whooping","whoops","why","wick","widely","widen","widget","widow","width","wieldable","wielder","wife","wifi","wikipedia","wildcard","wildcat","wilder","wildfire","wildfowl","wildland","wildlife","wildly","wildness","willed","willfully","willing","willow","willpower","wilt","wimp","wince","wincing","wind","wing","winking","winner","winnings","winter","wipe","wired","wireless","wiring","wiry","wisdom","wise","wish","wisplike","wispy","wistful","wizard","wobble","wobbling","wobbly","wok","wolf","wolverine","womanhood","womankind","womanless","womanlike","womanly","womb","woof","wooing","wool","woozy","word","work","worried","worrier","worrisome","worry","worsening","worshiper","worst","wound","woven","wow","wrangle","wrath","wreath","wreckage","wrecker","wrecking","wrench","wriggle","wriggly","wrinkle","wrinkly","wrist","writing","written","wrongdoer","wronged","wrongful","wrongly","wrongness","wrought","xbox","xerox","yahoo","yam","yanking","yapping","yard","yarn","yeah","yearbook","yearling","yearly","yearning","yeast","yelling","yelp","yen","yesterday","yiddish","yield","yin","yippee","yo-yo","yodel","yoga","yogurt","yonder","yoyo","yummy","zap","zealous","zebra","zen","zeppelin","zero","zestfully","zesty","zigzagged","zipfile","zipping","zippy","zips","zit","zodiac","zombie","zone","zoning","zookeeper","zoologist","zoology","zoom"]),xft=Object.freeze(vft.filter(t=>!t.includes("-")));function Eft({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const Aft=x.forwardRef(Eft);var ZA={},Cft=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},R2e={},ac={};let Mq;const kft=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ac.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ac.getSymbolTotalCodewords=function(e){return kft[e]};ac.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};ac.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Mq=e};ac.isKanjiModeEnabled=function(){return typeof Mq<"u"};ac.toSJIS=function(e){return Mq(e)};var $$={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})($$);function j2e(){this.buffer=[],this.length=0}j2e.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Sft=j2e;function JA(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}JA.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};JA.prototype.get=function(t,e){return this.data[t*this.size+e]};JA.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};JA.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var _ft=JA,O2e={};(function(t){const e=ac.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}})(O2e);var M2e={};const Ift=ac.getSymbolSize,jne=7;M2e.getPositions=function(e){const n=Ift(e);return[[0,0],[n-jne,0],[0,n-jne]]};var D2e={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,c=null,u=null;for(let h=0;h<s;h++){a=l=0,c=u=null;for(let f=0;f<s;f++){let p=i.get(h,f);p===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=p,a=1),p=i.get(f,h),p===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=p,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let c=0;c<s;c++){a=l=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(c,u),u>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(u,c),u>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,n(i,l,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){s(c),t.applyMask(c,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(c,i),u<l&&(l=u,a=c)}return a}})(D2e);var N$={};const Um=$$,Ck=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],kk=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];N$.getBlocksCount=function(e,n){switch(n){case Um.L:return Ck[(e-1)*4+0];case Um.M:return Ck[(e-1)*4+1];case Um.Q:return Ck[(e-1)*4+2];case Um.H:return Ck[(e-1)*4+3];default:return}};N$.getTotalCodewordsCount=function(e,n){switch(n){case Um.L:return kk[(e-1)*4+0];case Um.M:return kk[(e-1)*4+1];case Um.Q:return kk[(e-1)*4+2];case Um.H:return kk[(e-1)*4+3];default:return}};var B2e={},P$={};const h4=new Uint8Array(512),w7=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)h4[n]=e,w7[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)h4[n]=h4[n-255]})();P$.log=function(e){if(e<1)throw new Error("log("+e+")");return w7[e]};P$.exp=function(e){return h4[e]};P$.mul=function(e,n){return e===0||n===0?0:h4[w7[e]+w7[n]]};(function(t){const e=P$;t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(B2e);const L2e=B2e;function Dq(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Dq.prototype.initialize=function(e){this.degree=e,this.genPoly=L2e.generateECPolynomial(this.degree)};Dq.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=L2e.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var Tft=Dq,F2e={},Rg={},Bq={};Bq.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var df={};const U2e="[0-9]+",$ft="[A-Z $%*+\\-./:]+";let nE="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";nE=nE.replace(/u/g,"\\u");const Nft="(?:(?![A-Z0-9 $%*+\\-./:]|"+nE+`)(?:.|[\r
]))+`;df.KANJI=new RegExp(nE,"g");df.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");df.BYTE=new RegExp(Nft,"g");df.NUMERIC=new RegExp(U2e,"g");df.ALPHANUMERIC=new RegExp($ft,"g");const Pft=new RegExp("^"+nE+"$"),Rft=new RegExp("^"+U2e+"$"),jft=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");df.testKanji=function(e){return Pft.test(e)};df.testNumeric=function(e){return Rft.test(e)};df.testAlphanumeric=function(e){return jft.test(e)};(function(t){const e=Bq,n=df;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}})(Rg);(function(t){const e=ac,n=N$,r=$$,i=Rg,s=Bq,o=7973,a=e.getBCHDigit(o);function l(f,p,m){for(let g=1;g<=40;g++)if(p<=t.getCapacity(g,m,f))return g}function c(f,p){return i.getCharCountIndicator(f,p)+4}function u(f,p){let m=0;return f.forEach(function(g){const y=c(g.mode,p);m+=y+g.getBitsLength()}),m}function h(f,p){for(let m=1;m<=40;m++)if(u(f,m)<=t.getCapacity(m,p,i.MIXED))return m}t.from=function(p,m){return s.isValid(p)?parseInt(p,10):m},t.getCapacity=function(p,m,g){if(!s.isValid(p))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=i.BYTE);const y=e.getSymbolTotalCodewords(p),w=n.getTotalCodewordsCount(p,m),v=(y-w)*8;if(g===i.MIXED)return v;const b=v-c(g,p);switch(g){case i.NUMERIC:return Math.floor(b/10*3);case i.ALPHANUMERIC:return Math.floor(b/11*2);case i.KANJI:return Math.floor(b/13);case i.BYTE:default:return Math.floor(b/8)}},t.getBestVersionForData=function(p,m){let g;const y=r.from(m,r.M);if(Array.isArray(p)){if(p.length>1)return h(p,y);if(p.length===0)return 1;g=p[0]}else g=p;return l(g.mode,g.getLength(),y)},t.getEncodedBits=function(p){if(!s.isValid(p)||p<7)throw new Error("Invalid QR Code version");let m=p<<12;for(;e.getBCHDigit(m)-a>=0;)m^=o<<e.getBCHDigit(m)-a;return p<<12|m}})(F2e);var z2e={};const rF=ac,W2e=1335,Oft=21522,One=rF.getBCHDigit(W2e);z2e.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;rF.getBCHDigit(i)-One>=0;)i^=W2e<<rF.getBCHDigit(i)-One;return(r<<10|i)^Oft};var H2e={};const Mft=Rg;function Gx(t){this.mode=Mft.NUMERIC,this.data=t.toString()}Gx.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Gx.prototype.getLength=function(){return this.data.length};Gx.prototype.getBitsLength=function(){return Gx.getBitsLength(this.data.length)};Gx.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,s*3+1))};var Dft=Gx;const Bft=Rg,Oj=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Kx(t){this.mode=Bft.ALPHANUMERIC,this.data=t}Kx.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Kx.prototype.getLength=function(){return this.data.length};Kx.prototype.getBitsLength=function(){return Kx.getBitsLength(this.data.length)};Kx.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Oj.indexOf(this.data[n])*45;r+=Oj.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(Oj.indexOf(this.data[n]),6)};var Lft=Kx,Fft=function(e){for(var n=[],r=e.length,i=0;i<r;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&r>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){n.push(s);continue}if(s<2048){n.push(s>>6|192),n.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128);continue}if(s>=65536&&s<=1114111){n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const Uft=Fft,zft=Rg;function Yx(t){this.mode=zft.BYTE,typeof t=="string"&&(t=Uft(t)),this.data=new Uint8Array(t)}Yx.getBitsLength=function(e){return e*8};Yx.prototype.getLength=function(){return this.data.length};Yx.prototype.getBitsLength=function(){return Yx.getBitsLength(this.data.length)};Yx.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var Wft=Yx;const Hft=Rg,Vft=ac;function Qx(t){this.mode=Hft.KANJI,this.data=t}Qx.getBitsLength=function(e){return e*13};Qx.prototype.getLength=function(){return this.data.length};Qx.prototype.getBitsLength=function(){return Qx.getBitsLength(this.data.length)};Qx.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=Vft.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var qft=Qx,V2e={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,u,h,f,p,m,g,y;!a.empty();){l=a.pop(),c=l.value,h=l.cost,f=n[c]||{};for(u in f)f.hasOwnProperty(u)&&(p=f[u],m=h+p,g=o[u],y=typeof o[u]>"u",(y||g>m)&&(o[u]=m,a.push(u,m),s[u]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var w=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(w)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(V2e);var Gft=V2e.exports;(function(t){const e=Rg,n=Dft,r=Lft,i=Wft,s=qft,o=df,a=ac,l=Gft;function c(w){return unescape(encodeURIComponent(w)).length}function u(w,v,b){const A=[];let E;for(;(E=w.exec(b))!==null;)A.push({data:E[0],index:E.index,mode:v,length:E[0].length});return A}function h(w){const v=u(o.NUMERIC,e.NUMERIC,w),b=u(o.ALPHANUMERIC,e.ALPHANUMERIC,w);let A,E;return a.isKanjiModeEnabled()?(A=u(o.BYTE,e.BYTE,w),E=u(o.KANJI,e.KANJI,w)):(A=u(o.BYTE_KANJI,e.BYTE,w),E=[]),v.concat(b,A,E).sort(function(N,R){return N.index-R.index}).map(function(N){return{data:N.data,mode:N.mode,length:N.length}})}function f(w,v){switch(v){case e.NUMERIC:return n.getBitsLength(w);case e.ALPHANUMERIC:return r.getBitsLength(w);case e.KANJI:return s.getBitsLength(w);case e.BYTE:return i.getBitsLength(w)}}function p(w){return w.reduce(function(v,b){const A=v.length-1>=0?v[v.length-1]:null;return A&&A.mode===b.mode?(v[v.length-1].data+=b.data,v):(v.push(b),v)},[])}function m(w){const v=[];for(let b=0;b<w.length;b++){const A=w[b];switch(A.mode){case e.NUMERIC:v.push([A,{data:A.data,mode:e.ALPHANUMERIC,length:A.length},{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.ALPHANUMERIC:v.push([A,{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.KANJI:v.push([A,{data:A.data,mode:e.BYTE,length:c(A.data)}]);break;case e.BYTE:v.push([{data:A.data,mode:e.BYTE,length:c(A.data)}])}}return v}function g(w,v){const b={},A={start:{}};let E=["start"];for(let $=0;$<w.length;$++){const N=w[$],R=[];for(let j=0;j<N.length;j++){const F=N[j],W=""+$+j;R.push(W),b[W]={node:F,lastCount:0},A[W]={};for(let V=0;V<E.length;V++){const B=E[V];b[B]&&b[B].node.mode===F.mode?(A[B][W]=f(b[B].lastCount+F.length,F.mode)-f(b[B].lastCount,F.mode),b[B].lastCount+=F.length):(b[B]&&(b[B].lastCount=F.length),A[B][W]=f(F.length,F.mode)+4+e.getCharCountIndicator(F.mode,v))}}E=R}for(let $=0;$<E.length;$++)A[E[$]].end=0;return{map:A,table:b}}function y(w,v){let b;const A=e.getBestModeForData(w);if(b=e.from(v,A),b!==e.BYTE&&b.bit<A.bit)throw new Error('"'+w+'" cannot be encoded with mode '+e.toString(b)+`.
 Suggested mode is: `+e.toString(A));switch(b===e.KANJI&&!a.isKanjiModeEnabled()&&(b=e.BYTE),b){case e.NUMERIC:return new n(w);case e.ALPHANUMERIC:return new r(w);case e.KANJI:return new s(w);case e.BYTE:return new i(w)}}t.fromArray=function(v){return v.reduce(function(b,A){return typeof A=="string"?b.push(y(A,null)):A.data&&b.push(y(A.data,A.mode)),b},[])},t.fromString=function(v,b){const A=h(v,a.isKanjiModeEnabled()),E=m(A),$=g(E,b),N=l.find_path($.map,"start","end"),R=[];for(let j=1;j<N.length-1;j++)R.push($.table[N[j]].node);return t.fromArray(p(R))},t.rawSplit=function(v){return t.fromArray(h(v,a.isKanjiModeEnabled()))}})(H2e);const R$=ac,Mj=$$,Kft=Sft,Yft=_ft,Qft=O2e,Zft=M2e,iF=D2e,sF=N$,Jft=Tft,b7=F2e,Xft=z2e,ept=Rg,Dj=H2e;function tpt(t,e){const n=t.size,r=Zft.getPositions(e);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(s+a,o+l,!0,!0):t.set(s+a,o+l,!1,!0))}}function npt(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function rpt(t,e){const n=Qft.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function ipt(t,e){const n=t.size,r=b7.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=(r>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function Bj(t,e,n){const r=t.size,i=Xft.getEncodedBits(e,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(r-15+s,8,o,!0),s<8?t.set(8,r-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(r-8,8,1,!0)}function spt(t,e){const n=t.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>s&1)===1),t.set(i,a-l,c),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function opt(t,e,n){const r=new Kft;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),ept.getCharCountIndicator(l.mode,t)),l.write(r)});const i=R$.getSymbolTotalCodewords(t),s=sF.getTotalCodewordsCount(t,e),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return apt(r,t,e)}function apt(t,e,n){const r=R$.getSymbolTotalCodewords(e),i=sF.getTotalCodewordsCount(e,n),s=r-i,o=sF.getBlocksCount(e,n),a=r%o,l=o-a,c=Math.floor(r/o),u=Math.floor(s/o),h=u+1,f=c-u,p=new Jft(f);let m=0;const g=new Array(o),y=new Array(o);let w=0;const v=new Uint8Array(t.buffer);for(let N=0;N<o;N++){const R=N<l?u:h;g[N]=v.slice(m,m+R),y[N]=p.encode(g[N]),m+=R,w=Math.max(w,R)}const b=new Uint8Array(r);let A=0,E,$;for(E=0;E<w;E++)for($=0;$<o;$++)E<g[$].length&&(b[A++]=g[$][E]);for(E=0;E<f;E++)for($=0;$<o;$++)b[A++]=y[$][E];return b}function lpt(t,e,n,r){let i;if(Array.isArray(t))i=Dj.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const u=Dj.rawSplit(t);c=b7.getBestVersionForData(u,n)}i=Dj.fromString(t,c||40)}else throw new Error("Invalid data");const s=b7.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=opt(e,n,i),a=R$.getSymbolSize(e),l=new Yft(a);return tpt(l,e),npt(l),rpt(l,e),Bj(l,n,0),e>=7&&ipt(l,e),spt(l,o),isNaN(r)&&(r=iF.getBestMask(l,Bj.bind(null,l,n))),iF.applyMask(r,l),Bj(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}R2e.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=Mj.M,i,s;return typeof n<"u"&&(r=Mj.from(n.errorCorrectionLevel,Mj.M),i=b7.from(n.version),s=iF.from(n.maskPattern),n.toSJISFunc&&R$.setToSJISFunction(n.toSJISFunc)),lpt(e,i,r,s)};var q2e={},Lq={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,l=t.getScale(o,s),c=Math.floor((o+s.margin*2)*l),u=s.margin*l,h=[s.color.light,s.color.dark];for(let f=0;f<c;f++)for(let p=0;p<c;p++){let m=(f*c+p)*4,g=s.color.light;if(f>=u&&p>=u&&f<c-u&&p<c-u){const y=Math.floor((f-u)/l),w=Math.floor((p-u)/l);g=h[a[y*o+w]?1:0]}r[m++]=g.r,r[m++]=g.g,r[m++]=g.b,r[m]=g.a}}})(Lq);(function(t){const e=Lq;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=e.getOptions(l);const u=e.getImageWidth(s.modules.size,l),h=c.getContext("2d"),f=h.createImageData(u,u);return e.qrToImageData(f.data,s,l),n(h,c,u),h.putImageData(f,0,0),c},t.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(s,o,l),u=l.type||"image/png",h=l.rendererOpts||{};return c.toDataURL(u,h.quality)}})(q2e);var G2e={};const cpt=Lq;function Mne(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function Lj(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function upt(t,e,n){let r="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!s&&(s=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(r+=s?Lj("M",l+n,.5+c+n):Lj("m",i,0),i=0,s=!1),l+1<e&&t[a+1]||(r+=Lj("h",o),o=0)):i++}return r}G2e.render=function(e,n,r){const i=cpt.getOptions(n),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,l=i.color.light.a?"<path "+Mne(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+Mne(i.color.dark,"stroke")+' d="'+upt(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,f),f};const dpt=Cft,oF=R2e,K2e=q2e,hpt=G2e;function Fq(t,e,n,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!dpt())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const u=oF.create(n,r);l(t(u,e,r))}catch(u){c(u)}})}try{const l=oF.create(n,r);i(null,t(l,e,r))}catch(l){i(l)}}ZA.create=oF.create;ZA.toCanvas=Fq.bind(null,K2e.render);ZA.toDataURL=Fq.bind(null,K2e.renderToDataURL);ZA.toString=Fq.bind(null,function(t,e,n){return hpt.render(t,n)});var Y2e={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,h||l,f),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},a.prototype.listenerCount=function(c){var u=n?n+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,f,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],w=arguments.length,v,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,h),!0;case 4:return y.fn.call(y.context,u,h,f),!0;case 5:return y.fn.call(y.context,u,h,f,p),!0;case 6:return y.fn.call(y.context,u,h,f,p,m),!0}for(b=1,v=new Array(w-1);b<w;b++)v[b-1]=arguments[b];y.fn.apply(y.context,v)}else{var A=y.length,E;for(b=0;b<A;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),w){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,h);break;case 4:y[b].fn.call(y[b].context,u,h,f);break;default:if(!v)for(E=1,v=new Array(w-1);E<w;E++)v[E-1]=arguments[E];y[b].fn.apply(y[b].context,v)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,f){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!h||m.context===h)&&o(this,p);else{for(var g=0,y=[],w=m.length;g<w;g++)(m[g].fn!==u||f&&!m[g].once||h&&m[g].context!==h)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Y2e);var fpt=Y2e.exports;const j$=Ks(fpt),Dne=t=>{let e;const n=new Set,r=(c,u)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const f=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(p=>p(e,f))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,i,a);return a},ppt=t=>t?Dne(t):Dne,mpt=t=>t;function gpt(t,e=mpt){const n=Ae.useSyncExternalStore(t.subscribe,Ae.useCallback(()=>e(t.getState()),[t,e]),Ae.useCallback(()=>e(t.getInitialState()),[t,e]));return Ae.useDebugValue(n),n}const Bne=t=>{const e=ppt(t),n=r=>gpt(e,r);return Object.assign(n,e),n},Lw=t=>t?Bne(t):Bne;var Uq={exports:{}},i2=typeof Reflect=="object"?Reflect:null,Lne=i2&&typeof i2.apply=="function"?i2.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},J9;i2&&typeof i2.ownKeys=="function"?J9=i2.ownKeys:Object.getOwnPropertySymbols?J9=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:J9=function(e){return Object.getOwnPropertyNames(e)};function ypt(t){console&&console.warn&&console.warn(t)}var Q2e=Number.isNaN||function(e){return e!==e};function mr(){mr.init.call(this)}Uq.exports=mr;Uq.exports.once=xpt;mr.EventEmitter=mr;mr.prototype._events=void 0;mr.prototype._eventsCount=0;mr.prototype._maxListeners=void 0;var Fne=10;function O$(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(mr,"defaultMaxListeners",{enumerable:!0,get:function(){return Fne},set:function(t){if(typeof t!="number"||t<0||Q2e(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Fne=t}});mr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};mr.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Q2e(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Z2e(t){return t._maxListeners===void 0?mr.defaultMaxListeners:t._maxListeners}mr.prototype.getMaxListeners=function(){return Z2e(this)};mr.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")Lne(l,this,n);else for(var c=l.length,u=nxe(l,c),r=0;r<c;++r)Lne(u[r],this,n);return!0};function J2e(t,e,n,r){var i,s,o;if(O$(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]),o===void 0)o=s[e]=n,++t._eventsCount;else if(typeof o=="function"?o=s[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=Z2e(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,ypt(a)}return t}mr.prototype.addListener=function(e,n){return J2e(this,e,n,!1)};mr.prototype.on=mr.prototype.addListener;mr.prototype.prependListener=function(e,n){return J2e(this,e,n,!0)};function wpt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function X2e(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=wpt.bind(r);return i.listener=n,r.wrapFn=i,i}mr.prototype.once=function(e,n){return O$(n),this.on(e,X2e(this,e,n)),this};mr.prototype.prependOnceListener=function(e,n){return O$(n),this.prependListener(e,X2e(this,e,n)),this};mr.prototype.removeListener=function(e,n){var r,i,s,o,a;if(O$(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():bpt(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};mr.prototype.off=mr.prototype.removeListener;mr.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function exe(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?vpt(i):nxe(i,i.length)}mr.prototype.listeners=function(e){return exe(this,e,!0)};mr.prototype.rawListeners=function(e){return exe(this,e,!1)};mr.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):txe.call(t,e)};mr.prototype.listenerCount=txe;function txe(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}mr.prototype.eventNames=function(){return this._eventsCount>0?J9(this._events):[]};function nxe(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function bpt(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function vpt(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function xpt(t,e){return new Promise(function(n,r){function i(o){t.removeListener(e,s),r(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}rxe(t,e,s,{once:!0}),e!=="error"&&Ept(t,i,{once:!0})})}function Ept(t,e,n){typeof t.on=="function"&&rxe(t,"error",e,n)}function rxe(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var lc=Uq.exports;const zq=Ks(lc);var Une=function(t,e,n){for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},Apt=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),Cpt=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os="browser"}return t}(),kpt=function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t}(),Spt=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),_pt=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),Ipt=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Tpt=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,zne=3,$pt=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Ipt]],Wne=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Npt(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new _pt:typeof navigator<"u"?Rpt(navigator.userAgent):Opt()}function Ppt(t){return t!==""&&$pt.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function Rpt(t){var e=Ppt(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new Spt;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<zne&&(i=Une(Une([],i,!0),Mpt(zne-i.length))):i=[];var s=i.join("."),o=jpt(t),a=Tpt.exec(t);return a&&a[1]?new kpt(n,s,o,a[1]):new Apt(n,s,o)}function jpt(t){for(var e=0,n=Wne.length;e<n;e++){var r=Wne[e],i=r[0],s=r[1],o=s.exec(t);if(o)return i}return null}function Opt(){var t=typeof process<"u"&&"v18.0.0";return t?new Cpt("v18.0.0".slice(1)):null}function Mpt(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var tt={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var aF=function(t,e){return aF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},aF(t,e)};function Dpt(t,e){aF(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var lF=function(){return lF=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lF.apply(this,arguments)};function Bpt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Lpt(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Fpt(t,e){return function(n,r){e(n,r,t)}}function Upt(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function zpt(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function Wpt(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Hpt(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function Vpt(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function cF(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ixe(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function qpt(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ixe(arguments[e]));return t}function Gpt(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function rE(t){return this instanceof rE?(this.v=t,this):new rE(t)}function Kpt(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(p){return new Promise(function(m,g){s.push([f,p,m,g])>1||a(f,p)})})}function a(f,p){try{l(r[f](p))}catch(m){h(s[0][3],m)}}function l(f){f.value instanceof rE?Promise.resolve(f.value.v).then(c,u):h(s[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function h(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Ypt(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:rE(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function Qpt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof cF=="function"?cF(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function Zpt(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Jpt(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Xpt(t){return t&&t.__esModule?t:{default:t}}function e0t(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function t0t(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const n0t=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return lF},__asyncDelegator:Ypt,__asyncGenerator:Kpt,__asyncValues:Qpt,__await:rE,__awaiter:zpt,__classPrivateFieldGet:e0t,__classPrivateFieldSet:t0t,__createBinding:Hpt,__decorate:Lpt,__exportStar:Vpt,__extends:Dpt,__generator:Wpt,__importDefault:Xpt,__importStar:Jpt,__makeTemplateObject:Zpt,__metadata:Upt,__param:Fpt,__read:ixe,__rest:Bpt,__spread:qpt,__spreadArrays:Gpt,__values:cF},Symbol.toStringTag,{value:"Module"})),M$=w3(n0t);var Fj={},M5={},Hne;function r0t(){if(Hne)return M5;Hne=1,Object.defineProperty(M5,"__esModule",{value:!0}),M5.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return M5.delay=t,M5}var Gg={},Uj={},Kg={},Vne;function i0t(){return Vne||(Vne=1,Object.defineProperty(Kg,"__esModule",{value:!0}),Kg.ONE_THOUSAND=Kg.ONE_HUNDRED=void 0,Kg.ONE_HUNDRED=100,Kg.ONE_THOUSAND=1e3),Kg}var zj={},qne;function s0t(){return qne||(qne=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(zj)),zj}var Gne;function sxe(){return Gne||(Gne=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=M$;e.__exportStar(i0t(),t),e.__exportStar(s0t(),t)}(Uj)),Uj}var Kne;function o0t(){if(Kne)return Gg;Kne=1,Object.defineProperty(Gg,"__esModule",{value:!0}),Gg.fromMiliseconds=Gg.toMiliseconds=void 0;const t=sxe();function e(r){return r*t.ONE_THOUSAND}Gg.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return Gg.fromMiliseconds=n,Gg}var Yne;function a0t(){return Yne||(Yne=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=M$;e.__exportStar(r0t(),t),e.__exportStar(o0t(),t)}(Fj)),Fj}var pb={},Qne;function l0t(){if(Qne)return pb;Qne=1,Object.defineProperty(pb,"__esModule",{value:!0}),pb.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return pb.Watch=t,pb.default=t,pb}var Wj={},D5={},Zne;function c0t(){if(Zne)return D5;Zne=1,Object.defineProperty(D5,"__esModule",{value:!0}),D5.IWatch=void 0;class t{}return D5.IWatch=t,D5}var Jne;function u0t(){return Jne||(Jne=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),M$.__exportStar(c0t(),t)}(Wj)),Wj}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=M$;e.__exportStar(a0t(),t),e.__exportStar(l0t(),t),e.__exportStar(u0t(),t),e.__exportStar(sxe(),t)})(tt);var Er={};Object.defineProperty(Er,"__esModule",{value:!0});Er.getLocalStorage=Er.getLocalStorageOrThrow=Er.getCrypto=Er.getCryptoOrThrow=oxe=Er.getLocation=Er.getLocationOrThrow=Wq=Er.getNavigator=Er.getNavigatorOrThrow=iw=Er.getDocument=Er.getDocumentOrThrow=Er.getFromWindowOrThrow=Er.getFromWindow=void 0;function Fw(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Er.getFromWindow=Fw;function K3(t){const e=Fw(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Er.getFromWindowOrThrow=K3;function d0t(){return K3("document")}Er.getDocumentOrThrow=d0t;function h0t(){return Fw("document")}var iw=Er.getDocument=h0t;function f0t(){return K3("navigator")}Er.getNavigatorOrThrow=f0t;function p0t(){return Fw("navigator")}var Wq=Er.getNavigator=p0t;function m0t(){return K3("location")}Er.getLocationOrThrow=m0t;function g0t(){return Fw("location")}var oxe=Er.getLocation=g0t;function y0t(){return K3("crypto")}Er.getCryptoOrThrow=y0t;function w0t(){return Fw("crypto")}Er.getCrypto=w0t;function b0t(){return K3("localStorage")}Er.getLocalStorageOrThrow=b0t;function v0t(){return Fw("localStorage")}Er.getLocalStorage=v0t;var Hq={};Object.defineProperty(Hq,"__esModule",{value:!0});var axe=Hq.getWindowMetadata=void 0;const Xne=Er;function x0t(){let t,e;try{t=Xne.getDocumentOrThrow(),e=Xne.getLocationOrThrow()}catch{return null}function n(){const h=t.getElementsByTagName("link"),f=[];for(let p=0;p<h.length;p++){const m=h[p],g=m.getAttribute("rel");if(g&&g.toLowerCase().indexOf("icon")>-1){const y=m.getAttribute("href");if(y)if(y.toLowerCase().indexOf("https:")===-1&&y.toLowerCase().indexOf("http:")===-1&&y.indexOf("//")!==0){let w=e.protocol+"//"+e.host;if(y.indexOf("/")===0)w+=y;else{const v=e.pathname.split("/");v.pop();const b=v.join("/");w+=b+"/"+y}f.push(w)}else if(y.indexOf("//")===0){const w=e.protocol+y;f.push(w)}else f.push(y)}}return f}function r(...h){const f=t.getElementsByTagName("meta");for(let p=0;p<f.length;p++){const m=f[p],g=["itemprop","property","name"].map(y=>m.getAttribute(y)).filter(y=>y?h.includes(y):!1);if(g.length&&g){const y=m.getAttribute("content");if(y)return y}}return""}function i(){let h=r("name","og:site_name","og:title","twitter:title");return h||(h=t.title),h}function s(){return r("description","og:description","twitter:description","keywords")}const o=i(),a=s(),l=e.origin,c=n();return{description:a,url:l,icons:c,name:o}}axe=Hq.getWindowMetadata=x0t;function iE(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function uF(t){return iE(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const lxe="2.31.0";let B5={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${lxe}`},D$=class dF extends Error{constructor(e,n={}){var a;const r=(()=>{var l;return n.cause instanceof dF?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),i=n.cause instanceof dF&&n.cause.docsPath||n.docsPath,s=(a=B5.getDocsUrl)==null?void 0:a.call(B5,{...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...B5.version?[`Version: ${B5.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=lxe}walk(e){return cxe(this,e)}};function cxe(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?cxe(t.cause,e):e?null:t}class uxe extends D${constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Y3(t,{dir:e,size:n=32}={}){return typeof t=="string"?E0t(t,{dir:e,size:n}):A0t(t,{dir:e,size:n})}function E0t(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new uxe({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function A0t(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new uxe({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}class C0t extends D${constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class k0t extends D${constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Q3(t,{size:e}){if(uF(t)>e)throw new k0t({givenSize:uF(t),maxSize:e})}function hF(t,e={}){const{signed:n}=e;e.size&&Q3(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function S0t(t,e={}){return Number(hF(t,e))}const _0t=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function fF(t,e={}){return typeof t=="number"||typeof t=="bigint"?hxe(t,e):typeof t=="string"?$0t(t,e):typeof t=="boolean"?I0t(t,e):dxe(t,e)}function I0t(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Q3(n,{size:e.size}),Y3(n,{size:e.size})):n}function dxe(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=_0t[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Q3(r,{size:e.size}),Y3(r,{dir:"right",size:e.size})):r}function hxe(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new C0t({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Y3(a,{size:r}):a}const T0t=new TextEncoder;function $0t(t,e={}){const n=T0t.encode(t);return dxe(n,e)}const N0t=new TextEncoder;function P0t(t,e={}){return typeof t=="number"||typeof t=="bigint"?j0t(t,e):typeof t=="boolean"?R0t(t,e):iE(t)?fxe(t,e):pxe(t,e)}function R0t(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Q3(n,{size:e.size}),Y3(n,{size:e.size})):n}const xf={zero:48,nine:57,A:65,F:70,a:97,f:102};function ere(t){if(t>=xf.zero&&t<=xf.nine)return t-xf.zero;if(t>=xf.A&&t<=xf.F)return t-(xf.A-10);if(t>=xf.a&&t<=xf.f)return t-(xf.a-10)}function fxe(t,e={}){let n=t;e.size&&(Q3(n,{size:e.size}),n=Y3(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const l=ere(r.charCodeAt(a++)),c=ere(r.charCodeAt(a++));if(l===void 0||c===void 0)throw new D$(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=l*16+c}return s}function j0t(t,e){const n=hxe(t,e);return fxe(n)}function pxe(t,e={}){const n=N0t.encode(t);return typeof e.size=="number"?(Q3(n,{size:e.size}),Y3(n,{dir:"right",size:e.size})):n}const Sk=BigInt(2**32-1),tre=BigInt(32);function O0t(t,e=!1){return e?{h:Number(t&Sk),l:Number(t>>tre&Sk)}:{h:Number(t>>tre&Sk)|0,l:Number(t&Sk)|0}}function M0t(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=O0t(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const D0t=(t,e,n)=>t<<n|e>>>32-n,B0t=(t,e,n)=>e<<n|t>>>32-n,L0t=(t,e,n)=>e<<n-32|t>>>64-n,F0t=(t,e,n)=>t<<n-32|e>>>64-n,mb=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function U0t(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function v7(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function sw(t,...e){if(!U0t(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function aQt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");v7(t.outputLen),v7(t.blockLen)}function x7(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function mxe(t,e){sw(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function z0t(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function sE(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Hj(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ld(t,e){return t<<32-e|t>>>e}const W0t=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function H0t(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function V0t(t){for(let e=0;e<t.length;e++)t[e]=H0t(t[e]);return t}const nre=W0t?t=>t:V0t,q0t=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",G0t=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function K0t(t){if(sw(t),q0t)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=G0t[t[n]];return e}function Y0t(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function B$(t){return typeof t=="string"&&(t=Y0t(t)),sw(t),t}function lQt(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];sw(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let gxe=class{};function yxe(t){const e=r=>t().update(B$(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Q0t(t){const e=(r,i)=>t(i).update(B$(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function uQt(t=32){if(mb&&typeof mb.getRandomValues=="function")return mb.getRandomValues(new Uint8Array(t));if(mb&&typeof mb.randomBytes=="function")return Uint8Array.from(mb.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const Z0t=BigInt(0),L5=BigInt(1),J0t=BigInt(2),X0t=BigInt(7),emt=BigInt(256),tmt=BigInt(113),wxe=[],bxe=[],vxe=[];for(let t=0,e=L5,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],wxe.push(2*(5*r+n)),bxe.push((t+1)*(t+2)/2%64);let i=Z0t;for(let s=0;s<7;s++)e=(e<<L5^(e>>X0t)*tmt)%emt,e&J0t&&(i^=L5<<(L5<<BigInt(s))-L5);vxe.push(i)}const xxe=M0t(vxe,!0),nmt=xxe[0],rmt=xxe[1],rre=(t,e,n)=>n>32?L0t(t,e,n):D0t(t,e,n),ire=(t,e,n)=>n>32?F0t(t,e,n):B0t(t,e,n);function Exe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],u=n[l+1],h=rre(c,u,1)^n[a],f=ire(c,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=bxe[o],l=rre(i,s,a),c=ire(i,s,a),u=wxe[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=nmt[r],t[1]^=rmt[r]}sE(n)}let Vq=class Axe extends gxe{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,v7(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=z0t(this.state)}clone(){return this._cloneInto()}keccak(){nre(this.state32),Exe(this.state32,this.rounds),nre(this.state32),this.posOut=0,this.pos=0}update(e){x7(this),e=B$(e),sw(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){x7(this,!1),sw(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return v7(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(mxe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,sE(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Axe(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const jg=(t,e,n)=>yxe(()=>new Vq(e,t,n)),imt=jg(6,144,224/8),smt=jg(6,136,256/8),omt=jg(6,104,384/8),amt=jg(6,72,512/8),lmt=jg(1,144,224/8),Cxe=jg(1,136,256/8),cmt=jg(1,104,384/8),umt=jg(1,72,512/8),kxe=(t,e,n)=>Q0t((r={})=>new Vq(e,t,r.dkLen===void 0?n:r.dkLen,!0)),dmt=kxe(31,168,128/8),hmt=kxe(31,136,256/8),fmt=Object.freeze(Object.defineProperty({__proto__:null,Keccak:Vq,keccakP:Exe,keccak_224:lmt,keccak_256:Cxe,keccak_384:cmt,keccak_512:umt,sha3_224:imt,sha3_256:smt,sha3_384:omt,sha3_512:amt,shake128:dmt,shake256:hmt},Symbol.toStringTag,{value:"Module"}));function Sxe(t,e){const n=e||"hex",r=Cxe(iE(t,{strict:!1})?P0t(t):t);return n==="bytes"?r:fF(r)}class pmt extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Vj=new pmt(8192);function mmt(t,e){if(Vj.has(`${t}.${e}`))return Vj.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=Sxe(pxe(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return Vj.set(`${t}.${e}`,s),s}function gmt(t){const e=Sxe(`0x${t.substring(4)}`).substring(26);return mmt(`0x${e}`)}async function ymt({hash:t,signature:e}){const n=iE(t)?t:fF(t),{secp256k1:r}=await Mh(async()=>{const{secp256k1:o}=await import("./secp256k1-BYJoYcpP.js");return{secp256k1:o}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:c,s:u,v:h,yParity:f}=e,p=Number(f??h),m=sre(p);return new r.Signature(hF(c),hF(u)).addRecoveryBit(m)}const o=iE(e)?e:fF(e);if(uF(o)!==65)throw new Error("invalid signature length");const a=S0t(`0x${o.slice(130)}`),l=sre(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function sre(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function wmt({hash:t,signature:e}){return gmt(await ymt({hash:t,signature:e}))}function bmt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}function vmt(t,e,n){return t&e^~t&n}function xmt(t,e,n){return t&e^t&n^e&n}let Emt=class extends gxe{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Hj(this.buffer)}update(e){x7(this),e=B$(e),sw(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=Hj(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){x7(this),mxe(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,sE(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;bmt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Hj(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const w0=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Amt=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),b0=new Uint32Array(64);let Cmt=class extends Emt{constructor(e=32){super(64,e,8,!1),this.A=w0[0]|0,this.B=w0[1]|0,this.C=w0[2]|0,this.D=w0[3]|0,this.E=w0[4]|0,this.F=w0[5]|0,this.G=w0[6]|0,this.H=w0[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)b0[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const f=b0[h-15],p=b0[h-2],m=Ld(f,7)^Ld(f,18)^f>>>3,g=Ld(p,17)^Ld(p,19)^p>>>10;b0[h]=g+b0[h-7]+m+b0[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=Ld(a,6)^Ld(a,11)^Ld(a,25),p=u+f+vmt(a,l,c)+Amt[h]+b0[h]|0,g=(Ld(r,2)^Ld(r,13)^Ld(r,22))+xmt(r,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=r,r=p+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){sE(b0)}destroy(){this.set(0,0,0,0,0,0,0,0),sE(this.buffer)}};const kmt=yxe(()=>new Cmt),Smt=kmt;function _mt(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let c=0;c<e.length;c++)e[c]=255;for(let c=0;c<t.length;c++){const u=t.charAt(c),h=u.charCodeAt(0);if(e[h]!==255)throw new TypeError(u+" is ambiguous");e[h]=c}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let u=0,h=0,f=0;const p=c.length;for(;f!==p&&c[f]===0;)f++,u++;const m=(p-f)*s+1>>>0,g=new Uint8Array(m);for(;f!==p;){let v=c[f],b=0;for(let A=m-1;(v!==0||b<h)&&A!==-1;A--,b++)v+=256*g[A]>>>0,g[A]=v%n>>>0,v=v/n>>>0;if(v!==0)throw new Error("Non-zero carry");h=b,f++}let y=m-h;for(;y!==m&&g[y]===0;)y++;let w=r.repeat(u);for(;y<m;++y)w+=t.charAt(g[y]);return w}function a(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let u=0,h=0,f=0;for(;c[u]===r;)h++,u++;const p=(c.length-u)*i+1>>>0,m=new Uint8Array(p);for(;u<c.length;){const v=c.charCodeAt(u);if(v>255)return;let b=e[v];if(b===255)return;let A=0;for(let E=p-1;(b!==0||A<f)&&E!==-1;E--,A++)b+=n*m[E]>>>0,m[E]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");f=A,u++}let g=p-f;for(;g!==p&&m[g]===0;)g++;const y=new Uint8Array(h+(p-g));let w=h;for(;g!==p;)y[w++]=m[g++];return y}function l(c){const u=a(c);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:l}}var Imt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const XA=_mt(Imt);function Tmt(t){const e=t.length;let n=0,r=0;for(;r<e;){let i=t.charCodeAt(r++);if(i&4294967168)if(!(i&4294965248))n+=2;else{if(i>=55296&&i<=56319&&r<e){const s=t.charCodeAt(r);(s&64512)===56320&&(++r,i=((i&1023)<<10)+(s&1023)+65536)}i&4294901760?n+=4:n+=3}else{n++;continue}}return n}function $mt(t,e,n){const r=t.length;let i=n,s=0;for(;s<r;){let o=t.charCodeAt(s++);if(o&4294967168)if(!(o&4294965248))e[i++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<r){const a=t.charCodeAt(s);(a&64512)===56320&&(++s,o=((o&1023)<<10)+(a&1023)+65536)}o&4294901760?(e[i++]=o>>18&7|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128):(e[i++]=o>>12&15|224,e[i++]=o>>6&63|128)}else{e[i++]=o;continue}e[i++]=o&63|128}}const Nmt=new TextEncoder,Pmt=50;function Rmt(t,e,n){Nmt.encodeInto(t,e.subarray(n))}function jmt(t,e,n){t.length>Pmt?Rmt(t,e,n):$mt(t,e,n)}const Omt=4096;function _xe(t,e,n){let r=e;const i=r+n,s=[];let o="";for(;r<i;){const a=t[r++];if(!(a&128))s.push(a);else if((a&224)===192){const l=t[r++]&63;s.push((a&31)<<6|l)}else if((a&240)===224){const l=t[r++]&63,c=t[r++]&63;s.push((a&31)<<12|l<<6|c)}else if((a&248)===240){const l=t[r++]&63,c=t[r++]&63,u=t[r++]&63;let h=(a&7)<<18|l<<12|c<<6|u;h>65535&&(h-=65536,s.push(h>>>10&1023|55296),h=56320|h&1023),s.push(h)}else s.push(a);s.length>=Omt&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const Mmt=new TextDecoder,Dmt=200;function Bmt(t,e,n){const r=t.subarray(e,e+n);return Mmt.decode(r)}function Lmt(t,e,n){return n>Dmt?Bmt(t,e,n):_xe(t,e,n)}class _k{constructor(e,n){this.type=e,this.data=n}}class Tl extends Error{constructor(e){super(e);const n=Object.create(Tl.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Tl.name})}}const F5=4294967295;function Fmt(t,e,n){const r=n/4294967296,i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function Ixe(t,e,n){const r=Math.floor(n/4294967296),i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function Txe(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function Umt(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const zmt=-1,Wmt=4294967296-1,Hmt=17179869184-1;function Vmt({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=Hmt)if(e===0&&t<=Wmt){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|n&3),s.setUint32(4,r),i}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),Ixe(r,4,t),n}}function qmt(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,i=Math.floor(r/1e9);return{sec:n+i,nsec:r-i*1e9}}function Gmt(t){if(t instanceof Date){const e=qmt(t);return Vmt(e)}else return null}function Kmt(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),i=(n&3)*4294967296+r,s=n>>>2;return{sec:i,nsec:s}}case 12:{const n=Txe(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new Tl(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function Ymt(t){const e=Kmt(t);return new Date(e.sec*1e3+e.nsec/1e6)}const Qmt={type:zmt,encode:Gmt,decode:Ymt};class E7{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Qmt)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const i=-1-e;this.builtInEncoders[i]=n,this.builtInDecoders[i]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(i!=null){const s=i(e,n);if(s!=null){const o=-1-r;return new _k(o,s)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(i!=null){const s=i(e,n);if(s!=null){const o=r;return new _k(o,s)}}}return e instanceof _k?e:null}decode(e,n,r){const i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(e,n,r):new _k(n,e)}}E7.defaultCodec=new E7;function Zmt(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function pF(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Zmt(t)?new Uint8Array(t):Uint8Array.from(t)}const Jmt=100,Xmt=2048;let egt=class $xe{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??E7.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??Jmt,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??Xmt,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new $xe({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),i=new DataView(n);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=Tmt(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),jmt(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=pF(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const i of e)this.doEncode(i,n+1)}countWithoutUndefined(e,n){let r=0;for(const i of n)e[i]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of r){const o=e[s];this.ignoreUndefined&&o===void 0||(this.encodeString(s),this.doEncode(o,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),i=r.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),Fmt(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),Ixe(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function tgt(t,e){return new egt(e).encodeSharedRef(t)}function qj(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const ngt=16,rgt=16;class igt{constructor(e=ngt,n=rgt){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const i=this.caches[r-1];e:for(const s of i){const o=s.bytes;for(let a=0;a<r;a++)if(o[a]!==e[n+a])continue e;return s.str}return null}store(e,n){const r=this.caches[e.length-1],i={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(e,n,r){const i=this.find(e,n,r);if(i!=null)return this.hit++,i;this.miss++;const s=_xe(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,s),s}}const mF="array",f4="map_key",Nxe="map_value",sgt=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new Tl("The type of key must be string or number but "+typeof t)};class ogt{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=mF,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=f4,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===mF){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===f4||e.type===Nxe){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const U5=-1,qq=new DataView(new ArrayBuffer(0)),agt=new Uint8Array(qq.buffer);try{qq.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const ore=new RangeError("Insufficient data"),lgt=new igt;let cgt=class Pxe{constructor(e){this.totalPos=0,this.pos=0,this.view=qq,this.bytes=agt,this.headByte=U5,this.stack=new ogt,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??E7.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??F5,this.maxBinLength=(e==null?void 0:e.maxBinLength)??F5,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??F5,this.maxMapLength=(e==null?void 0:e.maxMapLength)??F5,this.maxExtLength=(e==null?void 0:e.maxExtLength)??F5,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:lgt,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??sgt}clone(){return new Pxe({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=U5,this.stack.reset()}setBuffer(e){const n=pF(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===U5&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=pF(e),i=new Uint8Array(n.length+r.length);i.set(n),i.set(r,n.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const a of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(l){if(!(l instanceof RangeError))throw l}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:i,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${qj(i)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,i=-1;for await(const s of e){if(n&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{const i=e-160;n=this.decodeString(i,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const i=this.lookU8();n=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();n=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();n=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===196){const i=this.lookU8();n=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();n=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();n=this.decodeBinary(i,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();n=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();n=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();n=this.decodeExtension(i,4)}else throw new Tl(`Unrecognized type byte: ${qj(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const i=r.top();if(i.type===mF)if(i.array[i.position]=n,i.position++,i.position===i.size)n=i.array,r.release(i);else continue e;else if(i.type===f4){if(n==="__proto__")throw new Tl("The key __proto__ is not allowed");i.key=this.mapKeyConverter(n),i.type=Nxe;continue e}else if(i.map[i.key]=n,i.readCount++,i.readCount===i.size)n=i.map,r.release(i);else{i.key=null,i.type=f4;continue e}}return n}}readHeadByte(){return this.headByte===U5&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=U5}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Tl(`Unrecognized array type byte: ${qj(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Tl(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Tl(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){var s;if(e>this.maxStrLength)throw new Tl(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw ore;const r=this.pos+n;let i;return this.stateIsMapKey()&&((s=this.keyDecoder)!=null&&s.canBeCached(e))?i=this.keyDecoder.decode(this.bytes,r,e):i=Lmt(this.bytes,r,e),this.pos+=n+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===f4:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new Tl(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw ore;const r=this.pos+n,i=this.bytes.subarray(r,r+e);return this.pos+=n+e,i}decodeExtension(e,n){if(e>this.maxExtLength)throw new Tl(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),i=this.decodeBinary(e,n+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=Umt(this.view,this.pos);return this.pos+=8,e}readI64(){const e=Txe(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function ugt(t,e){return new cgt(e).decode(t)}const dgt=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),hgt=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function ow(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return hgt(t)}catch{return t}}function Yp(t){return typeof t=="string"?t:dgt(t)||""}function fgt(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Rxe(t,...e){if(!fgt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function are(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function pgt(t,e){Rxe(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const gb=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gj=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function mgt(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function jxe(t){return typeof t=="string"&&(t=mgt(t)),Rxe(t),t}let ggt=class{clone(){return this._cloneInto()}};function ygt(t){const e=r=>t().update(jxe(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Oxe(t=32){if(gb&&typeof gb.getRandomValues=="function")return gb.getRandomValues(new Uint8Array(t));if(gb&&typeof gb.randomBytes=="function")return gb.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function wgt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}let bgt=class extends ggt{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Gj(this.buffer)}update(e){are(this);const{view:n,buffer:r,blockLen:i}=this;e=jxe(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=Gj(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){are(this),pgt(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;wgt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Gj(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const Ik=BigInt(2**32-1),gF=BigInt(32);function Mxe(t,e=!1){return e?{h:Number(t&Ik),l:Number(t>>gF&Ik)}:{h:Number(t>>gF&Ik)|0,l:Number(t&Ik)|0}}function vgt(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Mxe(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const xgt=(t,e)=>BigInt(t>>>0)<<gF|BigInt(e>>>0),Egt=(t,e,n)=>t>>>n,Agt=(t,e,n)=>t<<32-n|e>>>n,Cgt=(t,e,n)=>t>>>n|e<<32-n,kgt=(t,e,n)=>t<<32-n|e>>>n,Sgt=(t,e,n)=>t<<64-n|e>>>n-32,_gt=(t,e,n)=>t>>>n-32|e<<64-n,Igt=(t,e)=>e,Tgt=(t,e)=>t,$gt=(t,e,n)=>t<<n|e>>>32-n,Ngt=(t,e,n)=>e<<n|t>>>32-n,Pgt=(t,e,n)=>e<<n-32|t>>>64-n,Rgt=(t,e,n)=>t<<n-32|e>>>64-n;function jgt(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const Ogt=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Mgt=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Dgt=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Bgt=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,Lgt=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Fgt=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,fn={fromBig:Mxe,split:vgt,toBig:xgt,shrSH:Egt,shrSL:Agt,rotrSH:Cgt,rotrSL:kgt,rotrBH:Sgt,rotrBL:_gt,rotr32H:Igt,rotr32L:Tgt,rotlSH:$gt,rotlSL:Ngt,rotlBH:Pgt,rotlBL:Rgt,add:jgt,add3L:Ogt,add3H:Mgt,add4L:Dgt,add4H:Bgt,add5H:Fgt,add5L:Lgt},[Ugt,zgt]=fn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),v0=new Uint32Array(80),x0=new Uint32Array(80);let Wgt=class extends bgt{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:f,Gh:p,Gl:m,Hh:g,Hl:y}=this;return[e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y]}set(e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=m|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let b=0;b<16;b++,n+=4)v0[b]=e.getUint32(n),x0[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const A=v0[b-15]|0,E=x0[b-15]|0,$=fn.rotrSH(A,E,1)^fn.rotrSH(A,E,8)^fn.shrSH(A,E,7),N=fn.rotrSL(A,E,1)^fn.rotrSL(A,E,8)^fn.shrSL(A,E,7),R=v0[b-2]|0,j=x0[b-2]|0,F=fn.rotrSH(R,j,19)^fn.rotrBH(R,j,61)^fn.shrSH(R,j,6),W=fn.rotrSL(R,j,19)^fn.rotrBL(R,j,61)^fn.shrSL(R,j,6),V=fn.add4L(N,W,x0[b-7],x0[b-16]),B=fn.add4H(V,$,F,v0[b-7],v0[b-16]);v0[b]=B|0,x0[b]=V|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:f,Fh:p,Fl:m,Gh:g,Gl:y,Hh:w,Hl:v}=this;for(let b=0;b<80;b++){const A=fn.rotrSH(h,f,14)^fn.rotrSH(h,f,18)^fn.rotrBH(h,f,41),E=fn.rotrSL(h,f,14)^fn.rotrSL(h,f,18)^fn.rotrBL(h,f,41),$=h&p^~h&g,N=f&m^~f&y,R=fn.add5L(v,E,N,zgt[b],x0[b]),j=fn.add5H(R,w,A,$,Ugt[b],v0[b]),F=R|0,W=fn.rotrSH(r,i,28)^fn.rotrBH(r,i,34)^fn.rotrBH(r,i,39),V=fn.rotrSL(r,i,28)^fn.rotrBL(r,i,34)^fn.rotrBL(r,i,39),B=r&s^r&a^s&a,k=i&o^i&l^o&l;w=g|0,v=y|0,g=p|0,y=m|0,p=h|0,m=f|0,{h,l:f}=fn.add(c|0,u|0,j|0,F|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const C=fn.add3L(F,V,k);r=fn.add3H(C,j,W,B),i=C|0}({h:r,l:i}=fn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=fn.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=fn.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=fn.add(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:f}=fn.add(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:m}=fn.add(this.Fh|0,this.Fl|0,p|0,m|0),{h:g,l:y}=fn.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:v}=fn.add(this.Hh|0,this.Hl|0,w|0,v|0),this.set(r,i,s,o,a,l,c,u,h,f,p,m,g,y,w,v)}roundClean(){v0.fill(0),x0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Hgt=ygt(()=>new Wgt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gq=BigInt(0),Dxe=BigInt(1),Vgt=BigInt(2);function Kq(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Yq(t){if(!Kq(t))throw new Error("Uint8Array expected")}function Kj(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const qgt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Qq(t){Yq(t);let e="";for(let n=0;n<t.length;n++)e+=qgt[t[n]];return e}function Bxe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Gq:BigInt("0x"+t)}const Ef={_0:48,_9:57,A:65,F:70,a:97,f:102};function lre(t){if(t>=Ef._0&&t<=Ef._9)return t-Ef._0;if(t>=Ef.A&&t<=Ef.F)return t-(Ef.A-10);if(t>=Ef.a&&t<=Ef.f)return t-(Ef.a-10)}function Lxe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=lre(t.charCodeAt(s)),a=lre(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function Ggt(t){return Bxe(Qq(t))}function X9(t){return Yq(t),Bxe(Qq(Uint8Array.from(t).reverse()))}function Fxe(t,e){return Lxe(t.toString(16).padStart(e*2,"0"))}function yF(t,e){return Fxe(t,e).reverse()}function Af(t,e,n){let r;if(typeof e=="string")try{r=Lxe(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Kq(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function cre(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Yq(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const Yj=t=>typeof t=="bigint"&&Gq<=t;function Kgt(t,e,n){return Yj(t)&&Yj(e)&&Yj(n)&&e<=t&&t<n}function z5(t,e,n,r){if(!Kgt(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Ygt(t){let e;for(e=0;t>Gq;t>>=Dxe,e+=1);return e}const Qgt=t=>(Vgt<<BigInt(t-1))-Dxe,Zgt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Kq(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Zq(t,e,n={}){const r=(i,s,o)=>{const a=Zgt[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function ure(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const xs=BigInt(0),Pi=BigInt(1),dy=BigInt(2),Jgt=BigInt(3),wF=BigInt(4),dre=BigInt(5),hre=BigInt(8);function ns(t,e){const n=t%e;return n>=xs?n:e+n}function Xgt(t,e,n){if(e<xs)throw new Error("invalid exponent, negatives unsupported");if(n<=xs)throw new Error("invalid modulus");if(n===Pi)return xs;let r=Pi;for(;e>xs;)e&Pi&&(r=r*t%n),t=t*t%n,e>>=Pi;return r}function Fd(t,e,n){let r=t;for(;e-- >xs;)r*=r,r%=n;return r}function fre(t,e){if(t===xs)throw new Error("invert: expected non-zero number");if(e<=xs)throw new Error("invert: expected positive modulus, got "+e);let n=ns(t,e),r=e,i=xs,s=Pi;for(;n!==xs;){const o=r/n,a=r%n,l=i-s*o;r=n,n=a,i=s,s=l}if(r!==Pi)throw new Error("invert: does not exist");return ns(i,e)}function eyt(t){const e=(t-Pi)/dy;let n,r,i;for(n=t-Pi,r=0;n%dy===xs;n/=dy,r++);for(i=dy;i<t&&Xgt(i,e,t)!==t-Pi;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+Pi)/wF;return function(a,l){const c=a.pow(l,o);if(!a.eql(a.sqr(c),l))throw new Error("Cannot find square root");return c}}const s=(n+Pi)/dy;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let l=r,c=o.pow(o.mul(o.ONE,i),n),u=o.pow(a,s),h=o.pow(a,n);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let f=1;for(let m=o.sqr(h);f<l&&!o.eql(m,o.ONE);f++)m=o.sqr(m);const p=o.pow(c,Pi<<BigInt(l-f-1));c=o.sqr(p),u=o.mul(u,p),h=o.mul(h,c),l=f}return u}}function tyt(t){if(t%wF===Jgt){const e=(t+Pi)/wF;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%hre===dre){const e=(t-dre)/hre;return function(n,r){const i=n.mul(r,dy),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,dy),s),l=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(l),r))throw new Error("Cannot find square root");return l}}return eyt(t)}const nyt=(t,e)=>(ns(t,e)&Pi)===Pi,ryt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function iyt(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=ryt.reduce((r,i)=>(r[i]="function",r),e);return Zq(t,n)}function syt(t,e,n){if(n<xs)throw new Error("invalid exponent, negatives unsupported");if(n===xs)return t.ONE;if(n===Pi)return e;let r=t.ONE,i=e;for(;n>xs;)n&Pi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Pi;return r}function oyt(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function Uxe(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function zxe(t,e,n=!1,r={}){if(t<=xs)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=Uxe(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:Qgt(i),ZERO:xs,ONE:Pi,create:l=>ns(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return xs<=l&&l<t},is0:l=>l===xs,isOdd:l=>(l&Pi)===Pi,neg:l=>ns(-l,t),eql:(l,c)=>l===c,sqr:l=>ns(l*l,t),add:(l,c)=>ns(l+c,t),sub:(l,c)=>ns(l-c,t),mul:(l,c)=>ns(l*c,t),pow:(l,c)=>syt(a,l,c),div:(l,c)=>ns(l*fre(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>fre(l,t),sqrt:r.sqrt||(l=>(o||(o=tyt(t)),o(a,l))),invertBatch:l=>oyt(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?yF(l,s):Fxe(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return n?X9(l):Ggt(l)}});return Object.freeze(a)}const pre=BigInt(0),Tk=BigInt(1);function Qj(t,e){const n=e.negate();return t?n:e}function Wxe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Zj(t,e){Wxe(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function ayt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function lyt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Jj=new WeakMap,Hxe=new WeakMap;function Xj(t){return Hxe.get(t)||1}function cyt(t,e){return{constTimeNegate:Qj,hasPrecomputes(n){return Xj(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>pre;)r&Tk&&(i=i.add(s)),s=s.double(),r>>=Tk;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=Zj(r,e),o=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=Zj(n,e);let a=t.ZERO,l=t.BASE;const c=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let f=0;f<s;f++){const p=f*o;let m=Number(i&c);i>>=h,m>o&&(m-=u,i+=Tk);const g=p,y=p+Math.abs(m)-1,w=f%2!==0,v=m<0;m===0?l=l.add(Qj(w,r[g])):a=a.add(Qj(v,r[y]))}return{p:a,f:l}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=Zj(n,e),l=BigInt(2**n-1),c=2**n,u=BigInt(n);for(let h=0;h<o;h++){const f=h*a;if(i===pre)break;let p=Number(i&l);if(i>>=u,p>a&&(p-=c,i+=Tk),p===0)continue;let m=r[f+Math.abs(p)-1];p<0&&(m=m.negate()),s=s.add(m)}return s},getPrecomputes(n,r,i){let s=Jj.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&Jj.set(r,i(s))),s},wNAFCached(n,r,i){const s=Xj(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=Xj(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){Wxe(r,e),Hxe.set(n,r),Jj.delete(n)}}}function uyt(t,e,n,r){if(ayt(n,t),lyt(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=Ygt(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,l=new Array(a+1).fill(i),c=Math.floor((e.BITS-1)/o)*o;let u=i;for(let h=c;h>=0;h-=o){l.fill(i);for(let p=0;p<r.length;p++){const m=r[p],g=Number(m>>BigInt(h)&BigInt(a));l[g]=l[g].add(n[p])}let f=i;for(let p=l.length-1,m=i;p>0;p--)m=m.add(l[p]),f=f.add(m);if(u=u.add(f),h!==0)for(let p=0;p<o;p++)u=u.double()}return u}function dyt(t){return iyt(t.Fp),Zq(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Uxe(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const xu=BigInt(0),Ca=BigInt(1),$k=BigInt(2),hyt=BigInt(8),fyt={zip215:!0};function pyt(t){const e=dyt(t);return Zq(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function myt(t){const e=pyt(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=e,c=$k<<BigInt(a*8)-Ca,u=n.create,h=zxe(e.n,e.nBitLength),f=e.uvRatio||((C,S)=>{try{return{isValid:!0,value:n.sqrt(C*n.inv(S))}}catch{return{isValid:!1,value:xu}}}),p=e.adjustScalarBytes||(C=>C),m=e.domain||((C,S,T)=>{if(Kj("phflag",T),S.length||T)throw new Error("Contexts/pre-hash are not supported");return C});function g(C,S){z5("coordinate "+C,S,xu,c)}function y(C){if(!(C instanceof b))throw new Error("ExtendedPoint expected")}const w=ure((C,S)=>{const{ex:T,ey:_,ez:P}=C,L=C.is0();S==null&&(S=L?hyt:n.inv(P));const O=u(T*S),I=u(_*S),D=u(P*S);if(L)return{x:xu,y:Ca};if(D!==Ca)throw new Error("invZ was invalid");return{x:O,y:I}}),v=ure(C=>{const{a:S,d:T}=e;if(C.is0())throw new Error("bad point: ZERO");const{ex:_,ey:P,ez:L,et:O}=C,I=u(_*_),D=u(P*P),Y=u(L*L),M=u(Y*Y),Q=u(I*S),ee=u(Y*u(Q+D)),J=u(M+u(T*u(I*D)));if(ee!==J)throw new Error("bad point: equation left != right (1)");const oe=u(_*P),de=u(L*O);if(oe!==de)throw new Error("bad point: equation left != right (2)");return!0});class b{constructor(S,T,_,P){this.ex=S,this.ey=T,this.ez=_,this.et=P,g("x",S),g("y",T),g("z",_),g("t",P),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(S){if(S instanceof b)throw new Error("extended point not allowed");const{x:T,y:_}=S||{};return g("x",T),g("y",_),new b(T,_,Ca,u(T*_))}static normalizeZ(S){const T=n.invertBatch(S.map(_=>_.ez));return S.map((_,P)=>_.toAffine(T[P])).map(b.fromAffine)}static msm(S,T){return uyt(b,h,S,T)}_setWindowSize(S){$.setWindowSize(this,S)}assertValidity(){v(this)}equals(S){y(S);const{ex:T,ey:_,ez:P}=this,{ex:L,ey:O,ez:I}=S,D=u(T*I),Y=u(L*P),M=u(_*I),Q=u(O*P);return D===Y&&M===Q}is0(){return this.equals(b.ZERO)}negate(){return new b(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:S}=e,{ex:T,ey:_,ez:P}=this,L=u(T*T),O=u(_*_),I=u($k*u(P*P)),D=u(S*L),Y=T+_,M=u(u(Y*Y)-L-O),Q=D+O,ee=Q-I,J=D-O,oe=u(M*ee),de=u(Q*J),ae=u(M*J),he=u(ee*Q);return new b(oe,de,he,ae)}add(S){y(S);const{a:T,d:_}=e,{ex:P,ey:L,ez:O,et:I}=this,{ex:D,ey:Y,ez:M,et:Q}=S;if(T===BigInt(-1)){const _e=u((L-P)*(Y+D)),xe=u((L+P)*(Y-D)),Oe=u(xe-_e);if(Oe===xu)return this.double();const Le=u(O*$k*Q),Ce=u(I*$k*M),De=Ce+Le,Ve=xe+_e,rt=Ce-Le,G=u(De*Oe),U=u(Ve*rt),z=u(De*rt),X=u(Oe*Ve);return new b(G,U,X,z)}const ee=u(P*D),J=u(L*Y),oe=u(I*_*Q),de=u(O*M),ae=u((P+L)*(D+Y)-ee-J),he=de-oe,be=de+oe,fe=u(J-T*ee),ke=u(ae*he),we=u(be*fe),Ue=u(ae*fe),Me=u(he*be);return new b(ke,we,Me,Ue)}subtract(S){return this.add(S.negate())}wNAF(S){return $.wNAFCached(this,S,b.normalizeZ)}multiply(S){const T=S;z5("scalar",T,Ca,r);const{p:_,f:P}=this.wNAF(T);return b.normalizeZ([_,P])[0]}multiplyUnsafe(S,T=b.ZERO){const _=S;return z5("scalar",_,xu,r),_===xu?E:this.is0()||_===Ca?this:$.wNAFCachedUnsafe(this,_,b.normalizeZ,T)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return $.unsafeLadder(this,r).is0()}toAffine(S){return w(this,S)}clearCofactor(){const{h:S}=e;return S===Ca?this:this.multiplyUnsafe(S)}static fromHex(S,T=!1){const{d:_,a:P}=e,L=n.BYTES;S=Af("pointHex",S,L),Kj("zip215",T);const O=S.slice(),I=S[L-1];O[L-1]=I&-129;const D=X9(O),Y=T?c:n.ORDER;z5("pointHex.y",D,xu,Y);const M=u(D*D),Q=u(M-Ca),ee=u(_*M-P);let{isValid:J,value:oe}=f(Q,ee);if(!J)throw new Error("Point.fromHex: invalid y coordinate");const de=(oe&Ca)===Ca,ae=(I&128)!==0;if(!T&&oe===xu&&ae)throw new Error("Point.fromHex: x=0 and x_0=1");return ae!==de&&(oe=u(-oe)),b.fromAffine({x:oe,y:D})}static fromPrivateKey(S){return j(S).point}toRawBytes(){const{x:S,y:T}=this.toAffine(),_=yF(T,n.BYTES);return _[_.length-1]|=S&Ca?128:0,_}toHex(){return Qq(this.toRawBytes())}}b.BASE=new b(e.Gx,e.Gy,Ca,u(e.Gx*e.Gy)),b.ZERO=new b(xu,Ca,Ca,xu);const{BASE:A,ZERO:E}=b,$=cyt(b,a*8);function N(C){return ns(C,r)}function R(C){return N(X9(C))}function j(C){const S=n.BYTES;C=Af("private key",C,S);const T=Af("hashed private key",s(C),2*S),_=p(T.slice(0,S)),P=T.slice(S,2*S),L=R(_),O=A.multiply(L),I=O.toRawBytes();return{head:_,prefix:P,scalar:L,point:O,pointBytes:I}}function F(C){return j(C).pointBytes}function W(C=new Uint8Array,...S){const T=cre(...S);return R(s(m(T,Af("context",C),!!i)))}function V(C,S,T={}){C=Af("message",C),i&&(C=i(C));const{prefix:_,scalar:P,pointBytes:L}=j(S),O=W(T.context,_,C),I=A.multiply(O).toRawBytes(),D=W(T.context,I,L,C),Y=N(O+D*P);z5("signature.s",Y,xu,r);const M=cre(I,yF(Y,n.BYTES));return Af("result",M,n.BYTES*2)}const B=fyt;function k(C,S,T,_=B){const{context:P,zip215:L}=_,O=n.BYTES;C=Af("signature",C,2*O),S=Af("message",S),T=Af("publicKey",T,O),L!==void 0&&Kj("zip215",L),i&&(S=i(S));const I=X9(C.slice(O,2*O));let D,Y,M;try{D=b.fromHex(T,L),Y=b.fromHex(C.slice(0,O),L),M=A.multiplyUnsafe(I)}catch{return!1}if(!L&&D.isSmallOrder())return!1;const Q=W(P,Y.toRawBytes(),D.toRawBytes(),S);return Y.add(D.multiplyUnsafe(Q)).subtract(M).clearCofactor().equals(b.ZERO)}return A._setWindowSize(8),{CURVE:e,getPublicKey:F,sign:V,verify:k,ExtendedPoint:b,utils:{getExtendedPublicKey:j,randomPrivateKey:()=>o(n.BYTES),precompute(C=8,S=b.BASE){return S._setWindowSize(C),S.multiply(BigInt(3)),S}}}}BigInt(0),BigInt(1);const Jq=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),mre=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const gyt=BigInt(1),gre=BigInt(2);BigInt(3);const yyt=BigInt(5),wyt=BigInt(8);function byt(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Jq,o=t*t%s*t%s,a=Fd(o,gre,s)*o%s,l=Fd(a,gyt,s)*t%s,c=Fd(l,yyt,s)*l%s,u=Fd(c,e,s)*c%s,h=Fd(u,n,s)*u%s,f=Fd(h,r,s)*h%s,p=Fd(f,i,s)*f%s,m=Fd(p,i,s)*f%s,g=Fd(m,e,s)*c%s;return{pow_p_5_8:Fd(g,gre,s)*t%s,b2:o}}function vyt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function xyt(t,e){const n=Jq,r=ns(e*e*e,n),i=ns(r*r*e,n),s=byt(t*i).pow_p_5_8;let o=ns(t*r*s,n);const a=ns(e*o*o,n),l=o,c=ns(o*mre,n),u=a===t,h=a===ns(-t,n),f=a===ns(-t*mre,n);return u&&(o=l),(h||f)&&(o=c),nyt(o,n)&&(o=ns(-o,n)),{isValid:u||h,value:o}}const Eyt=zxe(Jq,void 0,!0),Ayt={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Eyt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:wyt,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Hgt,randomBytes:Oxe,adjustScalarBytes:vyt,uvRatio:xyt},Vxe=myt(Ayt),Cyt="EdDSA",kyt="JWT",A7=".",L$="base64url",qxe="utf8",Gxe="utf8",Syt=":",_yt="did",Iyt="key",yre="base58btc",Tyt="z",$yt="K36",Nyt=32;function Xq(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Kxe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Xq(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Yxe(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=Kxe(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return Xq(n)}function Pyt(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,y=0,w=0,v=m.length;w!==v&&m[w]===0;)w++,g++;for(var b=(v-w)*u+1>>>0,A=new Uint8Array(b);w!==v;){for(var E=m[w],$=0,N=b-1;(E!==0||$<y)&&N!==-1;N--,$++)E+=256*A[N]>>>0,A[N]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");y=$,w++}for(var R=b-y;R!==b&&A[R]===0;)R++;for(var j=l.repeat(g);R<b;++R)j+=t.charAt(A[R]);return j}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var y=0,w=0;m[g]===l;)y++,g++;for(var v=(m.length-g)*c+1>>>0,b=new Uint8Array(v);m[g];){var A=n[m.charCodeAt(g)];if(A===255)return;for(var E=0,$=v-1;(A!==0||E<w)&&$!==-1;$--,E++)A+=a*b[$]>>>0,b[$]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");w=E,g++}if(m[g]!==" "){for(var N=v-w;N!==v&&b[N]===0;)N++;for(var R=new Uint8Array(y+(v-N)),j=y;N!==v;)R[j++]=b[N++];return R}}}function p(m){var g=f(m);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:p}}var Ryt=Pyt,jyt=Ryt;const Qxe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Oyt=t=>new TextEncoder().encode(t),Myt=t=>new TextDecoder().decode(t);let Dyt=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Byt=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Zxe(this,e)}},Lyt=class{constructor(e){this.decoders=e}or(e){return Zxe(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const Zxe=(t,e)=>new Lyt({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Fyt=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Dyt(e,n,r),this.decoder=new Byt(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const F$=({name:t,prefix:e,encode:n,decode:r})=>new Fyt(t,e,n,r),eC=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=jyt(n,e);return F$({prefix:t,name:e,encode:r,decode:s=>Qxe(i(s))})},Uyt=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,l=0,c=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|h,a+=n,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},zyt=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Zs=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>F$({prefix:e,name:t,encode(i){return zyt(i,r,n)},decode(i){return Uyt(i,r,n,t)}}),Wyt=F$({prefix:"\0",name:"identity",encode:t=>Myt(t),decode:t=>Oyt(t)});var Hyt=Object.freeze({__proto__:null,identity:Wyt});const Vyt=Zs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var qyt=Object.freeze({__proto__:null,base2:Vyt});const Gyt=Zs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Kyt=Object.freeze({__proto__:null,base8:Gyt});const Yyt=eC({prefix:"9",name:"base10",alphabet:"0123456789"});var Qyt=Object.freeze({__proto__:null,base10:Yyt});const Zyt=Zs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Jyt=Zs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Xyt=Object.freeze({__proto__:null,base16:Zyt,base16upper:Jyt});const e1t=Zs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),t1t=Zs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),n1t=Zs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),r1t=Zs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),i1t=Zs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),s1t=Zs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),o1t=Zs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),a1t=Zs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),l1t=Zs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var c1t=Object.freeze({__proto__:null,base32:e1t,base32upper:t1t,base32pad:n1t,base32padupper:r1t,base32hex:i1t,base32hexupper:s1t,base32hexpad:o1t,base32hexpadupper:a1t,base32z:l1t});const u1t=eC({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),d1t=eC({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var h1t=Object.freeze({__proto__:null,base36:u1t,base36upper:d1t});const f1t=eC({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),p1t=eC({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var m1t=Object.freeze({__proto__:null,base58btc:f1t,base58flickr:p1t});const g1t=Zs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),y1t=Zs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),w1t=Zs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),b1t=Zs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var v1t=Object.freeze({__proto__:null,base64:g1t,base64pad:y1t,base64url:w1t,base64urlpad:b1t});const Jxe=Array.from(""),x1t=Jxe.reduce((t,e,n)=>(t[n]=e,t),[]),E1t=Jxe.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function A1t(t){return t.reduce((e,n)=>(e+=x1t[n],e),"")}function C1t(t){const e=[];for(const n of t){const r=E1t[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const k1t=F$({prefix:"",name:"base256emoji",encode:A1t,decode:C1t});var S1t=Object.freeze({__proto__:null,base256emoji:k1t}),_1t=Xxe,wre=128,I1t=127,T1t=~I1t,$1t=Math.pow(2,31);function Xxe(t,e,n){e=e||[],n=n||0;for(var r=n;t>=$1t;)e[n++]=t&255|wre,t/=128;for(;t&T1t;)e[n++]=t&255|wre,t>>>=7;return e[n]=t|0,Xxe.bytes=n-r+1,e}var N1t=bF,P1t=128,bre=127;function bF(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw bF.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&bre)<<i:(o&bre)*Math.pow(2,i),i+=7}while(o>=P1t);return bF.bytes=s-r,n}var R1t=Math.pow(2,7),j1t=Math.pow(2,14),O1t=Math.pow(2,21),M1t=Math.pow(2,28),D1t=Math.pow(2,35),B1t=Math.pow(2,42),L1t=Math.pow(2,49),F1t=Math.pow(2,56),U1t=Math.pow(2,63),z1t=function(t){return t<R1t?1:t<j1t?2:t<O1t?3:t<M1t?4:t<D1t?5:t<B1t?6:t<L1t?7:t<F1t?8:t<U1t?9:10},W1t={encode:_1t,decode:N1t,encodingLength:z1t},e3e=W1t;const vre=(t,e,n=0)=>(e3e.encode(t,e,n),e),xre=t=>e3e.encodingLength(t),vF=(t,e)=>{const n=e.byteLength,r=xre(t),i=r+xre(n),s=new Uint8Array(i+n);return vre(t,s,0),vre(n,s,r),s.set(e,i),new H1t(t,n,e,s)};let H1t=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const t3e=({name:t,code:e,encode:n})=>new V1t(t,e,n);let V1t=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?vF(this.code,n):n.then(r=>vF(this.code,r))}else throw Error("Unknown type, must be binary type")}};const n3e=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),q1t=t3e({name:"sha2-256",code:18,encode:n3e("SHA-256")}),G1t=t3e({name:"sha2-512",code:19,encode:n3e("SHA-512")});var K1t=Object.freeze({__proto__:null,sha256:q1t,sha512:G1t});const r3e=0,Y1t="identity",i3e=Qxe,Q1t=t=>vF(r3e,i3e(t)),Z1t={code:r3e,name:Y1t,encode:i3e,digest:Q1t};var J1t=Object.freeze({__proto__:null,identity:Z1t});new TextEncoder,new TextDecoder;const Ere={...Hyt,...qyt,...Kyt,...Qyt,...Xyt,...c1t,...h1t,...m1t,...v1t,...S1t};({...K1t,...J1t});function s3e(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const Are=s3e("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),eO=s3e("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Kxe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),o3e={utf8:Are,"utf-8":Are,hex:Ere.base16,latin1:eO,ascii:eO,binary:eO,...Ere};function U$(t,e="utf8"){const n=o3e[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function Z3(t,e="utf8"){const n=o3e[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Xq(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function Cre(t){return ow(U$(Z3(t,L$),qxe))}function C7(t){return U$(Z3(Yp(t),qxe),L$)}function a3e(t){const e=Z3($yt,yre),n=Tyt+U$(Yxe([e,t]),yre);return[_yt,Iyt,n].join(Syt)}function X1t(t){return U$(t,L$)}function ewt(t){return Z3(t,L$)}function twt(t){return Z3([C7(t.header),C7(t.payload)].join(A7),Gxe)}function nwt(t){return[C7(t.header),C7(t.payload),X1t(t.signature)].join(A7)}function xF(t){const e=t.split(A7),n=Cre(e[0]),r=Cre(e[1]),i=ewt(e[2]),s=Z3(e.slice(0,2).join(A7),Gxe);return{header:n,payload:r,signature:i,data:s}}function kre(t=Oxe(Nyt)){const e=Vxe.getPublicKey(t);return{secretKey:Yxe([t,e]),publicKey:e}}async function rwt(t,e,n,r,i=tt.fromMiliseconds(Date.now())){const s={alg:Cyt,typ:kyt},o=a3e(r.publicKey),a=i+n,l={iss:o,sub:t,aud:e,iat:i,exp:a},c=twt({header:s,payload:l}),u=Vxe.sign(c,r.secretKey.slice(0,32));return nwt({header:s,payload:l,signature:u})}function eG(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function l3e(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?eG(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function p4(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=l3e(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return eG(n)}function iwt(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,y=0,w=0,v=m.length;w!==v&&m[w]===0;)w++,g++;for(var b=(v-w)*u+1>>>0,A=new Uint8Array(b);w!==v;){for(var E=m[w],$=0,N=b-1;(E!==0||$<y)&&N!==-1;N--,$++)E+=256*A[N]>>>0,A[N]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");y=$,w++}for(var R=b-y;R!==b&&A[R]===0;)R++;for(var j=l.repeat(g);R<b;++R)j+=t.charAt(A[R]);return j}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var y=0,w=0;m[g]===l;)y++,g++;for(var v=(m.length-g)*c+1>>>0,b=new Uint8Array(v);m[g];){var A=n[m.charCodeAt(g)];if(A===255)return;for(var E=0,$=v-1;(A!==0||E<w)&&$!==-1;$--,E++)A+=a*b[$]>>>0,b[$]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");w=E,g++}if(m[g]!==" "){for(var N=v-w;N!==v&&b[N]===0;)N++;for(var R=new Uint8Array(y+(v-N)),j=y;N!==v;)R[j++]=b[N++];return R}}}function p(m){var g=f(m);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:p}}var swt=iwt,owt=swt;const awt=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},lwt=t=>new TextEncoder().encode(t),cwt=t=>new TextDecoder().decode(t);class uwt{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class dwt{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return c3e(this,e)}}class hwt{constructor(e){this.decoders=e}or(e){return c3e(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const c3e=(t,e)=>new hwt({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class fwt{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new uwt(e,n,r),this.decoder=new dwt(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const z$=({name:t,prefix:e,encode:n,decode:r})=>new fwt(t,e,n,r),tC=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=owt(n,e);return z$({prefix:t,name:e,encode:r,decode:s=>awt(i(s))})},pwt=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,l=0,c=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|h,a+=n,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},mwt=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Js=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>z$({prefix:e,name:t,encode(i){return mwt(i,r,n)},decode(i){return pwt(i,r,n,t)}}),gwt=z$({prefix:"\0",name:"identity",encode:t=>cwt(t),decode:t=>lwt(t)}),ywt=Object.freeze(Object.defineProperty({__proto__:null,identity:gwt},Symbol.toStringTag,{value:"Module"})),wwt=Js({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),bwt=Object.freeze(Object.defineProperty({__proto__:null,base2:wwt},Symbol.toStringTag,{value:"Module"})),vwt=Js({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),xwt=Object.freeze(Object.defineProperty({__proto__:null,base8:vwt},Symbol.toStringTag,{value:"Module"})),Ewt=tC({prefix:"9",name:"base10",alphabet:"0123456789"}),Awt=Object.freeze(Object.defineProperty({__proto__:null,base10:Ewt},Symbol.toStringTag,{value:"Module"})),Cwt=Js({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),kwt=Js({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Swt=Object.freeze(Object.defineProperty({__proto__:null,base16:Cwt,base16upper:kwt},Symbol.toStringTag,{value:"Module"})),_wt=Js({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Iwt=Js({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Twt=Js({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),$wt=Js({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Nwt=Js({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Pwt=Js({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Rwt=Js({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),jwt=Js({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Owt=Js({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Mwt=Object.freeze(Object.defineProperty({__proto__:null,base32:_wt,base32hex:Nwt,base32hexpad:Rwt,base32hexpadupper:jwt,base32hexupper:Pwt,base32pad:Twt,base32padupper:$wt,base32upper:Iwt,base32z:Owt},Symbol.toStringTag,{value:"Module"})),Dwt=tC({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Bwt=tC({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Lwt=Object.freeze(Object.defineProperty({__proto__:null,base36:Dwt,base36upper:Bwt},Symbol.toStringTag,{value:"Module"})),Fwt=tC({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Uwt=tC({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),zwt=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Fwt,base58flickr:Uwt},Symbol.toStringTag,{value:"Module"})),Wwt=Js({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Hwt=Js({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Vwt=Js({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),qwt=Js({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Gwt=Object.freeze(Object.defineProperty({__proto__:null,base64:Wwt,base64pad:Hwt,base64url:Vwt,base64urlpad:qwt},Symbol.toStringTag,{value:"Module"})),u3e=Array.from(""),Kwt=u3e.reduce((t,e,n)=>(t[n]=e,t),[]),Ywt=u3e.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Qwt(t){return t.reduce((e,n)=>(e+=Kwt[n],e),"")}function Zwt(t){const e=[];for(const n of t){const r=Ywt[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Jwt=z$({prefix:"",name:"base256emoji",encode:Qwt,decode:Zwt}),Xwt=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Jwt},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const Sre={...ywt,...bwt,...xwt,...Awt,...Swt,...Mwt,...Lwt,...zwt,...Gwt,...Xwt};function d3e(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const _re=d3e("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),tO=d3e("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=l3e(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),h3e={utf8:_re,"utf-8":_re,hex:Sre.base16,latin1:tO,ascii:tO,binary:tO,...Sre};function Gc(t,e="utf8"){const n=h3e[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?eG(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function Za(t,e="utf8"){const n=h3e[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const ebt={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},tbt="Input must be an string, Buffer or Uint8Array";function nbt(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(tbt);return e}function rbt(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function Nk(t){return(4294967296+t).toString(16).substring(1)}function ibt(t,e,n){let r=`
`+t+" = ";for(let i=0;i<e.length;i+=2){if(n===32)r+=Nk(e[i]).toUpperCase(),r+=" ",r+=Nk(e[i+1]).toUpperCase();else if(n===64)r+=Nk(e[i+1]).toUpperCase(),r+=Nk(e[i]).toUpperCase();else throw new Error("Invalid size "+n);i%6===4?r+=`
`+new Array(t.length+4).join(" "):i<e.length-2&&(r+=" ")}console.log(r)}function sbt(t,e,n){let r=new Date().getTime();const i=new Uint8Array(e);for(let o=0;o<e;o++)i[o]=o%256;const s=new Date().getTime();console.log("Generated random input in "+(s-r)+"ms"),r=s;for(let o=0;o<n;o++){const a=t(i),l=new Date().getTime(),c=l-r;r=l,console.log("Hashed in "+c+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(c/1e3)*100)/100+" MB PER SECOND")}}var f3e={normalizeInput:nbt,toHex:rbt,debugPrint:ibt,testSpeed:sbt};const eS=f3e;function Pk(t,e,n){const r=t[e]+t[n];let i=t[e+1]+t[n+1];r>=4294967296&&i++,t[e]=r,t[e+1]=i}function Ire(t,e,n,r){let i=t[e]+n;n<0&&(i+=4294967296);let s=t[e+1]+r;i>=4294967296&&s++,t[e]=i,t[e+1]=s}function p3e(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function E0(t,e,n,r,i,s){const o=$6[i],a=$6[i+1],l=$6[s],c=$6[s+1];Pk(sn,t,e),Ire(sn,t,o,a);let u=sn[r]^sn[t],h=sn[r+1]^sn[t+1];sn[r]=h,sn[r+1]=u,Pk(sn,n,r),u=sn[e]^sn[n],h=sn[e+1]^sn[n+1],sn[e]=u>>>24^h<<8,sn[e+1]=h>>>24^u<<8,Pk(sn,t,e),Ire(sn,t,l,c),u=sn[r]^sn[t],h=sn[r+1]^sn[t+1],sn[r]=u>>>16^h<<16,sn[r+1]=h>>>16^u<<16,Pk(sn,n,r),u=sn[e]^sn[n],h=sn[e+1]^sn[n+1],sn[e]=h>>>31^u<<1,sn[e+1]=u>>>31^h<<1}const m3e=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),obt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],co=new Uint8Array(obt.map(function(t){return t*2})),sn=new Uint32Array(32),$6=new Uint32Array(32);function g3e(t,e){let n=0;for(n=0;n<16;n++)sn[n]=t.h[n],sn[n+16]=m3e[n];for(sn[24]=sn[24]^t.t,sn[25]=sn[25]^t.t/4294967296,e&&(sn[28]=~sn[28],sn[29]=~sn[29]),n=0;n<32;n++)$6[n]=p3e(t.b,4*n);for(n=0;n<12;n++)E0(0,8,16,24,co[n*16+0],co[n*16+1]),E0(2,10,18,26,co[n*16+2],co[n*16+3]),E0(4,12,20,28,co[n*16+4],co[n*16+5]),E0(6,14,22,30,co[n*16+6],co[n*16+7]),E0(0,10,20,30,co[n*16+8],co[n*16+9]),E0(2,12,22,24,co[n*16+10],co[n*16+11]),E0(4,14,16,26,co[n*16+12],co[n*16+13]),E0(6,8,18,28,co[n*16+14],co[n*16+15]);for(n=0;n<16;n++)t.h[n]=t.h[n]^sn[n]^sn[n+16]}const A0=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function y3e(t,e,n,r){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&n.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&r.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};A0.fill(0),A0[0]=t,e&&(A0[1]=e.length),A0[2]=1,A0[3]=1,n&&A0.set(n,32),r&&A0.set(r,48);for(let s=0;s<16;s++)i.h[s]=m3e[s]^p3e(A0,s*4);return e&&(tG(i,e),i.c=128),i}function tG(t,e){for(let n=0;n<e.length;n++)t.c===128&&(t.t+=t.c,g3e(t,!1),t.c=0),t.b[t.c++]=e[n]}function w3e(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;g3e(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3);return e}function b3e(t,e,n,r,i){n=n||64,t=eS.normalizeInput(t),r&&(r=eS.normalizeInput(r)),i&&(i=eS.normalizeInput(i));const s=y3e(n,e,r,i);return tG(s,t),w3e(s)}function abt(t,e,n,r,i){const s=b3e(t,e,n,r,i);return eS.toHex(s)}var lbt={blake2b:b3e,blake2bHex:abt,blake2bInit:y3e,blake2bUpdate:tG,blake2bFinal:w3e};const v3e=f3e;function cbt(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function C0(t,e,n,r,i,s){Yn[t]=Yn[t]+Yn[e]+i,Yn[r]=Rk(Yn[r]^Yn[t],16),Yn[n]=Yn[n]+Yn[r],Yn[e]=Rk(Yn[e]^Yn[n],12),Yn[t]=Yn[t]+Yn[e]+s,Yn[r]=Rk(Yn[r]^Yn[t],8),Yn[n]=Yn[n]+Yn[r],Yn[e]=Rk(Yn[e]^Yn[n],7)}function Rk(t,e){return t>>>e^t<<32-e}const x3e=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),uo=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),Yn=new Uint32Array(16),Ss=new Uint32Array(16);function E3e(t,e){let n=0;for(n=0;n<8;n++)Yn[n]=t.h[n],Yn[n+8]=x3e[n];for(Yn[12]^=t.t,Yn[13]^=t.t/4294967296,e&&(Yn[14]=~Yn[14]),n=0;n<16;n++)Ss[n]=cbt(t.b,4*n);for(n=0;n<10;n++)C0(0,4,8,12,Ss[uo[n*16+0]],Ss[uo[n*16+1]]),C0(1,5,9,13,Ss[uo[n*16+2]],Ss[uo[n*16+3]]),C0(2,6,10,14,Ss[uo[n*16+4]],Ss[uo[n*16+5]]),C0(3,7,11,15,Ss[uo[n*16+6]],Ss[uo[n*16+7]]),C0(0,5,10,15,Ss[uo[n*16+8]],Ss[uo[n*16+9]]),C0(1,6,11,12,Ss[uo[n*16+10]],Ss[uo[n*16+11]]),C0(2,7,8,13,Ss[uo[n*16+12]],Ss[uo[n*16+13]]),C0(3,4,9,14,Ss[uo[n*16+14]],Ss[uo[n*16+15]]);for(n=0;n<8;n++)t.h[n]^=Yn[n]^Yn[n+8]}function A3e(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=e?e.length:0;if(e&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(x3e),b:new Uint8Array(64),c:0,t:0,outlen:t};return r.h[0]^=16842752^n<<8^t,n>0&&(nG(r,e),r.c=64),r}function nG(t,e){for(let n=0;n<e.length;n++)t.c===64&&(t.t+=t.c,E3e(t,!1),t.c=0),t.b[t.c++]=e[n]}function C3e(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;E3e(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3)&255;return e}function k3e(t,e,n){n=n||32,t=v3e.normalizeInput(t);const r=A3e(n,e);return nG(r,t),C3e(r)}function ubt(t,e,n){const r=k3e(t,e,n);return v3e.toHex(r)}var dbt={blake2s:k3e,blake2sHex:ubt,blake2sInit:A3e,blake2sUpdate:nG,blake2sFinal:C3e};const W5=lbt,H5=dbt;var hbt={blake2b:W5.blake2b,blake2bHex:W5.blake2bHex,blake2bInit:W5.blake2bInit,blake2bUpdate:W5.blake2bUpdate,blake2bFinal:W5.blake2bFinal,blake2s:H5.blake2s,blake2sHex:H5.blake2sHex,blake2sInit:H5.blake2sInit,blake2sUpdate:H5.blake2sUpdate,blake2sFinal:H5.blake2sFinal},fbt={};const pbt=":";function S1(t){const[e,n]=t.split(pbt);return{namespace:e,reference:n}}function Tre(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const i=t[r];n.push(...i.accounts)}),n}function S3e(t,e){return t.includes(":")?[t]:e.chains||[]}var mbt=Object.defineProperty,gbt=Object.defineProperties,ybt=Object.getOwnPropertyDescriptors,$re=Object.getOwnPropertySymbols,wbt=Object.prototype.hasOwnProperty,bbt=Object.prototype.propertyIsEnumerable,EF=(t,e,n)=>e in t?mbt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nre=(t,e)=>{for(var n in e||(e={}))wbt.call(e,n)&&EF(t,n,e[n]);if($re)for(var n of $re(e))bbt.call(e,n)&&EF(t,n,e[n]);return t},vbt=(t,e)=>gbt(t,ybt(e)),Pre=(t,e,n)=>EF(t,typeof e!="symbol"?e+"":e,n);const xbt="ReactNative",zl={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Ebt="js";function k7(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Og(){return!iw()&&!!Wq()&&navigator.product===xbt}function Abt(){return Og()&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Platform)<"u"&&(globalThis==null?void 0:globalThis.Platform.OS)==="android"}function Cbt(){return Og()&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Platform)<"u"&&(globalThis==null?void 0:globalThis.Platform.OS)==="ios"}function J3(){return!k7()&&!!Wq()&&!!iw()}function nC(){return Og()?zl.reactNative:k7()?zl.node:J3()?zl.browser:zl.unknown}function Rre(){var t;try{return Og()&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Application)<"u"?(t=globalThis.Application)==null?void 0:t.applicationId:void 0}catch{return}}function kbt(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const i=e[r];i!==void 0&&n.set(r,i)}return n.toString()}function Sbt(t){var e,n;const r=_3e();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),vbt(Nre(Nre({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function _3e(){return axe()||{name:"",description:"",url:"",icons:[""]}}function _bt(){if(nC()===zl.reactNative&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Platform)<"u"){const{OS:n,Version:r}=globalThis.Platform;return[n,r].join("-")}const t=Npt();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function Ibt(){var t;const e=nC();return e===zl.browser?[e,((t=oxe())==null?void 0:t.host)||"unknown"].join(":"):e}function I3e(t,e,n){const r=_bt(),i=Ibt();return[[t,e].join("-"),[Ebt,n].join("-"),r,i].join("/")}function Tbt({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:l}){const c=n.split("?"),u=I3e(t,e,r),h={auth:i,ua:u,projectId:s,useOnCloseEvent:o||void 0,packageName:l||void 0,bundleId:a||void 0},f=kbt(c[1]||"",h);return c[0]+"?"+f}function Oy(t,e){return t.filter(n=>e.includes(n)).length===t.length}function AF(t){return Object.fromEntries(t.entries())}function CF(t){return new Map(Object.entries(t))}function sy(t=tt.FIVE_MINUTES,e){const n=tt.toMiliseconds(t||tt.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,l)=>{if(o)return a(o);s=setTimeout(()=>{const c=new Error(e);o=Promise.reject(c),l(c)},n),r=a,i=l})}}function Th(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const o=await t;r(o)}catch(o){i(o)}clearTimeout(s)})}function T3e(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function $bt(t){return T3e("topic",t)}function Nbt(t){return T3e("id",t)}function $3e(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Xi(t,e){return tt.fromMiliseconds(Date.now()+tt.toMiliseconds(t))}function J0(t){return Date.now()>=tt.toMiliseconds(t)}function nr(t,e){return`${t}${e?`:${e}`:""}`}function Hh(t=[],e=[]){return[...new Set([...t,...e])]}async function Pbt({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=Rbt(s,t,e),a=nC();if(a===zl.browser){if(!((r=iw())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}jbt(o)}else a===zl.reactNative&&typeof(globalThis==null?void 0:globalThis.Linking)<"u"&&await globalThis.Linking.openURL(o)}catch(i){console.error(i)}}function Rbt(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${Bbt(r,!0)}`}else i=`${i}/wc?${r}`;return i}function jbt(t){let e="_self";Dbt()?e="_top":(Mbt()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function Obt(t,e){let n="";try{if(J3()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function jre(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function Ore(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function rG(){return typeof process<"u"&&fbt.IS_VITEST==="true"}function Mbt(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Dbt(){try{return window.self!==window.top}catch{return!1}}function Bbt(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function N3e(t){return Buffer.from(t,"base64").toString("utf-8")}function Lbt(t){return new Promise(e=>setTimeout(e,t))}let Fbt=class{constructor({limit:e}){Pre(this,"limit"),Pre(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const jk=BigInt(2**32-1),Mre=BigInt(32);function P3e(t,e=!1){return e?{h:Number(t&jk),l:Number(t>>Mre&jk)}:{h:Number(t>>Mre&jk)|0,l:Number(t&jk)|0}}function R3e(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=P3e(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const Dre=(t,e,n)=>t>>>n,Bre=(t,e,n)=>t<<32-n|e>>>n,X0=(t,e,n)=>t>>>n|e<<32-n,em=(t,e,n)=>t<<32-n|e>>>n,N6=(t,e,n)=>t<<64-n|e>>>n-32,P6=(t,e,n)=>t>>>n-32|e<<64-n,Ubt=(t,e)=>e,zbt=(t,e)=>t,Wbt=(t,e,n)=>t<<n|e>>>32-n,Hbt=(t,e,n)=>e<<n|t>>>32-n,Vbt=(t,e,n)=>e<<n-32|t>>>64-n,qbt=(t,e,n)=>t<<n-32|e>>>64-n;function Pu(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const iG=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),sG=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Gbt=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Kbt=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,Ybt=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Qbt=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,yb=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function oG(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Qp(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function nu(t,...e){if(!oG(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function aG(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Qp(t.outputLen),Qp(t.blockLen)}function vg(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function lG(t,e){nu(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function oE(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function ru(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function nO(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ud(t,e){return t<<32-e|t>>>e}const j3e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function O3e(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const Pf=j3e?t=>t:t=>O3e(t);function Zbt(t){for(let e=0;e<t.length;e++)t[e]=O3e(t[e]);return t}const tm=j3e?t=>t:Zbt,M3e=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Jbt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function aE(t){if(nu(t),M3e)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Jbt[t[n]];return e}const Cf={_0:48,_9:57,A:65,F:70,a:97,f:102};function Lre(t){if(t>=Cf._0&&t<=Cf._9)return t-Cf._0;if(t>=Cf.A&&t<=Cf.F)return t-(Cf.A-10);if(t>=Cf.a&&t<=Cf.f)return t-(Cf.a-10)}function cG(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(M3e)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=Lre(t.charCodeAt(s)),a=Lre(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function Xbt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function ld(t){return typeof t=="string"&&(t=Xbt(t)),nu(t),t}function My(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];nu(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let W$=class{};function rC(t){const e=r=>t().update(ld(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function evt(t){const e=(r,i)=>t(i).update(ld(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function X3(t=32){if(yb&&typeof yb.getRandomValues=="function")return yb.getRandomValues(new Uint8Array(t));if(yb&&typeof yb.randomBytes=="function")return Uint8Array.from(yb.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const tvt=BigInt(0),V5=BigInt(1),nvt=BigInt(2),rvt=BigInt(7),ivt=BigInt(256),svt=BigInt(113),D3e=[],B3e=[],L3e=[];for(let t=0,e=V5,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],D3e.push(2*(5*r+n)),B3e.push((t+1)*(t+2)/2%64);let i=tvt;for(let s=0;s<7;s++)e=(e<<V5^(e>>rvt)*svt)%ivt,e&nvt&&(i^=V5<<(V5<<BigInt(s))-V5);L3e.push(i)}const F3e=R3e(L3e,!0),ovt=F3e[0],avt=F3e[1],Fre=(t,e,n)=>n>32?Vbt(t,e,n):Wbt(t,e,n),Ure=(t,e,n)=>n>32?qbt(t,e,n):Hbt(t,e,n);function lvt(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],u=n[l+1],h=Fre(c,u,1)^n[a],f=Ure(c,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=B3e[o],l=Fre(i,s,a),c=Ure(i,s,a),u=D3e[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=ovt[r],t[1]^=avt[r]}ru(n)}let cvt=class U3e extends W${constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,Qp(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=oE(this.state)}clone(){return this._cloneInto()}keccak(){tm(this.state32),lvt(this.state32,this.rounds),tm(this.state32),this.posOut=0,this.pos=0}update(e){vg(this),e=ld(e),nu(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){vg(this,!1),nu(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Qp(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(lG(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ru(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new U3e(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const uvt=(t,e,n)=>rC(()=>new cvt(e,t,n)),dvt=uvt(1,136,256/8);function hvt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}function fvt(t,e,n){return t&e^~t&n}function pvt(t,e,n){return t&e^t&n^e&n}let z3e=class extends W${constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=nO(this.buffer)}update(e){vg(this),e=ld(e),nu(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=nO(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){vg(this),lG(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,ru(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;hvt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=nO(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const k0=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ho=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),fo=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),mvt=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),S0=new Uint32Array(64);let gvt=class extends z3e{constructor(e=32){super(64,e,8,!1),this.A=k0[0]|0,this.B=k0[1]|0,this.C=k0[2]|0,this.D=k0[3]|0,this.E=k0[4]|0,this.F=k0[5]|0,this.G=k0[6]|0,this.H=k0[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)S0[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const f=S0[h-15],p=S0[h-2],m=Ud(f,7)^Ud(f,18)^f>>>3,g=Ud(p,17)^Ud(p,19)^p>>>10;S0[h]=g+S0[h-7]+m+S0[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=Ud(a,6)^Ud(a,11)^Ud(a,25),p=u+f+fvt(a,l,c)+mvt[h]+S0[h]|0,m=(Ud(r,2)^Ud(r,13)^Ud(r,22))+pvt(r,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=r,r=p+m|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){ru(S0)}destroy(){this.set(0,0,0,0,0,0,0,0),ru(this.buffer)}};const W3e=R3e(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),yvt=W3e[0],wvt=W3e[1],_0=new Uint32Array(80),I0=new Uint32Array(80);let uG=class extends z3e{constructor(e=64){super(128,e,16,!1),this.Ah=fo[0]|0,this.Al=fo[1]|0,this.Bh=fo[2]|0,this.Bl=fo[3]|0,this.Ch=fo[4]|0,this.Cl=fo[5]|0,this.Dh=fo[6]|0,this.Dl=fo[7]|0,this.Eh=fo[8]|0,this.El=fo[9]|0,this.Fh=fo[10]|0,this.Fl=fo[11]|0,this.Gh=fo[12]|0,this.Gl=fo[13]|0,this.Hh=fo[14]|0,this.Hl=fo[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:f,Gh:p,Gl:m,Hh:g,Hl:y}=this;return[e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y]}set(e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=m|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let b=0;b<16;b++,n+=4)_0[b]=e.getUint32(n),I0[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const A=_0[b-15]|0,E=I0[b-15]|0,$=X0(A,E,1)^X0(A,E,8)^Dre(A,E,7),N=em(A,E,1)^em(A,E,8)^Bre(A,E,7),R=_0[b-2]|0,j=I0[b-2]|0,F=X0(R,j,19)^N6(R,j,61)^Dre(R,j,6),W=em(R,j,19)^P6(R,j,61)^Bre(R,j,6),V=Gbt(N,W,I0[b-7],I0[b-16]),B=Kbt(V,$,F,_0[b-7],_0[b-16]);_0[b]=B|0,I0[b]=V|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:f,Fh:p,Fl:m,Gh:g,Gl:y,Hh:w,Hl:v}=this;for(let b=0;b<80;b++){const A=X0(h,f,14)^X0(h,f,18)^N6(h,f,41),E=em(h,f,14)^em(h,f,18)^P6(h,f,41),$=h&p^~h&g,N=f&m^~f&y,R=Ybt(v,E,N,wvt[b],I0[b]),j=Qbt(R,w,A,$,yvt[b],_0[b]),F=R|0,W=X0(r,i,28)^N6(r,i,34)^N6(r,i,39),V=em(r,i,28)^P6(r,i,34)^P6(r,i,39),B=r&s^r&a^s&a,k=i&o^i&l^o&l;w=g|0,v=y|0,g=p|0,y=m|0,p=h|0,m=f|0,{h,l:f}=Pu(c|0,u|0,j|0,F|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const C=iG(F,V,k);r=sG(C,j,W,B),i=C|0}({h:r,l:i}=Pu(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Pu(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Pu(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=Pu(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:f}=Pu(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:m}=Pu(this.Fh|0,this.Fl|0,p|0,m|0),{h:g,l:y}=Pu(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:v}=Pu(this.Hh|0,this.Hl|0,w|0,v|0),this.set(r,i,s,o,a,l,c,u,h,f,p,m,g,y,w,v)}roundClean(){ru(_0,I0)}destroy(){ru(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},bvt=class extends uG{constructor(){super(48),this.Ah=ho[0]|0,this.Al=ho[1]|0,this.Bh=ho[2]|0,this.Bl=ho[3]|0,this.Ch=ho[4]|0,this.Cl=ho[5]|0,this.Dh=ho[6]|0,this.Dl=ho[7]|0,this.Eh=ho[8]|0,this.El=ho[9]|0,this.Fh=ho[10]|0,this.Fl=ho[11]|0,this.Gh=ho[12]|0,this.Gl=ho[13]|0,this.Hh=ho[14]|0,this.Hl=ho[15]|0}};const po=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let vvt=class extends uG{constructor(){super(32),this.Ah=po[0]|0,this.Al=po[1]|0,this.Bh=po[2]|0,this.Bl=po[3]|0,this.Ch=po[4]|0,this.Cl=po[5]|0,this.Dh=po[6]|0,this.Dl=po[7]|0,this.Eh=po[8]|0,this.El=po[9]|0,this.Fh=po[10]|0,this.Fl=po[11]|0,this.Gh=po[12]|0,this.Gl=po[13]|0,this.Hh=po[14]|0,this.Hl=po[15]|0}};const H$=rC(()=>new gvt),xvt=rC(()=>new uG),Evt=rC(()=>new bvt),Avt=rC(()=>new vvt),Cvt=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Qi=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),ft=new Uint32Array(32);function T0(t,e,n,r,i,s){const o=i[s],a=i[s+1];let l=ft[2*t],c=ft[2*t+1],u=ft[2*e],h=ft[2*e+1],f=ft[2*n],p=ft[2*n+1],m=ft[2*r],g=ft[2*r+1],y=iG(l,u,o);c=sG(y,c,h,a),l=y|0,{Dh:g,Dl:m}={Dh:g^c,Dl:m^l},{Dh:g,Dl:m}={Dh:Ubt(g,m),Dl:zbt(g)},{h:p,l:f}=Pu(p,f,g,m),{Bh:h,Bl:u}={Bh:h^p,Bl:u^f},{Bh:h,Bl:u}={Bh:X0(h,u,24),Bl:em(h,u,24)},ft[2*t]=l,ft[2*t+1]=c,ft[2*e]=u,ft[2*e+1]=h,ft[2*n]=f,ft[2*n+1]=p,ft[2*r]=m,ft[2*r+1]=g}function $0(t,e,n,r,i,s){const o=i[s],a=i[s+1];let l=ft[2*t],c=ft[2*t+1],u=ft[2*e],h=ft[2*e+1],f=ft[2*n],p=ft[2*n+1],m=ft[2*r],g=ft[2*r+1],y=iG(l,u,o);c=sG(y,c,h,a),l=y|0,{Dh:g,Dl:m}={Dh:g^c,Dl:m^l},{Dh:g,Dl:m}={Dh:X0(g,m,16),Dl:em(g,m,16)},{h:p,l:f}=Pu(p,f,g,m),{Bh:h,Bl:u}={Bh:h^p,Bl:u^f},{Bh:h,Bl:u}={Bh:N6(h,u,63),Bl:P6(h,u,63)},ft[2*t]=l,ft[2*t+1]=c,ft[2*e]=u,ft[2*e+1]=h,ft[2*n]=f,ft[2*n+1]=p,ft[2*r]=m,ft[2*r+1]=g}function kvt(t,e={},n,r,i){if(Qp(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}let Svt=class extends W${constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Qp(e),Qp(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=oE(this.buffer)}update(e){vg(this),e=ld(e),nu(e);const{blockLen:n,buffer:r,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let l=0;l<s;){this.pos===n&&(tm(i),this.compress(i,0,!1),tm(i),this.pos=0);const c=Math.min(n-this.pos,s-l),u=o+l;if(c===n&&!(u%4)&&l+c<s){const h=new Uint32Array(a,u,Math.floor((s-l)/4));tm(h);for(let f=0;l+n<s;f+=i.length,l+=n)this.length+=n,this.compress(h,f,!1);tm(h);continue}r.set(e.subarray(l,l+c),this.pos),this.pos+=c,this.length+=c,l+=c}return this}digestInto(e){vg(this),lG(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,ru(this.buffer.subarray(n)),tm(r),this.compress(r,0,!0),tm(r);const i=oE(e);this.get().forEach((s,o)=>i[o]=Pf(s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(n),e.destroyed=s,e.finished=i,e.length=r,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}},_vt=class extends Svt{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=Qi[0]|0,this.v0h=Qi[1]|0,this.v1l=Qi[2]|0,this.v1h=Qi[3]|0,this.v2l=Qi[4]|0,this.v2h=Qi[5]|0,this.v3l=Qi[6]|0,this.v3h=Qi[7]|0,this.v4l=Qi[8]|0,this.v4h=Qi[9]|0,this.v5l=Qi[10]|0,this.v5h=Qi[11]|0,this.v6l=Qi[12]|0,this.v6h=Qi[13]|0,this.v7l=Qi[14]|0,this.v7h=Qi[15]|0,kvt(n,e,64,16,16);let{key:r,personalization:i,salt:s}=e,o=0;if(r!==void 0&&(r=ld(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=ld(s);const a=oE(s);this.v4l^=Pf(a[0]),this.v4h^=Pf(a[1]),this.v5l^=Pf(a[2]),this.v5h^=Pf(a[3])}if(i!==void 0){i=ld(i);const a=oE(i);this.v6l^=Pf(a[0]),this.v6h^=Pf(a[1]),this.v7l^=Pf(a[2]),this.v7h^=Pf(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:i,v2l:s,v2h:o,v3l:a,v3h:l,v4l:c,v4h:u,v5l:h,v5h:f,v6l:p,v6h:m,v7l:g,v7h:y}=this;return[e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y]}set(e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=l|0,this.v4l=c|0,this.v4h=u|0,this.v5l=h|0,this.v5h=f|0,this.v6l=p|0,this.v6h=m|0,this.v7l=g|0,this.v7h=y|0}compress(e,n,r){this.get().forEach((l,c)=>ft[c]=l),ft.set(Qi,16);let{h:i,l:s}=P3e(BigInt(this.length));ft[24]=Qi[8]^s,ft[25]=Qi[9]^i,r&&(ft[28]=~ft[28],ft[29]=~ft[29]);let o=0;const a=Cvt;for(let l=0;l<12;l++)T0(0,4,8,12,e,n+2*a[o++]),$0(0,4,8,12,e,n+2*a[o++]),T0(1,5,9,13,e,n+2*a[o++]),$0(1,5,9,13,e,n+2*a[o++]),T0(2,6,10,14,e,n+2*a[o++]),$0(2,6,10,14,e,n+2*a[o++]),T0(3,7,11,15,e,n+2*a[o++]),$0(3,7,11,15,e,n+2*a[o++]),T0(0,5,10,15,e,n+2*a[o++]),$0(0,5,10,15,e,n+2*a[o++]),T0(1,6,11,12,e,n+2*a[o++]),$0(1,6,11,12,e,n+2*a[o++]),T0(2,7,8,13,e,n+2*a[o++]),$0(2,7,8,13,e,n+2*a[o++]),T0(3,4,9,14,e,n+2*a[o++]),$0(3,4,9,14,e,n+2*a[o++]);this.v0l^=ft[0]^ft[16],this.v0h^=ft[1]^ft[17],this.v1l^=ft[2]^ft[18],this.v1h^=ft[3]^ft[19],this.v2l^=ft[4]^ft[20],this.v2h^=ft[5]^ft[21],this.v3l^=ft[6]^ft[22],this.v3h^=ft[7]^ft[23],this.v4l^=ft[8]^ft[24],this.v4h^=ft[9]^ft[25],this.v5l^=ft[10]^ft[26],this.v5h^=ft[11]^ft[27],this.v6l^=ft[12]^ft[28],this.v6h^=ft[13]^ft[29],this.v7l^=ft[14]^ft[30],this.v7h^=ft[15]^ft[31],ru(ft)}destroy(){this.destroyed=!0,ru(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Ivt=evt(t=>new _vt(t)),Tvt="https://rpc.walletconnect.org/v1";function H3e(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(dvt(n)).toString("hex")}async function $vt(t,e,n,r,i,s){switch(n.t){case"eip191":return await Nvt(t,e,n.s);case"eip1271":return await Pvt(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function Nvt(t,e,n){return(await wmt({hash:H3e(e),signature:n})).toLowerCase()===t.toLowerCase()}async function Pvt(t,e,n,r,i,s){const o=S1(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",l="0000000000000000000000000000000000000000000000000000000000000040",c=n.substring(2),u=(c.length/2).toString(16).padStart(64,"0"),h=(e.startsWith("0x")?e:H3e(e)).substring(2),f=a+h+l+u+c,p=await fetch(`${s||Tvt}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Rvt(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:f},"latest"]})}),{result:m}=await p.json();return m?m.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function Rvt(){return Date.now()+Math.floor(Math.random()*1e3)}function jvt(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return XA.encode(s)}function Ovt(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const i=Ivt(r,{dkLen:32});return XA.encode(i)}function zre(t){const e=new Uint8Array(H$(Mvt(t)));return XA.encode(e)}function Mvt(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function Wre(t){const e=Buffer.from(t,"base64"),n=ugt(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=tgt(n),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(r)]),o=Avt(s);return Pht.encode(o).replace(/=+$/,"")}function rO(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function Dvt(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(rO(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(rO(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(rO(r.length)),i.push(r);const s=Buffer.concat(i),o=H$(s);return Buffer.from(o).toString("hex").toUpperCase()}var Bvt=Object.defineProperty,Lvt=Object.defineProperties,Fvt=Object.getOwnPropertyDescriptors,Hre=Object.getOwnPropertySymbols,Uvt=Object.prototype.hasOwnProperty,zvt=Object.prototype.propertyIsEnumerable,Vre=(t,e,n)=>e in t?Bvt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wvt=(t,e)=>{for(var n in e||(e={}))Uvt.call(e,n)&&Vre(t,n,e[n]);if(Hre)for(var n of Hre(e))zvt.call(e,n)&&Vre(t,n,e[n]);return t},Hvt=(t,e)=>Lvt(t,Fvt(e));const Vvt="did:pkh:",dG=t=>t==null?void 0:t.split(":"),qvt=t=>{const e=t&&dG(t);if(e)return t.includes(Vvt)?e[3]:e[1]},kF=t=>{const e=t&&dG(t);if(e)return e[2]+":"+e[3]},S7=t=>{const e=t&&dG(t);if(e)return e.pop()};async function qre(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=V3e(i,i.iss),o=S7(i.iss);return await $vt(o,s,r,kF(i.iss),n)}const V3e=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=S7(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${qvt(e)}`,l=`Nonce: ${t.nonce}`,c=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,h=t.nbf?`Not Before: ${t.nbf}`:void 0,f=t.requestId?`Request ID: ${t.requestId}`:void 0,p=t.resources?`Resources:${t.resources.map(g=>`
- ${g}`).join("")}`:void 0,m=tS(t.resources);if(m){const g=lE(m);i=t2t(i,g)}return[n,r,"",i,"",s,o,a,l,c,u,h,f,p].filter(g=>g!=null).join(`
`)};function Gvt(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function Kvt(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function aw(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function Yvt(t,e,n,r={}){return n==null||n.sort((i,s)=>i.localeCompare(s)),{att:{[t]:Qvt(e,n,r)}}}function Qvt(t,e,n={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function q3e(t){return aw(t),`urn:recap:${Gvt(t).replace(/=/g,"")}`}function lE(t){const e=Kvt(t.replace("urn:recap:",""));return aw(e),e}function Zvt(t,e,n){const r=Yvt(t,e,n);return q3e(r)}function Jvt(t){return t&&t.includes("urn:recap:")}function Xvt(t,e){const n=lE(t),r=lE(e),i=e2t(n,r);return q3e(i)}function e2t(t,e){aw(t),aw(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,l)=>a.localeCompare(l)).forEach(a=>{var l,c;r.att[i]=Hvt(Wvt({},r.att[i]),{[a]:((l=t.att[i])==null?void 0:l[a])||((c=e.att[i])==null?void 0:c[a])})})}),r}function t2t(t="",e){aw(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(a=>{const l=Object.keys(e.att[a]).map(h=>({ability:h.split("/")[0],action:h.split("/")[1]}));l.sort((h,f)=>h.action.localeCompare(f.action));const c={};l.forEach(h=>{c[h.ability]||(c[h.ability]=[]),c[h.ability].push(h.action)});const u=Object.keys(c).map(h=>(i++,`(${i}) '${h}': '${c[h].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const s=r.join(" "),o=`${n}${s}`;return`${t?t+" ":""}${o}`}function Gre(t){var e;const n=lE(t);aw(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function Kre(t){const e=lE(t);aw(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function tS(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return Jvt(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function G3e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function SF(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function iO(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ja(t,...e){if(!G3e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Yre(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function n2t(t,e){ja(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function ig(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Zx(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function r2t(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const i2t=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function s2t(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function _F(t){if(typeof t=="string")t=s2t(t);else if(G3e(t))t=IF(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function o2t(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function a2t(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const l2t=(t,e)=>{function n(r,...i){if(ja(r),!i2t)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const c=i[0];if(!c)throw new Error("nonce / iv required");t.varSizeNonce?ja(c):ja(c,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&ja(i[1]);const o=e(r,...i),a=(c,u)=>{if(u!==void 0){if(c!==2)throw new Error("cipher output not supported");ja(u)}};let l=!1;return{encrypt(c,u){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,ja(c),a(o.encrypt.length,u),o.encrypt(c,u)},decrypt(c,u){if(ja(c),s&&c.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(c,u)}}}return Object.assign(n,t),n};function Qre(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!u2t(e))throw new Error("invalid output, must be aligned");return e}function Zre(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function c2t(t,e,n){SF(n);const r=new Uint8Array(16),i=r2t(r);return Zre(i,0,BigInt(e),n),Zre(i,8,BigInt(t),n),r}function u2t(t){return t.byteOffset%4===0}function IF(t){return Uint8Array.from(t)}const K3e=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),d2t=K3e("expand 16-byte k"),h2t=K3e("expand 32-byte k"),f2t=ig(d2t),p2t=ig(h2t);function qn(t,e){return t<<e|t>>>32-e}function TF(t){return t.byteOffset%4===0}const Ok=64,m2t=16,Y3e=2**32-1,Jre=new Uint32Array;function g2t(t,e,n,r,i,s,o,a){const l=i.length,c=new Uint8Array(Ok),u=ig(c),h=TF(i)&&TF(s),f=h?ig(i):Jre,p=h?ig(s):Jre;for(let m=0;m<l;o++){if(t(e,n,r,u,o,a),o>=Y3e)throw new Error("arx: counter overflow");const g=Math.min(Ok,l-m);if(h&&g===Ok){const y=m/4;if(m%4!==0)throw new Error("arx: invalid block position");for(let w=0,v;w<m2t;w++)v=y+w,p[v]=f[v]^u[w];m+=Ok;continue}for(let y=0,w;y<g;y++)w=m+y,s[w]=i[w]^c[y];m+=g}}function y2t(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=o2t({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return iO(i),iO(o),SF(s),SF(n),(a,l,c,u,h=0)=>{ja(a),ja(l),ja(c);const f=c.length;if(u===void 0&&(u=new Uint8Array(f)),ja(u),iO(h),h<0||h>=Y3e)throw new Error("arx: counter overflow");if(u.length<f)throw new Error(`arx: output (${u.length}) is shorter than data (${f})`);const p=[];let m=a.length,g,y;if(m===32)p.push(g=IF(a)),y=p2t;else if(m===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),y=f2t,p.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${m}`);TF(l)||p.push(l=IF(l));const w=ig(g);if(r){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(y,w,ig(l.subarray(0,16)),w),l=l.subarray(16)}const v=16-i;if(v!==l.length)throw new Error(`arx: nonce must be ${v} or 16 bytes`);if(v!==12){const A=new Uint8Array(12);A.set(l,s?0:12-l.length),l=A,p.push(l)}const b=ig(l);return g2t(t,y,w,b,c,u,h,o),Zx(...p),u}}const _s=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let w2t=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=_F(e),ja(e,32);const n=_s(e,0),r=_s(e,2),i=_s(e,4),s=_s(e,6),o=_s(e,8),a=_s(e,10),l=_s(e,12),c=_s(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|l<<5)&8065,this.r[8]=(l>>>8|c<<8)&8191,this.r[9]=c>>>5&127;for(let u=0;u<8;u++)this.pad[u]=_s(e,16+2*u)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],l=o[1],c=o[2],u=o[3],h=o[4],f=o[5],p=o[6],m=o[7],g=o[8],y=o[9],w=_s(e,n+0),v=_s(e,n+2),b=_s(e,n+4),A=_s(e,n+6),E=_s(e,n+8),$=_s(e,n+10),N=_s(e,n+12),R=_s(e,n+14);let j=s[0]+(w&8191),F=s[1]+((w>>>13|v<<3)&8191),W=s[2]+((v>>>10|b<<6)&8191),V=s[3]+((b>>>7|A<<9)&8191),B=s[4]+((A>>>4|E<<12)&8191),k=s[5]+(E>>>1&8191),C=s[6]+((E>>>14|$<<2)&8191),S=s[7]+(($>>>11|N<<5)&8191),T=s[8]+((N>>>8|R<<8)&8191),_=s[9]+(R>>>5|i),P=0,L=P+j*a+F*(5*y)+W*(5*g)+V*(5*m)+B*(5*p);P=L>>>13,L&=8191,L+=k*(5*f)+C*(5*h)+S*(5*u)+T*(5*c)+_*(5*l),P+=L>>>13,L&=8191;let O=P+j*l+F*a+W*(5*y)+V*(5*g)+B*(5*m);P=O>>>13,O&=8191,O+=k*(5*p)+C*(5*f)+S*(5*h)+T*(5*u)+_*(5*c),P+=O>>>13,O&=8191;let I=P+j*c+F*l+W*a+V*(5*y)+B*(5*g);P=I>>>13,I&=8191,I+=k*(5*m)+C*(5*p)+S*(5*f)+T*(5*h)+_*(5*u),P+=I>>>13,I&=8191;let D=P+j*u+F*c+W*l+V*a+B*(5*y);P=D>>>13,D&=8191,D+=k*(5*g)+C*(5*m)+S*(5*p)+T*(5*f)+_*(5*h),P+=D>>>13,D&=8191;let Y=P+j*h+F*u+W*c+V*l+B*a;P=Y>>>13,Y&=8191,Y+=k*(5*y)+C*(5*g)+S*(5*m)+T*(5*p)+_*(5*f),P+=Y>>>13,Y&=8191;let M=P+j*f+F*h+W*u+V*c+B*l;P=M>>>13,M&=8191,M+=k*a+C*(5*y)+S*(5*g)+T*(5*m)+_*(5*p),P+=M>>>13,M&=8191;let Q=P+j*p+F*f+W*h+V*u+B*c;P=Q>>>13,Q&=8191,Q+=k*l+C*a+S*(5*y)+T*(5*g)+_*(5*m),P+=Q>>>13,Q&=8191;let ee=P+j*m+F*p+W*f+V*h+B*u;P=ee>>>13,ee&=8191,ee+=k*c+C*l+S*a+T*(5*y)+_*(5*g),P+=ee>>>13,ee&=8191;let J=P+j*g+F*m+W*p+V*f+B*h;P=J>>>13,J&=8191,J+=k*u+C*c+S*l+T*a+_*(5*y),P+=J>>>13,J&=8191;let oe=P+j*y+F*g+W*m+V*p+B*f;P=oe>>>13,oe&=8191,oe+=k*h+C*u+S*c+T*l+_*a,P+=oe>>>13,oe&=8191,P=(P<<2)+P|0,P=P+L|0,L=P&8191,P=P>>>13,O+=P,s[0]=L,s[1]=O,s[2]=I,s[3]=D,s[4]=Y,s[5]=M,s[6]=Q,s[7]=ee,s[8]=J,s[9]=oe}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;Zx(r)}update(e){Yre(this),e=_F(e),ja(e);const{buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Zx(this.h,this.r,this.buffer,this.pad)}digestInto(e){Yre(this),n2t(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}};function b2t(t){const e=(r,i)=>t(i).update(_F(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const v2t=b2t(t=>new w2t(t));function x2t(t,e,n,r,i,s=20){let o=t[0],a=t[1],l=t[2],c=t[3],u=e[0],h=e[1],f=e[2],p=e[3],m=e[4],g=e[5],y=e[6],w=e[7],v=i,b=n[0],A=n[1],E=n[2],$=o,N=a,R=l,j=c,F=u,W=h,V=f,B=p,k=m,C=g,S=y,T=w,_=v,P=b,L=A,O=E;for(let D=0;D<s;D+=2)$=$+F|0,_=qn(_^$,16),k=k+_|0,F=qn(F^k,12),$=$+F|0,_=qn(_^$,8),k=k+_|0,F=qn(F^k,7),N=N+W|0,P=qn(P^N,16),C=C+P|0,W=qn(W^C,12),N=N+W|0,P=qn(P^N,8),C=C+P|0,W=qn(W^C,7),R=R+V|0,L=qn(L^R,16),S=S+L|0,V=qn(V^S,12),R=R+V|0,L=qn(L^R,8),S=S+L|0,V=qn(V^S,7),j=j+B|0,O=qn(O^j,16),T=T+O|0,B=qn(B^T,12),j=j+B|0,O=qn(O^j,8),T=T+O|0,B=qn(B^T,7),$=$+W|0,O=qn(O^$,16),S=S+O|0,W=qn(W^S,12),$=$+W|0,O=qn(O^$,8),S=S+O|0,W=qn(W^S,7),N=N+V|0,_=qn(_^N,16),T=T+_|0,V=qn(V^T,12),N=N+V|0,_=qn(_^N,8),T=T+_|0,V=qn(V^T,7),R=R+B|0,P=qn(P^R,16),k=k+P|0,B=qn(B^k,12),R=R+B|0,P=qn(P^R,8),k=k+P|0,B=qn(B^k,7),j=j+F|0,L=qn(L^j,16),C=C+L|0,F=qn(F^C,12),j=j+F|0,L=qn(L^j,8),C=C+L|0,F=qn(F^C,7);let I=0;r[I++]=o+$|0,r[I++]=a+N|0,r[I++]=l+R|0,r[I++]=c+j|0,r[I++]=u+F|0,r[I++]=h+W|0,r[I++]=f+V|0,r[I++]=p+B|0,r[I++]=m+k|0,r[I++]=g+C|0,r[I++]=y+S|0,r[I++]=w+T|0,r[I++]=v+_|0,r[I++]=b+P|0,r[I++]=A+L|0,r[I++]=E+O|0}const E2t=y2t(x2t,{counterRight:!1,counterLength:4,allowShortKeys:!1}),A2t=new Uint8Array(16),Xre=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(A2t.subarray(n))},C2t=new Uint8Array(32);function eie(t,e,n,r,i){const s=t(e,n,C2t),o=v2t.create(s);i&&Xre(o,i),Xre(o,r);const a=c2t(r.length,i?i.length:0,!0);o.update(a);const l=o.digest();return Zx(s,a),l}const k2t=t=>(e,n,r)=>({encrypt(i,s){const o=i.length;s=Qre(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const l=eie(t,e,n,a,r);return s.set(l,o),Zx(l),s},decrypt(i,s){s=Qre(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),l=eie(t,e,n,o,r);if(!a2t(a,l))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),Zx(l),s}}),Q3e=l2t({blockSize:64,nonceLength:12,tagLength:16},k2t(E2t));let Z3e=class extends W${constructor(e,n){super(),this.finished=!1,this.destroyed=!1,aG(e);const r=ld(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),ru(s)}update(e){return vg(this),this.iHash.update(e),this}digestInto(e){vg(this),nu(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const V$=(t,e,n)=>new Z3e(t,e).update(n).digest();V$.create=(t,e)=>new Z3e(t,e);function S2t(t,e,n){return aG(t),n===void 0&&(n=new Uint8Array(t.outputLen)),V$(t,ld(n),ld(e))}const sO=Uint8Array.from([0]),tie=Uint8Array.of();function _2t(t,e,n,r=32){aG(t),Qp(r);const i=t.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);n===void 0&&(n=tie);const o=new Uint8Array(s*i),a=V$.create(t,e),l=a._cloneInto(),c=new Uint8Array(a.outputLen);for(let u=0;u<s;u++)sO[0]=u+1,l.update(u===0?tie:c).update(n).update(sO).digestInto(c),o.set(c,i*u),a._cloneInto(l);return a.destroy(),l.destroy(),ru(c,sO),o.slice(0,r)}const I2t=(t,e,n,r,i)=>_2t(t,S2t(t,e,n),r,i),q$=H$,hG=BigInt(0),$F=BigInt(1);function _7(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Mk(t){const e=t.toString(16);return e.length&1?"0"+e:e}function J3e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?hG:BigInt("0x"+t)}function G$(t){return J3e(aE(t))}function I7(t){return nu(t),J3e(aE(Uint8Array.from(t).reverse()))}function fG(t,e){return cG(t.toString(16).padStart(e*2,"0"))}function pG(t,e){return fG(t,e).reverse()}function Pa(t,e,n){let r;if(typeof e=="string")try{r=cG(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(oG(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const oO=t=>typeof t=="bigint"&&hG<=t;function T2t(t,e,n){return oO(t)&&oO(e)&&oO(n)&&e<=t&&t<n}function NF(t,e,n,r){if(!T2t(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function $2t(t){let e;for(e=0;t>hG;t>>=$F,e+=1);return e}const K$=t=>($F<<BigInt(t))-$F;function N2t(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=f=>new Uint8Array(f),i=f=>Uint8Array.of(f);let s=r(t),o=r(t),a=0;const l=()=>{s.fill(1),o.fill(0),a=0},c=(...f)=>n(o,s,...f),u=(f=r(0))=>{o=c(i(0),f),s=c(),f.length!==0&&(o=c(i(1),f),s=c())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<e;){s=c();const m=s.slice();p.push(m),f+=s.length}return My(...p)};return(f,p)=>{l(),u(f);let m;for(;!(m=p(h()));)u();return l(),m}}function Y$(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,s,o){const a=t[i];if(o&&a===void 0)return;const l=typeof a;if(l!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${l}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function nie(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const qa=BigInt(0),ha=BigInt(1),Dy=BigInt(2),P2t=BigInt(3),X3e=BigInt(4),e5e=BigInt(5),t5e=BigInt(8);function Bc(t,e){const n=t%e;return n>=qa?n:e+n}function Iu(t,e,n){let r=t;for(;e-- >qa;)r*=r,r%=n;return r}function rie(t,e){if(t===qa)throw new Error("invert: expected non-zero number");if(e<=qa)throw new Error("invert: expected positive modulus, got "+e);let n=Bc(t,e),r=e,i=qa,s=ha;for(;n!==qa;){const o=r/n,a=r%n,l=i-s*o;r=n,n=a,i=s,s=l}if(r!==ha)throw new Error("invert: does not exist");return Bc(i,e)}function n5e(t,e){const n=(t.ORDER+ha)/X3e,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function R2t(t,e){const n=(t.ORDER-e5e)/t5e,r=t.mul(e,Dy),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,Dy),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function j2t(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-ha,n=0;for(;e%Dy===qa;)e/=Dy,n++;let r=Dy;const i=e5(t);for(;iie(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return n5e;let s=i.pow(r,e);const o=(e+ha)/Dy;return function(a,l){if(a.is0(l))return l;if(iie(a,l)!==1)throw new Error("Cannot find square root");let c=n,u=a.mul(a.ONE,s),h=a.pow(l,e),f=a.pow(l,o);for(;!a.eql(h,a.ONE);){if(a.is0(h))return a.ZERO;let p=1,m=a.sqr(h);for(;!a.eql(m,a.ONE);)if(p++,m=a.sqr(m),p===c)throw new Error("Cannot find square root");const g=ha<<BigInt(c-p-1),y=a.pow(u,g);c=p,u=a.sqr(y),h=a.mul(h,u),f=a.mul(f,y)}return f}}function O2t(t){return t%X3e===P2t?n5e:t%t5e===e5e?R2t:j2t(t)}const M2t=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function D2t(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=M2t.reduce((r,i)=>(r[i]="function",r),e);return Y$(t,n),t}function B2t(t,e,n){if(n<qa)throw new Error("invalid exponent, negatives unsupported");if(n===qa)return t.ONE;if(n===ha)return e;let r=t.ONE,i=e;for(;n>qa;)n&ha&&(r=t.mul(r,i)),i=t.sqr(i),n>>=ha;return r}function r5e(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,l)=>t.is0(a)?o:(r[l]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,l)=>t.is0(a)?o:(r[l]=t.mul(o,r[l]),t.mul(o,a)),s),r}function iie(t,e){const n=(t.ORDER-ha)/Dy,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function L2t(t,e){e!==void 0&&Qp(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function e5(t,e,n=!1,r={}){if(t<=qa)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(i=u.BITS),u.sqrt&&(s=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:o,nByteLength:a}=L2t(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:a,MASK:K$(o),ZERO:qa,ONE:ha,create:u=>Bc(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return qa<=u&&u<t},is0:u=>u===qa,isValidNot0:u=>!c.is0(u)&&c.isValid(u),isOdd:u=>(u&ha)===ha,neg:u=>Bc(-u,t),eql:(u,h)=>u===h,sqr:u=>Bc(u*u,t),add:(u,h)=>Bc(u+h,t),sub:(u,h)=>Bc(u-h,t),mul:(u,h)=>Bc(u*h,t),pow:(u,h)=>B2t(c,u,h),div:(u,h)=>Bc(u*rie(h,t),t),sqrN:u=>u*u,addN:(u,h)=>u+h,subN:(u,h)=>u-h,mulN:(u,h)=>u*h,inv:u=>rie(u,t),sqrt:s||(u=>(l||(l=O2t(t)),l(c,u))),toBytes:u=>n?pG(u,a):fG(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?I7(u):G$(u)},invertBatch:u=>r5e(c,u),cmov:(u,h,f)=>f?h:u});return Object.freeze(c)}function i5e(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function s5e(t){const e=i5e(t);return e+Math.ceil(e/2)}function F2t(t,e,n=!1){const r=t.length,i=i5e(e),s=s5e(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?I7(t):G$(t),a=Bc(o,e-ha)+ha;return n?pG(a,i):fG(a,i)}const Jx=BigInt(0),By=BigInt(1);function m4(t,e){const n=e.negate();return t?n:e}function U2t(t,e,n){const r=s=>s.pz,i=r5e(t.Fp,n.map(r));return n.map((s,o)=>s.toAffine(i[o])).map(t.fromAffine)}function o5e(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function aO(t,e){o5e(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=K$(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function sie(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),l=t>>o;a>r&&(a-=s,l+=By);const c=e*r,u=c+Math.abs(a)-1,h=a===0,f=a<0,p=e%2!==0;return{nextN:l,offset:u,isZero:h,isNeg:f,isNegF:p,offsetF:c}}function z2t(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function W2t(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const lO=new WeakMap,a5e=new WeakMap;function cO(t){return a5e.get(t)||1}function oie(t){if(t!==Jx)throw new Error("invalid wNAF")}function H2t(t,e){return{constTimeNegate:m4,hasPrecomputes(n){return cO(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>Jx;)r&By&&(i=i.add(s)),s=s.double(),r>>=By;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=aO(r,e),o=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=aO(n,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:h,isNeg:f,isNegF:p,offsetF:m}=sie(i,l,a);i=c,h?o=o.add(m4(p,r[m])):s=s.add(m4(f,r[u]))}return oie(i),{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=aO(n,e);for(let a=0;a<o.windows&&i!==Jx;a++){const{nextN:l,offset:c,isZero:u,isNeg:h}=sie(i,a,o);if(i=l,!u){const f=r[c];s=s.add(h?f.negate():f)}}return oie(i),s},getPrecomputes(n,r,i){let s=lO.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&(typeof i=="function"&&(s=i(s)),lO.set(r,s))),s},wNAFCached(n,r,i){const s=cO(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=cO(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){o5e(r,e),a5e.set(n,r),lO.delete(n)}}}function V2t(t,e,n,r){let i=e,s=t.ZERO,o=t.ZERO;for(;n>Jx||r>Jx;)n&By&&(s=s.add(i)),r&By&&(o=o.add(i)),i=i.double(),n>>=By,r>>=By;return{p1:s,p2:o}}function q2t(t,e,n,r){z2t(n,t),W2t(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=$2t(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=K$(l),u=new Array(Number(c)+1).fill(o),h=Math.floor((e.BITS-1)/l)*l;let f=o;for(let p=h;p>=0;p-=l){u.fill(o);for(let g=0;g<s;g++){const y=r[g],w=Number(y>>BigInt(p)&c);u[w]=u[w].add(n[g])}let m=o;for(let g=u.length-1,y=o;g>0;g--)y=y.add(u[g]),m=m.add(y);if(f=f.add(m),p!==0)for(let g=0;g<l;g++)f=f.double()}return f}function aie(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return D2t(e),e}else return e5(t)}function G2t(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>Jx))throw new Error(`CURVE.${o} must be positive bigint`)}const r=aie(e.p,n.Fp),i=aie(e.n,n.Fn),s=["Gx","Gy","a","b"];for(const o of s)if(!r.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const q5=BigInt(0),wb=BigInt(1),Dk=BigInt(2);function K2t(t){return Y$(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function Y2t(t){const e=K2t(t),{P:n,type:r,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const l=o||X3,c=a?255:448,u=a?32:56,h=BigInt(a?9:5),f=BigInt(a?121665:39081),p=a?Dk**BigInt(254):Dk**BigInt(447),m=a?BigInt(8)*Dk**BigInt(251)-wb:BigInt(4)*Dk**BigInt(445)-wb,g=p+m+wb,y=j=>Bc(j,n),w=v(h);function v(j){return pG(y(j),u)}function b(j){const F=Pa("u coordinate",j,u);return a&&(F[31]&=127),y(I7(F))}function A(j){return I7(i(Pa("scalar",j,u)))}function E(j,F){const W=R(b(F),A(j));if(W===q5)throw new Error("invalid private or public key received");return v(W)}function $(j){return E(j,w)}function N(j,F,W){const V=y(j*(F-W));return F=y(F-V),W=y(W+V),{x_2:F,x_3:W}}function R(j,F){NF("u",j,q5,n),NF("scalar",F,p,g);const W=F,V=j;let B=wb,k=q5,C=j,S=wb,T=q5;for(let P=BigInt(c-1);P>=q5;P--){const L=W>>P&wb;T^=L,{x_2:B,x_3:C}=N(T,B,C),{x_2:k,x_3:S}=N(T,k,S),T=L;const O=B+k,I=y(O*O),D=B-k,Y=y(D*D),M=I-Y,Q=C+S,ee=C-S,J=y(ee*O),oe=y(Q*D),de=J+oe,ae=J-oe;C=y(de*de),S=y(V*y(ae*ae)),B=y(I*Y),k=y(M*(I+y(f*M)))}({x_2:B,x_3:C}=N(T,B,C)),{x_2:k,x_3:S}=N(T,k,S);const _=s(k);return y(B*_)}return{scalarMult:E,scalarMultBase:$,getSharedSecret:(j,F)=>E(j,F),getPublicKey:j=>$(j),utils:{randomPrivateKey:()=>l(u)},GuBytes:w.slice()}}BigInt(0);const Q2t=BigInt(1),lie=BigInt(2),Z2t=BigInt(3),J2t=BigInt(5),X2t=BigInt(8),l5e={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:X2t,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function ext(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=l5e.p,o=t*t%s*t%s,a=Iu(o,lie,s)*o%s,l=Iu(a,Q2t,s)*t%s,c=Iu(l,J2t,s)*l%s,u=Iu(c,e,s)*c%s,h=Iu(u,n,s)*u%s,f=Iu(h,r,s)*h%s,p=Iu(f,i,s)*f%s,m=Iu(p,i,s)*f%s,g=Iu(m,e,s)*c%s;return{pow_p_5_8:Iu(g,lie,s)*t%s,b2:o}}function txt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const PF=(()=>{const t=l5e.p;return Y2t({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=ext(e);return Bc(Iu(n,Z2t,t)*r,t)},adjustScalarBytes:txt})})();function cie(t){t.lowS!==void 0&&_7("lowS",t.lowS),t.prehash!==void 0&&_7("prehash",t.prehash)}let nxt=class extends Error{constructor(e=""){super(e)}};const Vf={Err:nxt,_tlv:{encode:(t,e)=>{const{Err:n}=Vf;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Mk(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Mk(i.length/2|128):"";return Mk(t)+s+i+e},decode(t,e){const{Err:n}=Vf;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(r+=l,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Vf;if(t<g4)throw new e("integer: negative integers are not allowed");let n=Mk(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Vf;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return G$(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Vf,i=Pa("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,s),{v:c,l:u}=r.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=Vf,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},g4=BigInt(0),y4=BigInt(1),rxt=BigInt(2),Bk=BigInt(3),ixt=BigInt(4);function sxt(t,e,n){function r(i){const s=t.sqr(i),o=t.mul(s,i);return t.add(t.add(o,t.mul(i,e)),n)}return r}function c5e(t,e,n){const{BYTES:r}=t;function i(s){let o;if(typeof s=="bigint")o=s;else{let a=Pa("private key",s);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(r);l.set(a,l.length-a.length),a=l}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof s}`)}}if(n&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return i}function oxt(t,e={}){const{Fp:n,Fn:r}=G2t("weierstrass",t,e),{h:i,n:s}=t;Y$(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!n.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(R,j,F){const{x:W,y:V}=j.toAffine(),B=n.toBytes(W);if(_7("isCompressed",F),F){a();const k=!n.isOdd(V);return My(u5e(k),B)}else return My(Uint8Array.of(4),B,n.toBytes(V))}function c(R){nu(R);const j=n.BYTES,F=j+1,W=2*j+1,V=R.length,B=R[0],k=R.subarray(1);if(V===F&&(B===2||B===3)){const C=n.fromBytes(k);if(!n.isValid(C))throw new Error("bad point: is not on curve, wrong x");const S=f(C);let T;try{T=n.sqrt(S)}catch(P){const L=P instanceof Error?": "+P.message:"";throw new Error("bad point: is not on curve, sqrt error"+L)}a();const _=n.isOdd(T);return(B&1)===1!==_&&(T=n.neg(T)),{x:C,y:T}}else if(V===W&&B===4){const C=n.fromBytes(k.subarray(j*0,j*1)),S=n.fromBytes(k.subarray(j*1,j*2));if(!p(C,S))throw new Error("bad point: is not on curve");return{x:C,y:S}}else throw new Error(`bad point: got length ${V}, expected compressed=${F} or uncompressed=${W}`)}const u=e.toBytes||l,h=e.fromBytes||c,f=sxt(n,t.a,t.b);function p(R,j){const F=n.sqr(j),W=f(R);return n.eql(F,W)}if(!p(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const m=n.mul(n.pow(t.a,Bk),ixt),g=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(m,g)))throw new Error("bad curve params: a or b");function y(R,j,F=!1){if(!n.isValid(j)||F&&n.is0(j))throw new Error(`bad point coordinate ${R}`);return j}function w(R){if(!(R instanceof E))throw new Error("ProjectivePoint expected")}const v=nie((R,j)=>{const{px:F,py:W,pz:V}=R;if(n.eql(V,n.ONE))return{x:F,y:W};const B=R.is0();j==null&&(j=B?n.ONE:n.inv(V));const k=n.mul(F,j),C=n.mul(W,j),S=n.mul(V,j);if(B)return{x:n.ZERO,y:n.ZERO};if(!n.eql(S,n.ONE))throw new Error("invZ was invalid");return{x:k,y:C}}),b=nie(R=>{if(R.is0()){if(e.allowInfinityPoint&&!n.is0(R.py))return;throw new Error("bad point: ZERO")}const{x:j,y:F}=R.toAffine();if(!n.isValid(j)||!n.isValid(F))throw new Error("bad point: x or y not field elements");if(!p(j,F))throw new Error("bad point: equation left != right");if(!R.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function A(R,j,F,W,V){return F=new E(n.mul(F.px,R),F.py,F.pz),j=m4(W,j),F=m4(V,F),j.add(F)}class E{constructor(j,F,W){this.px=y("x",j),this.py=y("y",F,!0),this.pz=y("z",W),Object.freeze(this)}static fromAffine(j){const{x:F,y:W}=j||{};if(!j||!n.isValid(F)||!n.isValid(W))throw new Error("invalid affine point");if(j instanceof E)throw new Error("projective point not allowed");return n.is0(F)&&n.is0(W)?E.ZERO:new E(F,W,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(j){return U2t(E,"pz",j)}static fromBytes(j){return nu(j),E.fromHex(j)}static fromHex(j){const F=E.fromAffine(h(Pa("pointHex",j)));return F.assertValidity(),F}static fromPrivateKey(j){const F=c5e(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return E.BASE.multiply(F(j))}static msm(j,F){return q2t(E,r,j,F)}precompute(j=8,F=!0){return N.setWindowSize(this,j),F||this.multiply(Bk),this}_setWindowSize(j){this.precompute(j)}assertValidity(){b(this)}hasEvenY(){const{y:j}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(j)}equals(j){w(j);const{px:F,py:W,pz:V}=this,{px:B,py:k,pz:C}=j,S=n.eql(n.mul(F,C),n.mul(B,V)),T=n.eql(n.mul(W,C),n.mul(k,V));return S&&T}negate(){return new E(this.px,n.neg(this.py),this.pz)}double(){const{a:j,b:F}=t,W=n.mul(F,Bk),{px:V,py:B,pz:k}=this;let C=n.ZERO,S=n.ZERO,T=n.ZERO,_=n.mul(V,V),P=n.mul(B,B),L=n.mul(k,k),O=n.mul(V,B);return O=n.add(O,O),T=n.mul(V,k),T=n.add(T,T),C=n.mul(j,T),S=n.mul(W,L),S=n.add(C,S),C=n.sub(P,S),S=n.add(P,S),S=n.mul(C,S),C=n.mul(O,C),T=n.mul(W,T),L=n.mul(j,L),O=n.sub(_,L),O=n.mul(j,O),O=n.add(O,T),T=n.add(_,_),_=n.add(T,_),_=n.add(_,L),_=n.mul(_,O),S=n.add(S,_),L=n.mul(B,k),L=n.add(L,L),_=n.mul(L,O),C=n.sub(C,_),T=n.mul(L,P),T=n.add(T,T),T=n.add(T,T),new E(C,S,T)}add(j){w(j);const{px:F,py:W,pz:V}=this,{px:B,py:k,pz:C}=j;let S=n.ZERO,T=n.ZERO,_=n.ZERO;const P=t.a,L=n.mul(t.b,Bk);let O=n.mul(F,B),I=n.mul(W,k),D=n.mul(V,C),Y=n.add(F,W),M=n.add(B,k);Y=n.mul(Y,M),M=n.add(O,I),Y=n.sub(Y,M),M=n.add(F,V);let Q=n.add(B,C);return M=n.mul(M,Q),Q=n.add(O,D),M=n.sub(M,Q),Q=n.add(W,V),S=n.add(k,C),Q=n.mul(Q,S),S=n.add(I,D),Q=n.sub(Q,S),_=n.mul(P,M),S=n.mul(L,D),_=n.add(S,_),S=n.sub(I,_),_=n.add(I,_),T=n.mul(S,_),I=n.add(O,O),I=n.add(I,O),D=n.mul(P,D),M=n.mul(L,M),I=n.add(I,D),D=n.sub(O,D),D=n.mul(P,D),M=n.add(M,D),O=n.mul(I,M),T=n.add(T,O),O=n.mul(Q,M),S=n.mul(Y,S),S=n.sub(S,O),O=n.mul(Y,I),_=n.mul(Q,_),_=n.add(_,O),new E(S,T,_)}subtract(j){return this.add(j.negate())}is0(){return this.equals(E.ZERO)}multiply(j){const{endo:F}=e;if(!r.isValidNot0(j))throw new Error("invalid scalar: out of range");let W,V;const B=k=>N.wNAFCached(this,k,E.normalizeZ);if(F){const{k1neg:k,k1:C,k2neg:S,k2:T}=F.splitScalar(j),{p:_,f:P}=B(C),{p:L,f:O}=B(T);V=P.add(O),W=A(F.beta,_,L,k,S)}else{const{p:k,f:C}=B(j);W=k,V=C}return E.normalizeZ([W,V])[0]}multiplyUnsafe(j){const{endo:F}=e,W=this;if(!r.isValid(j))throw new Error("invalid scalar: out of range");if(j===g4||W.is0())return E.ZERO;if(j===y4)return W;if(N.hasPrecomputes(this))return this.multiply(j);if(F){const{k1neg:V,k1:B,k2neg:k,k2:C}=F.splitScalar(j),{p1:S,p2:T}=V2t(E,W,B,C);return A(F.beta,S,T,V,k)}else return N.wNAFCachedUnsafe(W,j)}multiplyAndAddUnsafe(j,F,W){const V=this.multiplyUnsafe(F).add(j.multiplyUnsafe(W));return V.is0()?void 0:V}toAffine(j){return v(this,j)}isTorsionFree(){const{isTorsionFree:j}=e;return i===y4?!0:j?j(E,this):N.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:j}=e;return i===y4?this:j?j(E,this):this.multiplyUnsafe(i)}toBytes(j=!0){return _7("isCompressed",j),this.assertValidity(),u(E,this,j)}toRawBytes(j=!0){return this.toBytes(j)}toHex(j=!0){return aE(this.toBytes(j))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}E.BASE=new E(t.Gx,t.Gy,n.ONE),E.ZERO=new E(n.ZERO,n.ONE,n.ZERO),E.Fp=n,E.Fn=r;const $=r.BITS,N=H2t(E,e.endo?Math.ceil($/2):$);return E}function u5e(t){return Uint8Array.of(t?2:3)}function axt(t,e,n={}){Y$(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||X3,i=e.hmac||((W,...V)=>V$(e.hash,W,My(...V))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:l}=o;function c(W){const V=a>>y4;return W>V}function u(W){return c(W)?o.neg(W):W}function h(W,V){if(!o.isValidNot0(V))throw new Error(`invalid signature ${W}: out of range 1..CURVE.n`)}class f{constructor(V,B,k){h("r",V),h("s",B),this.r=V,this.s=B,k!=null&&(this.recovery=k),Object.freeze(this)}static fromCompact(V){const B=o.BYTES,k=Pa("compactSignature",V,B*2);return new f(o.fromBytes(k.subarray(0,B)),o.fromBytes(k.subarray(B,B*2)))}static fromDER(V){const{r:B,s:k}=Vf.toSig(Pa("DER",V));return new f(B,k)}assertValidity(){}addRecoveryBit(V){return new f(this.r,this.s,V)}recoverPublicKey(V){const B=s.ORDER,{r:k,s:C,recovery:S}=this;if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");if(a*rxt<B&&S>1)throw new Error("recovery id is ambiguous for h>1 curve");const T=S===2||S===3?k+a:k;if(!s.isValid(T))throw new Error("recovery id 2 or 3 invalid");const _=s.toBytes(T),P=t.fromHex(My(u5e((S&1)===0),_)),L=o.inv(T),O=b(Pa("msgHash",V)),I=o.create(-O*L),D=o.create(C*L),Y=t.BASE.multiplyUnsafe(I).add(P.multiplyUnsafe(D));if(Y.is0())throw new Error("point at infinify");return Y.assertValidity(),Y}hasHighS(){return c(this.s)}normalizeS(){return this.hasHighS()?new f(this.r,o.neg(this.s),this.recovery):this}toBytes(V){if(V==="compact")return My(o.toBytes(this.r),o.toBytes(this.s));if(V==="der")return cG(Vf.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return aE(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return aE(this.toBytes("compact"))}}const p=c5e(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),m={isValidPrivateKey(W){try{return p(W),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const W=a;return F2t(r(s5e(W)),W)},precompute(W=8,V=t.BASE){return V.precompute(W,!1)}};function g(W,V=!0){return t.fromPrivateKey(W).toBytes(V)}function y(W){if(typeof W=="bigint")return!1;if(W instanceof t)return!0;const V=Pa("key",W).length,B=s.BYTES,k=B+1,C=2*B+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===k))return V===k||V===C}function w(W,V,B=!0){if(y(W)===!0)throw new Error("first arg must be private key");if(y(V)===!1)throw new Error("second arg must be public key");return t.fromHex(V).multiply(p(W)).toBytes(B)}const v=e.bits2int||function(W){if(W.length>8192)throw new Error("input is too large");const V=G$(W),B=W.length*8-l;return B>0?V>>BigInt(B):V},b=e.bits2int_modN||function(W){return o.create(v(W))},A=K$(l);function E(W){return NF("num < 2^"+l,W,g4,A),o.toBytes(W)}function $(W,V,B=N){if(["recovered","canonical"].some(Y=>Y in B))throw new Error("sign() legacy options not supported");const{hash:k}=e;let{lowS:C,prehash:S,extraEntropy:T}=B;C==null&&(C=!0),W=Pa("msgHash",W),cie(B),S&&(W=Pa("prehashed msgHash",k(W)));const _=b(W),P=p(V),L=[E(P),E(_)];if(T!=null&&T!==!1){const Y=T===!0?r(s.BYTES):T;L.push(Pa("extraEntropy",Y))}const O=My(...L),I=_;function D(Y){const M=v(Y);if(!o.isValidNot0(M))return;const Q=o.inv(M),ee=t.BASE.multiply(M).toAffine(),J=o.create(ee.x);if(J===g4)return;const oe=o.create(Q*o.create(I+J*P));if(oe===g4)return;let de=(ee.x===J?0:2)|Number(ee.y&y4),ae=oe;return C&&c(oe)&&(ae=u(oe),de^=1),new f(J,ae,de)}return{seed:O,k2sig:D}}const N={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function j(W,V,B=N){const{seed:k,k2sig:C}=$(W,V,B);return N2t(e.hash.outputLen,o.BYTES,i)(k,C)}t.BASE.precompute(8);function F(W,V,B,k=R){const C=W;V=Pa("msgHash",V),B=Pa("publicKey",B),cie(k);const{lowS:S,prehash:T,format:_}=k;if("strict"in k)throw new Error("options.strict was renamed to lowS");if(_!==void 0&&!["compact","der","js"].includes(_))throw new Error('format must be "compact", "der" or "js"');const P=typeof C=="string"||oG(C),L=!P&&!_&&typeof C=="object"&&C!==null&&typeof C.r=="bigint"&&typeof C.s=="bigint";if(!P&&!L)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let O,I;try{if(L)if(_===void 0||_==="js")O=new f(C.r,C.s);else throw new Error("invalid format");if(P){try{_!=="compact"&&(O=f.fromDER(C))}catch(de){if(!(de instanceof Vf.Err))throw de}!O&&_!=="der"&&(O=f.fromCompact(C))}I=t.fromHex(B)}catch{return!1}if(!O||S&&O.hasHighS())return!1;T&&(V=e.hash(V));const{r:D,s:Y}=O,M=b(V),Q=o.inv(Y),ee=o.create(M*Q),J=o.create(D*Q),oe=t.BASE.multiplyUnsafe(ee).add(I.multiplyUnsafe(J));return oe.is0()?!1:o.create(oe.x)===D}return Object.freeze({getPublicKey:g,getSharedSecret:w,sign:j,verify:F,utils:m,Point:t,Signature:f})}function lxt(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=e5(e.n,t.nBitLength),i={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function cxt(t){const{CURVE:e,curveOpts:n}=lxt(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function uxt(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function dxt(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=cxt(t),i=oxt(e,n),s=axt(i,r,n);return uxt(t,s)}function RF(t,e){const n=r=>dxt({...t,hash:r});return{...n(e),create:n}}const d5e={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},h5e={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},f5e={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},hxt=e5(d5e.p),fxt=e5(h5e.p),pxt=e5(f5e.p),mxt=RF({...d5e,Fp:hxt,lowS:!1},H$);RF({...h5e,Fp:fxt,lowS:!1},Evt),RF({...f5e,Fp:pxt,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},xvt);const gxt=mxt,p5e="base10",fa="base16",Oa="base64pad",um="base64url",iC="utf8",m5e=0,Sp=1,sC=2,yxt=0,uie=1,w4=12,mG=32;function wxt(){const t=PF.utils.randomPrivateKey(),e=PF.getPublicKey(t);return{privateKey:Za(t,fa),publicKey:Za(e,fa)}}function jF(){const t=X3(mG);return Za(t,fa)}function bxt(t,e){const n=PF.getSharedSecret(Gc(t,fa),Gc(e,fa)),r=I2t(q$,n,void 0,void 0,mG);return Za(r,fa)}function nS(t){const e=q$(Gc(t,fa));return Za(e,fa)}function Oc(t){const e=q$(Gc(t,iC));return Za(e,fa)}function g5e(t){return Gc(`${t}`,p5e)}function lw(t){return Number(Za(t,p5e))}function y5e(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function w5e(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function vxt(t){const e=g5e(typeof t.type<"u"?t.type:m5e);if(lw(e)===Sp&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?Gc(t.senderPublicKey,fa):void 0,r=typeof t.iv<"u"?Gc(t.iv,fa):X3(w4),i=Gc(t.symKey,fa),s=Q3e(i,r).encrypt(Gc(t.message,iC)),o=b5e({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===um?y5e(o):o}function xxt(t){const e=Gc(t.symKey,fa),{sealed:n,iv:r}=cE({encoded:t.encoded,encoding:t.encoding}),i=Q3e(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return Za(i,iC)}function Ext(t,e){const n=g5e(sC),r=X3(w4),i=Gc(t,iC),s=b5e({type:n,sealed:i,iv:r});return e===um?y5e(s):s}function Axt(t,e){const{sealed:n}=cE({encoded:t,encoding:e});return Za(n,iC)}function b5e(t){if(lw(t.type)===sC)return Za(p4([t.type,t.sealed]),Oa);if(lw(t.type)===Sp){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Za(p4([t.type,t.senderPublicKey,t.iv,t.sealed]),Oa)}return Za(p4([t.type,t.iv,t.sealed]),Oa)}function cE(t){const e=(t.encoding||Oa)===um?w5e(t.encoded):t.encoded,n=Gc(e,Oa),r=n.slice(yxt,uie),i=uie;if(lw(r)===Sp){const l=i+mG,c=l+w4,u=n.slice(i,l),h=n.slice(l,c),f=n.slice(c);return{type:r,sealed:f,iv:h,senderPublicKey:u}}if(lw(r)===sC){const l=n.slice(i),c=X3(w4);return{type:r,sealed:l,iv:c}}const s=i+w4,o=n.slice(i,s),a=n.slice(s);return{type:r,sealed:a,iv:o}}function Cxt(t,e){const n=cE({encoded:t,encoding:e==null?void 0:e.encoding});return v5e({type:lw(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Za(n.senderPublicKey,fa):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function v5e(t){const e=(t==null?void 0:t.type)||m5e;if(e===Sp){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function die(t){return t.type===Sp&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function hie(t){return t.type===sC}function kxt(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return p4([new Uint8Array([4]),e,n])}function Sxt(t,e){const[n,r,i]=t.split("."),s=Buffer.from(w5e(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),l=`${n}.${r}`,c=q$(l),u=kxt(e);if(!gxt.verify(p4([o,a]),c,u))throw new Error("Invalid signature");return xF(t).payload}const _xt="irn";function T7(t){return(t==null?void 0:t.relay)||{protocol:_xt}}function Cv(t){const e=ebt[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function Ixt(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),o=t[i];n[s]=o}}),n}function fie(t){if(!t.includes("wc:")){const c=N3e(t);c!=null&&c.includes("wc:")&&(t=c)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(s),a={};o.forEach((c,u)=>{a[u]=c});const l=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:Txt(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:Ixt(a),methods:l,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function Txt(t){return t.startsWith("//")?t.substring(2):t}function $xt(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,o=n+e+s;t[s]&&(r[o]=t[s])}),r}function pie(t){const e=new URLSearchParams,n=$xt(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function Lk(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var Nxt=Object.defineProperty,Pxt=Object.defineProperties,Rxt=Object.getOwnPropertyDescriptors,mie=Object.getOwnPropertySymbols,jxt=Object.prototype.hasOwnProperty,Oxt=Object.prototype.propertyIsEnumerable,gie=(t,e,n)=>e in t?Nxt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mxt=(t,e)=>{for(var n in e||(e={}))jxt.call(e,n)&&gie(t,n,e[n]);if(mie)for(var n of mie(e))Oxt.call(e,n)&&gie(t,n,e[n]);return t},Dxt=(t,e)=>Pxt(t,Rxt(e));function t5(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function Bxt(t){const e=[];return Object.values(t).forEach(n=>{e.push(...t5(n.accounts))}),e}function Lxt(t,e){const n=[];return Object.values(t).forEach(r=>{t5(r.accounts).includes(e)&&n.push(...r.methods)}),n}function Fxt(t,e){const n=[];return Object.values(t).forEach(r=>{t5(r.accounts).includes(e)&&n.push(...r.events)}),n}function Q$(t){return t.includes(":")}function kv(t){return Q$(t)?t.split(":")[0]:t}function yie(t){var e,n,r;const i={};if(!Vh(t))return i;for(const[s,o]of Object.entries(t)){const a=Q$(s)?[s]:o.chains,l=o.methods||[],c=o.events||[],u=kv(s);i[u]=Dxt(Mxt({},i[u]),{chains:Hh(a,(e=i[u])==null?void 0:e.chains),methods:Hh(l,(n=i[u])==null?void 0:n.methods),events:Hh(c,(r=i[u])==null?void 0:r.events)})}return i}function Uxt(t){const e={};return t==null||t.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function wie(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=Uxt(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=Hh(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function zxt(t,e){var n,r,i,s,o,a;const l=yie(t),c=yie(e),u={},h=Object.keys(l).concat(Object.keys(c));for(const f of h)u[f]={chains:Hh((n=l[f])==null?void 0:n.chains,(r=c[f])==null?void 0:r.chains),methods:Hh((i=l[f])==null?void 0:i.methods,(s=c[f])==null?void 0:s.methods),events:Hh((o=l[f])==null?void 0:o.events,(a=c[f])==null?void 0:a.events)};return u}const Wxt={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Hxt={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function it(t,e){const{message:n,code:r}=Hxt[t];return{message:e?`${n} ${e}`:n,code:r}}function Dr(t,e){const{message:n,code:r}=Wxt[t];return{message:e?`${n} ${e}`:n,code:r}}function Yc(t,e){return!!Array.isArray(t)}function Vh(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function bs(t){return typeof t>"u"}function Hi(t,e){return e&&bs(t)?!0:typeof t=="string"&&!!t.trim().length}function gG(t,e){return typeof t=="number"&&!isNaN(t)}function Vxt(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return Oy(i,r)?(r.forEach(o=>{const{accounts:a,methods:l,events:c}=t.namespaces[o],u=t5(a),h=n[o];(!Oy(S3e(o,h),u)||!Oy(h.methods,l)||!Oy(h.events,c))&&(s=!1)}),s):!1}function $7(t){return Hi(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function qxt(t){if(Hi(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&$7(n)}}return!1}function Gxt(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(Hi(t,!1)){if(e(t))return!0;const n=N3e(t);return e(n)}}catch{}return!1}function Kxt(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Yxt(t){return t==null?void 0:t.topic}function Qxt(t,e){let n=null;return Hi(t==null?void 0:t.publicKey,!1)||(n=it("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function bie(t){let e=!0;return Yc(t)?t.length&&(e=t.every(n=>Hi(n,!1))):e=!1,e}function Zxt(t,e,n){let r=null;return Yc(e)&&e.length?e.forEach(i=>{r||$7(i)||(r=Dr("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):$7(t)||(r=Dr("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function Jxt(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const o=Zxt(i,S3e(i,s),`${e} ${n}`);o&&(r=o)}),r}function Xxt(t,e){let n=null;return Yc(t)?t.forEach(r=>{n||qxt(r)||(n=Dr("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Dr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function e3t(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=Xxt(r==null?void 0:r.accounts,`${e} namespace`);i&&(n=i)}),n}function t3t(t,e){let n=null;return bie(t==null?void 0:t.methods)?bie(t==null?void 0:t.events)||(n=Dr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Dr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function x5e(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=t3t(r,`${e}, namespace`);i&&(n=i)}),n}function n3t(t,e,n){let r=null;if(t&&Vh(t)){const i=x5e(t,e);i&&(r=i);const s=Jxt(t,e,n);s&&(r=s)}else r=it("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function uO(t,e){let n=null;if(t&&Vh(t)){const r=x5e(t,e);r&&(n=r);const i=e3t(t,e);i&&(n=i)}else n=it("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function E5e(t){return Hi(t.protocol,!0)}function r3t(t,e){let n=!1;return t?t&&Yc(t)&&t.length&&t.forEach(r=>{n=E5e(r)}):n=!0,n}function i3t(t){return typeof t=="number"}function Ia(t){return typeof t<"u"&&typeof t!==null}function s3t(t){return!(!t||typeof t!="object"||!t.code||!gG(t.code)||!t.message||!Hi(t.message,!1))}function o3t(t){return!(bs(t)||!Hi(t.method,!1))}function a3t(t){return!(bs(t)||bs(t.result)&&bs(t.error)||!gG(t.id)||!Hi(t.jsonrpc,!1))}function l3t(t){return!(bs(t)||!Hi(t.name,!1))}function vie(t,e){return!(!$7(e)||!Bxt(t).includes(e))}function c3t(t,e,n){return Hi(n,!1)?Lxt(t,e).includes(n):!1}function u3t(t,e,n){return Hi(n,!1)?Fxt(t,e).includes(n):!1}function xie(t,e,n){let r=null;const i=d3t(t),s=h3t(e),o=Object.keys(i),a=Object.keys(s),l=Eie(Object.keys(t)),c=Eie(Object.keys(e)),u=l.filter(h=>!c.includes(h));return u.length&&(r=it("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),Oy(o,a)||(r=it("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(h=>{if(!h.includes(":")||r)return;const f=t5(e[h].accounts);f.includes(h)||(r=it("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${h}
        Required: ${h}
        Approved: ${f.toString()}`))}),o.forEach(h=>{r||(Oy(i[h].methods,s[h].methods)?Oy(i[h].events,s[h].events)||(r=it("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${h}`)):r=it("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${h}`))}),r}function d3t(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function Eie(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function h3t(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=t5(t[n].accounts);r==null||r.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function f3t(t,e){return gG(t)&&t<=e.max&&t>=e.min}function Aie(){const t=nC();return new Promise(e=>{switch(t){case zl.browser:e(p3t());break;case zl.reactNative:e(m3t());break;case zl.node:e(g3t());break;default:e(!0)}})}function p3t(){return J3()&&(navigator==null?void 0:navigator.onLine)}async function m3t(){if(Og()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo){const t=await(globalThis==null?void 0:globalThis.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function g3t(){return!0}function y3t(t){switch(nC()){case zl.browser:w3t(t);break;case zl.reactNative:b3t(t);break}}function w3t(t){!Og()&&J3()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function b3t(t){Og()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo&&(globalThis==null||globalThis.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function v3t(){var t;return J3()&&iw()?((t=iw())==null?void 0:t.visibilityState)==="visible":!0}const dO={};let G5=class{static get(e){return dO[e]}static set(e,n){dO[e]=n}static delete(e){delete dO[e]}};function x3t(t){const e=XA.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function E3t({publicKey:t,signature:e,payload:n}){var r;const i=OF(n.method),s=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=k3t(n.address),a=n.era==="00"?new Uint8Array([0]):OF(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const l=parseInt(n.nonce,16),c=new Uint8Array([l&255,l>>8&255]),u=BigInt(`0x${C3t(n.tip)}`),h=_3t(u),f=new Uint8Array([0,...t,o,...e,...a,...c,...h,...i]),p=S3t(f.length+1);return new Uint8Array([...p,s,...f])}function A3t(t){const e=OF(t),n=hbt.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function OF(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function C3t(t){return t.startsWith("0x")?t.slice(2):t}function k3t(t){const e=XA.decode(t)[0];return e===42?0:e===60?2:1}function S3t(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function _3t(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function I3t(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=x3t(t.transaction.address),r=E3t({publicKey:n,signature:e,payload:t.transaction}),i=Buffer.from(r).toString("hex");return A3t(i)}class Uw{}let T3t=class extends Uw{constructor(e){super()}};const Cie=tt.FIVE_SECONDS,zw={pulse:"heartbeat_pulse"};let $3t=class A5e extends T3t{constructor(e){super(e),this.events=new lc.EventEmitter,this.interval=Cie,this.interval=(e==null?void 0:e.interval)||Cie}static async init(e){const n=new A5e(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),tt.toMiliseconds(this.interval))}pulse(){this.events.emit(zw.pulse)}};function N3t(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function ds(t,...e){try{return N3t(t(...e))}catch(n){return Promise.reject(n)}}function P3t(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function R3t(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function rS(t){if(P3t(t))return String(t);if(R3t(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return rS(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const MF="base64:";function j3t(t){return typeof t=="string"?t:MF+D3t(t)}function O3t(t){return typeof t!="string"||!t.startsWith(MF)?t:M3t(t.slice(MF.length))}function M3t(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function D3t(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function _a(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function B3t(...t){return _a(t.join(":"))}function Fk(t){return t=_a(t),t?t+":":""}function L3t(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function F3t(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const U3t="memory",z3t=()=>{const t=new Map;return{name:U3t,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function W3t(t={}){const e={mounts:{"":t.driver||z3t()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=c=>{for(const u of e.mountpoints)if(c.startsWith(u))return{base:u,relativeKey:c.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:c,driver:e.mounts[""]}},r=(c,u)=>e.mountpoints.filter(h=>h.startsWith(c)||u&&c.startsWith(h)).map(h=>({relativeBase:c.length>h.length?c.slice(h.length):void 0,mountpoint:h,driver:e.mounts[h]})),i=(c,u)=>{if(e.watching){u=_a(u);for(const h of e.watchListeners)h(c,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const c in e.mounts)e.unwatch[c]=await kie(e.mounts[c],i,c)}},o=async()=>{if(e.watching){for(const c in e.unwatch)await e.unwatch[c]();e.unwatch={},e.watching=!1}},a=(c,u,h)=>{const f=new Map,p=m=>{let g=f.get(m.base);return g||(g={driver:m.driver,base:m.base,items:[]},f.set(m.base,g)),g};for(const m of c){const g=typeof m=="string",y=_a(g?m:m.key),w=g?void 0:m.value,v=g||!m.options?u:{...u,...m.options},b=n(y);p(b).items.push({key:y,value:w,relativeKey:b.relativeKey,options:v})}return Promise.all([...f.values()].map(m=>h(m))).then(m=>m.flat())},l={hasItem(c,u={}){c=_a(c);const{relativeKey:h,driver:f}=n(c);return ds(f.hasItem,h,u)},getItem(c,u={}){c=_a(c);const{relativeKey:h,driver:f}=n(c);return ds(f.getItem,h,u).then(p=>C6(p))},getItems(c,u={}){return a(c,u,h=>h.driver.getItems?ds(h.driver.getItems,h.items.map(f=>({key:f.relativeKey,options:f.options})),u).then(f=>f.map(p=>({key:B3t(h.base,p.key),value:C6(p.value)}))):Promise.all(h.items.map(f=>ds(h.driver.getItem,f.relativeKey,f.options).then(p=>({key:f.key,value:C6(p)})))))},getItemRaw(c,u={}){c=_a(c);const{relativeKey:h,driver:f}=n(c);return f.getItemRaw?ds(f.getItemRaw,h,u):ds(f.getItem,h,u).then(p=>O3t(p))},async setItem(c,u,h={}){if(u===void 0)return l.removeItem(c);c=_a(c);const{relativeKey:f,driver:p}=n(c);p.setItem&&(await ds(p.setItem,f,rS(u),h),p.watch||i("update",c))},async setItems(c,u){await a(c,u,async h=>{if(h.driver.setItems)return ds(h.driver.setItems,h.items.map(f=>({key:f.relativeKey,value:rS(f.value),options:f.options})),u);h.driver.setItem&&await Promise.all(h.items.map(f=>ds(h.driver.setItem,f.relativeKey,rS(f.value),f.options)))})},async setItemRaw(c,u,h={}){if(u===void 0)return l.removeItem(c,h);c=_a(c);const{relativeKey:f,driver:p}=n(c);if(p.setItemRaw)await ds(p.setItemRaw,f,u,h);else if(p.setItem)await ds(p.setItem,f,j3t(u),h);else return;p.watch||i("update",c)},async removeItem(c,u={}){typeof u=="boolean"&&(u={removeMeta:u}),c=_a(c);const{relativeKey:h,driver:f}=n(c);f.removeItem&&(await ds(f.removeItem,h,u),(u.removeMeta||u.removeMata)&&await ds(f.removeItem,h+"$",u),f.watch||i("remove",c))},async getMeta(c,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),c=_a(c);const{relativeKey:h,driver:f}=n(c),p=Object.create(null);if(f.getMeta&&Object.assign(p,await ds(f.getMeta,h,u)),!u.nativeOnly){const m=await ds(f.getItem,h+"$",u).then(g=>C6(g));m&&typeof m=="object"&&(typeof m.atime=="string"&&(m.atime=new Date(m.atime)),typeof m.mtime=="string"&&(m.mtime=new Date(m.mtime)),Object.assign(p,m))}return p},setMeta(c,u,h={}){return this.setItem(c+"$",u,h)},removeMeta(c,u={}){return this.removeItem(c+"$",u)},async getKeys(c,u={}){var y;c=Fk(c);const h=r(c,!0);let f=[];const p=[];let m=!0;for(const w of h){(y=w.driver.flags)!=null&&y.maxDepth||(m=!1);const v=await ds(w.driver.getKeys,w.relativeBase,u);for(const b of v){const A=w.mountpoint+_a(b);f.some(E=>A.startsWith(E))||p.push(A)}f=[w.mountpoint,...f.filter(b=>!b.startsWith(w.mountpoint))]}const g=u.maxDepth!==void 0&&!m;return p.filter(w=>(!g||L3t(w,u.maxDepth))&&F3t(w,c))},async clear(c,u={}){c=Fk(c),await Promise.all(r(c,!1).map(async h=>{if(h.driver.clear)return ds(h.driver.clear,h.relativeBase,u);if(h.driver.removeItem){const f=await h.driver.getKeys(h.relativeBase||"",u);return Promise.all(f.map(p=>h.driver.removeItem(p,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(c=>Sie(c)))},async watch(c){return await s(),e.watchListeners.push(c),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==c),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(c,u){if(c=Fk(c),c&&e.mounts[c])throw new Error(`already mounted at ${c}`);return c&&(e.mountpoints.push(c),e.mountpoints.sort((h,f)=>f.length-h.length)),e.mounts[c]=u,e.watching&&Promise.resolve(kie(u,i,c)).then(h=>{e.unwatch[c]=h}).catch(console.error),l},async unmount(c,u=!0){var h,f;c=Fk(c),!(!c||!e.mounts[c])&&(e.watching&&c in e.unwatch&&((f=(h=e.unwatch)[c])==null||f.call(h),delete e.unwatch[c]),u&&await Sie(e.mounts[c]),e.mountpoints=e.mountpoints.filter(p=>p!==c),delete e.mounts[c])},getMount(c=""){c=_a(c)+":";const u=n(c);return{driver:u.driver,base:u.base}},getMounts(c="",u={}){return c=_a(c),r(c,u.parents).map(f=>({driver:f.driver,base:f.mountpoint}))},keys:(c,u={})=>l.getKeys(c,u),get:(c,u={})=>l.getItem(c,u),set:(c,u,h={})=>l.setItem(c,u,h),has:(c,u={})=>l.hasItem(c,u),del:(c,u={})=>l.removeItem(c,u),remove:(c,u={})=>l.removeItem(c,u)};return l}function kie(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function Sie(t){typeof t.dispose=="function"&&await ds(t.dispose)}function Ww(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function C5e(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=Ww(n);return(i,s)=>r.then(o=>s(o.transaction(e,i).objectStore(e)))}let hO;function oC(){return hO||(hO=C5e("keyval-store","keyval")),hO}function _ie(t,e=oC()){return e("readonly",n=>Ww(n.get(t)))}function H3t(t,e,n=oC()){return n("readwrite",r=>(r.put(e,t),Ww(r.transaction)))}function V3t(t,e=oC()){return e("readwrite",n=>(n.delete(t),Ww(n.transaction)))}function q3t(t=oC()){return t("readwrite",e=>(e.clear(),Ww(e.transaction)))}function G3t(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Ww(t.transaction)}function K3t(t=oC()){return t("readonly",e=>{if(e.getAllKeys)return Ww(e.getAllKeys());const n=[];return G3t(e,r=>n.push(r.key)).then(()=>n)})}const Y3t="idb-keyval";var Q3t=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=C5e(t.dbName,t.storeName)),{name:Y3t,options:t,async hasItem(i){return!(typeof await _ie(n(i),r)>"u")},async getItem(i){return await _ie(n(i),r)??null},setItem(i,s){return H3t(n(i),s,r)},removeItem(i){return V3t(n(i),r)},getKeys(){return K3t(r)},clear(){return q3t(r)}}};const Z3t="WALLET_CONNECT_V2_INDEXED_DB",J3t="keyvaluestorage";let X3t=class{constructor(){this.indexedDb=W3t({driver:Q3t({dbName:Z3t,storeName:J3t})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Yp(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var fO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},iS={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof fO<"u"&&fO.localStorage?iS.exports=fO.localStorage:typeof window<"u"&&window.localStorage?iS.exports=window.localStorage:iS.exports=new e})();function e5t(t){var e;return[t[0],ow((e=t[1])!=null?e:"")]}let t5t=class{constructor(){this.localStorage=iS.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(e5t)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return ow(n)}async setItem(e,n){this.localStorage.setItem(e,Yp(n))}async removeItem(e){this.localStorage.removeItem(e)}};const n5t="wc_storage_version",Iie=1,r5t=async(t,e,n)=>{const r=n5t,i=await e.getItem(r);if(i&&i>=Iie){n(e);return}const s=await t.getKeys();if(!s.length){n(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const l=a.toLowerCase();if(l.includes("wc@")||l.includes("walletconnect")||l.includes("wc_")||l.includes("wallet_connect")){const c=await t.getItem(a);await e.setItem(a,c),o.push(a)}}await e.setItem(r,Iie),n(e),i5t(t,o)},i5t=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let s5t=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new t5t;this.storage=e;try{const n=new X3t;r5t(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};function o5t(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var a5t=l5t;function l5t(t,e,n){var r=n&&n.stringify||o5t,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=r(t);for(var a=1;a<s;a++)o[a]=r(e[a]);return o.join(" ")}if(typeof t!="string")return t;var l=e.length;if(l===0)return t;for(var c="",u=1-i,h=-1,f=t&&t.length||0,p=0;p<f;){if(t.charCodeAt(p)===37&&p+1<f){switch(h=h>-1?h:0,t.charCodeAt(p+1)){case 100:case 102:if(u>=l||e[u]==null)break;h<p&&(c+=t.slice(h,p)),c+=Number(e[u]),h=p+2,p++;break;case 105:if(u>=l||e[u]==null)break;h<p&&(c+=t.slice(h,p)),c+=Math.floor(Number(e[u])),h=p+2,p++;break;case 79:case 111:case 106:if(u>=l||e[u]===void 0)break;h<p&&(c+=t.slice(h,p));var m=typeof e[u];if(m==="string"){c+="'"+e[u]+"'",h=p+2,p++;break}if(m==="function"){c+=e[u].name||"<anonymous>",h=p+2,p++;break}c+=r(e[u]),h=p+2,p++;break;case 115:if(u>=l)break;h<p&&(c+=t.slice(h,p)),c+=String(e[u]),h=p+2,p++;break;case 37:h<p&&(c+=t.slice(h,p)),c+="%",h=p+2,p++,u--;break}++u}++p}return h===-1?t:(h<f&&(c+=t.slice(h)),c)}const Tie=a5t;var qb=qh;const uE=w5t().console||{},c5t={mapHttpRequest:Uk,mapHttpResponse:Uk,wrapRequestSerializer:pO,wrapResponseSerializer:pO,wrapErrorSerializer:pO,req:Uk,res:Uk,err:p5t};function u5t(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function qh(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||uE;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},i=u5t(t.browser.serialize,r);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",l=Object.create(n);l.log||(l.log=dE),Object.defineProperty(l,"levelVal",{get:u}),Object.defineProperty(l,"level",{get:h,set:f});const c={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:m5t(t)};l.levels=qh.levels,l.level=a,l.setMaxListeners=l.getMaxListeners=l.emit=l.addListener=l.on=l.prependListener=l.once=l.prependOnceListener=l.removeListener=l.removeAllListeners=l.listeners=l.listenerCount=l.eventNames=l.write=l.flush=dE,l.serializers=r,l._serialize=i,l._stdErrSerialize=s,l.child=p,e&&(l._logEvent=DF());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function h(){return this._level}function f(m){if(m!=="silent"&&!this.levels.values[m])throw Error("unknown level "+m);this._level=m,bb(c,l,"error","log"),bb(c,l,"fatal","error"),bb(c,l,"warn","error"),bb(c,l,"info","log"),bb(c,l,"debug","log"),bb(c,l,"trace","log")}function p(m,g){if(!m)throw new Error("missing bindings for child Pino");g=g||{},i&&m.serializers&&(g.serializers=m.serializers);const y=g.serializers;if(i&&y){var w=Object.assign({},r,y),v=t.browser.serialize===!0?Object.keys(w):i;delete m.serializers,Z$([m],v,w,this._stdErrSerialize)}function b(A){this._childLevel=(A._childLevel|0)+1,this.error=vb(A,m,"error"),this.fatal=vb(A,m,"fatal"),this.warn=vb(A,m,"warn"),this.info=vb(A,m,"info"),this.debug=vb(A,m,"debug"),this.trace=vb(A,m,"trace"),w&&(this.serializers=w,this._serialize=v),e&&(this._logEvent=DF([].concat(A._logEvent.bindings,m)))}return b.prototype=this,new b(this)}return l}qh.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};qh.stdSerializers=c5t;qh.stdTimeFunctions=Object.assign({},{nullTime:k5e,epochTime:S5e,unixTime:g5t,isoTime:y5t});function bb(t,e,n,r){const i=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?dE:i[n]?i[n]:uE[n]||uE[r]||dE,d5t(t,e,n)}function d5t(t,e,n){!t.transmit&&e[n]===dE||(e[n]=function(r){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===uE?uE:this;for(var l=0;l<o.length;l++)o[l]=arguments[l];if(t.serialize&&!t.asObject&&Z$(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,h5t(this,n,o,s)):r.apply(a,o),t.transmit){const c=t.transmit.level||e.level,u=qh.levels.values[c],h=qh.levels.values[n];if(h<u)return;f5t(this,{ts:s,methodLevel:n,methodValue:h,transmitLevel:c,transmitValue:qh.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function h5t(t,e,n,r){t._serialize&&Z$(n,t._serialize,t.serializers,t._stdErrSerialize);const i=n.slice();let s=i[0];const o={};r&&(o.time=r),o.level=qh.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?Tie(i.shift(),i):void 0}else typeof s=="string"&&(s=Tie(i.shift(),i));return s!==void 0&&(o.msg=s),o}function Z$(t,e,n,r){for(const i in t)if(r&&t[i]instanceof Error)t[i]=qh.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in n&&(t[i][s]=n[s](t[i][s]))}function vb(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return t[n].apply(this,r)}}function f5t(t,e,n){const r=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,l=t._logEvent.bindings;Z$(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=n.filter(function(c){return l.indexOf(c)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,r(s,t._logEvent,a),t._logEvent=DF(l)}function DF(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function p5t(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function m5t(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?k5e:S5e}function Uk(){return{}}function pO(t){return t}function dE(){}function k5e(){return!1}function S5e(){return Date.now()}function g5t(){return Math.round(Date.now()/1e3)}function y5t(){return new Date(Date.now()).toISOString()}function w5t(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const aC=Ks(qb),b5t={level:"info"},lC="custom_context",yG=1e3*1024;let v5t=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},$ie=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new v5t(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},_5e=class{constructor(e,n=yG){this.level=e??"error",this.levelValue=qb.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new $ie(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===qb.levels.values.error?console.error(e):n===qb.levels.values.warn?console.warn(e):n===qb.levels.values.debug?console.debug(e):n===qb.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Yp({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new $ie(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(Yp({extraMetadata:e})),new Blob(n,{type:"application/json"})}},x5t=class{constructor(e,n=yG){this.baseChunkLogger=new _5e(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},E5t=class{constructor(e,n=yG){this.baseChunkLogger=new _5e(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var A5t=Object.defineProperty,C5t=Object.defineProperties,k5t=Object.getOwnPropertyDescriptors,Nie=Object.getOwnPropertySymbols,S5t=Object.prototype.hasOwnProperty,_5t=Object.prototype.propertyIsEnumerable,Pie=(t,e,n)=>e in t?A5t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,N7=(t,e)=>{for(var n in e||(e={}))S5t.call(e,n)&&Pie(t,n,e[n]);if(Nie)for(var n of Nie(e))_5t.call(e,n)&&Pie(t,n,e[n]);return t},P7=(t,e)=>C5t(t,k5t(e));function J$(t){return P7(N7({},t),{level:(t==null?void 0:t.level)||b5t.level})}function I5t(t,e=lC){return t[e]||""}function T5t(t,e,n=lC){return t[n]=e,t}function ul(t,e=lC){let n="";return typeof t.bindings>"u"?n=I5t(t,e):n=t.bindings().context||"",n}function $5t(t,e,n=lC){const r=ul(t,n);return r.trim()?`${r}/${e}`:e}function va(t,e,n=lC){const r=$5t(t,e,n),i=t.child({context:r});return T5t(i,r,n)}function N5t(t){var e,n;const r=new x5t((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:aC(P7(N7({},t.opts),{level:"trace",browser:P7(N7({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function P5t(t){var e;const n=new E5t((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:aC(P7(N7({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function R5t(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?N5t(t):P5t(t)}var j5t=Object.defineProperty,O5t=(t,e,n)=>e in t?j5t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rie=(t,e,n)=>O5t(t,typeof e!="symbol"?e+"":e,n);let M5t=class extends Uw{constructor(e){super(),this.opts=e,Rie(this,"protocol","wc"),Rie(this,"version",2)}};var D5t=Object.defineProperty,B5t=(t,e,n)=>e in t?D5t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,L5t=(t,e,n)=>B5t(t,e+"",n);let F5t=class extends Uw{constructor(e,n){super(),this.core=e,this.logger=n,L5t(this,"records",new Map)}},U5t=class{constructor(e,n){this.logger=e,this.core=n}},z5t=class extends Uw{constructor(e,n){super(),this.relayer=e,this.logger=n}},W5t=class extends Uw{constructor(e){super()}},H5t=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},V5t=class extends Uw{constructor(e,n){super(),this.relayer=e,this.logger=n}},q5t=class extends Uw{constructor(e,n){super(),this.core=e,this.logger=n}},G5t=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},K5t=class{constructor(e,n){this.projectId=e,this.logger=n}},Y5t=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var Q5t=Object.defineProperty,Z5t=(t,e,n)=>e in t?Q5t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jie=(t,e,n)=>Z5t(t,typeof e!="symbol"?e+"":e,n);let J5t=class{constructor(e){this.opts=e,jie(this,"protocol","wc"),jie(this,"version",2)}},X5t=class{constructor(e){this.client=e}};const e6t="PARSE_ERROR",t6t="INVALID_REQUEST",n6t="METHOD_NOT_FOUND",r6t="INVALID_PARAMS",I5e="INTERNAL_ERROR",wG="SERVER_ERROR",i6t=[-32700,-32600,-32601,-32602,-32603],b4={[e6t]:{code:-32700,message:"Parse error"},[t6t]:{code:-32600,message:"Invalid Request"},[n6t]:{code:-32601,message:"Method not found"},[r6t]:{code:-32602,message:"Invalid params"},[I5e]:{code:-32603,message:"Internal error"},[wG]:{code:-32e3,message:"Server error"}},T5e=wG;function s6t(t){return i6t.includes(t)}function Oie(t){return Object.keys(b4).includes(t)?b4[t]:b4[T5e]}function o6t(t){const e=Object.values(b4).find(n=>n.code===t);return e||b4[T5e]}function $5e(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var N5e={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var BF=function(t,e){return BF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},BF(t,e)};function a6t(t,e){BF(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var LF=function(){return LF=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},LF.apply(this,arguments)};function l6t(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function c6t(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function u6t(t,e){return function(n,r){e(n,r,t)}}function d6t(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function h6t(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function f6t(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function p6t(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function m6t(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function FF(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function P5e(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function g6t(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(P5e(arguments[e]));return t}function y6t(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function hE(t){return this instanceof hE?(this.v=t,this):new hE(t)}function w6t(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(p){return new Promise(function(m,g){s.push([f,p,m,g])>1||a(f,p)})})}function a(f,p){try{l(r[f](p))}catch(m){h(s[0][3],m)}}function l(f){f.value instanceof hE?Promise.resolve(f.value.v).then(c,u):h(s[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function h(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b6t(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:hE(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function v6t(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof FF=="function"?FF(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function x6t(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E6t(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function A6t(t){return t&&t.__esModule?t:{default:t}}function C6t(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function k6t(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const S6t=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return LF},__asyncDelegator:b6t,__asyncGenerator:w6t,__asyncValues:v6t,__await:hE,__awaiter:h6t,__classPrivateFieldGet:C6t,__classPrivateFieldSet:k6t,__createBinding:p6t,__decorate:c6t,__exportStar:m6t,__extends:a6t,__generator:f6t,__importDefault:A6t,__importStar:E6t,__makeTemplateObject:x6t,__metadata:d6t,__param:u6t,__read:P5e,__rest:l6t,__spread:g6t,__spreadArrays:y6t,__values:FF},Symbol.toStringTag,{value:"Module"})),_6t=w3(S6t);var kf={},Mie;function I6t(){if(Mie)return kf;Mie=1,Object.defineProperty(kf,"__esModule",{value:!0}),kf.isBrowserCryptoAvailable=kf.getSubtleCrypto=kf.getBrowerCrypto=void 0;function t(){return(globalThis==null?void 0:globalThis.crypto)||(globalThis==null?void 0:globalThis.msCrypto)||{}}kf.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}kf.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return kf.isBrowserCryptoAvailable=n,kf}var Sf={},Die;function T6t(){if(Die)return Sf;Die=1,Object.defineProperty(Sf,"__esModule",{value:!0}),Sf.isBrowser=Sf.isNode=Sf.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Sf.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Sf.isNode=e;function n(){return!t()&&!e()}return Sf.isBrowser=n,Sf}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=_6t;e.__exportStar(I6t(),t),e.__exportStar(T6t(),t)})(N5e);function nh(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function zm(t=6){return BigInt(nh(t))}function vh(t,e,n){return{id:n||nh(),jsonrpc:"2.0",method:t,params:e}}function fE(t,e){return{id:t,jsonrpc:"2.0",result:e}}function X$(t,e,n){return{id:t,jsonrpc:"2.0",error:$6t(e)}}function $6t(t,e){return typeof t>"u"?Oie(I5e):(typeof t=="string"&&(t=Object.assign(Object.assign({},Oie(wG)),{message:t})),s6t(t.code)&&(t=o6t(t.code)),t)}let N6t=class{},P6t=class extends N6t{constructor(){super()}},R6t=class extends P6t{constructor(e){super()}};const j6t="^https?:",O6t="^wss?:";function M6t(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function R5e(t,e){const n=M6t(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function Bie(t){return R5e(t,j6t)}function Lie(t){return R5e(t,O6t)}function D6t(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function j5e(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function bG(t){return j5e(t)&&"method"in t}function eN(t){return j5e(t)&&(rh(t)||Mc(t))}function rh(t){return"result"in t}function Mc(t){return"error"in t}let pu=class extends R6t{constructor(e){super(e),this.events=new lc.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(vh(e.method,e.params||[],e.id||zm().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Mc(s)?i(s.error):r(s.result)});try{await this.connection.send(e,n)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),eN(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const B6t=()=>typeof WebSocket<"u"?WebSocket:typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"?globalThis.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),L6t=()=>typeof WebSocket<"u"||typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Fie=t=>t.split("?")[0],Uie=10,F6t=B6t();let U6t=class{constructor(e){if(this.url=e,this.events=new lc.EventEmitter,this.registering=!1,!Lie(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Yp(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!Lie(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=N5e.isReactNative()?void 0:{rejectUnauthorized:!D6t(e)},s=new F6t(e,[],i);L6t()?s.onerror=o=>{const a=o;r(this.emitError(a.error))}:s.on("error",o=>{r(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?ow(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=X$(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return $5e(e,Fie(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>Uie&&this.events.setMaxListeners(Uie)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${Fie(this.url)}`));return this.events.emit("register_error",n),n}};var z6t={};const O5e="wc",M5e=2,R7="core",ef=`${O5e}@2:${R7}:`,W6t={name:R7,logger:"error"},H6t={database:":memory:"},V6t="crypto",zie="client_ed25519_seed",q6t=tt.ONE_DAY,G6t="keychain",K6t="0.3",Y6t="messages",Q6t="0.3",Z6t=tt.SIX_HOURS,J6t="publisher",D5e="irn",X6t="error",B5e="wss://relay.walletconnect.org",e4t="relayer",Si={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},t4t="_subscription",gc={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},n4t=.1,UF="2.21.7",Mr={link_mode:"link_mode",relay:"relay"},sS={inbound:"inbound",outbound:"outbound"},r4t="0.3",i4t="WALLETCONNECT_CLIENT_ID",Wie="WALLETCONNECT_LINK_MODE_APPS",xl={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},s4t="subscription",o4t="0.3",a4t="pairing",l4t="0.3",K5={wc_pairingDelete:{req:{ttl:tt.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:tt.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:tt.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:tt.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:tt.ONE_DAY,prompt:!1,tag:0},res:{ttl:tt.ONE_DAY,prompt:!1,tag:0}}},hy={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Eu={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},c4t="history",u4t="0.3",d4t="expirer",kc={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},h4t="0.3",f4t="verify-api",p4t="https://verify.walletconnect.com",L5e="https://verify.walletconnect.org",v4=L5e,m4t=`${v4}/v3`,g4t=[p4t,L5e],y4t="echo",w4t="https://echo.walletconnect.com",Xd={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Rf={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},N0={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Y5={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Yg={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},Q5={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},b4t=.1,v4t="event-client",x4t=86400,E4t="https://pulse.walletconnect.org/batch";function A4t(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,y=0,w=0,v=m.length;w!==v&&m[w]===0;)w++,g++;for(var b=(v-w)*u+1>>>0,A=new Uint8Array(b);w!==v;){for(var E=m[w],$=0,N=b-1;(E!==0||$<y)&&N!==-1;N--,$++)E+=256*A[N]>>>0,A[N]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");y=$,w++}for(var R=b-y;R!==b&&A[R]===0;)R++;for(var j=l.repeat(g);R<b;++R)j+=t.charAt(A[R]);return j}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var y=0,w=0;m[g]===l;)y++,g++;for(var v=(m.length-g)*c+1>>>0,b=new Uint8Array(v);m[g];){var A=n[m.charCodeAt(g)];if(A===255)return;for(var E=0,$=v-1;(A!==0||E<w)&&$!==-1;$--,E++)A+=a*b[$]>>>0,b[$]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");w=E,g++}if(m[g]!==" "){for(var N=v-w;N!==v&&b[N]===0;)N++;for(var R=new Uint8Array(y+(v-N)),j=y;N!==v;)R[j++]=b[N++];return R}}}function p(m){var g=f(m);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:p}}var C4t=A4t,k4t=C4t;const F5e=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},S4t=t=>new TextEncoder().encode(t),_4t=t=>new TextDecoder().decode(t);let I4t=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},T4t=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return U5e(this,e)}},$4t=class{constructor(e){this.decoders=e}or(e){return U5e(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const U5e=(t,e)=>new $4t({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let N4t=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new I4t(e,n,r),this.decoder=new T4t(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const tN=({name:t,prefix:e,encode:n,decode:r})=>new N4t(t,e,n,r),cC=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=k4t(n,e);return tN({prefix:t,name:e,encode:r,decode:s=>F5e(i(s))})},P4t=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,l=0,c=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|h,a+=n,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},R4t=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Xs=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>tN({prefix:e,name:t,encode(i){return R4t(i,r,n)},decode(i){return P4t(i,r,n,t)}}),j4t=tN({prefix:"\0",name:"identity",encode:t=>_4t(t),decode:t=>S4t(t)});var O4t=Object.freeze({__proto__:null,identity:j4t});const M4t=Xs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var D4t=Object.freeze({__proto__:null,base2:M4t});const B4t=Xs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var L4t=Object.freeze({__proto__:null,base8:B4t});const F4t=cC({prefix:"9",name:"base10",alphabet:"0123456789"});var U4t=Object.freeze({__proto__:null,base10:F4t});const z4t=Xs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),W4t=Xs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var H4t=Object.freeze({__proto__:null,base16:z4t,base16upper:W4t});const V4t=Xs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),q4t=Xs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),G4t=Xs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),K4t=Xs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Y4t=Xs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Q4t=Xs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Z4t=Xs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),J4t=Xs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),X4t=Xs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var e8t=Object.freeze({__proto__:null,base32:V4t,base32upper:q4t,base32pad:G4t,base32padupper:K4t,base32hex:Y4t,base32hexupper:Q4t,base32hexpad:Z4t,base32hexpadupper:J4t,base32z:X4t});const t8t=cC({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),n8t=cC({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var r8t=Object.freeze({__proto__:null,base36:t8t,base36upper:n8t});const i8t=cC({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),s8t=cC({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var o8t=Object.freeze({__proto__:null,base58btc:i8t,base58flickr:s8t});const a8t=Xs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),l8t=Xs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),c8t=Xs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),u8t=Xs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var d8t=Object.freeze({__proto__:null,base64:a8t,base64pad:l8t,base64url:c8t,base64urlpad:u8t});const z5e=Array.from(""),h8t=z5e.reduce((t,e,n)=>(t[n]=e,t),[]),f8t=z5e.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function p8t(t){return t.reduce((e,n)=>(e+=h8t[n],e),"")}function m8t(t){const e=[];for(const n of t){const r=f8t[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const g8t=tN({prefix:"",name:"base256emoji",encode:p8t,decode:m8t});var y8t=Object.freeze({__proto__:null,base256emoji:g8t}),w8t=W5e,Hie=128,b8t=127,v8t=~b8t,x8t=Math.pow(2,31);function W5e(t,e,n){e=e||[],n=n||0;for(var r=n;t>=x8t;)e[n++]=t&255|Hie,t/=128;for(;t&v8t;)e[n++]=t&255|Hie,t>>>=7;return e[n]=t|0,W5e.bytes=n-r+1,e}var E8t=zF,A8t=128,Vie=127;function zF(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw zF.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&Vie)<<i:(o&Vie)*Math.pow(2,i),i+=7}while(o>=A8t);return zF.bytes=s-r,n}var C8t=Math.pow(2,7),k8t=Math.pow(2,14),S8t=Math.pow(2,21),_8t=Math.pow(2,28),I8t=Math.pow(2,35),T8t=Math.pow(2,42),$8t=Math.pow(2,49),N8t=Math.pow(2,56),P8t=Math.pow(2,63),R8t=function(t){return t<C8t?1:t<k8t?2:t<S8t?3:t<_8t?4:t<I8t?5:t<T8t?6:t<$8t?7:t<N8t?8:t<P8t?9:10},j8t={encode:w8t,decode:E8t,encodingLength:R8t},H5e=j8t;const qie=(t,e,n=0)=>(H5e.encode(t,e,n),e),Gie=t=>H5e.encodingLength(t),WF=(t,e)=>{const n=e.byteLength,r=Gie(t),i=r+Gie(n),s=new Uint8Array(i+n);return qie(t,s,0),qie(n,s,r),s.set(e,i),new O8t(t,n,e,s)};let O8t=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const V5e=({name:t,code:e,encode:n})=>new M8t(t,e,n);let M8t=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?WF(this.code,n):n.then(r=>WF(this.code,r))}else throw Error("Unknown type, must be binary type")}};const q5e=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),D8t=V5e({name:"sha2-256",code:18,encode:q5e("SHA-256")}),B8t=V5e({name:"sha2-512",code:19,encode:q5e("SHA-512")});var L8t=Object.freeze({__proto__:null,sha256:D8t,sha512:B8t});const G5e=0,F8t="identity",K5e=F5e,U8t=t=>WF(G5e,K5e(t)),z8t={code:G5e,name:F8t,encode:K5e,digest:U8t};var W8t=Object.freeze({__proto__:null,identity:z8t});new TextEncoder,new TextDecoder;const Kie={...O4t,...D4t,...L4t,...U4t,...H4t,...e8t,...r8t,...o8t,...d8t,...y8t};({...L8t,...W8t});function Y5e(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function H8t(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Y5e(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Q5e(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const Yie=Q5e("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),mO=Q5e("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=H8t(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),V8t={utf8:Yie,"utf-8":Yie,hex:Kie.base16,latin1:mO,ascii:mO,binary:mO,...Kie};function q8t(t,e="utf8"){const n=V8t[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Y5e(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var G8t=Object.defineProperty,K8t=(t,e,n)=>e in t?G8t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zd=(t,e,n)=>K8t(t,typeof e!="symbol"?e+"":e,n);let Y8t=class{constructor(e,n){this.core=e,this.logger=n,zd(this,"keychain",new Map),zd(this,"name",G6t),zd(this,"version",K6t),zd(this,"initialized",!1),zd(this,"storagePrefix",ef),zd(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),zd(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),zd(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),zd(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=it("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),zd(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=va(n,this.name)}get context(){return ul(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,AF(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?CF(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}};var Q8t=Object.defineProperty,Z8t=(t,e,n)=>e in t?Q8t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Is=(t,e,n)=>Z8t(t,typeof e!="symbol"?e+"":e,n);let J8t=class{constructor(e,n,r){this.core=e,this.logger=n,Is(this,"name",V6t),Is(this,"keychain"),Is(this,"randomSessionIdentifier",jF()),Is(this,"initialized",!1),Is(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Is(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Is(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=kre(i);return a3e(s.publicKey)}),Is(this,"generateKeyPair",()=>{this.isInitialized();const i=wxt();return this.setPrivateKey(i.publicKey,i.privateKey)}),Is(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=kre(s),a=this.randomSessionIdentifier;return await rwt(a,i,q6t,o)}),Is(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),l=bxt(a,s);return this.setSymKey(l,o)}),Is(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||nS(i);return await this.keychain.set(o,i),o}),Is(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Is(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Is(this,"encode",async(i,s,o)=>{this.isInitialized();const a=v5e(o),l=Yp(s);if(hie(a))return Ext(l,o==null?void 0:o.encoding);if(die(a)){const f=a.senderPublicKey,p=a.receiverPublicKey;i=await this.generateSharedKey(f,p)}const c=this.getSymKey(i),{type:u,senderPublicKey:h}=a;return vxt({type:u,symKey:c,message:l,senderPublicKey:h,encoding:o==null?void 0:o.encoding})}),Is(this,"decode",async(i,s,o)=>{this.isInitialized();const a=Cxt(s,o);if(hie(a)){const l=Axt(s,o==null?void 0:o.encoding);return ow(l)}if(die(a)){const l=a.receiverPublicKey,c=a.senderPublicKey;i=await this.generateSharedKey(l,c)}try{const l=this.getSymKey(i),c=xxt({symKey:l,encoded:s,encoding:o==null?void 0:o.encoding});return ow(c)}catch(l){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(l)}}),Is(this,"getPayloadType",(i,s=Oa)=>{const o=cE({encoded:i,encoding:s});return lw(o.type)}),Is(this,"getPayloadSenderPublicKey",(i,s=Oa)=>{const o=cE({encoded:i,encoding:s});return o.senderPublicKey?Za(o.senderPublicKey,fa):void 0}),this.core=e,this.logger=va(n,this.name),this.keychain=r||new Y8t(this.core,this.logger)}get context(){return ul(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(zie)}catch{e=jF(),await this.keychain.set(zie,e)}return q8t(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}};var X8t=Object.defineProperty,eEt=Object.defineProperties,tEt=Object.getOwnPropertyDescriptors,Qie=Object.getOwnPropertySymbols,nEt=Object.prototype.hasOwnProperty,rEt=Object.prototype.propertyIsEnumerable,HF=(t,e,n)=>e in t?X8t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,iEt=(t,e)=>{for(var n in e||(e={}))nEt.call(e,n)&&HF(t,n,e[n]);if(Qie)for(var n of Qie(e))rEt.call(e,n)&&HF(t,n,e[n]);return t},sEt=(t,e)=>eEt(t,tEt(e)),gl=(t,e,n)=>HF(t,typeof e!="symbol"?e+"":e,n);let oEt=class extends U5t{constructor(e,n){super(e,n),this.logger=e,this.core=n,gl(this,"messages",new Map),gl(this,"messagesWithoutClientAck",new Map),gl(this,"name",Y6t),gl(this,"version",Q6t),gl(this,"initialized",!1),gl(this,"storagePrefix",ef),gl(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),gl(this,"set",async(r,i,s)=>{this.isInitialized();const o=Oc(i);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(r,a),s===sS.inbound){const l=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,sEt(iEt({},l),{[o]:i}))}return await this.persist(),o}),gl(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),gl(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),gl(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),o=Oc(i);return typeof s[o]<"u"}),gl(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const o=Oc(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),gl(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=va(e,this.name),this.core=n}get context(){return ul(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,AF(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,AF(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?CF(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?CF(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}};var aEt=Object.defineProperty,lEt=Object.defineProperties,cEt=Object.getOwnPropertyDescriptors,Zie=Object.getOwnPropertySymbols,uEt=Object.prototype.hasOwnProperty,dEt=Object.prototype.propertyIsEnumerable,VF=(t,e,n)=>e in t?aEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xb=(t,e)=>{for(var n in e||(e={}))uEt.call(e,n)&&VF(t,n,e[n]);if(Zie)for(var n of Zie(e))dEt.call(e,n)&&VF(t,n,e[n]);return t},Jie=(t,e)=>lEt(t,cEt(e)),yc=(t,e,n)=>VF(t,typeof e!="symbol"?e+"":e,n);let hEt=class extends z5t{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,yc(this,"events",new lc.EventEmitter),yc(this,"name",J6t),yc(this,"queue",new Map),yc(this,"publishTimeout",tt.toMiliseconds(tt.ONE_MINUTE)),yc(this,"initialPublishTimeout",tt.toMiliseconds(tt.ONE_SECOND*15)),yc(this,"needsTransportRestart",!1),yc(this,"publish",async(r,i,s)=>{var o,a,l,c,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const h=(s==null?void 0:s.ttl)||Z6t,f=(s==null?void 0:s.prompt)||!1,p=(s==null?void 0:s.tag)||0,m=(s==null?void 0:s.id)||zm().toString(),g=Cv(T7().protocol),y={id:m,method:(s==null?void 0:s.publishMethod)||g.publish,params:xb({topic:r,message:i,ttl:h,prompt:f,tag:p,attestation:s==null?void 0:s.attestation},(s==null?void 0:s.tvf)&&{tvf:s.tvf})},w=`Failed to publish payload, please try again. id:${m} tag:${p}`;try{bs((o=y.params)==null?void 0:o.prompt)&&((a=y.params)==null||delete a.prompt),bs((l=y.params)==null?void 0:l.tag)&&((c=y.params)==null||delete c.tag);const v=new Promise(async b=>{const A=({id:$})=>{var N;((N=y.id)==null?void 0:N.toString())===$.toString()&&(this.removeRequestFromQueue($),this.relayer.events.removeListener(Si.publish,A),b())};this.relayer.events.on(Si.publish,A);const E=Th(new Promise(($,N)=>{this.rpcPublish(y,s).then($).catch(R=>{this.logger.warn(R,R==null?void 0:R.message),N(R)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${m} tag:${p}`);try{await E,this.events.removeListener(Si.publish,A)}catch($){this.queue.set(m,{request:y,opts:s,attempt:1}),this.logger.warn($,$==null?void 0:$.message)}});this.logger.trace({type:"method",method:"publish",params:{id:m,topic:r,message:i,opts:s}}),await Th(v,this.publishTimeout,w)}catch(v){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(v),(u=s==null?void 0:s.internal)!=null&&u.throwOnFailedPublish)throw v}finally{this.queue.delete(m)}}),yc(this,"publishCustom",async r=>{var i,s,o,a,l;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:c,opts:u={}}=r,{attestation:h,tvf:f,publishMethod:p,prompt:m,tag:g,ttl:y=tt.FIVE_MINUTES}=u,w=u.id||zm().toString(),v=Cv(T7().protocol),b=p||v.publish,A={id:w,method:b,params:xb(Jie(xb({},c),{ttl:y,prompt:m,tag:g,attestation:h}),f)},E=`Failed to publish custom payload, please try again. id:${w} tag:${g}`;try{bs((i=A.params)==null?void 0:i.prompt)&&((s=A.params)==null||delete s.prompt),bs((o=A.params)==null?void 0:o.tag)&&((a=A.params)==null||delete a.tag);const $=new Promise(async N=>{const R=({id:F})=>{var W;((W=A.id)==null?void 0:W.toString())===F.toString()&&(this.removeRequestFromQueue(F),this.relayer.events.removeListener(Si.publish,R),N())};this.relayer.events.on(Si.publish,R);const j=Th(new Promise((F,W)=>{this.rpcPublish(A,u).then(F).catch(V=>{this.logger.warn(V,V==null?void 0:V.message),W(V)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${b} id:${w} tag:${g}`);try{await j,this.events.removeListener(Si.publish,R)}catch(F){this.queue.set(w,{request:A,opts:u,attempt:1}),this.logger.warn(F,F==null?void 0:F.message)}});this.logger.trace({type:"method",method:"publish",params:{id:w,payload:c,opts:u}}),await Th($,this.publishTimeout,E)}catch($){if(this.logger.debug("Failed to Publish Payload"),this.logger.error($),(l=u==null?void 0:u.internal)!=null&&l.throwOnFailedPublish)throw $}finally{this.queue.delete(w)}}),yc(this,"on",(r,i)=>{this.events.on(r,i)}),yc(this,"once",(r,i)=>{this.events.once(r,i)}),yc(this,"off",(r,i)=>{this.events.off(r,i)}),yc(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=va(n,this.name),this.registerEventListeners()}get context(){return ul(this.logger)}async rpcPublish(e,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const r=await this.relayer.request(e);return this.relayer.events.emit(Si.publish,xb(xb({},e),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{var r;const i=e.attempt+1;this.queue.set(n,Jie(xb({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(r=e.request.params)==null?void 0:r.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(zw.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Si.connection_stalled);return}this.checkQueue()}),this.relayer.on(Si.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}};var fEt=Object.defineProperty,pEt=(t,e,n)=>e in t?fEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Eb=(t,e,n)=>pEt(t,typeof e!="symbol"?e+"":e,n);let mEt=class{constructor(){Eb(this,"map",new Map),Eb(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),Eb(this,"get",e=>this.map.get(e)||[]),Eb(this,"exists",(e,n)=>this.get(e).includes(n)),Eb(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),Eb(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}};var gEt=Object.defineProperty,yEt=Object.defineProperties,wEt=Object.getOwnPropertyDescriptors,Xie=Object.getOwnPropertySymbols,bEt=Object.prototype.hasOwnProperty,vEt=Object.prototype.propertyIsEnumerable,qF=(t,e,n)=>e in t?gEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Z5=(t,e)=>{for(var n in e||(e={}))bEt.call(e,n)&&qF(t,n,e[n]);if(Xie)for(var n of Xie(e))vEt.call(e,n)&&qF(t,n,e[n]);return t},gO=(t,e)=>yEt(t,wEt(e)),gr=(t,e,n)=>qF(t,typeof e!="symbol"?e+"":e,n);let xEt=class extends V5t{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,gr(this,"subscriptions",new Map),gr(this,"topicMap",new mEt),gr(this,"events",new lc.EventEmitter),gr(this,"name",s4t),gr(this,"version",o4t),gr(this,"pending",new Map),gr(this,"cached",[]),gr(this,"initialized",!1),gr(this,"storagePrefix",ef),gr(this,"subscribeTimeout",tt.toMiliseconds(tt.ONE_MINUTE)),gr(this,"initialSubscribeTimeout",tt.toMiliseconds(tt.ONE_SECOND*15)),gr(this,"clientId"),gr(this,"batchSubscribeTopicsLimit",500),gr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),gr(this,"subscribe",async(r,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const o=T7(i),a={topic:r,relay:o,transportType:i==null?void 0:i.transportType};(s=i==null?void 0:i.internal)!=null&&s.skipSubscribe||this.pending.set(r,a);const l=await this.rpcSubscribe(r,o,i);return typeof l=="string"&&(this.onSubscribe(l,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),l}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),gr(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),gr(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),gr(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),gr(this,"on",(r,i)=>{this.events.on(r,i)}),gr(this,"once",(r,i)=>{this.events.once(r,i)}),gr(this,"off",(r,i)=>{this.events.off(r,i)}),gr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),gr(this,"start",async()=>{await this.onConnect()}),gr(this,"stop",async()=>{await this.onDisconnect()}),gr(this,"restart",async()=>{await this.restore(),await this.onRestart()}),gr(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),gr(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(zw.pulse,async()=>{await this.checkPending()}),this.events.on(xl.created,async r=>{const i=xl.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(xl.deleted,async r=>{const i=xl.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=va(n,this.name),this.clientId=""}get context(){return ul(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=T7(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=Dr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i,s;const o=await this.getSubscriptionId(e);if((i=r==null?void 0:r.internal)!=null&&i.skipSubscribe)return o;(!r||(r==null?void 0:r.transportType)===Mr.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const a={method:Cv(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const l=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{if((r==null?void 0:r.transportType)===Mr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(h=>this.logger.warn(h))},tt.toMiliseconds(tt.ONE_SECOND)),o;const c=new Promise(async h=>{const f=p=>{p.topic===e&&(this.events.removeListener(xl.created,f),h(p.id))};this.events.on(xl.created,f);try{const p=await Th(new Promise((m,g)=>{this.relayer.request(a).catch(y=>{this.logger.warn(y,y==null?void 0:y.message),g(y)}).then(m)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(xl.created,f),h(p)}catch{}}),u=await Th(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&l)throw new Error(`Subscribing to ${e} failed, please try again`);return u?o:null}catch(c){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Si.connection_stalled),l)throw c}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:Cv(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Th(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Si.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:Cv(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await Th(new Promise((s,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Si.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:Cv(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,gO(Z5({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,Z5({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,Z5({},n)),this.topicMap.set(n.topic,e),this.events.emit(xl.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=it("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(xl.deleted,gO(Z5({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(xl.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(xl.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){const{message:n}=it("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>gO(Z5({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await Lbt(tt.toMiliseconds(tt.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Oc(e+await this.getClientId())}};var EEt=Object.defineProperty,ese=Object.getOwnPropertySymbols,AEt=Object.prototype.hasOwnProperty,CEt=Object.prototype.propertyIsEnumerable,GF=(t,e,n)=>e in t?EEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tse=(t,e)=>{for(var n in e||(e={}))AEt.call(e,n)&&GF(t,n,e[n]);if(ese)for(var n of ese(e))CEt.call(e,n)&&GF(t,n,e[n]);return t},Gn=(t,e,n)=>GF(t,typeof e!="symbol"?e+"":e,n);let kEt=class extends W5t{constructor(e){super(e),Gn(this,"protocol","wc"),Gn(this,"version",2),Gn(this,"core"),Gn(this,"logger"),Gn(this,"events",new lc.EventEmitter),Gn(this,"provider"),Gn(this,"messages"),Gn(this,"subscriber"),Gn(this,"publisher"),Gn(this,"name",e4t),Gn(this,"transportExplicitlyClosed",!1),Gn(this,"initialized",!1),Gn(this,"connectionAttemptInProgress",!1),Gn(this,"relayUrl"),Gn(this,"projectId"),Gn(this,"packageName"),Gn(this,"bundleId"),Gn(this,"hasExperiencedNetworkDisruption",!1),Gn(this,"pingTimeout"),Gn(this,"heartBeatTimeout",tt.toMiliseconds(tt.THIRTY_SECONDS+tt.FIVE_SECONDS)),Gn(this,"reconnectTimeout"),Gn(this,"connectPromise"),Gn(this,"reconnectInProgress",!1),Gn(this,"requestsInFlight",[]),Gn(this,"connectTimeout",tt.toMiliseconds(tt.ONE_SECOND*15)),Gn(this,"request",async n=>{var r,i;this.logger.debug("Publishing Request Payload");const s=n.id||zm().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${s}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),Gn(this,"resetPingTimeout",()=>{k7()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),Gn(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),Gn(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(Si.connect)}),Gn(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),Gn(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Si.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Gn(this,"registerProviderListeners",()=>{this.provider.on(gc.payload,this.onPayloadHandler),this.provider.on(gc.connect,this.onConnectHandler),this.provider.on(gc.disconnect,this.onDisconnectHandler),this.provider.on(gc.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?va(e.logger,this.name):aC(J$({level:e.logger||X6t})),this.messages=new oEt(this.logger,e.core),this.subscriber=new xEt(this,this.logger),this.publisher=new hEt(this,this.logger),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||B5e,Abt()?this.packageName=Rre():Cbt()&&(this.bundleId=Rre()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return ul(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Mr.relay},sS.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",l;const c=u=>{u.topic===e&&(this.subscriber.off(xl.created,c),l())};return await Promise.all([new Promise(u=>{l=u,this.subscriber.on(xl.created,c)}),new Promise(async(u,h)=>{a=await this.subscriber.subscribe(e,tse({internal:{throwOnFailedPublish:o}},n)).catch(f=>{o&&h(f)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Th(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Aie())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=Xi(tt.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(Si.message,e),await this.recordMessageEvent(e,sS.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(gc.disconnect,s),await Th(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(gc.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const l=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(gc.disconnect,l),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(gc.disconnect,l)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,tt.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(k7())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new pu(new U6t(Tbt({sdkVersion:UF,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),bG(e)){if(!e.method.endsWith(t4t))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:o}=n.data,a={topic:r,message:i,publishedAt:s,transportType:Mr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(tse({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else eN(e)&&this.events.emit(Si.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,sS.inbound),this.events.emit(Si.message,e))}async acknowledgePayload(e){const n=fE(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(gc.payload,this.onPayloadHandler),this.provider.off(gc.connect,this.onConnectHandler),this.provider.off(gc.disconnect,this.onDisconnectHandler),this.provider.off(gc.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await Aie();y3t(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(zw.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&v3t())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Si.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},tt.toMiliseconds(n4t)))))}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function SEt(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function nse(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function rse(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const _Et="[object RegExp]",IEt="[object String]",TEt="[object Number]",$Et="[object Boolean]",ise="[object Arguments]",NEt="[object Symbol]",PEt="[object Date]",REt="[object Map]",jEt="[object Set]",OEt="[object Array]",MEt="[object Function]",DEt="[object ArrayBuffer]",yO="[object Object]",BEt="[object Error]",LEt="[object DataView]",FEt="[object Uint8Array]",UEt="[object Uint8ClampedArray]",zEt="[object Uint16Array]",WEt="[object Uint32Array]",HEt="[object BigUint64Array]",VEt="[object Int8Array]",qEt="[object Int16Array]",GEt="[object Int32Array]",KEt="[object BigInt64Array]",YEt="[object Float32Array]",QEt="[object Float64Array]";function ZEt(){}function sse(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function JEt(t,e,n){return R6(t,e,void 0,void 0,void 0,void 0,n)}function R6(t,e,n,r,i,s,o){const a=o(t,e,n,r,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return x4(t,e,s,o)}return x4(t,e,s,o)}function x4(t,e,n,r){if(Object.is(t,e))return!0;let i=rse(t),s=rse(e);if(i===ise&&(i=yO),s===ise&&(s=yO),i!==s)return!1;switch(i){case IEt:return t.toString()===e.toString();case TEt:{const l=t.valueOf(),c=e.valueOf();return SEt(l,c)}case $Et:case PEt:case NEt:return Object.is(t.valueOf(),e.valueOf());case _Et:return t.source===e.source&&t.flags===e.flags;case MEt:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(i){case REt:{if(t.size!==e.size)return!1;for(const[l,c]of t.entries())if(!e.has(l)||!R6(c,e.get(l),l,t,e,n,r))return!1;return!0}case jEt:{if(t.size!==e.size)return!1;const l=Array.from(t.values()),c=Array.from(e.values());for(let u=0;u<l.length;u++){const h=l[u],f=c.findIndex(p=>R6(h,p,void 0,t,e,n,r));if(f===-1)return!1;c.splice(f,1)}return!0}case OEt:case FEt:case UEt:case zEt:case WEt:case HEt:case VEt:case qEt:case GEt:case KEt:case YEt:case QEt:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let l=0;l<t.length;l++)if(!R6(t[l],e[l],l,t,e,n,r))return!1;return!0}case DEt:return t.byteLength!==e.byteLength?!1:x4(new Uint8Array(t),new Uint8Array(e),n,r);case LEt:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:x4(new Uint8Array(t),new Uint8Array(e),n,r);case BEt:return t.name===e.name&&t.message===e.message;case yO:{if(!(x4(t.constructor,e.constructor,n,r)||sse(t)&&sse(e)))return!1;const l=[...Object.keys(t),...nse(t)],c=[...Object.keys(e),...nse(e)];if(l.length!==c.length)return!1;for(let u=0;u<l.length;u++){const h=l[u],f=t[h];if(!Object.hasOwn(e,h))return!1;const p=e[h];if(!R6(f,p,h,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function XEt(t,e){return JEt(t,e,ZEt)}var eAt=Object.defineProperty,ose=Object.getOwnPropertySymbols,tAt=Object.prototype.hasOwnProperty,nAt=Object.prototype.propertyIsEnumerable,KF=(t,e,n)=>e in t?eAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ase=(t,e)=>{for(var n in e||(e={}))tAt.call(e,n)&&KF(t,n,e[n]);if(ose)for(var n of ose(e))nAt.call(e,n)&&KF(t,n,e[n]);return t},ka=(t,e,n)=>KF(t,typeof e!="symbol"?e+"":e,n);let Hw=class extends H5t{constructor(e,n,r,i=ef,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,ka(this,"map",new Map),ka(this,"version",r4t),ka(this,"cached",[]),ka(this,"initialized",!1),ka(this,"getKey"),ka(this,"storagePrefix",ef),ka(this,"recentlyDeleted",[]),ka(this,"recentlyDeletedLimit",200),ka(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!bs(o)?this.map.set(this.getKey(o),o):Kxt(o)?this.map.set(o.id,o):Yxt(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),ka(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),ka(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),ka(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(l=>XEt(a[l],o[l]))):this.values)),ka(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const l=ase(ase({},this.getData(o)),a);this.map.set(o,l),await this.persist()}),ka(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=va(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return ul(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=it("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=it("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=it("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}};var rAt=Object.defineProperty,iAt=(t,e,n)=>e in t?rAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jn=(t,e,n)=>iAt(t,typeof e!="symbol"?e+"":e,n);let sAt=class{constructor(e,n){this.core=e,this.logger=n,jn(this,"name",a4t),jn(this,"version",l4t),jn(this,"events",new zq),jn(this,"pairings"),jn(this,"initialized",!1),jn(this,"storagePrefix",ef),jn(this,"ignoredPayloadTypes",[Sp]),jn(this,"registeredMethods",[]),jn(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),jn(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),jn(this,"create",async r=>{this.isInitialized();const i=jF(),s=await this.core.crypto.setSymKey(i),o=Xi(tt.FIVE_MINUTES),a={protocol:D5e},l={topic:s,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},c=pie({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(hy.create,l),this.core.expirer.set(s,o),await this.pairings.set(s,l),await this.core.relayer.subscribe(s,{transportType:r==null?void 0:r.transportType,internal:r==null?void 0:r.internal}),{topic:s,uri:c}}),jn(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[Xd.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:l,methods:c}=fie(r.uri);i.props.properties.topic=s,i.addTrace(Xd.pairing_uri_validation_success),i.addTrace(Xd.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(Xd.existing_pairing),u.active)throw i.setError(Rf.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Xd.pairing_not_expired)}const h=l||Xi(tt.FIVE_MINUTES),f={topic:s,relay:a,expiry:h,active:!1,methods:c};this.core.expirer.set(s,h),await this.pairings.set(s,f),i.addTrace(Xd.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(hy.create,f),i.addTrace(Xd.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(Xd.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Rf.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(p){throw i.setError(Rf.subscribe_pairing_topic_failure),p}return i.addTrace(Xd.subscribe_pairing_topic_success),f}),jn(this,"activate",async({topic:r})=>{this.isInitialized();const i=Xi(tt.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),jn(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:l}=sy();this.events.once(nr("pairing_ping",s),({error:c})=>{c?l(c):a()}),await o()}}),jn(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),jn(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),jn(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),jn(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Dr("USER_DISCONNECTED")),await this.deletePairing(i))}),jn(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=r,l=this.core.crypto.keychain.get(i);return pie({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:l,relay:s,expiryTimestamp:o,methods:a})}),jn(this,"sendRequest",async(r,i,s)=>{const o=vh(i,s),a=await this.core.crypto.encode(r,o),l=K5[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,l),o.id}),jn(this,"sendResult",async(r,i,s)=>{const o=fE(r,s),a=await this.core.crypto.encode(i,o),l=(await this.core.history.get(i,r)).request.method,c=K5[l].res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(o)}),jn(this,"sendError",async(r,i,s)=>{const o=X$(r,s),a=await this.core.crypto.encode(i,o),l=(await this.core.history.get(i,r)).request.method,c=K5[l]?K5[l].res:K5.unregistered_method.res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(o)}),jn(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Dr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),jn(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>J0(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),jn(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),jn(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),jn(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(hy.ping,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),jn(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{rh(i)?this.events.emit(nr("pairing_ping",s),{}):Mc(i)&&this.events.emit(nr("pairing_ping",s),{error:i.error})},500)}),jn(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(hy.delete,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),jn(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Dr("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,r,a),this.logger.error(a)}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),jn(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Dr("WC_METHOD_UNSUPPORTED",r))}),jn(this,"isValidPair",(r,i)=>{var s;if(!Ia(r)){const{message:a}=it("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(Rf.malformed_pairing_uri),new Error(a)}if(!Gxt(r.uri)){const{message:a}=it("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(Rf.malformed_pairing_uri),new Error(a)}const o=fie(r==null?void 0:r.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=it("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Rf.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=it("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Rf.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&tt.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(Rf.pairing_expired);const{message:a}=it("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),jn(this,"isValidPing",async r=>{if(!Ia(r)){const{message:s}=it("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),jn(this,"isValidDisconnect",async r=>{if(!Ia(r)){const{message:s}=it("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),jn(this,"isValidPairingTopic",async r=>{if(!Hi(r,!1)){const{message:i}=it("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=it("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(J0(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=it("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=va(n,this.name),this.pairings=new Hw(this.core,this.logger,this.name,this.storagePrefix)}get context(){return ul(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Si.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==Mr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);bG(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):eN(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(kc.expired,async e=>{const{topic:n}=$3e(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(hy.expire,{topic:n}))})}};var oAt=Object.defineProperty,aAt=(t,e,n)=>e in t?oAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ts=(t,e,n)=>aAt(t,typeof e!="symbol"?e+"":e,n);let lAt=class extends F5t{constructor(e,n){super(e,n),this.core=e,this.logger=n,Ts(this,"records",new Map),Ts(this,"events",new lc.EventEmitter),Ts(this,"name",c4t),Ts(this,"version",u4t),Ts(this,"cached",[]),Ts(this,"initialized",!1),Ts(this,"storagePrefix",ef),Ts(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ts(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:Xi(tt.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Eu.created,o)}),Ts(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Mc(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(Eu.updated,i))}),Ts(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),Ts(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Eu.deleted,s)}}),this.persist()}),Ts(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),Ts(this,"on",(r,i)=>{this.events.on(r,i)}),Ts(this,"once",(r,i)=>{this.events.once(r,i)}),Ts(this,"off",(r,i)=>{this.events.off(r,i)}),Ts(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=va(n,this.name)}get context(){return ul(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:vh(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=it("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Eu.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=it("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Eu.created,e=>{const n=Eu.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Eu.updated,e=>{const n=Eu.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Eu.deleted,e=>{const n=Eu.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(zw.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{tt.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Eu.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}};var cAt=Object.defineProperty,uAt=(t,e,n)=>e in t?cAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mo=(t,e,n)=>uAt(t,typeof e!="symbol"?e+"":e,n);let dAt=class extends q5t{constructor(e,n){super(e,n),this.core=e,this.logger=n,mo(this,"expirations",new Map),mo(this,"events",new lc.EventEmitter),mo(this,"name",d4t),mo(this,"version",h4t),mo(this,"cached",[]),mo(this,"initialized",!1),mo(this,"storagePrefix",ef),mo(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),mo(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),mo(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(kc.created,{target:s,expiration:o})}),mo(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),mo(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(kc.deleted,{target:i,expiration:s})}}),mo(this,"on",(r,i)=>{this.events.on(r,i)}),mo(this,"once",(r,i)=>{this.events.once(r,i)}),mo(this,"off",(r,i)=>{this.events.off(r,i)}),mo(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=va(n,this.name)}get context(){return ul(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return $bt(e);if(typeof e=="number")return Nbt(e);const{message:n}=it("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(kc.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=it("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=it("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;tt.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(kc.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(zw.pulse,()=>this.checkExpirations()),this.events.on(kc.created,e=>{const n=kc.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(kc.expired,e=>{const n=kc.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(kc.deleted,e=>{const n=kc.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}};var hAt=Object.defineProperty,fAt=(t,e,n)=>e in t?hAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mi=(t,e,n)=>fAt(t,typeof e!="symbol"?e+"":e,n);let pAt=class extends G5t{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,Mi(this,"name",f4t),Mi(this,"abortController"),Mi(this,"isDevEnv"),Mi(this,"verifyUrlV3",m4t),Mi(this,"storagePrefix",ef),Mi(this,"version",M5e),Mi(this,"publicKey"),Mi(this,"fetchPromise"),Mi(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&tt.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Mi(this,"register",async i=>{if(!J3()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,l=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const c=iw(),u=this.startAbortTimer(tt.ONE_SECOND*5),h=await new Promise((f,p)=>{const m=()=>{window.removeEventListener("message",y),c.body.removeChild(g),p("attestation aborted")};this.abortController.signal.addEventListener("abort",m);const g=c.createElement("iframe");g.src=l,g.style.display="none",g.addEventListener("error",m,{signal:this.abortController.signal});const y=w=>{if(w.data&&typeof w.data=="string")try{const v=JSON.parse(w.data);if(v.type==="verify_attestation"){if(xF(v.attestation).payload.id!==o)return;clearInterval(u),c.body.removeChild(g),this.abortController.signal.removeEventListener("abort",m),window.removeEventListener("message",y),f(v.attestation===null?"":v.attestation)}}catch(v){this.logger.warn(v)}};c.body.appendChild(g),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",h),h}catch(c){this.logger.warn(c)}return""}),Mi(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(xF(s).payload.id!==a)return;const c=await this.isValidJwtAttestation(s);if(c){if(!c.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return c}}if(!o)return;const l=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,l)}),Mi(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(tt.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Mi(this,"getVerifyUrl",i=>{let s=i||v4;return g4t.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${v4}`),s=v4),s}),Mi(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(tt.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),Mi(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),Mi(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Mi(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Mi(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Mi(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),Mi(this,"validateAttestation",(i,s)=>{const o=Sxt(i,s.publicKey),a={hasExpired:tt.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=va(n,this.name),this.abortController=new AbortController,this.isDevEnv=rG(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return ul(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),tt.toMiliseconds(e))}};var mAt=Object.defineProperty,gAt=(t,e,n)=>e in t?mAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lse=(t,e,n)=>gAt(t,typeof e!="symbol"?e+"":e,n);let yAt=class extends K5t{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,lse(this,"context",y4t),lse(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=r,l=`${w4t}/${this.projectId}/clients`;await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=va(n,this.context)}};var wAt=Object.defineProperty,cse=Object.getOwnPropertySymbols,bAt=Object.prototype.hasOwnProperty,vAt=Object.prototype.propertyIsEnumerable,YF=(t,e,n)=>e in t?wAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,J5=(t,e)=>{for(var n in e||(e={}))bAt.call(e,n)&&YF(t,n,e[n]);if(cse)for(var n of cse(e))vAt.call(e,n)&&YF(t,n,e[n]);return t},us=(t,e,n)=>YF(t,typeof e!="symbol"?e+"":e,n);let xAt=class extends Y5t{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,us(this,"context",v4t),us(this,"storagePrefix",ef),us(this,"storageVersion",b4t),us(this,"events",new Map),us(this,"shouldPersist",!1),us(this,"init",async()=>{if(!rG())try{const i={eventId:Ore(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:I3e(this.core.relayer.protocol,this.core.relayer.version,UF)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),us(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:l}}=i,c=Ore(),u=this.core.projectId||"",h=Date.now(),f=J5({eventId:c,timestamp:h,props:{event:s,type:o,properties:{topic:a,trace:l}},bundleId:u,domain:this.getAppDomain()},this.setMethods(c));return this.telemetryEnabled&&(this.events.set(c,f),this.shouldPersist=!0),f}),us(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(l=>l.props.properties.topic===o);if(a)return J5(J5({},a),this.setMethods(a.eventId))}),us(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),us(this,"setEventListeners",()=>{this.core.heartbeat.on(zw.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{tt.fromMiliseconds(Date.now())-tt.fromMiliseconds(i.timestamp)>x4t&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),us(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),us(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),us(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),us(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),us(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,J5(J5({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),us(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),us(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${E4t}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${UF}${s}`,{method:"POST",body:JSON.stringify(i)})}),us(this,"getAppDomain",()=>_3e().url),this.logger=va(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var EAt=Object.defineProperty,use=Object.getOwnPropertySymbols,AAt=Object.prototype.hasOwnProperty,CAt=Object.prototype.propertyIsEnumerable,QF=(t,e,n)=>e in t?EAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dse=(t,e)=>{for(var n in e||(e={}))AAt.call(e,n)&&QF(t,n,e[n]);if(use)for(var n of use(e))CAt.call(e,n)&&QF(t,n,e[n]);return t},xr=(t,e,n)=>QF(t,typeof e!="symbol"?e+"":e,n);let kAt=class Z5e extends M5t{constructor(e){var n;super(e),xr(this,"protocol",O5e),xr(this,"version",M5e),xr(this,"name",R7),xr(this,"relayUrl"),xr(this,"projectId"),xr(this,"customStoragePrefix"),xr(this,"events",new lc.EventEmitter),xr(this,"logger"),xr(this,"heartbeat"),xr(this,"relayer"),xr(this,"crypto"),xr(this,"storage"),xr(this,"history"),xr(this,"expirer"),xr(this,"pairing"),xr(this,"verify"),xr(this,"echoClient"),xr(this,"linkModeSupportedApps"),xr(this,"eventClient"),xr(this,"initialized",!1),xr(this,"logChunkController"),xr(this,"on",(a,l)=>this.events.on(a,l)),xr(this,"once",(a,l)=>this.events.once(a,l)),xr(this,"off",(a,l)=>this.events.off(a,l)),xr(this,"removeListener",(a,l)=>this.events.removeListener(a,l)),xr(this,"dispatchEnvelope",({topic:a,message:l,sessionExists:c})=>{if(!a||!l)return;const u={topic:a,message:l,publishedAt:Date.now(),transportType:Mr.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:c})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||B5e,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=J$({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:W6t.logger,name:R7}),{logger:s,chunkLoggerController:o}=R5t({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,l;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((l=this.logChunkController)==null||l.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=va(s,this.name),this.heartbeat=new $3t,this.crypto=new J8t(this,this.logger,e==null?void 0:e.keychain),this.history=new lAt(this,this.logger),this.expirer=new dAt(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new s5t(dse(dse({},H6t),e==null?void 0:e.storageOptions)),this.relayer=new kEt({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new sAt(this,this.logger),this.verify=new pAt(this,this.logger,this.storage),this.echoClient=new yAt(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new xAt(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new Z5e(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(i4t,r),n}get context(){return ul(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(Wie,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Wie)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&z6t.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const SAt=kAt,J5e="wc",X5e=2,e6e="client",vG=`${J5e}@${X5e}:${e6e}:`,wO={name:e6e,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},hse="WALLETCONNECT_DEEPLINK_CHOICE",_At="proposal",fse="Proposal expired",IAt="session",Ab=tt.SEVEN_DAYS,TAt="engine",$s={wc_sessionPropose:{req:{ttl:tt.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:tt.ONE_DAY,prompt:!1,tag:1104},res:{ttl:tt.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:tt.ONE_DAY,prompt:!1,tag:1106},res:{ttl:tt.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:tt.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:tt.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:tt.ONE_DAY,prompt:!1,tag:1112},res:{ttl:tt.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:tt.ONE_DAY,prompt:!1,tag:1114},res:{ttl:tt.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:tt.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:tt.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1119}}},bO={min:tt.FIVE_MINUTES,max:tt.SEVEN_DAYS},Wd={idle:"IDLE",active:"ACTIVE"},$At={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},NAt="request",PAt=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],RAt="wc",jAt="auth",OAt="authKeys",MAt="pairingTopics",DAt="requests",nN=`${RAt}@${1.5}:${jAt}:`,oS=`${nN}:PUB_KEY`;var BAt=Object.defineProperty,LAt=Object.defineProperties,FAt=Object.getOwnPropertyDescriptors,pse=Object.getOwnPropertySymbols,UAt=Object.prototype.hasOwnProperty,zAt=Object.prototype.propertyIsEnumerable,ZF=(t,e,n)=>e in t?BAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sr=(t,e)=>{for(var n in e||(e={}))UAt.call(e,n)&&ZF(t,n,e[n]);if(pse)for(var n of pse(e))zAt.call(e,n)&&ZF(t,n,e[n]);return t},go=(t,e)=>LAt(t,FAt(e)),qe=(t,e,n)=>ZF(t,typeof e!="symbol"?e+"":e,n);let WAt=class extends X5t{constructor(e){super(e),qe(this,"name",TAt),qe(this,"events",new zq),qe(this,"initialized",!1),qe(this,"requestQueue",{state:Wd.idle,queue:[]}),qe(this,"sessionRequestQueue",{state:Wd.idle,queue:[]}),qe(this,"emittedSessionRequests",new Fbt({limit:500})),qe(this,"requestQueueDelay",tt.ONE_SECOND),qe(this,"expectedPairingMethodMap",new Map),qe(this,"recentlyDeletedMap",new Map),qe(this,"recentlyDeletedLimit",200),qe(this,"relayMessageCache",[]),qe(this,"pendingSessions",new Map),qe(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys($s)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},tt.toMiliseconds(this.requestQueueDelay)))}),qe(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=go(sr({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=zxt(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:l,relays:c}=r;let u=i,h,f=!1;try{if(u){const $=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),f=$.active}}catch($){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),$}if(!u||!f){const{topic:$,uri:N}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});u=$,h=N}if(!u){const{message:$}=it("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error($)}const p=await this.client.core.crypto.generateKeyPair(),m=$s.wc_sessionPropose.req.ttl||tt.FIVE_MINUTES,g=Xi(m),y=go(sr(sr({requiredNamespaces:s,optionalNamespaces:o,relays:c??[{protocol:D5e}],proposer:{publicKey:p,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),l&&{scopedProperties:l}),{id:nh()}),w=nr("session_connect",y.id),{reject:v,resolve:b,done:A}=sy(m,fse),E=({id:$})=>{$===y.id&&(this.client.events.off("proposal_expire",E),this.pendingSessions.delete(y.id),this.events.emit(w,{error:{message:fse,code:0}}))};return this.client.events.on("proposal_expire",E),this.events.once(w,({error:$,session:N})=>{this.client.events.off("proposal_expire",E),$?v($):N&&b(N)}),await this.sendProposeSession({proposal:y,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:y.id}}}),await this.setProposal(y.id,y),{uri:h,approval:A}}),qe(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),qe(this,"approve",async n=>{var r,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[N0.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(j){throw o.setError(Y5.no_internet_connection),j}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(j){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(Y5.proposal_not_found),j}try{await this.isValidApprove(n)}catch(j){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Y5.session_approve_namespace_validation_failure),j}const{id:a,relayProtocol:l,namespaces:c,sessionProperties:u,scopedProperties:h,sessionConfig:f}=n,p=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:m,proposer:g,requiredNamespaces:y,optionalNamespaces:w}=p;let v=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:m});v||(v=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:N0.session_approve_started,properties:{topic:m,trace:[N0.session_approve_started,N0.session_namespaces_validation_success]}}));const b=await this.client.core.crypto.generateKeyPair(),A=g.publicKey,E=await this.client.core.crypto.generateSharedKey(b,A),$=sr(sr(sr({relay:{protocol:l??"irn"},namespaces:c,controller:{publicKey:b,metadata:this.client.metadata},expiry:Xi(Ab)},u&&{sessionProperties:u}),h&&{scopedProperties:h}),f&&{sessionConfig:f}),N=Mr.relay;v.addTrace(N0.subscribing_session_topic);try{await this.client.core.relayer.subscribe(E,{transportType:N,internal:{skipSubscribe:!0}})}catch(j){throw v.setError(Y5.subscribe_session_topic_failure),j}v.addTrace(N0.subscribe_session_topic_success);const R=go(sr({},$),{topic:E,requiredNamespaces:y,optionalNamespaces:w,pairingTopic:m,acknowledged:!1,self:$.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:b,transportType:Mr.relay});await this.client.session.set(E,R),v.addTrace(N0.store_session);try{await this.sendApproveSession({sessionTopic:E,proposal:p,pairingProposalResponse:{relay:{protocol:l??"irn"},responderPublicKey:b},sessionSettleRequest:$,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:a}}}),v.addTrace(N0.session_approve_publish_success)}catch(j){throw this.client.logger.error(j),this.client.session.delete(E,Dr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(E),j}return this.client.core.eventClient.deleteEvent({eventId:v.eventId}),await this.client.core.pairing.updateMetadata({topic:m,metadata:g.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:m}),await this.setExpiry(E,Xi(Ab)),{topic:E,acknowledged:()=>Promise.resolve(this.client.session.get(E))}}),qe(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}s&&await this.sendError({id:r,topic:s,error:i,rpcOpts:$s.wc_sessionPropose.reject}),await this.deleteProposal(r)}),qe(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(h){throw this.client.logger.error("update() -> isValidUpdate() failed"),h}const{topic:r,namespaces:i}=n,{done:s,resolve:o,reject:a}=sy(),l=nh(),c=zm().toString(),u=this.client.session.get(r).namespaces;return this.events.once(nr("session_update",l),({error:h})=>{h?a(h):o()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:l,relayRpcId:c}).catch(h=>{this.client.logger.error(h),this.client.session.update(r,{namespaces:u}),a(h)}),{acknowledged:s}}),qe(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(l){throw this.client.logger.error("extend() -> isValidExtend() failed"),l}const{topic:r}=n,i=nh(),{done:s,resolve:o,reject:a}=sy();return this.events.once(nr("session_extend",i),({error:l})=>{l?a(l):o()}),await this.setExpiry(r,Xi(Ab)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(l=>{a(l)}),{acknowledged:s}}),qe(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:r,request:i,topic:s,expiry:o=$s.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(s);(a==null?void 0:a.transportType)===Mr.relay&&await this.confirmOnlineStateOrThrow();const l=nh(),c=zm().toString(),{done:u,resolve:h,reject:f}=sy(o,"Request expired. Please try again.");this.events.once(nr("session_request",l),({error:y,result:w})=>{y?f(y):h(w)});const p="wc_sessionRequest",m=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(m)return await this.sendRequest({clientRpcId:l,relayRpcId:c,topic:s,method:p,params:{request:go(sr({},i),{expiryTimestamp:Xi(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:m}).catch(y=>f(y)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:l}),await u();const g={request:go(sr({},i),{expiryTimestamp:Xi(o)}),chainId:r};return await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:l,relayRpcId:c,topic:s,method:p,params:g,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(l,g)}).catch(w=>f(w)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:l}),y()}),new Promise(async y=>{var w;if(!((w=a.sessionConfig)!=null&&w.disableDeepLink)){const v=await Obt(this.client.core.storage,hse);await Pbt({id:l,topic:s,wcDeepLink:v})}y()}),u()]).then(y=>y[2])}),qe(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:s}=i,o=this.client.session.get(r);o.transportType===Mr.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);rh(i)?await this.sendResult({id:s,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:a}):Mc(i)&&await this.sendError({id:s,topic:r,error:i.error,appLink:a}),this.cleanupAfterResponse(n)}),qe(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=nh(),s=zm().toString(),{done:o,resolve:a,reject:l}=sy();this.events.once(nr("session_ping",i),({error:c})=>{c?l(c):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),qe(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,o=zm().toString(),a=nh();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),qe(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Dr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=it("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),qe(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>Vxt(r,n)))),qe(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),qe(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?Mr.link_mode:Mr.relay;o===Mr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:l="",uri:c,domain:u,nonce:h,type:f,exp:p,nbf:m,methods:g=[],expiry:y}=n,w=[...n.resources||[]],{topic:v,uri:b}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:v,uri:b}});const A=await this.client.core.crypto.generateKeyPair(),E=nS(A);if(await Promise.all([this.client.auth.authKeys.set(oS,{responseTopic:E,publicKey:A}),this.client.auth.pairingTopics.set(E,{topic:E,pairingTopic:v})]),await this.client.core.relayer.subscribe(E,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${v}`),g.length>0){const{namespace:P}=S1(a[0]);let L=Zvt(P,"request",g);tS(w)&&(L=Xvt(L,w.pop())),w.push(L)}const $=y&&y>$s.wc_sessionAuthenticate.req.ttl?y:$s.wc_sessionAuthenticate.req.ttl,N={authPayload:{type:f??"caip122",chains:a,statement:l,aud:c,domain:u,version:"1",nonce:h,iat:new Date().toISOString(),exp:p,nbf:m,resources:w},requester:{publicKey:A,metadata:this.client.metadata},expiryTimestamp:Xi($)},R={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},j={requiredNamespaces:{},optionalNamespaces:R,relays:[{protocol:"irn"}],pairingTopic:v,proposer:{publicKey:A,metadata:this.client.metadata},expiryTimestamp:Xi($s.wc_sessionPropose.req.ttl),id:nh()},{done:F,resolve:W,reject:V}=sy($,"Request expired"),B=nh(),k=nr("session_connect",j.id),C=nr("session_request",B),S=async({error:P,session:L})=>{this.events.off(C,T),P?V(P):L&&W({session:L})},T=async P=>{var L,O,I;if(await this.deletePendingAuthRequest(B,{message:"fulfilled",code:0}),P.error){const oe=Dr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return P.error.code===oe.code?void 0:(this.events.off(k,S),V(P.error.message))}await this.deleteProposal(j.id),this.events.off(k,S);const{cacaos:D,responder:Y}=P.result,M=[],Q=[];for(const oe of D){await qre({cacao:oe,projectId:this.client.core.projectId})||(this.client.logger.error(oe,"Signature verification failed"),V(Dr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:de}=oe,ae=tS(de.resources),he=[kF(de.iss)],be=S7(de.iss);if(ae){const fe=Gre(ae),ke=Kre(ae);M.push(...fe),he.push(...ke)}for(const fe of he)Q.push(`${fe}:${be}`)}const ee=await this.client.core.crypto.generateSharedKey(A,Y.publicKey);let J;M.length>0&&(J={topic:ee,acknowledged:!0,self:{publicKey:A,metadata:this.client.metadata},peer:Y,controller:Y.publicKey,expiry:Xi(Ab),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:v,namespaces:wie([...new Set(M)],[...new Set(Q)]),transportType:o},await this.client.core.relayer.subscribe(ee,{transportType:o}),await this.client.session.set(ee,J),v&&await this.client.core.pairing.updateMetadata({topic:v,metadata:Y.metadata}),J=this.client.session.get(ee)),(L=this.client.metadata.redirect)!=null&&L.linkMode&&(O=Y.metadata.redirect)!=null&&O.linkMode&&(I=Y.metadata.redirect)!=null&&I.universal&&r&&(this.client.core.addLinkModeSupportedApp(Y.metadata.redirect.universal),this.client.session.update(ee,{transportType:Mr.link_mode})),W({auths:D,session:J})};this.events.once(k,S),this.events.once(C,T);let _;try{if(s){const P=vh("wc_sessionAuthenticate",N,B);this.client.core.history.set(v,P);const L=await this.client.core.crypto.encode("",P,{type:sC,encoding:um});_=Lk(r,v,L)}else await Promise.all([this.sendRequest({topic:v,method:"wc_sessionAuthenticate",params:N,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:B}),this.sendRequest({topic:v,method:"wc_sessionPropose",params:j,expiry:$s.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:j.id})])}catch(P){throw this.events.off(k,S),this.events.off(C,T),P}return await this.setProposal(j.id,j),await this.setAuthRequest(B,{request:go(sr({},N),{verifyContext:{}}),pairingTopic:v,transportType:o}),{uri:_??b,response:F}}),qe(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Yg.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw s.setError(Q5.no_internet_connection),y}const o=this.getPendingAuthRequest(r);if(!o)throw s.setError(Q5.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||Mr.relay;a===Mr.relay&&await this.confirmOnlineStateOrThrow();const l=o.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),u=nS(l),h={type:Sp,receiverPublicKey:l,senderPublicKey:c},f=[],p=[];for(const y of i){if(!await qre({cacao:y,projectId:this.client.core.projectId})){s.setError(Q5.invalid_cacao);const E=Dr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:E,encodeOpts:h}),new Error(E.message)}s.addTrace(Yg.cacaos_verified);const{p:w}=y,v=tS(w.resources),b=[kF(w.iss)],A=S7(w.iss);if(v){const E=Gre(v),$=Kre(v);f.push(...E),b.push(...$)}for(const E of b)p.push(`${E}:${A}`)}const m=await this.client.core.crypto.generateSharedKey(c,l);s.addTrace(Yg.create_authenticated_session_topic);let g;if((f==null?void 0:f.length)>0){g={topic:m,acknowledged:!0,self:{publicKey:c,metadata:this.client.metadata},peer:{publicKey:l,metadata:o.requester.metadata},controller:l,expiry:Xi(Ab),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:wie([...new Set(f)],[...new Set(p)]),transportType:a},s.addTrace(Yg.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(m,{transportType:a})}catch(y){throw s.setError(Q5.subscribe_authenticated_session_topic_failure),y}s.addTrace(Yg.subscribe_authenticated_session_topic_success),await this.client.session.set(m,g),s.addTrace(Yg.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Yg.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:i,responder:{publicKey:c,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(y){throw s.setError(Q5.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:g}}),qe(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===Mr.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),l=nS(o),c={type:Sp,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:l,error:i,encodeOpts:c,rpcOpts:$s.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),qe(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return V3e(r,i)}),qe(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),qe(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),qe(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=n,{self:l}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Dr("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(l.publicKey)&&await this.client.core.crypto.deleteKeyPair(l.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(hse).catch(c=>this.client.logger.warn(c)),this.getPendingSessionRequests().forEach(c=>{c.topic===i&&this.deletePendingSessionRequest(c.id,Dr("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Wd.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),qe(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(Y5.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Dr("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),qe(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=Wd.idle,this.client.events.emit("session_request_expire",{id:n}))}),qe(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),qe(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),qe(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,Xi($s.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),qe(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:o=Mr.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),qe(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:o}=n,a=s.request.expiryTimestamp||Xi($s.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:o})}),qe(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:l,throwOnFailedPublish:c,appLink:u,tvf:h,publishOpts:f={}}=n,p=vh(i,s,l);let m;const g=!!u;try{const v=g?um:Oa;m=await this.client.core.crypto.encode(r,p,{encoding:v})}catch(v){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),v}let y;if(PAt.includes(i)){const v=Oc(JSON.stringify(p)),b=Oc(m);y=await this.client.core.verify.register({id:b,decryptedId:v})}const w=sr(sr({},$s[i].req),f);if(w.attestation=y,o&&(w.ttl=o),a&&(w.id=a),this.client.core.history.set(r,p),g){const v=Lk(u,r,m);await globalThis.Linking.openURL(v,this.client.name)}else w.tvf=go(sr({},h),{correlationId:p.id}),c?(w.internal=go(sr({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,m,w)):this.client.core.relayer.publish(r,m,w).catch(v=>this.client.logger.error(v));return p.id}),qe(this,"sendProposeSession",async n=>{const{proposal:r,publishOpts:i}=n,s=vh("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,s);const o=await this.client.core.crypto.encode(r.pairingTopic,s,{encoding:Oa}),a=Oc(JSON.stringify(s)),l=Oc(o),c=await this.client.core.verify.register({id:l,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:o},opts:go(sr({},i),{publishMethod:"wc_proposeSession",attestation:c})})}),qe(this,"sendApproveSession",async n=>{const{sessionTopic:r,pairingProposalResponse:i,proposal:s,sessionSettleRequest:o,publishOpts:a}=n,l=fE(s.id,i),c=await this.client.core.crypto.encode(s.pairingTopic,l,{encoding:Oa}),u=vh("wc_sessionSettle",o,a==null?void 0:a.id),h=await this.client.core.crypto.encode(r,u,{encoding:Oa});this.client.core.history.set(r,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:s.pairingTopic,sessionProposalResponse:c,sessionSettlementRequest:h},opts:go(sr({},a),{publishMethod:"wc_approveSession"})})}),qe(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:l}=n,c=fE(r,s);let u;const h=l&&typeof(globalThis==null?void 0:globalThis.Linking)<"u";try{const m=h?um:Oa;u=await this.client.core.crypto.encode(i,c,go(sr({},a||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),m}let f,p;try{f=await this.client.core.history.get(i,r);const m=f.request;try{p=this.getTVFParams(r,m.params,s)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g==null?void 0:g.message}`)}}catch(m){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),m}if(h){const m=Lk(l,i,u);await globalThis.Linking.openURL(m,this.client.name)}else{const m=f.request.method,g=$s[m].res;g.tvf=go(sr({},p),{correlationId:r}),o?(g.internal=go(sr({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,g)):this.client.core.relayer.publish(i,u,g).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(c)}),qe(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:l}=n,c=X$(r,s);let u;const h=l&&typeof(globalThis==null?void 0:globalThis.Linking)<"u";try{const p=h?um:Oa;u=await this.client.core.crypto.encode(i,c,go(sr({},o||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),p}let f;try{f=await this.client.core.history.get(i,r)}catch(p){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),p}if(h){const p=Lk(l,i,u);await globalThis.Linking.openURL(p,this.client.name)}else{const p=f.request.method,m=a||$s[p].res;this.client.core.relayer.publish(i,u,m)}await this.client.core.history.resolve(c)}),qe(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;J0(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{J0(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),qe(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),qe(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),qe(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Wd.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Wd.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Wd.idle}),qe(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:o,encryptedId:a}=n,l=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:l}))switch(l){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${l}`)}}),qe(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),qe(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=it("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),qe(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),qe(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:o}=n,{params:a,id:l}=i;try{const c=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),c==null||c.setError(Rf.proposal_listener_not_found)),this.isValidConnect(sr({},i.params));const u=a.expiryTimestamp||Xi($s.wc_sessionPropose.req.ttl),h=sr({id:l,pairingTopic:r,expiryTimestamp:u,attestation:s,encryptedId:o},a);await this.setProposal(l,h);const f=await this.getVerifyContext({attestationId:s,hash:Oc(JSON.stringify(i)),encryptedId:o,metadata:h.proposer.metadata});c==null||c.addTrace(Xd.emit_session_proposal),this.client.events.emit("session_proposal",{id:l,params:h,verifyContext:f})}catch(c){await this.sendError({id:l,topic:r,error:c,rpcOpts:$s.wc_sessionPropose.autoReject}),this.client.logger.error(c)}}),qe(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(rh(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const l=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:l});const c=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:c});const u=await this.client.core.crypto.generateSharedKey(l,c);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:n,proposalId:s,publicKey:l});const h=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:h}),await this.client.core.pairing.activate({topic:n})}else if(Mc(r)){await this.deleteProposal(s);const o=nr("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),qe(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:l,namespaces:c,sessionProperties:u,scopedProperties:h,sessionConfig:f}=r.params,p=[...this.pendingSessions.values()].find(y=>y.sessionTopic===n);if(!p)return this.client.logger.error(`Pending session not found for topic ${n}`);const m=this.client.proposal.get(p.proposalId),g=go(sr(sr(sr({topic:n,relay:o,expiry:l,namespaces:c,acknowledged:!0,pairingTopic:p.pairingTopic,requiredNamespaces:m.requiredNamespaces,optionalNamespaces:m.optionalNamespaces,controller:a.publicKey,self:{publicKey:p.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),h&&{scopedProperties:h}),f&&{sessionConfig:f}),{transportType:Mr.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:p.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(nr("session_connect",p.proposalId),{session:g}),this.pendingSessions.delete(p.proposalId),this.deleteProposal(p.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:r.id,topic:n,result:!0})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),qe(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;rh(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(nr("session_approve",i),{})):Mc(r)&&(await this.client.session.delete(n,Dr("USER_DISCONNECTED")),this.events.emit(nr("session_approve",i),{error:r.error}))}),qe(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const o=`${n}_session_update`,a=G5.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:Dr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(sr({topic:n},i));try{G5.set(o,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0})}catch(l){throw G5.delete(o),l}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),qe(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),qe(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=nr("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);rh(r)?this.events.emit(nr("session_update",i),{}):Mc(r)&&this.events.emit(nr("session_update",i),{error:r.error})}),qe(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Xi(Ab)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),qe(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=nr("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);rh(r)?this.events.emit(nr("session_extend",i),{}):Mc(r)&&this.events.emit(nr("session_extend",i),{error:r.error})}),qe(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),qe(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=nr("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);rh(r)?this.events.emit(nr("session_ping",i),{}):Mc(r)&&this.events.emit(nr("session_ping",i),{error:r.error})},500)}),qe(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(Si.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Dr("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),qe(this,"onSessionRequest",async n=>{var r,i,s;const{topic:o,payload:a,attestation:l,encryptedId:c,transportType:u}=n,{id:h,params:f}=a;try{await this.isValidRequest(sr({topic:o},f));const p=this.client.session.get(o),m=await this.getVerifyContext({attestationId:l,hash:Oc(JSON.stringify(vh("wc_sessionRequest",f,h))),encryptedId:c,metadata:p.peer.metadata,transportType:u}),g={id:h,topic:o,params:f,verifyContext:m};await this.setPendingSessionRequest(g),u===Mr.link_mode&&(r=p.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=p.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(p){await this.sendError({id:h,topic:o,error:p}),this.client.logger.error(p)}}),qe(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=nr("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);rh(r)?this.events.emit(nr("session_request",i),{result:r.result}):Mc(r)&&this.events.emit(nr("session_request",i),{error:r.error})}),qe(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const o=`${n}_session_event_${s.event.name}`,a=G5.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(sr({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),G5.set(o,i)}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),qe(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),rh(r)?this.events.emit(nr("session_request",i),{result:r.result}):Mc(r)&&this.events.emit(nr("session_request",i),{error:r.error})}),qe(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:l}=n;try{const{requester:c,authPayload:u,expiryTimestamp:h}=s.params,f=await this.getVerifyContext({attestationId:o,hash:Oc(JSON.stringify(s)),encryptedId:a,metadata:c.metadata,transportType:l}),p={requester:c,pairingTopic:i,id:s.id,authPayload:u,verifyContext:f,expiryTimestamp:h};await this.setAuthRequest(s.id,{request:p,pairingTopic:i,transportType:l}),l===Mr.link_mode&&(r=c.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(c.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:f})}catch(c){this.client.logger.error(c);const u=s.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),f=this.getAppLinkIfEnabled(s.params.requester.metadata,l),p={type:Sp,receiverPublicKey:u,senderPublicKey:h};await this.sendError({id:s.id,topic:i,error:c,encodeOpts:p,rpcOpts:$s.wc_sessionAuthenticate.autoReject,appLink:f})}}),qe(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),qe(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Wd.idle,this.processSessionRequestQueue()},tt.toMiliseconds(this.requestQueueDelay))}),qe(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=nr("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(nr("session_request",s.request.id),{error:r})})}),qe(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Wd.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),qe(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=Wd.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),qe(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:vh("wc_sessionPropose",go(sr({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),qe(this,"isValidConnect",async n=>{if(!Ia(n)){const{message:c}=it("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(c)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:l}=n;if(bs(r)||await this.isValidPairingTopic(r),!r3t(l)){const{message:c}=it("MISSING_OR_INVALID",`connect() relays: ${l}`);throw new Error(c)}if(!bs(i)&&Vh(i)!==0){const c="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(c):this.client.logger.warn(c),this.validateNamespaces(i,"requiredNamespaces")}if(!bs(s)&&Vh(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),bs(o)||this.validateSessionProps(o,"sessionProperties"),!bs(a)){this.validateSessionProps(a,"scopedProperties");const c=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>c.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(c)}`)}}),qe(this,"validateNamespaces",(n,r)=>{const i=n3t(n,"connect()",r);if(i)throw new Error(i.message)}),qe(this,"isValidApprove",async n=>{if(!Ia(n))throw new Error(it("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const l=this.client.proposal.get(r),c=uO(i,"approve()");if(c)throw new Error(c.message);const u=xie(l.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!Hi(s,!0)){const{message:h}=it("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(h)}if(bs(o)||this.validateSessionProps(o,"sessionProperties"),!bs(a)){this.validateSessionProps(a,"scopedProperties");const h=new Set(Object.keys(i));if(!Object.keys(a).every(f=>h.has(f.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(h).join(", ")}`)}}),qe(this,"isValidReject",async n=>{if(!Ia(n)){const{message:s}=it("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!s3t(i)){const{message:s}=it("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),qe(this,"isValidSessionSettleRequest",n=>{if(!Ia(n)){const{message:c}=it("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(c)}const{relay:r,controller:i,namespaces:s,expiry:o}=n;if(!E5e(r)){const{message:c}=it("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(c)}const a=Qxt(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const l=uO(s,"onSessionSettleRequest()");if(l)throw new Error(l.message);if(J0(o)){const{message:c}=it("EXPIRED","onSessionSettleRequest()");throw new Error(c)}}),qe(this,"isValidUpdate",async n=>{if(!Ia(n)){const{message:l}=it("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(l)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),o=uO(i,"update()");if(o)throw new Error(o.message);const a=xie(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),qe(this,"isValidExtend",async n=>{if(!Ia(n)){const{message:i}=it("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),qe(this,"isValidRequest",async n=>{if(!Ia(n)){const{message:l}=it("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(l)}const{topic:r,request:i,chainId:s,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!vie(a,s)){const{message:l}=it("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(l)}if(!o3t(i)){const{message:l}=it("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(l)}if(!c3t(a,s,i.method)){const{message:l}=it("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(l)}if(o&&!f3t(o,bO)){const{message:l}=it("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${bO.min} and ${bO.max}`);throw new Error(l)}}),qe(this,"isValidRespond",async n=>{var r;if(!Ia(n)){const{message:o}=it("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!a3t(s)){const{message:o}=it("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),qe(this,"isValidPing",async n=>{if(!Ia(n)){const{message:i}=it("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),qe(this,"isValidEmit",async n=>{if(!Ia(n)){const{message:a}=it("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!vie(o,s)){const{message:a}=it("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!l3t(i)){const{message:a}=it("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!u3t(o,s,i.name)){const{message:a}=it("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),qe(this,"isValidDisconnect",async n=>{if(!Ia(n)){const{message:i}=it("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),qe(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!Hi(i,!1))throw new Error("uri is required parameter");if(!Hi(s,!1))throw new Error("domain is required parameter");if(!Hi(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(l=>S1(l).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=S1(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),qe(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:o,transportType:a}=n,l={verified:{verifyUrl:o.verifyUrl||v4,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Mr.link_mode){const u=this.getAppLinkIfEnabled(o,a);return l.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",l}const c=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});c&&(l.verified.origin=c.origin,l.verified.isScam=c.isScam,l.verified.validation=c.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(c){this.client.logger.warn(c)}return this.client.logger.debug(`Verify context: ${JSON.stringify(l)}`),l}),qe(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:o}=it("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(o)}})}),qe(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),qe(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),qe(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=it("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),qe(this,"isLinkModeEnabled",(n,r)=>{var i,s,o,a,l,c,u,h,f;return!n||r!==Mr.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((c=(l=this.client.metadata)==null?void 0:l.redirect)==null?void 0:c.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((h=n==null?void 0:n.redirect)==null?void 0:h.universal)!==""&&((f=n==null?void 0:n.redirect)==null?void 0:f.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(globalThis==null?void 0:globalThis.Linking)<"u"}),qe(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n==null?void 0:n.redirect)==null?void 0:i.universal:void 0}),qe(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=jre(n,"topic")||"",i=decodeURIComponent(jre(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:Mr.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),qe(this,"registerLinkModeListeners",async()=>{var n;if(rG()||Og()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=globalThis==null?void 0:globalThis.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),qe(this,"getTVFParams",(n,r,i)=>{var s,o,a;if(!((s=r.request)!=null&&s.method))return{};const l={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const c=this.extractTxHashesFromResult(r.request,i);l.txHashes=c,l.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(c){this.client.logger.warn("Error getting TVF params",c)}return l}),qe(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),qe(this,"extractTxHashesFromResult",(n,r)=>{var i;try{if(!r)return[];const s=n.method,o=$At[s];if(s==="sui_signTransaction")return[Ovt(r.transactionBytes)];if(s==="near_signTransaction")return[zre(r)];if(s==="near_signTransactions")return r.map(l=>zre(l));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=r.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[I3t({transaction:n.params.transactionPayload,signature:r.signature})];if(s==="algo_signTxn")return Yc(r)?r.map(l=>Wre(l)):[Wre(r)];if(s==="cosmos_signDirect")return[Dvt(r)];if(typeof r=="string")return[r];const a=r[o.key];if(Yc(a))return s==="solana_signAllTransactions"?a.map(l=>jvt(l)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Si.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(oS)?this.client.auth.authKeys.get(oS):{responseTopic:void 0,publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:s===Mr.link_mode?um:Oa});bG(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:s,encryptedId:Oc(r)})):eN(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:s}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(kc.expired,async e=>{const{topic:n,id:r}=$3e(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,it("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,it("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(hy.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(hy.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Hi(e,!1)){const{message:n}=it("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=it("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(J0(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=it("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!Hi(e,!1)){const{message:n}=it("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=it("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(J0(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=it("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=it("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Hi(e,!1)){const{message:n}=it("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=it("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!i3t(e)){const{message:n}=it("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=it("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(J0(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=it("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}},HAt=class extends Hw{constructor(e,n){super(e,n,_At,vG),this.core=e,this.logger=n}},VAt=class extends Hw{constructor(e,n){super(e,n,IAt,vG),this.core=e,this.logger=n}},qAt=class extends Hw{constructor(e,n){super(e,n,NAt,vG,r=>r.id),this.core=e,this.logger=n}},GAt=class extends Hw{constructor(e,n){super(e,n,OAt,nN,()=>oS),this.core=e,this.logger=n}},KAt=class extends Hw{constructor(e,n){super(e,n,MAt,nN),this.core=e,this.logger=n}},YAt=class extends Hw{constructor(e,n){super(e,n,DAt,nN,r=>r.id),this.core=e,this.logger=n}};var QAt=Object.defineProperty,ZAt=(t,e,n)=>e in t?QAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vO=(t,e,n)=>ZAt(t,typeof e!="symbol"?e+"":e,n);let JAt=class{constructor(e,n){this.core=e,this.logger=n,vO(this,"authKeys"),vO(this,"pairingTopics"),vO(this,"requests"),this.authKeys=new GAt(this.core,this.logger),this.pairingTopics=new KAt(this.core,this.logger),this.requests=new YAt(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var XAt=Object.defineProperty,eCt=(t,e,n)=>e in t?XAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,On=(t,e,n)=>eCt(t,typeof e!="symbol"?e+"":e,n);let tCt=class t6e extends J5t{constructor(e){super(e),On(this,"protocol",J5e),On(this,"version",X5e),On(this,"name",wO.name),On(this,"metadata"),On(this,"core"),On(this,"logger"),On(this,"events",new lc.EventEmitter),On(this,"engine"),On(this,"session"),On(this,"proposal"),On(this,"pendingRequest"),On(this,"auth"),On(this,"signConfig"),On(this,"on",(r,i)=>this.events.on(r,i)),On(this,"once",(r,i)=>this.events.once(r,i)),On(this,"off",(r,i)=>this.events.off(r,i)),On(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),On(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),On(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),On(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),On(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||wO.name,this.metadata=Sbt(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:aC(J$({level:(e==null?void 0:e.logger)||wO.logger}));this.core=(e==null?void 0:e.core)||new SAt(e),this.logger=va(n,this.name),this.session=new VAt(this.core,this.logger),this.proposal=new HAt(this.core,this.logger),this.pendingRequest=new qAt(this.core,this.logger),this.engine=new WAt(this),this.auth=new JAt(this.core,this.logger)}static async init(e){const n=new t6e(e);return await n.initialize(),n}get context(){return ul(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var JF={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof s<"u"&&s||{},l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function c(C){return C&&DataView.prototype.isPrototypeOf(C)}if(l.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(C){return C&&u.indexOf(Object.prototype.toString.call(C))>-1};function f(C){if(typeof C!="string"&&(C=String(C)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(C)||C==="")throw new TypeError('Invalid character in header field name: "'+C+'"');return C.toLowerCase()}function p(C){return typeof C!="string"&&(C=String(C)),C}function m(C){var S={next:function(){var T=C.shift();return{done:T===void 0,value:T}}};return l.iterable&&(S[Symbol.iterator]=function(){return S}),S}function g(C){this.map={},C instanceof g?C.forEach(function(S,T){this.append(T,S)},this):Array.isArray(C)?C.forEach(function(S){if(S.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+S.length);this.append(S[0],S[1])},this):C&&Object.getOwnPropertyNames(C).forEach(function(S){this.append(S,C[S])},this)}g.prototype.append=function(C,S){C=f(C),S=p(S);var T=this.map[C];this.map[C]=T?T+", "+S:S},g.prototype.delete=function(C){delete this.map[f(C)]},g.prototype.get=function(C){return C=f(C),this.has(C)?this.map[C]:null},g.prototype.has=function(C){return this.map.hasOwnProperty(f(C))},g.prototype.set=function(C,S){this.map[f(C)]=p(S)},g.prototype.forEach=function(C,S){for(var T in this.map)this.map.hasOwnProperty(T)&&C.call(S,this.map[T],T,this)},g.prototype.keys=function(){var C=[];return this.forEach(function(S,T){C.push(T)}),m(C)},g.prototype.values=function(){var C=[];return this.forEach(function(S){C.push(S)}),m(C)},g.prototype.entries=function(){var C=[];return this.forEach(function(S,T){C.push([T,S])}),m(C)},l.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function y(C){if(!C._noBody){if(C.bodyUsed)return Promise.reject(new TypeError("Already read"));C.bodyUsed=!0}}function w(C){return new Promise(function(S,T){C.onload=function(){S(C.result)},C.onerror=function(){T(C.error)}})}function v(C){var S=new FileReader,T=w(S);return S.readAsArrayBuffer(C),T}function b(C){var S=new FileReader,T=w(S),_=/charset=([A-Za-z0-9_-]+)/.exec(C.type),P=_?_[1]:"utf-8";return S.readAsText(C,P),T}function A(C){for(var S=new Uint8Array(C),T=new Array(S.length),_=0;_<S.length;_++)T[_]=String.fromCharCode(S[_]);return T.join("")}function E(C){if(C.slice)return C.slice(0);var S=new Uint8Array(C.byteLength);return S.set(new Uint8Array(C)),S.buffer}function $(){return this.bodyUsed=!1,this._initBody=function(C){this.bodyUsed=this.bodyUsed,this._bodyInit=C,C?typeof C=="string"?this._bodyText=C:l.blob&&Blob.prototype.isPrototypeOf(C)?this._bodyBlob=C:l.formData&&FormData.prototype.isPrototypeOf(C)?this._bodyFormData=C:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)?this._bodyText=C.toString():l.arrayBuffer&&l.blob&&c(C)?(this._bodyArrayBuffer=E(C.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(C)||h(C))?this._bodyArrayBuffer=E(C):this._bodyText=C=Object.prototype.toString.call(C):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof C=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var C=y(this);if(C)return C;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var C=y(this);return C||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var C=y(this);if(C)return C;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(A(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var N=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function R(C){var S=C.toUpperCase();return N.indexOf(S)>-1?S:C}function j(C,S){if(!(this instanceof j))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');S=S||{};var T=S.body;if(C instanceof j){if(C.bodyUsed)throw new TypeError("Already read");this.url=C.url,this.credentials=C.credentials,S.headers||(this.headers=new g(C.headers)),this.method=C.method,this.mode=C.mode,this.signal=C.signal,!T&&C._bodyInit!=null&&(T=C._bodyInit,C.bodyUsed=!0)}else this.url=String(C);if(this.credentials=S.credentials||this.credentials||"same-origin",(S.headers||!this.headers)&&(this.headers=new g(S.headers)),this.method=R(S.method||this.method||"GET"),this.mode=S.mode||this.mode||null,this.signal=S.signal||this.signal||function(){if("AbortController"in a){var L=new AbortController;return L.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&T)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(T),(this.method==="GET"||this.method==="HEAD")&&(S.cache==="no-store"||S.cache==="no-cache")){var _=/([?&])_=[^&]*/;if(_.test(this.url))this.url=this.url.replace(_,"$1_="+new Date().getTime());else{var P=/\?/;this.url+=(P.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}j.prototype.clone=function(){return new j(this,{body:this._bodyInit})};function F(C){var S=new FormData;return C.trim().split("&").forEach(function(T){if(T){var _=T.split("="),P=_.shift().replace(/\+/g," "),L=_.join("=").replace(/\+/g," ");S.append(decodeURIComponent(P),decodeURIComponent(L))}}),S}function W(C){var S=new g,T=C.replace(/\r?\n[\t ]+/g," ");return T.split("\r").map(function(_){return _.indexOf(`
`)===0?_.substr(1,_.length):_}).forEach(function(_){var P=_.split(":"),L=P.shift().trim();if(L){var O=P.join(":").trim();try{S.append(L,O)}catch(I){console.warn("Response "+I.message)}}}),S}$.call(j.prototype);function V(C,S){if(!(this instanceof V))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(S||(S={}),this.type="default",this.status=S.status===void 0?200:S.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=S.statusText===void 0?"":""+S.statusText,this.headers=new g(S.headers),this.url=S.url||"",this._initBody(C)}$.call(V.prototype),V.prototype.clone=function(){return new V(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},V.error=function(){var C=new V(null,{status:200,statusText:""});return C.ok=!1,C.status=0,C.type="error",C};var B=[301,302,303,307,308];V.redirect=function(C,S){if(B.indexOf(S)===-1)throw new RangeError("Invalid status code");return new V(null,{status:S,headers:{location:C}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(S,T){this.message=S,this.name=T;var _=Error(S);this.stack=_.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function k(C,S){return new Promise(function(T,_){var P=new j(C,S);if(P.signal&&P.signal.aborted)return _(new o.DOMException("Aborted","AbortError"));var L=new XMLHttpRequest;function O(){L.abort()}L.onload=function(){var Y={statusText:L.statusText,headers:W(L.getAllResponseHeaders()||"")};P.url.indexOf("file://")===0&&(L.status<200||L.status>599)?Y.status=200:Y.status=L.status,Y.url="responseURL"in L?L.responseURL:Y.headers.get("X-Request-URL");var M="response"in L?L.response:L.responseText;setTimeout(function(){T(new V(M,Y))},0)},L.onerror=function(){setTimeout(function(){_(new TypeError("Network request failed"))},0)},L.ontimeout=function(){setTimeout(function(){_(new TypeError("Network request timed out"))},0)},L.onabort=function(){setTimeout(function(){_(new o.DOMException("Aborted","AbortError"))},0)};function I(Y){try{return Y===""&&a.location.href?a.location.href:Y}catch{return Y}}if(L.open(P.method,I(P.url),!0),P.credentials==="include"?L.withCredentials=!0:P.credentials==="omit"&&(L.withCredentials=!1),"responseType"in L&&(l.blob?L.responseType="blob":l.arrayBuffer&&(L.responseType="arraybuffer")),S&&typeof S.headers=="object"&&!(S.headers instanceof g||a.Headers&&S.headers instanceof a.Headers)){var D=[];Object.getOwnPropertyNames(S.headers).forEach(function(Y){D.push(f(Y)),L.setRequestHeader(Y,p(S.headers[Y]))}),P.headers.forEach(function(Y,M){D.indexOf(M)===-1&&L.setRequestHeader(M,Y)})}else P.headers.forEach(function(Y,M){L.setRequestHeader(M,Y)});P.signal&&(P.signal.addEventListener("abort",O),L.onreadystatechange=function(){L.readyState===4&&P.signal.removeEventListener("abort",O)}),L.send(typeof P._bodyInit>"u"?null:P._bodyInit)})}return k.polyfill=!0,a.fetch||(a.fetch=k,a.Headers=g,a.Request=j,a.Response=V),o.Headers=g,o.Request=j,o.Response=V,o.fetch=k,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(JF,JF.exports);var nCt=JF.exports;const mse=Ks(nCt);var rCt=Object.defineProperty,iCt=Object.defineProperties,sCt=Object.getOwnPropertyDescriptors,gse=Object.getOwnPropertySymbols,oCt=Object.prototype.hasOwnProperty,aCt=Object.prototype.propertyIsEnumerable,yse=(t,e,n)=>e in t?rCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wse=(t,e)=>{for(var n in e||(e={}))oCt.call(e,n)&&yse(t,n,e[n]);if(gse)for(var n of gse(e))aCt.call(e,n)&&yse(t,n,e[n]);return t},bse=(t,e)=>iCt(t,sCt(e));const lCt={Accept:"application/json","Content-Type":"application/json"},cCt="POST",vse={headers:lCt,method:cCt},xse=10;let $d=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new lc.EventEmitter,this.isAvailable=!1,this.registering=!1,!Bie(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=Yp(e),r=await(await mse(this.url,bse(wse({},vse),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!Bie(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=Yp({id:1,jsonrpc:"2.0",method:"test",params:[]});await mse(e,bse(wse({},vse),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?ow(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=X$(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return $5e(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>xse&&this.events.setMaxListeners(xse)}};const Ese="error",uCt="wss://relay.walletconnect.org",dCt="wc",hCt="universal_provider",zk=`${dCt}@2:${hCt}:`,n6e="https://rpc.walletconnect.org/v1/",r6e="generic",fCt=`${n6e}bundler`,mu={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function xG(t){return t==null||typeof t!="object"&&typeof t!="function"}function i6e(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function s6e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const pCt="[object RegExp]",o6e="[object String]",a6e="[object Number]",l6e="[object Boolean]",c6e="[object Arguments]",mCt="[object Symbol]",gCt="[object Date]",yCt="[object Map]",wCt="[object Set]",bCt="[object Array]",vCt="[object ArrayBuffer]",xCt="[object Object]",ECt="[object DataView]",ACt="[object Uint8Array]",CCt="[object Uint8ClampedArray]",kCt="[object Uint16Array]",SCt="[object Uint32Array]",_Ct="[object Int8Array]",ICt="[object Int16Array]",TCt="[object Int32Array]",$Ct="[object Float32Array]",NCt="[object Float64Array]";function EG(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function PCt(t,e){return Sv(t,void 0,t,new Map,e)}function Sv(t,e,n,r=new Map,i=void 0){const s=i==null?void 0:i(t,e,n,r);if(s!=null)return s;if(xG(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Sv(t[a],a,n,r,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,l]of t)o.set(a,Sv(l,a,n,r,i));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(Sv(a,void 0,n,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(EG(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Sv(t[a],a,n,r,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),fy(o,t,n,r,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),fy(o,t,n,r,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),fy(o,t,n,r,i),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,fy(o,t,n,r,i),o}if(typeof t=="object"&&RCt(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),fy(o,t,n,r,i),o}return t}function fy(t,e,n=t,r,i){const s=[...Object.keys(e),...i6e(e)];for(let o=0;o<s.length;o++){const a=s[o],l=Object.getOwnPropertyDescriptor(t,a);(l==null||l.writable)&&(t[a]=Sv(e[a],a,n,r,i))}}function RCt(t){switch(s6e(t)){case c6e:case bCt:case vCt:case ECt:case l6e:case gCt:case $Ct:case NCt:case _Ct:case ICt:case TCt:case yCt:case a6e:case xCt:case pCt:case wCt:case o6e:case mCt:case ACt:case CCt:case kCt:case SCt:return!0;default:return!1}}function jCt(t,e){return PCt(t,(n,r,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case a6e:case o6e:case l6e:{const o=new t.constructor(t==null?void 0:t.valueOf());return fy(o,t),o}case c6e:{const o={};return fy(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function Ase(t){return jCt(t)}function Cse(t){return t!==null&&typeof t=="object"&&s6e(t)==="[object Arguments]"}function kse(t){return typeof t=="object"&&t!==null}function OCt(){}function MCt(t){return EG(t)}function DCt(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function BCt(t){if(xG(t))return t;if(Array.isArray(t)||EG(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function LCt(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const o=n[s];i=XF(i,o,r,new Map)}return i}function XF(t,e,n,r){if(xG(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return BCt(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...i6e(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],l=t[o];if(Cse(a)&&(a={...a}),Cse(l)&&(l={...l}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=Ase(a)),Array.isArray(a))if(typeof l=="object"&&l!=null){const u=[],h=Reflect.ownKeys(l);for(let f=0;f<h.length;f++){const p=h[f];u[p]=l[p]}l=u}else l=[];const c=n(l,a,o,t,e,r);c!=null?t[o]=c:Array.isArray(a)||kse(l)&&kse(a)?t[o]=XF(l,a,n,r):l==null&&DCt(a)?t[o]=XF({},a,n,r):l==null&&MCt(a)?t[o]=Ase(a):(l===void 0||a!==void 0)&&(t[o]=a)}return t}function FCt(t,...e){return LCt(t,...e,OCt)}var UCt=Object.defineProperty,zCt=Object.defineProperties,WCt=Object.getOwnPropertyDescriptors,Sse=Object.getOwnPropertySymbols,HCt=Object.prototype.hasOwnProperty,VCt=Object.prototype.propertyIsEnumerable,_se=(t,e,n)=>e in t?UCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wk=(t,e)=>{for(var n in e||(e={}))HCt.call(e,n)&&_se(t,n,e[n]);if(Sse)for(var n of Sse(e))VCt.call(e,n)&&_se(t,n,e[n]);return t},qCt=(t,e)=>zCt(t,WCt(e));function tc(t,e,n){var r;const i=S1(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${n6e}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function Vw(t){return t.includes(":")?t.split(":")[1]:t}function u6e(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function GCt(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function Ise(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var r,i;return((r=n==null?void 0:n.chains)==null?void 0:r.length)&&((i=n==null?void 0:n.chains)==null?void 0:i.length)>0}))}function Hk(t={},e={}){const n=Ise(Tse(t)),r=Ise(Tse(e));return FCt(n,r)}function Tse(t){var e,n,r,i,s;const o={};if(!Vh(t))return o;for(const[a,l]of Object.entries(t)){const c=Q$(a)?[a]:l.chains,u=l.methods||[],h=l.events||[],f=l.rpcMap||{},p=kv(a);o[p]=qCt(Wk(Wk({},o[p]),l),{chains:Hh(c,(e=o[p])==null?void 0:e.chains),methods:Hh(u,(n=o[p])==null?void 0:n.methods),events:Hh(h,(r=o[p])==null?void 0:r.events)}),(Vh(f)||Vh(((i=o[p])==null?void 0:i.rpcMap)||{}))&&(o[p].rpcMap=Wk(Wk({},f),(s=o[p])==null?void 0:s.rpcMap))}return o}function $se(t){return t.includes(":")?t.split(":")[2]:t}function Nse(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],o=r.accounts||[],a=Q$(n)?[n]:r.chains?r.chains:u6e(r.accounts);e[n]={chains:a,methods:i,events:s,accounts:o}}return e}function xO(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const d6e={},Zn=t=>d6e[t],EO=(t,e)=>{d6e[t]=e};var KCt=Object.defineProperty,Pse=Object.getOwnPropertySymbols,YCt=Object.prototype.hasOwnProperty,QCt=Object.prototype.propertyIsEnumerable,Rse=(t,e,n)=>e in t?KCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jse=(t,e)=>{for(var n in e||(e={}))YCt.call(e,n)&&Rse(t,n,e[n]);if(Pse)for(var n of Pse(e))QCt.call(e,n)&&Rse(t,n,e[n]);return t};const Ose="eip155",ZCt=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],JCt=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,AO=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,Mse=t=>Object.keys(t).filter(e=>ZCt.includes(e)).reduce((e,n)=>(e[n]=t[n],e),{}),XCt=(t,e,n)=>{const{sessionProperties:r={},scopedProperties:i={}}=t,s={};if(!Vh(i)&&!Vh(r))return;const o=Mse(r);for(const a of n){const l=JCt(a);if(!l)continue;s[AO(l)]=o;const c=i==null?void 0:i[`${Ose}:${l}`];if(c){const u=c==null?void 0:c[`${Ose}:${l}:${e}`];s[AO(l)]=jse(jse({},s[AO(l)]),Mse(u||c))}}for(const[a,l]of Object.entries(s))Object.keys(l).length===0&&delete s[a];return Object.keys(s).length>0?s:void 0};var ekt=Object.defineProperty,tkt=(t,e,n)=>e in t?ekt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cb=(t,e,n)=>tkt(t,typeof e!="symbol"?e+"":e,n);class nkt{constructor(e){Cb(this,"name","polkadot"),Cb(this,"client"),Cb(this,"httpProviders"),Cb(this,"events"),Cb(this,"namespace"),Cb(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(mu.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Vw(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||tc(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new pu(new $d(r,Zn("disableProviderPing")))}}var rkt=Object.defineProperty,ikt=Object.defineProperties,skt=Object.getOwnPropertyDescriptors,Dse=Object.getOwnPropertySymbols,okt=Object.prototype.hasOwnProperty,akt=Object.prototype.propertyIsEnumerable,eU=(t,e,n)=>e in t?rkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bse=(t,e)=>{for(var n in e||(e={}))okt.call(e,n)&&eU(t,n,e[n]);if(Dse)for(var n of Dse(e))akt.call(e,n)&&eU(t,n,e[n]);return t},Lse=(t,e)=>ikt(t,skt(e)),kb=(t,e,n)=>eU(t,typeof e!="symbol"?e+"":e,n);class lkt{constructor(e){kb(this,"name","eip155"),kb(this,"client"),kb(this,"chainId"),kb(this,"namespace"),kb(this,"httpProviders"),kb(this,"events"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(mu.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||tc(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new pu(new $d(r,Zn("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(Vw(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i,s,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],l=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const c=this.client.session.get(e.topic),u=((o=c==null?void 0:c.sessionProperties)==null?void 0:o.capabilities)||{},h=`${a}${l.join(",")}`,f=u==null?void 0:u[h];if(f)return f;let p;try{p=XCt(c,a,l)}catch(g){console.warn("Failed to extract capabilities from session",g)}if(p)return p;const m=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:Lse(Bse({},c.sessionProperties||{}),{capabilities:Lse(Bse({},u||{}),{[h]:m})})})}catch(g){console.warn("Failed to update session with capabilities",g)}return m}async getCallStatus(e){var n,r;const i=this.client.session.get(e.topic),s=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(l){console.warn("Failed to fetch call status from bundler",l,a)}}const o=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(vh("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${fCt}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var ckt=Object.defineProperty,ukt=(t,e,n)=>e in t?ckt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sb=(t,e,n)=>ukt(t,typeof e!="symbol"?e+"":e,n);class dkt{constructor(e){Sb(this,"name","solana"),Sb(this,"client"),Sb(this,"httpProviders"),Sb(this,"events"),Sb(this,"namespace"),Sb(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(mu.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Vw(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||tc(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new pu(new $d(r,Zn("disableProviderPing")))}}var hkt=Object.defineProperty,fkt=(t,e,n)=>e in t?hkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_b=(t,e,n)=>fkt(t,typeof e!="symbol"?e+"":e,n);class pkt{constructor(e){_b(this,"name","cosmos"),_b(this,"client"),_b(this,"httpProviders"),_b(this,"events"),_b(this,"namespace"),_b(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(mu.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Vw(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||tc(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new pu(new $d(r,Zn("disableProviderPing")))}}var mkt=Object.defineProperty,gkt=(t,e,n)=>e in t?mkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ib=(t,e,n)=>gkt(t,typeof e!="symbol"?e+"":e,n);class ykt{constructor(e){Ib(this,"name","algorand"),Ib(this,"client"),Ib(this,"httpProviders"),Ib(this,"events"),Ib(this,"namespace"),Ib(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||tc(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(mu.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||tc(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new pu(new $d(r,Zn("disableProviderPing")))}}var wkt=Object.defineProperty,bkt=(t,e,n)=>e in t?wkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tb=(t,e,n)=>bkt(t,typeof e!="symbol"?e+"":e,n);class vkt{constructor(e){Tb(this,"name","cip34"),Tb(this,"client"),Tb(this,"httpProviders"),Tb(this,"events"),Tb(this,"namespace"),Tb(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(mu.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),i=Vw(n);e[i]=this.createHttpProvider(i,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new pu(new $d(r,Zn("disableProviderPing")))}}var xkt=Object.defineProperty,Ekt=(t,e,n)=>e in t?xkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$b=(t,e,n)=>Ekt(t,typeof e!="symbol"?e+"":e,n);class Akt{constructor(e){$b(this,"name","elrond"),$b(this,"client"),$b(this,"httpProviders"),$b(this,"events"),$b(this,"namespace"),$b(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(mu.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Vw(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||tc(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new pu(new $d(r,Zn("disableProviderPing")))}}var Ckt=Object.defineProperty,kkt=(t,e,n)=>e in t?Ckt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nb=(t,e,n)=>kkt(t,typeof e!="symbol"?e+"":e,n);let Skt=class{constructor(e){Nb(this,"name","multiversx"),Nb(this,"client"),Nb(this,"httpProviders"),Nb(this,"events"),Nb(this,"namespace"),Nb(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(mu.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Vw(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||tc(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new pu(new $d(r,Zn("disableProviderPing")))}};var _kt=Object.defineProperty,Ikt=(t,e,n)=>e in t?_kt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pb=(t,e,n)=>Ikt(t,typeof e!="symbol"?e+"":e,n);let Tkt=class{constructor(e){Pb(this,"name","near"),Pb(this,"client"),Pb(this,"httpProviders"),Pb(this,"events"),Pb(this,"namespace"),Pb(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||tc(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(mu.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||tc(e,this.namespace);return typeof r>"u"?void 0:new pu(new $d(r,Zn("disableProviderPing")))}};var $kt=Object.defineProperty,Nkt=(t,e,n)=>e in t?$kt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rb=(t,e,n)=>Nkt(t,typeof e!="symbol"?e+"":e,n);let Pkt=class{constructor(e){Rb(this,"name","tezos"),Rb(this,"client"),Rb(this,"httpProviders"),Rb(this,"events"),Rb(this,"namespace"),Rb(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||tc(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(mu.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||tc(e,this.namespace);return typeof r>"u"?void 0:new pu(new $d(r))}};var Rkt=Object.defineProperty,jkt=(t,e,n)=>e in t?Rkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jb=(t,e,n)=>jkt(t,typeof e!="symbol"?e+"":e,n);let Okt=class{constructor(e){jb(this,"name",r6e),jb(this,"client"),jb(this,"httpProviders"),jb(this,"events"),jb(this,"namespace"),jb(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(mu.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return S1(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{const s=S1(i);r[s.reference]=this.createHttpProvider(i)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||tc(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new pu(new $d(r,Zn("disableProviderPing")))}};var Mkt=Object.defineProperty,Dkt=Object.defineProperties,Bkt=Object.getOwnPropertyDescriptors,Fse=Object.getOwnPropertySymbols,Lkt=Object.prototype.hasOwnProperty,Fkt=Object.prototype.propertyIsEnumerable,tU=(t,e,n)=>e in t?Mkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vk=(t,e)=>{for(var n in e||(e={}))Lkt.call(e,n)&&tU(t,n,e[n]);if(Fse)for(var n of Fse(e))Fkt.call(e,n)&&tU(t,n,e[n]);return t},CO=(t,e)=>Dkt(t,Bkt(e)),wc=(t,e,n)=>tU(t,typeof e!="symbol"?e+"":e,n);let Ukt=class h6e{constructor(e){wc(this,"client"),wc(this,"namespaces"),wc(this,"optionalNamespaces"),wc(this,"sessionProperties"),wc(this,"scopedProperties"),wc(this,"events",new zq),wc(this,"rpcProviders",{}),wc(this,"session"),wc(this,"providerOpts"),wc(this,"logger"),wc(this,"uri"),wc(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:aC(J$({level:(e==null?void 0:e.logger)||Ese})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new h6e(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:Vk({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(o=>n(null,fE(s,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Dr("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const o=Nse(this.session.namespaces);this.namespaces=Hk(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=Nse(i.namespaces);return this.namespaces=Hk(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e);this.getProvider(r).setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!Yc(n))return;for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn("Failed to cleanup pending pairings",n)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await tCt.init({core:this.providerOpts.core,logger:this.providerOpts.logger||Ese,relayUrl:this.providerOpts.relayUrl||uCt,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>kv(n)))];EO("client",this.client),EO("events",this.events),EO("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=GCt(n,this.session);if((r==null?void 0:r.length)===0)return;const i=u6e(r),s=Hk(this.namespaces,this.optionalNamespaces),o=CO(Vk({},s[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new lkt({namespace:o});break;case"algorand":this.rpcProviders[n]=new ykt({namespace:o});break;case"solana":this.rpcProviders[n]=new dkt({namespace:o});break;case"cosmos":this.rpcProviders[n]=new pkt({namespace:o});break;case"polkadot":this.rpcProviders[n]=new nkt({namespace:o});break;case"cip34":this.rpcProviders[n]=new vkt({namespace:o});break;case"elrond":this.rpcProviders[n]=new Akt({namespace:o});break;case"multiversx":this.rpcProviders[n]=new Skt({namespace:o});break;case"near":this.rpcProviders[n]=new Tkt({namespace:o});break;case"tezos":this.rpcProviders[n]=new Pkt({namespace:o});break;default:this.rpcProviders[n]=new Okt({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const o=s.data;o&&Yc(o)&&this.events.emit("accountsChanged",o.map($se))}else if(s.name==="chainChanged"){const o=r.chainId,a=r.event.data,l=kv(o),c=xO(o)!==xO(a)?`${l}:${xO(a)}`:o;this.onChainChanged(c)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,o=(i=this.client)==null?void 0:i.session.get(e);this.session=CO(Vk({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",CO(Vk({},Dr("USER_DISCONNECTED")),{data:e.topic})))}),this.on(mu.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[r6e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=Hk(n,r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>kv(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=kv(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(r,i);const s=this.getProvider(r).getDefaultChain();n?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:s,newChainId:e})):this.getProvider(r).setDefaultChain(i),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var i,s;try{if(n===r)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(l=>l.includes(`${r}:`)).map($se);if(!Yc(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${zk}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${zk}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${zk}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(zk)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};const zkt=Ukt,Wkt="wc",Hkt="ethereum_provider",Vkt=`${Wkt}@2:${Hkt}:`,qkt="https://rpc.walletconnect.org/v1/",nU=["eth_sendTransaction","personal_sign"],f6e=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],rU=["chainChanged","accountsChanged"],p6e=["chainChanged","accountsChanged","message","disconnect","connect"],Gkt=async()=>{const{createAppKit:t}=await Mh(()=>import("./core-Cym3eGIa.js").then(e=>e.X),[]);return t};var Kkt=Object.defineProperty,Ykt=Object.defineProperties,Qkt=Object.getOwnPropertyDescriptors,Use=Object.getOwnPropertySymbols,Zkt=Object.prototype.hasOwnProperty,Jkt=Object.prototype.propertyIsEnumerable,iU=(t,e,n)=>e in t?Kkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oy=(t,e)=>{for(var n in e||(e={}))Zkt.call(e,n)&&iU(t,n,e[n]);if(Use)for(var n of Use(e))Jkt.call(e,n)&&iU(t,n,e[n]);return t},X5=(t,e)=>Ykt(t,Qkt(e)),yl=(t,e,n)=>iU(t,typeof e!="symbol"?e+"":e,n);function j7(t){return Number(t[0].split(":")[1])}function qk(t){return`0x${t.toString(16)}`}function Xkt(t){const{chains:e,optionalChains:n,methods:r,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=t;if(!Yc(e))throw new Error("Invalid chains");const l={chains:e,methods:r||nU,events:s||rU,rpcMap:oy({},e.length?{[j7(e)]:a[j7(e)]}:{})},c=s==null?void 0:s.filter(p=>!rU.includes(p)),u=r==null?void 0:r.filter(p=>!nU.includes(p));if(!n&&!o&&!i&&!(c!=null&&c.length)&&!(u!=null&&u.length))return{required:e.length?l:void 0};const h=(c==null?void 0:c.length)&&(u==null?void 0:u.length)||!n,f={chains:[...new Set(h?l.chains.concat(n||[]):n)],methods:[...new Set(l.methods.concat(i!=null&&i.length?i:f6e))],events:[...new Set(l.events.concat(o!=null&&o.length?o:p6e))],rpcMap:a};return{required:e.length?l:void 0,optional:n.length?f:void 0}}let e9t=class m6e{constructor(){yl(this,"events",new lc.EventEmitter),yl(this,"namespace","eip155"),yl(this,"accounts",[]),yl(this,"signer"),yl(this,"chainId",1),yl(this,"modal"),yl(this,"rpc"),yl(this,"STORAGE_KEY",Vkt),yl(this,"on",(e,n)=>(this.events.on(e,n),this)),yl(this,"once",(e,n)=>(this.events.once(e,n),this)),yl(this,"removeListener",(e,n)=>(this.events.removeListener(e,n),this)),yl(this,"off",(e,n)=>(this.events.off(e,n),this)),yl(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const n=new m6e;return await n.initialize(e),n}async request(e,n){return await this.signer.request(e,this.formatChainId(this.chainId),n)}sendAsync(e,n,r){this.signer.sendAsync(e,n,this.formatChainId(this.chainId),r)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:r,optional:i}=Xkt(this.rpc);try{const s=await new Promise(async(a,l)=>{var c,u;this.rpc.showQrModal&&((c=this.modal)==null||c.open(),(u=this.modal)==null||u.subscribeState(f=>{!f.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),l(new Error("Connection request reset. Please try again.")))}));const h=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(X5(oy({namespaces:oy({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e==null?void 0:e.pairingTopic,scopedProperties:h})).then(f=>{a(f)}).catch(f=>{var p;(p=this.modal)==null||p.showErrorMessage("Unable to connect"),l(new Error(f.message))})});if(!s)return;const o=Tre(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:qk(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(n=this.modal)==null||n.close()}}async authenticate(e,n){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e==null?void 0:e.chains});try{const i=await new Promise(async(o,a)=>{var l,c;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(c=this.modal)==null||c.subscribeState(u=>{!u.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(X5(oy({},e),{chains:this.rpc.chains}),n).then(u=>{o(u)}).catch(u=>{var h;(h=this.modal)==null||h.showErrorMessage("Unable to connect"),a(new Error(u.message))})}),s=i.session;if(s){const o=Tre(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:qk(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(r=this.modal)==null||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:n}=e,{event:r}=n;r.name==="accountsChanged"?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):r.name==="chainChanged"?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const n=parseInt(e);this.chainId=n,this.events.emit("chainChanged",qk(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",X5(oy({},Dr("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const n=e.filter(r=>this.isCompatibleChainId(r)).map(r=>this.parseChainId(r));n.length&&(this.chainId=n[0],this.events.emit("chainChanged",qk(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const n=this.parseChainId(e);this.chainId=n,this.switchEthereumChain(n)}}parseAccountId(e){const[n,r,i]=e.split(":");return{chainId:`${n}:${r}`,address:i}}setAccounts(e){this.accounts=e.filter(n=>this.parseChainId(this.parseAccountId(n).chainId)===this.chainId).map(n=>this.parseAccountId(n).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var n,r;const i=(n=e==null?void 0:e.chains)!=null?n:[],s=(r=e==null?void 0:e.optionalChains)!=null?r:[],o=i.concat(s);if(!o.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const a=i.length?(e==null?void 0:e.methods)||nU:[],l=i.length?(e==null?void 0:e.events)||rU:[],c=(e==null?void 0:e.optionalMethods)||[],u=(e==null?void 0:e.optionalEvents)||[],h=(e==null?void 0:e.rpcMap)||this.buildRpcMap(o,e.projectId),f=(e==null?void 0:e.qrModalOptions)||void 0;return{chains:i==null?void 0:i.map(p=>this.formatChainId(p)),optionalChains:s.map(p=>this.formatChainId(p)),methods:a,events:l,optionalMethods:c,optionalEvents:u,rpcMap:h,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:f,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,n){const r={};return e.forEach(i=>{r[i]=this.getRpcUrl(i,n)}),r}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?j7(this.rpc.chains):j7(this.rpc.optionalChains),this.signer=await zkt.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let n;try{const r=await Gkt(),{convertWCMToAppKitOptions:i}=await Promise.resolve().then(function(){return d9t}),s=i(X5(oy({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!s.networks.length)throw new Error("No networks found for WalletConnect");n=r(X5(oy({},s),{universalProvider:this.signer,manualWCControl:!0}))}catch(r){throw console.warn(r),new Error("To use QR modal, please install @reown/appkit package")}if(n)try{this.modal=n}catch(r){throw this.signer.logger.error(r),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:n,optionalChains:r,rpcMap:i}=e;n&&Yc(n)&&(this.rpc.chains=n.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)})),r&&Yc(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r==null?void 0:r.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)}))}getRpcUrl(e,n){var r;return((r=this.rpc.rpcMap)==null?void 0:r[e])||`${qkt}?chainId=eip155:${e}&projectId=${n||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),n=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:n==null?void 0:n.accounts),this.setAccounts(n==null?void 0:n.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(n=>this.signer.logger.warn(n))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(n=>this.parseAccount(n))}};const t9t=e9t;var n9t=Object.defineProperty,r9t=Object.defineProperties,i9t=Object.getOwnPropertyDescriptors,zse=Object.getOwnPropertySymbols,s9t=Object.prototype.hasOwnProperty,o9t=Object.prototype.propertyIsEnumerable,Wse=(t,e,n)=>e in t?n9t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,g6e=(t,e)=>{for(var n in e||(e={}))s9t.call(e,n)&&Wse(t,n,e[n]);if(zse)for(var n of zse(e))o9t.call(e,n)&&Wse(t,n,e[n]);return t},a9t=(t,e)=>r9t(t,i9t(e));function l9t(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const c9t=t=>{const[e,n]=t.split(":");return y6e({id:n,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function u9t(t){var e,n,r,i,s,o,a;const l=(e=t.chains)==null?void 0:e.map(c9t).filter(Boolean);if(l.length===0)throw new Error("At least one chain must be specified");const c=l.find(h=>{var f;return h.id===((f=t.defaultChain)==null?void 0:f.id)}),u={projectId:t.projectId,networks:l,themeMode:t.themeMode,themeVariables:l9t(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:c,metadata:a9t(g6e({},t.metadata),{name:((n=t.metadata)==null?void 0:n.name)||"WalletConnect",description:((r=t.metadata)==null?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=t.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((o=t.mobileWallets)!=null&&o.length||(a=t.desktopWallets)!=null&&a.length){const h=[...(t.mobileWallets||[]).map(m=>({id:m.id,name:m.name,links:m.links})),...(t.desktopWallets||[]).map(m=>({id:m.id,name:m.name,links:{native:m.links.native,universal:m.links.universal}}))],f=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],p=h.filter(m=>!f.includes(m.id));p.length&&(u.customWallets=p)}return u}function y6e(t){return g6e({formatters:void 0,fees:void 0,serializers:void 0},t)}var d9t=Object.freeze({__proto__:null,convertWCMToAppKitOptions:u9t,defineChain:y6e});class w6e{get(e){let n=localStorage.getItem(e);return n===null?void 0:JSON.parse(n)}put(e,n){n!==void 0?localStorage.setItem(e,JSON.stringify(n)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map(([e])=>e)}}function sU(){try{let t="privy:__session_storage__test",e=new w6e;return e.put(t,"blobby"),e.del(t),!0}catch{return!1}}var Nt=typeof window<"u"&&window.localStorage?new w6e:new class{get(t){return this._cache[t]}put(t,e){e!==void 0?this._cache[t]=e:this.del(t)}del(t){delete this._cache[t]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};function b6e(t){var e;return{name:((e=t.metadata)==null?void 0:e.shortName)||t.name||"",universalLink:t.mobile.universal,deepLink:t.mobile.native}}function Hse(t,e){let n=b6e(e);if(n.universalLink)return AG(n.universalLink,t)}let kO="WALLETCONNECT_DEEPLINK_CHOICE";function v6e(t){return t.startsWith("http://")||t.startsWith("https://")}function x6e(t,e){if(v6e(t))return AG(t,e);let n=t;return n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function AG(t,e){if(!v6e(t))return x6e(t,e);let n=t;return n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function E6e(t,e){window.open(t,e,"noreferrer noopener")}class ra{execute(e){return this.promise===null&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}}const oU="https://auth.privy.io",h9t=2e4,Wr=1400,A6e=2500,CG=4e3,f9t="3.0.1",j6="privy:token",Vse="privy-token",SO="privy:refresh_token",p9t="privy-refresh-token",aS="privy:pat",qse="privy:id_token",Gse="privy-id-token",_O="privy-session",aU="privy:caid",C6e=t=>`privy:guest:${t}`,Gk=t=>`privy:cross-app:${t}`,O7="privy:state_code",O6="privy:code_verifier",M7="privy:headless_oauth",E4="privy:oauth_disable_signup",IO=t=>`privy:wallet:${t}`,k6e="privy:connections",rN=12e4,m9t=3e4,g9t="deprecated";function lU(t){return crypto.getRandomValues(new Uint8Array(t))}function iN(){return X1(lU(36))}function kG(){return iN()}async function SG(t,e="S256"){if(e!="S256")return t;{let n=await async function(r){let i=new TextEncoder().encode(r);return new Uint8Array(await crypto.subtle.digest("SHA-256",i))}(t);return X1(n)}}function y9t(){let t=Nt.get(O6);if(!t)throw new ue("Authentication error.");return t}function S6e(t){return t.charAt(0).toUpperCase()+t.slice(1)}const _6e=({style:t,...e})=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#040507"}),d.jsx("path",{d:"M17.2949 6.37537C18.0156 5.44684 19.4671 4.57877 20.4927 4.46512C20.8178 4.42885 20.8581 4.43127 20.9312 4.50139L20.9967 4.56426L20.9816 4.99225C20.9564 5.65963 20.8682 6.12873 20.6716 6.6341C20.4751 7.13705 20.1198 7.71738 19.8426 7.97852C19.7594 8.06074 19.6007 8.22516 19.4948 8.34848C19.0563 8.84901 18.439 9.20205 17.5973 9.4366C17.2823 9.52606 17.2596 9.52848 16.8917 9.52606C16.4482 9.52365 16.3852 9.51156 16.3524 9.43176C16.3398 9.39791 16.3272 9.18996 16.3222 8.9675L16.3171 8.56127L16.423 8.17922C16.6347 7.41512 16.8791 6.90733 17.2949 6.37537Z",fill:"white"}),d.jsx("path",{d:"M17.4512 10.2081C18.4163 9.84541 19.7595 9.48754 20.2584 9.46336C20.6616 9.4416 21.2966 9.49238 21.7225 9.57943C22.1383 9.66164 22.4357 9.76078 22.8666 9.96148C23.5571 10.2831 24.1442 10.7135 24.6104 11.2382C24.9582 11.6299 24.9783 11.6807 24.8397 11.8113C24.7944 11.8548 24.6885 11.9249 24.6054 11.9709C24.4542 12.0507 23.8368 12.5464 23.8368 12.5875C23.8368 12.5971 23.736 12.7108 23.6125 12.8341C23.2068 13.25 23.0279 13.5861 22.7683 14.4252C22.7078 14.6186 22.6448 14.8725 22.6272 14.9934C22.5566 15.4577 22.5919 16.125 22.7154 16.7344C22.7885 17.1044 23.0808 17.7306 23.3706 18.1489C23.7763 18.7317 24.3786 19.2491 24.9909 19.5514C25.316 19.7086 25.5 19.8464 25.5 19.9334C25.5 19.96 25.4773 20.0205 25.4521 20.064C25.4244 20.1075 25.3866 20.2164 25.3639 20.3034C25.311 20.521 25.001 21.244 24.807 21.5971C24.0862 22.9052 23.3731 23.8748 22.6095 24.5833C21.8611 25.2725 21.1606 25.582 20.4348 25.5385C19.9359 25.5094 19.4596 25.3934 18.7842 25.1322C18.2248 24.917 18.0081 24.8493 17.7939 24.8203C17.688 24.8058 17.4915 24.7768 17.3604 24.7574C16.9774 24.697 16.7254 24.6921 16.4533 24.7478C15.5461 24.9267 15.5133 24.9364 15.0144 25.1371C14.2231 25.4562 13.8073 25.5578 13.2907 25.5578C12.8875 25.5602 12.696 25.5143 12.2575 25.3087C11.8694 25.125 11.5948 24.9315 11.2546 24.5978C10.9295 24.2811 10.7052 24.0151 10.2642 23.4323C9.18818 22.0081 9.02187 21.7276 8.49519 20.4582C8.28612 19.9546 8.19971 19.7502 8.13026 19.5402C8.07498 19.373 8.03043 19.2023 7.94332 18.8744C7.73164 18.074 7.70896 17.9869 7.70896 17.8709C7.70896 17.8153 7.68628 17.675 7.66108 17.5565C7.44184 16.5917 7.44688 15.0007 7.67116 14.1713C7.82236 13.6127 8.02648 13.088 8.30367 12.5512C8.92863 11.3325 9.71738 10.5539 10.874 10.0123C11.2571 9.8309 11.5444 9.74627 12.0534 9.65922C12.2903 9.62054 12.5523 9.56976 12.6355 9.54799C12.8421 9.49238 13.3184 9.49963 13.6057 9.56008C14.2911 9.71 14.7548 9.84058 15.2059 10.0123C16.0551 10.3411 16.549 10.4789 16.7506 10.4475C16.7692 10.4444 16.7848 10.4418 16.8002 10.4387C16.8815 10.4225 16.9601 10.3929 17.4512 10.2081Z",fill:"white"})]}),I6e=({style:t,...e})=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#5462EB"}),d.jsx("path",{d:"M23.5433 8.87438C22.2479 8.26174 20.8587 7.81038 19.4063 7.55187C19.3799 7.54688 19.3534 7.55934 19.3398 7.58428C19.1612 7.91179 18.9633 8.33905 18.8247 8.67487C17.2625 8.43382 15.7084 8.43382 14.1782 8.67487C14.0396 8.33158 13.8345 7.91179 13.6551 7.58428C13.6414 7.56018 13.615 7.54771 13.5886 7.55187C12.1369 7.80955 10.7478 8.26092 9.45159 8.87438C9.44037 8.87937 9.43075 8.88769 9.42437 8.89849C6.78947 12.9558 6.06766 16.9134 6.42176 20.8219C6.42336 20.841 6.43378 20.8593 6.4482 20.871C8.18663 22.1868 9.87059 22.9857 11.5233 23.5152C11.5497 23.5235 11.5778 23.5135 11.5946 23.491C11.9855 22.9408 12.334 22.3606 12.6328 21.7504C12.6505 21.7147 12.6336 21.6723 12.5976 21.6581C12.0448 21.442 11.5185 21.1785 11.0122 20.8793C10.9721 20.8552 10.9689 20.7961 11.0058 20.7679C11.1123 20.6856 11.2189 20.6 11.3206 20.5135C11.339 20.4977 11.3647 20.4944 11.3863 20.5044C14.7125 22.0696 18.3136 22.0696 21.6006 20.5044C21.6222 20.4936 21.6479 20.4969 21.6671 20.5127C21.7688 20.5991 21.8754 20.6856 21.9827 20.7679C22.0196 20.7961 22.0172 20.8552 21.9771 20.8793C21.4708 21.1843 20.9445 21.442 20.3909 21.6573C20.3548 21.6715 20.3388 21.7147 20.3564 21.7504C20.6617 22.3597 21.0101 22.9399 21.3939 23.4902C21.4099 23.5135 21.4387 23.5235 21.4652 23.5152C23.1259 22.9857 24.8099 22.1868 26.5483 20.871C26.5635 20.8593 26.5731 20.8419 26.5747 20.8228C26.9985 16.3041 25.8649 12.3789 23.5697 8.89931C23.5641 8.88769 23.5545 8.87937 23.5433 8.87438ZM13.1295 18.442C12.1281 18.442 11.303 17.4944 11.303 16.3307C11.303 15.1669 12.1121 14.2193 13.1295 14.2193C14.155 14.2193 14.9721 15.1752 14.9561 16.3307C14.9561 17.4944 14.1469 18.442 13.1295 18.442ZM19.883 18.442C18.8816 18.442 18.0564 17.4944 18.0564 16.3307C18.0564 15.1669 18.8655 14.2193 19.883 14.2193C20.9084 14.2193 21.7255 15.1752 21.7095 16.3307C21.7095 17.4944 20.9084 18.442 19.883 18.442Z",fill:"#F7F7F7"})]}),T6e=({style:t,...e})=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),d.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.5083 5.62451C10.8896 5.62451 6.34741 10.2078 6.34741 15.878C6.34741 20.4104 9.25774 24.2471 13.2951 25.605C13.7999 25.7071 13.9848 25.3844 13.9848 25.1129C13.9848 24.8752 13.9682 24.0604 13.9682 23.2115C11.1417 23.8227 10.5531 21.9892 10.5531 21.9892C10.0988 20.8009 9.42579 20.4954 9.42579 20.4954C8.50068 19.8673 9.49318 19.8673 9.49318 19.8673C10.5194 19.9352 11.0578 20.9198 11.0578 20.9198C11.9661 22.4815 13.4297 22.0402 14.0185 21.7686C14.1025 21.1065 14.3719 20.6482 14.6579 20.3936C12.4035 20.1559 10.0317 19.2732 10.0317 15.3347C10.0317 14.2142 10.4351 13.2976 11.0745 12.5847C10.9736 12.3301 10.6202 11.2774 11.1756 9.86844C11.1756 9.86844 12.0335 9.59678 13.968 10.9209C14.7962 10.6965 15.6503 10.5823 16.5083 10.5814C17.3662 10.5814 18.2408 10.7003 19.0484 10.9209C20.9831 9.59678 21.841 9.86844 21.841 9.86844C22.3963 11.2774 22.0428 12.3301 21.9419 12.5847C22.5981 13.2976 22.9849 14.2142 22.9849 15.3347C22.9849 19.2732 20.6131 20.1388 18.3419 20.3936C18.7121 20.7161 19.0316 21.3271 19.0316 22.2948C19.0316 23.6698 19.0149 24.7733 19.0149 25.1127C19.0149 25.3844 19.2 25.7071 19.7046 25.6052C23.742 24.2469 26.6523 20.4104 26.6523 15.878C26.669 10.2078 22.1102 5.62451 16.5083 5.62451Z",fill:"white"})]}),$6e=t=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#F1F2F9"}),d.jsx("path",{d:"M26.1001 16.2273C26.1001 15.5182 26.0365 14.8364 25.9183 14.1818H16.5001V18.05H21.8819C21.6501 19.3 20.9456 20.3591 19.8865 21.0682V23.5773H23.1183C25.0092 21.8364 26.1001 19.2727 26.1001 16.2273Z",fill:"#4285F4"}),d.jsx("path",{d:"M16.5001 26C19.2001 26 21.4637 25.1046 23.1182 23.5773L19.8864 21.0682C18.991 21.6682 17.8455 22.0227 16.5001 22.0227C13.8955 22.0227 11.691 20.2637 10.9046 17.9H7.56372V20.4909C9.20917 23.7591 12.591 26 16.5001 26Z",fill:"#34A853"}),d.jsx("path",{d:"M10.9047 17.8999C10.7047 17.2999 10.591 16.659 10.591 15.9999C10.591 15.3408 10.7047 14.6999 10.9047 14.0999V11.509H7.56376C6.86376 12.9025 6.49951 14.4405 6.50012 15.9999C6.50012 17.6136 6.88649 19.1408 7.56376 20.4908L10.9047 17.8999Z",fill:"#FBBC05"}),d.jsx("path",{d:"M16.5001 9.97726C17.9682 9.97726 19.2864 10.4818 20.3228 11.4727L23.191 8.60454C21.4591 6.99091 19.1955 6 16.5001 6C12.591 6 9.20917 8.2409 7.56372 11.5091L10.9046 14.1C11.691 11.7364 13.8955 9.97726 16.5001 9.97726Z",fill:"#EA4335"})]});function N6e(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:26,height:26,viewBox:"0 0 140 140",x:"0px",y:"0px",fill:"none",...t,children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"b",children:[d.jsx("stop",{offset:"0",stopColor:"#3771c8"}),d.jsx("stop",{stopColor:"#3771c8",offset:".128"}),d.jsx("stop",{offset:"1",stopColor:"#60f",stopOpacity:"0"})]}),d.jsxs("linearGradient",{id:"a",children:[d.jsx("stop",{offset:"0",stopColor:"#fd5"}),d.jsx("stop",{offset:".1",stopColor:"#fd5"}),d.jsx("stop",{offset:".5",stopColor:"#ff543e"}),d.jsx("stop",{offset:"1",stopColor:"#c837ab"})]}),d.jsx("radialGradient",{id:"c",cx:"158.429",cy:"578.088",r:"65",xlinkHref:"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -1.98198 1.8439 0 -1031.402 454.004)",fx:"158.429",fy:"578.088"}),d.jsx("radialGradient",{id:"d",cx:"147.694",cy:"473.455",r:"65",xlinkHref:"#b",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.17394 .86872 -3.5818 .71718 1648.348 -458.493)",fx:"147.694",fy:"473.455"})]}),d.jsx("path",{fill:"url(#c)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),d.jsx("path",{fill:"url(#d)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),d.jsx("path",{fill:"#fff",d:"M66.004 18c-13.036 0-14.672.057-19.792.29-5.11.234-8.598 1.043-11.65 2.23-3.157 1.226-5.835 2.866-8.503 5.535-2.67 2.668-4.31 5.346-5.54 8.502-1.19 3.053-2 6.542-2.23 11.65C18.06 51.327 18 52.964 18 66s.058 14.667.29 19.787c.235 5.11 1.044 8.598 2.23 11.65 1.227 3.157 2.867 5.835 5.536 8.503 2.667 2.67 5.345 4.314 8.5 5.54 3.054 1.187 6.543 1.996 11.652 2.23 5.12.233 6.755.29 19.79.29 13.037 0 14.668-.057 19.788-.29 5.11-.234 8.602-1.043 11.656-2.23 3.156-1.226 5.83-2.87 8.497-5.54 2.67-2.668 4.31-5.346 5.54-8.502 1.18-3.053 1.99-6.542 2.23-11.65.23-5.12.29-6.752.29-19.788 0-13.036-.06-14.672-.29-19.792-.24-5.11-1.05-8.598-2.23-11.65-1.23-3.157-2.87-5.835-5.54-8.503-2.67-2.67-5.34-4.31-8.5-5.535-3.06-1.187-6.55-1.996-11.66-2.23-5.12-.233-6.75-.29-19.79-.29zm-4.306 8.65c1.278-.002 2.704 0 4.306 0 12.816 0 14.335.046 19.396.276 4.68.214 7.22.996 8.912 1.653 2.24.87 3.837 1.91 5.516 3.59 1.68 1.68 2.72 3.28 3.592 5.52.657 1.69 1.44 4.23 1.653 8.91.23 5.06.28 6.58.28 19.39s-.05 14.33-.28 19.39c-.214 4.68-.996 7.22-1.653 8.91-.87 2.24-1.912 3.835-3.592 5.514-1.68 1.68-3.275 2.72-5.516 3.59-1.69.66-4.232 1.44-8.912 1.654-5.06.23-6.58.28-19.396.28-12.817 0-14.336-.05-19.396-.28-4.68-.216-7.22-.998-8.913-1.655-2.24-.87-3.84-1.91-5.52-3.59-1.68-1.68-2.72-3.276-3.592-5.517-.657-1.69-1.44-4.23-1.653-8.91-.23-5.06-.276-6.58-.276-19.398s.046-14.33.276-19.39c.214-4.68.996-7.22 1.653-8.912.87-2.24 1.912-3.84 3.592-5.52 1.68-1.68 3.28-2.72 5.52-3.592 1.692-.66 4.233-1.44 8.913-1.655 4.428-.2 6.144-.26 15.09-.27zm29.928 7.97c-3.18 0-5.76 2.577-5.76 5.758 0 3.18 2.58 5.76 5.76 5.76 3.18 0 5.76-2.58 5.76-5.76 0-3.18-2.58-5.76-5.76-5.76zm-25.622 6.73c-13.613 0-24.65 11.037-24.65 24.65 0 13.613 11.037 24.645 24.65 24.645C79.617 90.645 90.65 79.613 90.65 66S79.616 41.35 66.003 41.35zm0 8.65c8.836 0 16 7.163 16 16 0 8.836-7.164 16-16 16-8.837 0-16-7.164-16-16 0-8.837 7.163-16 16-16z"})]})}function P6e(t){return d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...t,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#06C755"}),d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"url(#pattern0_1769_69)"}),d.jsxs("defs",{children:[d.jsx("pattern",{id:"pattern0_1769_69",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:d.jsx("use",{xlinkHref:"#image0_1769_69",transform:"scale(0.003125)"})}),d.jsx("image",{id:"image0_1769_69",width:"320",height:"320",preserveAspectRatio:"none",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAYAAADNkKWqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABpkSURBVHgB7d1fbFTXtcfxdWZs45h7g6lClajoetJIRKIqGKmhTSvF5qEvqUqIitM+XEIikYf+QWlVaF+IACVPBamN0ps8NFL5cx+qmioOVXsf+oCJ1Pg2VMKkKlKRSMZVqlalCiaSHf9hZvesMx5jm/k/58w5Z+/vR3KM8cSAPf55rbX32ccTx/Rf3tO/uNiXWygsDnri5UTMgOd5/UZMTozXX3qU/2vAOl4++K+Y4LUR8V97U5KRyUwxM93bOzc5vWNsWhziicU07GYXeoY9I0P+mzljZJBwA6rzv0emM55MGvEuajD29SyM2xyKVgWgBt7cXO+g8YpP+BXdsASBB6AtfiD63dK4ZzJvzj36i3GxSOoDUENvZq57T0Zkf9EPPM+TfgEQGX9kNFY05s31vYtjaa8OUxuAvRPfGDZSOEroAfHRMDSenF74/C/HJIVSFYDBTG+u53ljzHcJPSBR8hqGfpv8st8m5yUlUhGAWu0VTfF58cweAZB0pzKSPZ6GIEx0AJbbXH+5flgApE3igzCRAdj9+5HBTEZ+TPABVkhsECYqAIMV3fmeo54/4xMAtklcECYmANf9/9efLxaLx1jcAKyW9zu744uPjp6SBIg9AP05X86f8/2cdhdwSt6vBnfFXQ1mJEZa9RVM4TLhBzgnV5TC+z0TTx2VGMVSAVL1AVjmyWTGZJ+MoxrseAXY84ev7aHqA7DMyKBfDV7onhh5RjqsowHY8we/3C1m3mChA8AaOb8d/XmnW+KOtMC6veXjue43qPoA1KOX1N2zbuHZThy0EHkA6ryvKMULnMMHoAkdWSWOtAXWKzoIPwAt0FXiC1pASYQiqwA1/PyPfoF5H4CWeTLdnZFdMztHJyUCkQQg4QcgNBGGYOgBSPgBCF1EIRhqABJ+ACITQQiGFoA6rNQNzoQfgMiEHIKhrAKXt7oQfgAiZaR/sSBvhLU63HYA6iZntroA6KBgi4xmj7Sp7QCc/bjn54QfgA7L6dVl0qa2AjC4tpcbFQGIgV5a2+61wy0vgujJDXrxsgBAnDLFJxc+/6uW7kvcUgByfS+AxPBXhjMmu6OV64ZbaoGLXuENwg9AIvgrw3rAsrSg6QAM5n5GBgUAEkLngeve/nrTd5NsqgUutb6F9wUAkqaFVripCrA09wOABGqhFW44AEvn9TP3A5BczbbCDbXArPoCSA2/Fe5bt/hgI0fqN1QB+nO/o4QfgFTwW+GZj3sa2iBdtwJk4QNAGnVnZUe9U2PqVoCl6g8A0uV2QX5c7zE1K0CqPwBplhGza+7Rc+PV318D1R+ANDPi1cywqhUg1R8AG9SqAqtWgFR/AGxgvMzz1d5XsQKk+gNgk77exY2V9gVWrAAL3u2qiQkAaTM721Px6pCKAeiZDKc8A7BH1lQs6u4KwJ63v7aHqz4AWMVIf+/E3uG1v31XAHqZ7H4BAMtU2hKzehHkwp7+nt7umwIAtqlwSMKqCrC7t5vZHwA76SEJc6szblUAZjzvCQEAS/mBt3/N23cYwz1+AdjLeDLYf3lPf/nt5QDsnfjGsACAzfw2eG6ua/mmbssBWDAFqj8A1jPGW8665QD0l4OHBAAsZ1ZkXWkbDNtfADikfG1wUAH2rMsOCwA4YvbjnmF9XWqBveygAIAjPDHD+rpr6Y0hI0B7+rvWy4bsehlYtyl4CX4v2ycb/N9XuXWfbOjj5Of/Gby+dXtGpguzcqvgv749G7w9tXDD//WMAG3K6X+CADRGBhu7QzBcpgE30LNJtq3PBQGngVYOu3Lgdcq7s/kgFKfmbwSBWX679JqARG3Gk+362mMBBJUM+OH22L1bZbuGnR9625dCLw3KQXjFf3nroz/L1NyN4NfASroQ4ukG6KIULgicpZWdht1j935GtvflZJv/0t/VJzYph+JFPxDf+ugqlSKkO9u9o6toFvvFq3t7YFhEA09DbvcnHpEhP/j017bTQC+F/Nbl3ysF4lU5/+GloFKEWxYKi4NdpRVglkBspy3t7o2f80Nvp5UVXiu2LVW7B+9/PHhbK8OzN8aDUJxaWoiBvTzxcroIkhNYSVtarfD2bRpOzfwuTisrRK0O3/Qrw1/7L8wPLeWZAW/dxMgFv/4bFlhBK72nNw0ReiHSleZX/v4bOX/zj1SGFvGMvEkAWkBnevvuGwra25UzLoSv3Caf8V+QckYmvZ6Jp97nJkjppC2uLmTsu2+YmV6HaVWoCycvfnCOqjC98gRgCmmlp4N7qr1koCpMLQ3AEZaAU0DbXA2979z/Faq9hNKq8KUPRgnCFCEAE47gSx8WTdKDAEwogi/9NAhLrfFFgjChCMCEIfjsQ2ucXARggujevZMDzxB8liIIk4cATADdzvLC5hFWdR1xZSYvI9dO0hYnAAEYI213Twzsl6f9yg/u0fkg+wjjRQDGROd8RzY/RbvrONrieBGAHabX6r7+0Ldod7EK1WA8CMAOoupDLXpA6+Gp01SDHUQAdgBVH5pBNdg5BGDE9LCCn33621R9aIrOBg9cf5WTqiPGWfgROpl7Rka3HCb80DQ9y/F3W48G26MQHSrACGjLe+7hQ07cawPR0yrwwPXXaIkjQAUYMt3UrD+5CT+EpfycGmjwxvJoHAEYIl3lLT1ROYoe4dLn1LUdP12+gRPCQQCGRGc1OvMDoqTPMeaC4ekStEUvZzs5sD84yADohCN+AG7I9smhqdOC9hCAbdDwY96HOBx84CtBW/zce68FG6jRGlrgFulAmvBDnPTeMPoc1B/EaA0B2ALCD0mhz8F3PvsjVohbRAA2qRx+rPQiKcqbpgnB5hGATSD8kFTlEKQdbg4B2CDCD0lHCDaPAGyAPqH00jbCD0mnM8HRLYcEjSEAG/CzT3+LBQ+khl46p8evoT4CsA7dda9HWgFpohvzuWKkPgKwBn0CHeFJhJTS5y7XDtdGAFahbQThh7TTa4e3M76pigCsoHyEPWCD0YcPs0ewCgKwAra7wCb6XH79oW8K7kYArqEtA+EH2+hIR08twmoE4Aq6csbQGLbSE2Q0CHEHAbhEZyRsG4DtdLbNlSJ3EIBLjmzeS+sL6+lz/Min9gpKCEAptb5Pc6IzHEErfIfzAUjrCxfRCpc4H4C0vnARrXCJ0wGoBxzQ+sJV2gq7fpWI0wF47uHDArjsZM7tvYHOBqAufND6wnW6GOLygoizAcjCB1Di8nXvTgYg1R9wh34vuDoLdzIAqf6A1Vw9+s25AKT6A+7mahXoXABS/QGVuVgFOhWAVH9Adfq94dqKsFMBSPUH1PbCZreuDnEmAPUnG9UfUJtr+wKdCcB9m4YEQH0u3QbWiQDUE1+45hdozL77hpw5KcaJAHzs3q0CoDEafo/9pxvfM13igCRUf1PzN2q+P+75ZL2/n0rLDHX69ozcKszWfMyGbB/n4dVw8IHH5fzNS2I76wNQ2984K8Cp+X/Kl68ebygAdR9WHGF94PqrcvbGeN3H6fFhl7b9qOZjzvgf55W//7ZuAOnXJIprUPXzvfNPPwxCsJ7RLYdrzrvenc0HX7tGPlZU9DkRx+4F/VrrD4g4/+2dYH0LHHf7q2HQSHWlj3npg1HptLc+utpQ+CkNhDM1Hqvh85wfpvo4/XWtF/0zD02dlrAdyp9u+Jv2lX/8tub7v9/Ex4qKPiemb89Kp2n4fXWj/Ysh1gdg3O3vdKHzT964TM3/q6nHv/L33/gB/GcJUzOfbw3iWv5a5/2dMl2IJ4SHHJidWx2AwTCXBZBEG7l2sm4QIR5UgCm3zfHjvtNAW8wD118TJE+pgLB7U7TVAejShs400zb4xRjmn6jP9g7K6gB0/YYvaaLD/rDngWif7XNAawOQ+V/66HacOFY8UZ3tYyRrA5D5X/roVqCRaycEyaGFhM2dlMUBOCBIH22D6+3PQ2dtW58TW1kbgEMb3L3VX9odyp9iHrhEr2TKxXwJ4naLA9DaS+H6s1znmWY6D3znsyf8FqxP0kCDKuwj17T93HffsMRtoOc+sZW1AcgMMN10Hvjce6/K6JZDkgZ6LbetJ45vX/+g2MrKFlh/cqalckB15z98h3lgAmi423pyjpUBSPVnD90fqIcrIF79WTsLCmsrQNhBL5Xb+5cT7A+Mma1FhZUB+F8WD21dpPPAQ1OnBPHZQAucHlSA9tHzA5kHxocWOEW4/aWddB7I0VnxsLUCdOKeILCDzgP1iPok7g/UhRrduxgmrbr03hy6xzBucW/GjoqVAUgLbK/g1gF/G5WTA/slSTScG721QDP0xkRp2hCeNnbOALkKJBUOPvCVln5Y6VH6ZyIImyTSwI/rSHwXOHFfYCSTHlhx5FN7pRWHp04zD0TbCEDESqvAVm5cVdofeFKAdhCAiN0Jf57XyqBfFx6iuLUm3GFlAOZpjVJF54DnHm7t0AOdB57/8JIAraACRCLopVatruzqqTHMA6Nl6/2tCUAkhs4DW7kNI7fWjJ5+jm1kZQDq1gGkk57/18o8UE+QZh4YnVsEYHoQgOml88DXH/qmtELngTYenZWEfa20wECHaBvc6jzQplZNfxiczD2TiKtAbC0qrLwU7t3ZKUG66Tzw/M0/pubmSBrav9t6VGxFC5wirAja4fWHvpWIgwAgcsXSU7mtDEBtgzhBOP30WLNW54EIz5WZvNjK2hngXxeoAm2greXB+x8XxOeWpQsgytoAnLT4p5ZrdCGglf2BCIet7a+yNgBtLttdpPNAznmMx1u30rEQ1QprA5CVYLvoPPBnn2YeGAeb99VaeyR+WjfEhv1k25Dts6Zy2v2JncE8MIk3R9I5mY1fO91RYXMLbG0A6kqw7iFL0+xIv4G2XP62hE331CXtCPlW6TzwrY+uJu6b8srM+5F87Y5sHpEX/Je42D5KsvpKkCu0wQHbLhEbffiwM/NAvRNePsYW9Nc3/yg2szoAOSfuDpv2Reo80JaKNumoAFNMqx42RNtp36Zh9gdGzPb5n7I6AHUO+O7s+wI76Xxse19OEA2dtdrO+tNg3qQNtpbOAV2aB3bamRsXxXbWB+D//sv+L6LLdB7Y6q01UZ22v2k5iacd1gdgeTsM7KXbfJgHhsuF9lc5cSAqbbD9dB7I0VnhefGDUXGBEwGobTCrweFI6rytfGvNZv5+/V3/Ibibbn1x5bYSTgSgtsFn/zUucRi6d6vETSsjnZVVsq1voOHKScOl1qqrfqxmAmgo5Kt09NaazcwDd2/8XM33//emYYmbfm1yVb52UflpAi81jIrXMzFixAFxHlmu85SLMc0hNZB2b3ykagAq/Wl/5sZ42x9Hnf/wHXnlH/9X52P1yVf9j/V0RAGjn2/9oVfrHDv9dzzWwA+ns/7nJa4rMfRzvu++4Y7eE0QXP7Zc/o64wpkAVBqAnCsHVKeXTbp0e1Gn7grnwr4moB1JPGknSk4F4K9vXmIxBKhC233X7qntVADqXOiVf/xGANzNla0vKzl3Y3Rd4aIKBFZzsfpTzgUgVSCwmn5PuFj9KecCUFEFAnfowoeL1Z9yMgD1J96hqVMCuE73/b3kaPWnnAxApTMPDkmA61764Jy4zNkAVC86/sWH2/SWEfWuALKd0wGoFaDrTwC4izGQ4wGoDk+dZkEEztFVX1cXPlZyPgB1QeSlv7k7BIZ7XF/4WMn5AFR6ATgLInDFl68eF5QQgEsOXH+VVhjWo/VdjQBcok+K5957VQBb6aovre9qBOAKpcM83ToOCG7QuR+rvncjANd4KWgR/imATfb+5SStbwUE4Bq6KqxDYuaBsIXO/d6dzQvuRgBWwDwQttBLPpn7VUcAVqHzQFePCIIdSnM/d+7v0QoCsAb9ycmiCNJIw680ypkRVEcA1nEof4pN0kgVDT0WPRpDADZg5NpJhshIDZ1f83xtDAHYgNJP1BNsj0Hi6dxaNzyjMQRgg7Sd0JkKIYik0vBjxbc5BGATCEEklS7WEX7NIwCbRAgiabTl1cU6NI8AbAEhiKTQxQ427beOAGxROQRZbUNc9LnHXr/2EIBtKIcgq27oNDY6h4MAbJM+AUeuneCyOXQM4RceAjAkugJHCCJq5fDjKo9wEIAh0hBkcQRR0Znfzj/9kPALEQEYMr1umBBE2FjwiAYBGAH9Cb3l8nc4SQaheOujq4RfRAjACOnmVL3bHNUgWnXmxrgffscIv4gQgBE7GzyBj3OkFpqmi2rPXWeTc5QIwA4o7xdklRiN4mCDzvB6JkaMoGMG1m2Scw8flm19OQEq0dEJ8+POIABjsm/TsLywea8fiJ8UQJU21Z9kXNJBBGCMtBo8snlEnvbDEG5jg3M8CMAE2L4+J6NbDlENOkr3+JVOHCf8Oo1FkAS4MpMP9g2yZcY9Z5Z2CRB+8aACTCDmg25gpTd+BGBC6XxQg/DpTUMEoWV0sUNvWK57RBEvAjDhNAgfu/czVISW0BGH3rOXg3STgQBMEVrjdGOxI3kIwBTa/YmdcvD+x/3KcKsgHXRjMzcuSh4CMMXK+wiH/CCkKkwuruxILgLQEtoe7974iF8dPiJIBuZ9yUcAWqa8aKJXl9Aix0fP8Dtw/X+Y9yUcAWgxwjAe7O9LDwLQEf1d6+WrfousQcjMMBocZpA+BKCj9DguDUKtEDUUNSDROra4pBMBiIAGoh7KoGE46L/mvMLGscUlvQhAVKQVYRCKfQMy0PtJ/7WG4gCV4gra8j733qty/sNLgnQiANGUcjDq6/I80cVqkVVeOxCAaJuuNusexIMPPO7E4gotrz0IQITK5uuVdWPzgeuvscprEQIQodOK8OTAM1ZdlaJzPp33cX9eu3AiNEKnc7GRayesqJSCs/v8dlf/PYSffQhAREYP/Uwz3du3808/4CADixGAiIze6yStBwFo6D3y7g9Y5bVclwARmvRDME3bZFjocAsBiEilqYLSqk8PMWDW5w4CEJFKQwBS9bmLAITTqPrcRgDCSVzHC0UAIlK6KTpp2NSMMgIQkUrS6TFUfViLAESkklIBMutDJQQgItWfjbcCZIUXtRCAiFScm6Cp+lAPAYjIbF//oD8D7JNOo+pDowhARGZDtrPhp5VeueoDGkEAIjJ6D5FO4Yh6tIIARGSGNnxGoqZV3+Gp03LmxrgAzfID0MuLmJwAIYt6BZhFDrQpTwWIyES1Aqzt7ot+8LHIgXZ1iTHT4gkQqihWgLXS04qPE5oRBk8rQC/j5Y0xgwKEKOwVYNpdRKHLGLklQMjCWgFmdRdRMV5pBpgXIGS53vbuC6z3Evl+/jRzPkTHeFNdRkyeESDC1moLzLYWdIyRya6erEwuFgQI1a3CbFOPL1/F8VP/hTkfOiHjFae7ZmYW8z293QKESWd3B+9/vO7jCD7Epbf39mTQ/fZMPPU+m6ERtkvbflR1LyB7+RArT6YXvjC6MdgI7Xky6a8G5wQIkd5YfN+mYRm6t3RJ3HRhJgg+DT2qPcTJ8+d/+joIwGLRTHmshCACZ/3FjLMsaCBhjHgX9XVG/+NJcVwAwBVLFWAQgAvzhXEBAEf03bMwrq+DAJRdY9PlRAQAq/lZN73DzzwpB2Dwe3JRAMBy3oqsWw7ArGfGBAAs563IuuUAnJu7PemXgdMCABabe/TcePnXywGoc0DdDygAYCnPyJsr386sfKMocloAwFJ+kbdq1LcqABfnFsdogwHYqrd3sXoA0gYDsJW2v+XtL2WZux4k5rgAgGWMeKfW/l7FK4B73h656b+nXwDAAnoDpPlHRx9c+/uZyo/2XhYAsETR8yruc64YgAtzCz8RALBE1mQqFnWVK8BgMcTjyhAA6efJqblHf5Gv9K5M1f/HFGmDAaRexmSrLuxWDUC9XMQfHI4LAKRVjepPZWr/v2yJAZBetaq/4P213kkVCCC16lR/qmYAqmJRvicAkDL1qr/gMfUesPil0UnDggiANGmg+lN1A1AtzheOcUgCgDTQqz4aqf5UQwEY7AvMsCACIPn8ADzeSPW39NjGrZsYuWBEhgUAEqjaNb/VNFYBLn/w7LO0wgCSys+oXc08vqkA1LKSVhhAIhVNw61vWVMtcBmtMIAk0YOc578wukOa1FQFuPyH0QoDSAid+3km+6S0oKUALJWZxWcFAGLWzKrvWi0FoFr44q/GhGuFAcQpmPuNnpIWtTQDXIl5IIBYeN7Ywhd+2VLrW9ZyBVg2P7f4pCdeXgCgQ3Tu17duoe0xXNsBGFwlIpldhCCATggWPSS7a+0tLlv8WOHo/v3IoL8UfYG7yQGIjJHpjJfd0eqix1rtV4BLSqfGyC62xwCIhJ8tmjFhhZ8KrQIsoxIEELql8NNCS0IUegAqQhBAaCIKPxVJACpCEEDbIgw/FdoMcC39C+uwktVhAK3Q1d4ow2/pz4hW78Q3ckaKF4yYnABAA8pbXcJc8KgksgqwTP8B83MLO8R4YwIAdeidKO/pXdwRdfgt/Vmd0zOx95j/Rx4VAKikaI4vfOncMemQjgag6p0Yecb4IUhLDGCZv9jRlS0+O/v5X3W0U+x4ACqdCxZN4Q3/Tx8UAE7TllfPGO1Ey7tWLAFYRksMOMyv+jwxx+e/eO4nEpNYA1CxSgy4J86qb83fIxmYDQIOSEDVt1JiAlAFs0G5fcz/a+0XAFbxTPHle+4pHAvjGKuwJCoAywhCwB7a7haL8r0or+hoVSIDsIwgBNKrNOfTe3acG5eESnQAlhGEQHp4njem7W6Sg68sFQFYpkFYMIvfzXjZJ1gsARJED0L2zMt9vbd/kqQZXz2pCsCVet7+2h6R7H7/k75HAHSeruh6Mpn0NreW1AZgWf/lPf1zc917isZ7gjAEIrYUekWR0+t7F8fSVO1VkvoAXKt3Yu+w8bw9pihDXGoHhMD4VV5GLnrGjPX23p5Me+itZF0ArqTV4ezH2WHxsoN+mT5kjB+InFAN1ODlS4FnpkyxON53T2HcpsBby+oArKTUMncNFo3p12D0f7wN+J+EnL7PiJcrPYoFFtho6XR2Y6aDX3vB6yl/QTEvRZlc37eYtznsKvk3kqxyUwkTXfIAAAAASUVORK5CYII="})]})]})}function R6e(t){return d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsxs("g",{"clip-path":"url(#clip0_1715_1956)",children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#0977B6"}),d.jsx("path",{d:"M9.46878 6.82104C10.6699 6.82104 11.6461 7.79742 11.6461 8.999C11.6461 10.2017 10.6699 11.1782 9.46878 11.1782C8.26447 11.1782 7.28967 10.2017 7.28967 8.999C7.28967 7.79742 8.26447 6.82104 9.46878 6.82104ZM7.58908 12.8309H11.3467V24.9207H7.58908V12.8309Z",fill:"white"}),d.jsx("path",{d:"M13.7032 12.8309H17.3076V14.4827H17.3576C17.8589 13.5322 19.0846 12.53 20.9127 12.53C24.7175 12.53 25.42 15.0341 25.42 18.2891V24.9207H21.6651V19.0415C21.6651 17.6388 21.6394 15.8355 19.7126 15.8355C17.7573 15.8355 17.4579 17.363 17.4579 18.9399V24.9207H13.7032L13.7032 12.8309Z",fill:"white"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_1715_1956",children:d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"white"})})})]})}function j6e(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",...t,children:[d.jsx("path",{fill:"#1ed760",d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z"}),d.jsx("path",{d:"M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z"})]})}function O6e(t){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd",viewBox:"0 0 1000 1000",...t,children:d.jsx("path",{d:"M906.25 0H93.75C42.19 0 0 42.19 0 93.75v812.49c0 51.57 42.19 93.75 93.75 93.75l812.5.01c51.56 0 93.75-42.19 93.75-93.75V93.75C1000 42.19 957.81 0 906.25 0zM684.02 319.72c-32.42-21.13-55.81-54.96-63.11-94.38-1.57-8.51-2.45-17.28-2.45-26.25H515l-.17 414.65c-1.74 46.43-39.96 83.7-86.8 83.7-14.57 0-28.27-3.63-40.35-9.99-27.68-14.57-46.63-43.58-46.63-76.97 0-47.96 39.02-86.98 86.97-86.98 8.95 0 17.54 1.48 25.66 4.01V421.89c-8.41-1.15-16.95-1.86-25.66-1.86-105.01 0-190.43 85.43-190.43 190.45 0 64.42 32.18 121.44 81.3 155.92 30.93 21.72 68.57 34.51 109.14 34.51 105.01 0 190.43-85.43 190.43-190.43V400.21c40.58 29.12 90.3 46.28 143.95 46.28V343.03c-28.89 0-55.8-8.59-78.39-23.31z"})})}const M6e=t=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),d.jsx("path",{d:"M8.53901 8L14.7164 16.2153L8.5 22.8947H9.89907L15.3415 17.0468L19.7389 22.8947H24.5L17.975 14.2173L23.7612 8H22.3621L17.3499 13.3858L13.3001 8H8.53901ZM10.5964 9.02501H12.7837L22.4422 21.8695H20.255L10.5964 9.02501Z",fill:"#F7F7F7"})]});function cU(){let t=new URL(window.location.href);t.searchParams.delete("privy_oauth_code"),t.searchParams.delete("privy_oauth_provider"),t.searchParams.delete("privy_oauth_state"),Nt.del(O7),window.history.replaceState({},"",t)}const uU=({address:t,chainId:e,nonce:n})=>`${window.location.host} wants you to sign in with your Ethereum account:
${t}

By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.

URI: ${window.location.origin}
Version: 1
Chain ID: ${e}
Nonce: ${n}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class s2{get meta(){var e,n,r,i;return{connectorType:(e=this.wallet)==null?void 0:e.connectorType,walletClientType:(n=this.wallet)==null?void 0:n.walletClientType,chainId:(r=this.wallet)==null?void 0:r.chainId,address:(i=this.wallet)==null?void 0:i.address,disableSignup:this._meta.disableSignup}}async authenticate(){var e,n,r;if(!this.client)throw new ue("SiweFlow has no client instance");try{if(this.preparedMessage&&this.signature)return await this.client.authenticateWithSiweInternal({message:this.preparedMessage,signature:this.signature,chainId:(e=this.wallet)==null?void 0:e.chainId,walletClientType:(n=this.wallet)==null?void 0:n.walletClientType,connectorType:(r=this.wallet)==null?void 0:r.connectorType,mode:this._meta.disableSignup?"no-signup":"login-or-sign-up"});if(!this.wallet)throw new ue("SiweFlow has no wallet instance");let{message:i,signature:s}=await this.sign();return await this.client.authenticateWithSiweInternal({message:i,signature:s,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(i){throw Nn(i)}}async link(){if(!this.client)throw new ue("SiweFlow has no client instance");try{if(!this.wallet)throw new ue("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw Nn(e)}}async sign(){if(!this.client)throw new ue("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new ue("Could not prepare SIWE message");if(!this.wallet)throw new ue("SiweFlow has no wallet instance");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new ue("SiweFlow has no client instance");if(!this.wallet)throw new ue("UI SiweFlow has no wallet instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new ue("SiweFlow has no client instance");if(!this.wallet)throw new ue("SiweFlow has no wallet instance");let e=this.wallet.address,n=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=uU({address:e,chainId:n,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s){this._meta={disableSignup:!1},this.getNonceOnce=new ra(this._getNonceOnce.bind(this)),this.wallet=n,this.captchaToken=r,this.client=e,this._meta.disableSignup=i,this.preparedMessage=s==null?void 0:s.message,this.signature=s==null?void 0:s.signature}}const w9t=({address:t,nonce:e})=>`${window.location.host} wants you to sign in with your Solana account:
${t}

${`You are proving you own ${t}.`}

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${e}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class D7{get meta(){var e;return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup,messageType:this._meta.messageType,address:(e=this.wallet)==null?void 0:e.address}}set messageType(e){this._meta.messageType=e}async authenticate(){if(!this.client)throw new ue("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up",messageType:this.meta.messageType})}catch(e){throw Nn(e)}}async link(){if(!this.client)throw new ue("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,messageType:this.meta.messageType})}catch(e){throw Nn(e)}}async sign(){let e,n;if(!this.client)throw new ue("SiwsFlow has no client instance");await this.buildMessage();let r=this.meta.messageType==="transaction";if(!this.preparedMessage)throw new ue("Could not prepare SIWS message");if(!r&&!this.wallet.provider.signMessage||r&&!this.wallet.provider.signTransaction)throw new ue("Wallet does not support the necessary signing methods");if(r&&this._plugin){let i=await this.wallet.provider.signTransaction({transaction:Z9.decode(this.preparedMessage)});e=Z9.encode(i.signedTransaction),n=this._plugin.getSignatureFromTransaction(i.signedTransaction,this.wallet.address)}else{e=this.preparedMessage;let i=await this.wallet.provider.signMessage({message:new TextEncoder().encode(this.preparedMessage)});n=Z9.encode(i.signature)}return{message:e,signature:n}}async _getNonceOnce(){if(!this.client)throw new ue("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new ue("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.meta.messageType==="transaction"&&this._plugin?this.preparedMessage=this._plugin.createSiwsMemoTransaction({address:e,nonce:this.nonce}):this.preparedMessage=w9t({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s="plain",o){this._meta={disableSignup:!1,messageType:"plain"},this.getNonceOnce=new ra(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=r,this.client=n,this._meta.disableSignup=i,this._meta.messageType=s,this._plugin=o}}const D6e=t=>t.isApexWallet?"Apex Wallet":t.isAvalanche?"Core Wallet":t.isBackpack?"Backpack":t.isBifrost?"Bifrost Wallet":t.isBitKeep?"BitKeep":t.isBitski?"Bitski":t.isBlockWallet?"BlockWallet":t.isBraveWallet?"Brave Wallet":t.isClover?"Clover":t.isCoin98?"Coin98 Wallet":t.isCoinbaseWallet?"Coinbase Wallet":t.isDawn?"Dawn Wallet":t.isDefiant?"Defiant":t.isDesig?"Desig Wallet":t.isEnkrypt?"Enkrypt":t.isExodus?"Exodus":t.isFordefi?"Fordefi":t.isFrame?"Frame":t.isFrontier?"Frontier Wallet":t.isGamestop?"GameStop Wallet":t.isHaqqWallet?"HAQQ Wallet":t.isHyperPay?"HyperPay Wallet":t.isImToken?"ImToken":t.isHaloWallet?"Halo Wallet":t.isKuCoinWallet?"KuCoin Wallet":t.isMathWallet?"MathWallet":t.isNovaWallet?"Nova Wallet":t.isOkxWallet||t.isOKExWallet?"OKX Wallet":t.isOneInchIOSWallet||t.isOneInchAndroidWallet?"1inch Wallet":t.isOneKey?"OneKey Wallet":t.isOpera?"Opera":t.isPhantom||"isPhantom"in t?"Phantom":t.isPortal?"Ripio Portal":t.isRabby?"Rabby Wallet":t.isRainbow?"Rainbow":t.isSafePal?"SafePal Wallet":t.isStatus?"Status":t.isSubWallet?"SubWallet":t.isTalisman?"Talisman":t.isTally||t.isTaho?"Taho":t.isTokenPocket?"TokenPocket":t.isTokenary?"Tokenary":t.isTrust||t.isTrustWallet?"Trust Wallet":t.isTTWallet?"TTWallet":t.isXDEFI?"XDEFI Wallet":t.isZeal?"Zeal":t.isZerion?"Zerion":t.isMetaMask?"MetaMask":void 0,B6e=(t,e)=>{if(!t.isMetaMask)return!1;if(t.isMetaMask&&!e)return!0;if(t.isBraveWallet&&!t._events&&!t._state||D6e(t)!=="MetaMask")return!1;if(t.providers){for(let n of t.providers)if(!B6e(n))return!1}return!0},L6e=()=>{let t=window;if(!t.ethereum)return!1;if(t.ethereum.isCoinbaseWallet)return!0;if(t.ethereum.providers){for(let e of t.ethereum.providers)if(e&&e.isCoinbaseWallet)return!0}return!1},Xx=(t,e,n,r)=>{let i=Number(t),s=e.find(o=>o.id===i);if(!s)throw new kr(`Unsupported chainId ${t}`,4901);return Hp({transport:Vp(Zp(s,n,r.appId)),chain:s})},Zp=(t,e,n)=>{var o,a,l;let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if((o=t.rpcUrls.privy)!=null&&o.http[0]){let c=new URL(t.rpcUrls.privy.http[0]);c.searchParams.append("privyAppId",n),r=c.toString()}else r=(a=t.rpcUrls.public)!=null&&a.http[0]?t.rpcUrls.public.http[0]:(l=t.rpcUrls.default)==null?void 0:l.http[0];if(!r)throw new kr(`No RPC url found for ${i}`);return r},F6e=t=>!!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),Xo=(t,e=3,n=4,r="ethereum")=>{if(!t)return"";let i=r==="ethereum"?2:0;return e+n+i+3>=t.length?t:`${t.slice(0,i+e)}...${t.slice(t.length-n,t.length)}`},TO=(t,e=3,n=4)=>Xo(t,e,n,"solana"),B7=t=>new Promise(e=>setTimeout(e,t)),dU=(t,e={})=>{let n=e.delayMs||150,r=e.maxAttempts||270;return new Promise(async(i,s)=>{var l;let o=!1,a=0;for(;!o&&a<r;){if((l=e.abortSignal)!=null&&l.aborted)return;t().then(c=>{o=!0,i(c)},(...c)=>{o=!0,s(...c)}),a+=1,await B7(n)}o||s(Error("Exceeded max attempts before resolving function"))})},U6e=(t,e,n={},r={})=>{let i=new URL(e,t);for(let[o,a]of Object.entries(n))a!==void 0&&i.searchParams.set(o,a);let s=Object.entries(r);if(s.length>0){let o=new URLSearchParams;for(let[a,l]of s)o.append(a,l);i.hash=o.toString()}return i.href},b9t=t=>t.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),hU=t=>typeof t=="string"?t:"0x"+t.toString(16);async function v9t({store:t,walletList:e,externalWalletConfig:n,walletChainType:r,timeout:i=3e3}){let s=!1,o=window;return new Promise(a=>{function l(){if(s)return;s=!0,window.removeEventListener("ethereum#initialized",l);let c=t.getProviders();console.debug("Detected injected providers:",c.map(h=>h.info));let u=[];for(let h of c)e.includes("coinbase_wallet")&&h.info.rdns==="com.coinbase.wallet"||r==="solana-only"&&h.info.rdns==="app.phantom"||u.push({type:h.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:h});if(r!=="solana-only")for(let h of function(){var g;let f=window,p=f.ethereum;if(!p)return[];let m=[];if((g=p.providers)!=null&&g.length)for(let y of p.providers)y&&m.push(y);return m.push(f.ethereum),m}()){let f=D6e(h);if(!c.some(p=>p.info.name===f)){if(B6e(h,!0)&&!u.find(p=>p.type==="metamask")){u.push({type:"metamask",legacyInjectedProvider:h});continue}if(f==="Phantom"&&!u.find(p=>p.type==="phantom")){u.push({type:"phantom",legacyInjectedProvider:h});continue}if(f==="Coinbase Wallet"&&!u.find(p=>{var m,g,y;return p.type==="coinbase_wallet"&&((y=(g=(m=n.coinbaseWallet)==null?void 0:m.config)==null?void 0:g.preference)==null?void 0:y.options)!=="smartWalletOnly"})){u.push({type:"coinbase_wallet",legacyInjectedProvider:h});continue}u.find(p=>p.type==="unknown_browser_extension")||u.push({type:"unknown_browser_extension",legacyInjectedProvider:h})}}a(u)}o.ethereum?l():(window.addEventListener("ethereum#initialized",l,{once:!0}),setTimeout(()=>{l()},i))})}function A4(t){return`eip155:${String(Number(t))}`}const x9t=(t,e,n,r)=>{let i=Number(t),s=e.find(o=>o.id===i);if(!s)throw new kr(`Unsupported chainId ${t}`,4901);return Zp(s,n,r)},lS=t=>{let e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},n=t.types.EIP712Domain??Object.entries(t.domain).map(([r,i])=>{if(i!=null&&typeof r=="string"&&r in e)return{name:r,type:e[r]}}).filter(r=>r!==void 0);return{...t,types:{...t.types,EIP712Domain:n}}},z6e=x.createContext({siteKey:"",enabled:!1,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:Ie,setError:Ie,setExecuting:Ie,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:Ie,reset:Ie,execute:Ie});class sN extends Do{constructor(e,n,r){super(e||"Captcha failed"),this.type="Captcha",n instanceof Error&&(this.cause=n),this.privyErrorCode=r}}const E9t=({children:t,id:e,captchaSiteKey:n,captchaEnabled:r})=>{let i=x.useRef(null),[s,o]=x.useState(),[a,l]=x.useState(),[c,u]=x.useState(!1),h=x.useMemo(()=>r?c||s||a?!c||s||a?s&&!a?{status:"success",token:s}:a?{status:"error",error:a}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"},[r,s,a,c]);return d.jsx(z6e.Provider,{value:{...h,ref:i,enabled:r,siteKey:n,appId:e,setToken:o,setError:l,setExecuting:u,remove(){var f;r&&((f=i.current)==null||f.remove(),u(!1),l(void 0),o(void 0))},reset(){var f;r&&((f=i.current)==null||f.reset(),u(!1),l(void 0),o(void 0))},execute(){var f;r&&(u(!0),(f=i.current)==null||f.execute())},async waitForResult(){if(!r)return"";try{return await function(f,{interval:p=100,timeout:m=5e3}={}){return new Promise((g,y)=>{let w,v=0,b=()=>{v>=m?y("Max attempts reached without result"):(w=f(),v+=p,w==null?setTimeout(b,p):g(w))};b()})}(()=>{var f;return(f=i.current)==null?void 0:f.getResponse()},{interval:200,timeout:2e4})}catch{throw new sN("Captcha failed",null,pe.CAPTCHA_TIMEOUT)}}},children:t})},dl=()=>x.useContext(z6e);class e6{async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(Gst,{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Nn(e)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(Kst,{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw Nn(e)}}constructor(e,n=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=n}}function Kse(t){let e={detail:"",retryable:!1};return(t==null?void 0:t.privyErrorCode)===pe.LINKED_TO_ANOTHER_USER&&(e.detail="This account has already been linked to another user."),(t==null?void 0:t.privyErrorCode)===pe.DISALLOWED_LOGIN_METHOD&&(e.detail="Login with Telegram not allowed."),(t==null?void 0:t.privyErrorCode)===pe.INVALID_DATA&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===pe.CANNOT_LINK_MORE_OF_TYPE&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===pe.INVALID_CREDENTIALS&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===pe.TOO_MANY_REQUESTS&&(e.detail="Too many requests. Please wait before trying again."),(t==null?void 0:t.privyErrorCode)===pe.TOO_MANY_REQUESTS&&t.message.includes("rate limit")&&(e.detail="Request limit reached for Telegram. Please wait a moment and try again."),t instanceof sN&&(e.retryable=!0,e.detail="Something went wrong. Try again."),e}function A9t(){let t;return(t=function(){let e=new URLSearchParams(window.location.search),n=Number(e.get("id")||""),r=e.get("hash"),i=Number(e.get("auth_date")||""),s=e.get("first_name");if(n&&s&&i&&r)return Object.fromEntries(e.entries())}())?(Yse(),{flowType:"login-url",authData:t}):(t=function(){let e=window.location.hash;if(!e||!e.startsWith("#tgWebAppData"))return;let n=W6e(e.replace("#tgWebAppData=","")),{user:r,auth_date:i,hash:s}=n;return r&&i&&s?n:void 0}())?(Yse(),{flowType:"web-app",authData:t}):void 0}function W6e(t){return Object.fromEntries(decodeURIComponent(t).split("&").map(e=>e.split("=").map(decodeURIComponent)))}function Yse(){let t=new URL(window.location.href);t.searchParams.delete("id"),t.searchParams.delete("hash"),t.searchParams.delete("auth_date"),t.searchParams.delete("first_name"),t.searchParams.delete("last_name"),t.searchParams.delete("username"),t.searchParams.delete("photo_url"),t.hash="",window.history.replaceState({},"",t)}let Qse=t=>{if(t.chainType==="ethereum")return{entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"};if(t.chainType==="solana")return{entropyId:t.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")};const Zu=(t,e)=>{if(e!=null&&e.imported)return Qse(e);let n=Cd(t);if(!n)throw Error("Failed to find primary wallet");return Qse(n)},C9t=({style:t,...e})=>d.jsxs("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[d.jsx("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),H6e="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",V6e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALZJREFUaEPtmjEOhDAMBNc/O14GvOzys3CAKK6eAlmaVGl2Zc+kTOU685vkc9/bnD2prZK5/TZY24z9P+g4F5hNh7/GdoG37WlAA5CATwgCxHENYISwQAMQII5rACOEBRqAAHFcAxghLNAABIjjGsAIYYEGIEAc1wBGCAs0AAHiuAYwQligAQgQxzWAEcICDUCAOK4BjBAWaAACxHENYISwQAMQII6fBjr+VHkW3+u+tfyxMpJaDgYzYxb/ALZVAAAAAElFTkSuQmCC";class q6e extends kr{constructor(){super("Wallet timeout"),this.type="wallet_error"}}const Mg=t=>t instanceof kr?t:t!=null&&t.code?new xo(t):new kr("Unknown connector error",t);class o2 extends Do{constructor(e,n,r){super(e),this.type="provider_error",this.code=n,this.data=r}}class xo extends o2{constructor(e){var r,i,s;super(e.message,e.code,e.data);let n=Object.values(Xu).find(o=>o.eipCode===e.code);this.details=n||Xu.UNKNOWN_ERROR,e.code===-32002&&((r=e.message)!=null&&r.includes("already pending for origin")?(i=e.message)!=null&&i.includes("wallet_requestPermissions")?this.details=Xu.E32002_CONNECTION_ALREADY_PENDING:this.details=Xu.E32002_REQUEST_ALREADY_PENDING:(s=e.message)!=null&&s.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=Xu.E32002_WALLET_LOCKED))}}const Ly={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_REJECTED_CONNECTION:{message:"You rejected the request",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...Xu};function nm(t){return t.type==="ethereum"}function G6e(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if((r==null?void 0:r.address)!==(i==null?void 0:i.address)||r&&i&&nm(r)&&nm(i)&&(r==null?void 0:r.chainId)!==(i==null?void 0:i.chainId)||(r==null?void 0:r.connectorType)!==(i==null?void 0:i.connectorType)||(r==null?void 0:r.connectedAt)!==(i==null?void 0:i.connectedAt)||(r==null?void 0:r.walletClientType)!==(i==null?void 0:i.walletClientType)||(r==null?void 0:r.isConnected)!==(i==null?void 0:i.isConnected)||(r==null?void 0:r.linked)!==(i==null?void 0:i.linked))return!1}return!0}class K6e extends j${constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}}const _G=(t,e)=>t.rpcTimeouts&&t.rpcTimeouts[e]||rN;function t6(t){return t.chainType==="ethereum"}class qw extends K6e{buildConnectedWallet(e,n,r,i){let s=async()=>!!this.wallets.find(o=>Bi(o.address)===Bi(e));return{type:"ethereum",address:Bi(e),chainId:n,meta:r,imported:i,switchChain:async o=>{var f,p,m,g;let a,l;if(!s)throw new kr("Wallet is not currently connected.");let c=(f=this.wallets.find(y=>Bi(y.address)===Bi(e)))==null?void 0:f.chainId;if(!c)throw new kr("Unable to determine current chainId.");if(typeof o=="number"?(a=`0x${o.toString(16)}`,l=o):(a=o,l=Number(o)),c===A4(a))return;let u=this.chains.find(y=>y.id===l);if(!u)throw new kr(`Unsupported chainId: ${o}`);let h=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:a}]})};try{return await h()}catch(y){if(((w,v)=>{var b;switch(v){case"coinbase_wallet":case"base_account":return w.message.includes("addEthereumChain");case"rabby_wallet":return w.message.includes("Unrecognized chain ID");default:return w.code===4902||((b=w.message)==null?void 0:b.includes("4902"))}})(y,this.walletClientType))return this.walletClientType==="rabby_wallet"&&await B7(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:a,chainName:u.name,nativeCurrency:u.nativeCurrency,rpcUrls:[((p=u.rpcUrls.default)==null?void 0:p.http[0])??""],blockExplorerUrls:[((m=u.blockExplorers)==null?void 0:m.default.url)??""]}]}),h();throw this.walletClientType==="rainbow"&&((g=y.message)!=null&&g.includes("wallet_switchEthereumChain"))?new kr(`Rainbow does not support the chainId ${n}`):y}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:s,getEthereumProvider:async()=>{if(!await s())throw new kr("Wallet is not currently connected.");return this.proxyProvider},sign:async o=>{if(!await s())throw new kr("Wallet is not currently connected.");return await this.sign(o)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let n,r=e;try{if(r===void 0){let l=await dU(()=>this.proxyProvider.request({method:"eth_accounts"}),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,l),Array.isArray(l)&&(r=l)}}catch(l){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",l)}if(!r||!Array.isArray(r)||r.length<=0||!r[0])return;let i=r[0],s=Bi(i),o=[];if(this.walletClientType==="privy"){let l=Nt.get(IO(s));this.chains.find(c=>c.id===Number(l))||(Nt.del(IO(s)),l=null),n=l||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]})}catch{console.warn(`Unable to switch embedded wallet to chain ID ${n} on initialization`)}}else try{let l=await dU(()=>this.proxyProvider.request({method:"eth_chainId"}),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,l),typeof l=="string")n=l;else{if(typeof l!="number")throw Error("Invalid chainId returned from provider");n=`0x${l.toString(16)}`}}catch(l){console.warn("Failed to get chainId from provider, defaulting to 0x1",l),n="0x1"}let a=A4(n);if(!o.find(l=>Bi(l.address)===s)){let l={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};o.push(this.buildConnectedWallet(Bi(i),a,l,this.connectorType==="embedded_imported"))}G6e(o,this.wallets)||(this.wallets=o,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort((n,r)=>r.connectedAt-n.connectedAt).find(n=>e.find(r=>Bi(r)===Bi(n.address)))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){var n;return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[_i(e),(n=this.wallets[0])==null?void 0:n.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,n,r,i){super(e),this.chainType="ethereum",this.onAccountsChanged=s=>{s.length===0?this.onDisconnect():this.syncAccounts(s)},this.onChainChanged=s=>{this.wallets.forEach(o=>{o.chainId=A4(s),this.walletClientType==="privy"&&Nt.put(IO(o.address),s)}),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{this.connectorType==="base_account"&&this.connected||(this.connected=!0,this.connectorType==="coinbase_wallet"&&await B7(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=n,this.defaultChain=r,this.rpcConfig=i,this.rpcTimeoutDuration=_G(i,e),this.connected=!1,this.initialized=!1}}class Gw{on(e,n){if(this.walletProvider)return this.walletProvider.on(e,n);this._subscriptions.push({eventName:e,listener:n})}async request(e){if(!this.walletProvider)throw new kr(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch(n=>{throw Mg(n)})}constructor(e,n){this.removeListener=(r,i)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(r,i)}catch{console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(r=new q6e,i=this.rpcTimeoutDuration)=>new Promise((s,o)=>setTimeout(()=>{o(r)},i)),this.setWalletProvider=r=>{this.walletProvider&&this._subscriptions.forEach(i=>{this.removeListener(i.eventName,i.listener)}),this.walletProvider=r,this._subscriptions.forEach(i=>{var s;(s=this.walletProvider)==null||s.on(i.eventName,i.listener)})},this.walletProvider=e,this.rpcTimeoutDuration=n||rN,this._subscriptions=[]}}const Y6e=({...t})=>d.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:t.color||"var(--privy-color-foreground-3)"})});class IG extends qw{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:n,icon:r,walletClientType:i,defaultChain:s}){super(i,[],s,{}),this.connectorType="null",this.proxyProvider=new Gw(void 0,rN),this.id=e,this.name=n,this.icon=r,this.connectorType=i}}const TG=({style:t,...e})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...t},...e,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),fU=({...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...t,children:[d.jsx("rect",{width:"32",height:"32",rx:"6",fill:"#121314"}),d.jsx("g",{transform:"translate(4, 4)",children:d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 318.6 318.6",children:[d.jsx("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),d.jsx("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),d.jsx("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),d.jsx("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),d.jsx("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),d.jsx("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),d.jsx("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),d.jsx("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),d.jsx("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),d.jsx("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),d.jsx("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),d.jsx("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),d.jsx("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]})})]}),Q6e=({style:t,...e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...t},...e,children:[d.jsx("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]}),k9t=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","bitkeep","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitkeep","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack","mobile_wallet_adapter"],$G=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:UJ?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){var t,e,n,r,i,s;if("phantom"in window){let o=window;if((e=(t=o==null?void 0:o.phantom)==null?void 0:t.ethereum)!=null&&e.isPhantom&&((r=(n=o==null?void 0:o.phantom)==null?void 0:n.ethereum)!=null&&r.chainId)||(s=(i=o==null?void 0:o.phantom)==null?void 0:i.solana)!=null&&s.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=Kk({client:this.client,isSolana:e,connectOnly:n});return`${t?"phantom://":"https://phantom.app/ul/"}browse/${r}?ref=${r}`}},solflare:{client:"solflare",name:"Solflare",installLink:UJ?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){var t;return"solflare"in window&&!!((t=window==null?void 0:window.solflare)!=null&&t.isSolflare)},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=Kk({client:this.client,isSolana:e,connectOnly:n});return`${t?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${r}?ref=${r}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){var t,e,n,r;return!(!("backpack"in window)||!((e=(t=window==null?void 0:window.backpack)==null?void 0:t.ethereum)!=null&&e.isBackpack)&&!((r=(n=window==null?void 0:window.backpack)==null?void 0:n.solana)!=null&&r.isBackpack))},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=Kk({client:this.client,isSolana:e,connectOnly:n});return`${t?"backpack://ul/v1/":"https://backpack.com/ul/v1/"}browse/${r}?ref=${r}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["solana"],get isInstalled(){var t;return"okxwallet"in window&&!!((t=window==null?void 0:window.okxwallet)!=null&&t.isOkxWallet)},getMobileRedirect({isSolana:t,connectOnly:e}){return"https://www.okx.com/download?deeplink="+encodeURIComponent("okx://wallet/dapp/url?dappUrl="+Kk({client:this.client,isSolana:t,connectOnly:e}))}}});function Z6e({connectorType:t,walletClientType:e}){for(let n of k9t)if(t===n||e===n)return $G[n]}function Kk({client:t,isSolana:e,connectOnly:n}){let r=new URL(window.location.href);return r.searchParams.set("privy_connector",e?"solana_adapter":"injected"),r.searchParams.set("privy_wallet_client",t),r.searchParams.set("privy_connect_only",String(n)),encodeURIComponent(r.href.replace(/\/$/g,""))}const cS=()=>{let t=Nt.get(k6e);return t&&Array.isArray(t)&&t.map(e=>(n=>n&&typeof n.address=="string"&&typeof n.connectorType=="string"&&typeof n.walletClientType=="string"&&typeof n.connectedAt=="number")(e)).every(Boolean)?t:[]};let S9t=["phantom","glow","solflare","backpack","okx_wallet","walletconnect","mobile_wallet_adapter"];function pU(t){return t.toLowerCase().split(" ").join("_")}class _9t extends K6e{get isInstalled(){return!0}get wallet(){return this._wallet}buildConnectedWallet(){return this._wallet.accounts.map(e=>({type:"solana",provider:new abe({wallet:this._wallet,account:e}),address:e.address,connectedAt:Date.now(),walletClientType:this._wallet.name,connectorType:this.connectorType,imported:!1,meta:{name:this._wallet.name,id:this._wallet.name,icon:this._wallet.icon},isConnected:async()=>this._wallet.accounts.length>0,disconnect:()=>{this.disconnect()}}))}async syncAccounts(){this.wallets=this.buildConnectedWallet(),this.emit("walletsUpdated")}get walletBranding(){return{id:this.wallet.name,name:this.wallet.name,icon:this.wallet.icon}}async initialize(){var e;this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&await((e=this.wallet.features["standard:connect"])==null?void 0:e.connect({silent:!0}).catch(()=>{})),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}async getConnectedWallet(){return this.wallets.sort((e,n)=>n.connectedAt-e.connectedAt)[0]||null}async isConnected(){return this._wallet.accounts.length>0}subscribeListeners(){var e;this._unsubscribeListeners=(e=this.wallet.features["standard:events"])==null?void 0:e.on("change",this.onChange)}unsubscribeListeners(){var e;(e=this._unsubscribeListeners)==null||e.call(this)}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!S9t.includes(this.walletClientType))&&(this.walletClientType!=="phantom"||cS().some(({walletClientType:e})=>e==="phantom"))}constructor(e,n){super(pU(e.name)),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=()=>{var r;(r=this.wallet.features["standard:disconnect"])==null||r.disconnect().catch(i=>console.error("Error disconnecting",i))},this.promptConnection=async()=>{var r;try{await((r=this.wallet.features["standard:connect"])==null?void 0:r.connect())}catch(i){throw Mg(i)}},this.onChange=()=>{this.syncAccounts()},this._wallet=e,this.autoConnectEnabled=n,this.wallets=[]}}class NG extends _9t{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:n,icon:r}){super({name:n},!1),this.connectorType="null",this.proxyProvider=new Gw(void 0,rN),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=n,this.icon=r}}function oN(t){return t.chainType==="solana"}function I9t(t){return t.type==="solana"}const uC=Lw(()=>({listings:[]})),T9t=uC.setState,$O=t=>{let e;try{e=new URL(t).hostname}catch{return}return uC.getState().listings.find(({homepage:n})=>{let r;try{r=new URL(n).hostname}catch{return!1}return e.includes(r)})},Dg=t=>uC(({listings:e})=>e.find(({slug:n})=>L7(n)===L7(t)));function L7(t){return t==="cryptocom"?"cryptocom-defi":t==="binance"?"binance-defi":t.replace(/[-_]wallet$/,"")}function $9t({src:t,...e}){return d.jsx("img",{src:t,...e,style:{display:"none"}})}const _f={appearance:{landingHeader:"Log in or sign up",theme:"light",walletList:["detected_ethereum_wallets","metamask","coinbase_wallet","rainbow","base_account","wallet_connect"]},walletConnectCloudProjectId:"34357d3c125c2bcf2ce2bc3309d98715",externalWallets:{coinbaseWallet:{}},embeddedWallets:{extendedCalldataDecoding:!1},captchaEnabled:!1,_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}};let N9t=new Set(["coinbase_wallet","base_account","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","wallet_connect_qr","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","binance","binanceus","bitkeep"]),Zse=t=>N9t.has(t),Jse=(t,e,n)=>n.indexOf(t)===e;function Yk(t,e){let n=Math.max(0,Math.min(1,t.toHsl().l+e));return gt({...t.toHsl(),l:n})}function NO(t,e){let n=t.getLuminance(),r=e.getLuminance();return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function P9t({backgroundTheme:t,accentHex:e}){let n,r;t==="light"?n=!1:t==="dark"?n=!0:(n=.5>=gt(t).getLuminance(),r=gt(t).toHslString());let i=n?"dark":"light",s=n?n6:Qk,{accent:o,accentLight:a,accentHover:l,accentDark:c,accentDarkest:u}=function(m,g){if(!m){let w=g?n6:Qk;return{accent:gt(w.background.interactive),accentLight:gt(w.background.interactive),accentHover:gt(w.background["interactive-hover"]),accentDark:gt(w.background["interactive-clicked"]),accentDarkest:gt(w.background["interactive-disabled"])}}let y=gt(m);return{accent:y,accentLight:Yk(y,.15),accentHover:Yk(y,.3),accentDark:Yk(y,-.06),accentDarkest:Yk(y,-.6)}}(e,n),h=function(m){let g=gt(Qk.text.default),y=gt(n6.text.default),w=NO(m,g),v=NO(m,y),b=m.toHsl();return b.h>=220&&b.h<=300&&v>=3?n6.text.default:w>v?Qk.text.default:n6.text.default}(o),f=gt(h),p=NO(o,gt(s.background.default))>=3;return{colorScheme:i,background:r||s.background.default,background2:s.background.elevated,background3:s.background.interactive,foreground:s.text.default,foreground2:s.text.muted,foreground3:s.text.placeholder,foreground4:s.border.default,accent:o.toHslString(),accentLight:a.toHslString(),accentHover:l.toHslString(),accentDark:c.toHslString(),accentDarkest:u.toHslString(),foregroundAccent:f.toHslString(),success:s.background.success,successDark:s.text.success,successLight:s.background.success,error:s.text.error,errorLight:s.background.error,warn:s.background.warning,warnLight:s.background.warning,warningDark:s.text.warning,errorDark:s.text.error,successBg:s.background.success,errorBg:s.background.error,errorBgHover:s.background["error-hover"],warnBg:s.background.warning,infoBg:s.background.info,infoBgHover:s.background["info-hover"],borderDefault:s.border.default,borderHover:s.border["default-hover"],borderFocus:s.border.focused,borderError:s.border.error,borderSuccess:s.border.success,borderWarning:s.border.warning,borderInfo:s.border.info,borderInteractive:s.border.interactive,borderInteractiveHover:s.border["interactive-hover"],backgroundHover:s.background["default-hover"],backgroundClicked:s.background["default-clicked"],backgroundDisabled:s.background["default-disabled"],backgroundInteractive:s.background.interactive,backgroundInteractiveHover:s.background["interactive-hover"],backgroundInteractiveClicked:s.background["interactive-clicked"],backgroundInteractiveDisabled:s.background["interactive-disabled"],foregroundHover:s.text.default,foregroundClicked:s.text.default,foregroundDisabled:s.text["default-disabled"],foregroundInteractive:s.text.interactive,foregroundInteractiveHover:s.text["interactive-hover"],accentHasGoodContrast:p?"1":"0",linkNavigationColor:p?o.toHslString():s.text.default,linkNavigationDecoration:p?"none":"underline",iconDefault:s.icon.default,iconMuted:s.icon.muted,iconSubtle:s.icon.subtle,iconInverse:s.icon.inverse,iconSuccess:s.icon.success,iconWarning:s.icon.warning,iconError:s.icon.error,iconInteractive:s.icon.interactive,iconDefaultHover:s.icon["default-hover"],iconMutedHover:s.icon["muted-hover"],iconSubtleHover:s.icon["subtle-hover"],iconDefaultClicked:s.icon["default-clicked"],iconMutedClicked:s.icon["muted-clicked"],iconSubtleClicked:s.icon["subtle-clicked"],iconDefaultDisabled:s.icon["default-disabled"],iconMutedDisabled:s.icon["muted-disabled"],iconSubtleDisabled:s.icon["subtle-disabled"],iconErrorHover:s.icon["error-hover"],iconInteractiveHover:s.icon["interactive-hover"],iconErrorClicked:s.icon["error-clicked"],iconInteractiveClicked:s.icon["interactive-clicked"],iconMutedDisabledAlt:s.icon["muted-disabled"],iconSubtleDisabledAlt:s.icon["subtle-disabled"]}}const n6={background:{default:"#020713",elevated:"#1A2230","default-hover":"#101724","elevated-hover":"#242B3B","default-clicked":"#1A2230","elevated-clicked":"#2C3444","default-disabled":"#020713","elevated-disabled":"#141824",success:"#0E3E2D",warning:"#373827",error:"#2E0C18",interactive:"#8B86FF","error-hover":"#441821","interactive-hover":"#7B73E5","interactive-clicked":"#6560CC","interactive-disabled":"#141824",info:"#1F2937","info-hover":"#141824"},icon:{default:"#F8F8F8",muted:"#9BA2AE",subtle:"#7B8491",inverse:"#020713",success:"#88E3B5",warning:"#FDF27B",error:"#EF4444",interactive:"#88B6FF","default-hover":"#F8F8F8","muted-hover":"#AEB3BD","subtle-hover":"#8B939E","default-clicked":"#F8F8F8","muted-clicked":"#9097A5","subtle-clicked":"#78818E","default-disabled":"#404452","muted-disabled":"#404452","subtle-disabled":"#404452","error-hover":"#F05555","interactive-hover":"#7B73E5","error-clicked":"#EF4444","interactive-clicked":"#6560CC","muted-disabled-alt":"#404452","subtle-disabled-alt":"#404452"},text:{default:"#F8F8F8",muted:"#9BA2AE",placeholder:"#7B8491",inverse:"#020713",success:"#ACEECB",warning:"#FEF9A0",error:"#FCA5A5",interactive:"#A29EFF","default-hover":"#F8F8F8","muted-hover":"#9BA2AE","placeholder-hover":"#656C78","default-clicked":"#F8F8F8","muted-clicked":"#9BA2AE","placeholder-clicked":"#656C78","default-disabled":"#404452","muted-disabled":"#404452","placeholder-disabled":"#404452","error-hover":"#FA8B8B","interactive-hover":"#8C88E5","error-clicked":"#F87171","interactive-clicked":"#7671CC","error-disabled":"#404452","interactive-disabled":"#404452"},border:{default:"#1F2937",primary:"#110F2A",interactive:"#88B0FF",focused:"#F8F8FC",info:"#5B83D3",success:"#317056",warning:"#FBBF24",error:"#F87171","default-hover":"#34304A","interactive-hover":"#88B0FF","default-clicked":"#1F2937","interactive-clicked":"#88B0FF","default-active":"#F8F8F8","default-disabled":"#1F2937","interactive-disabled":"#1F2937","error-hover":"#971B1C","error-clicked":"#971B1C","error-disabled":"#1F2937"}},Qk={background:{default:"#FFFFFF",elevated:"#F1F2F9","default-hover":"#F8F9FC","elevated-hover":"#E8E9F4","default-clicked":"#F1F2F9","elevated-clicked":"#DFE0EF","default-disabled":"#FFFFFF","elevated-disabled":"#F1F2F9",success:"#DCFCE7",warning:"#FEF3C7",error:"#FEE2E2",interactive:"#5B4FFF","error-hover":"#FECACA","interactive-hover":"#4F46E5","interactive-clicked":"#4338CA","interactive-disabled":"#F1F2F9",info:"#E0E7FF","info-hover":"#EEF2FF"},icon:{default:"#110F2A",muted:"#64668B",subtle:"#9498B8",inverse:"#FFFFFF",success:"#33B287",warning:"#F59E0B",error:"#EF4444",interactive:"#564FFF","default-hover":"#1D1B35","muted-hover":"#64668B","subtle-hover":"#888AAE","default-clicked":"#060C23","muted-clicked":"#64668B","subtle-clicked":"#788804","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","subtle-disabled":"#CBCDE1","error-hover":"#F06060","interactive-hover":"#4F46E5","error-clicked":"#DC3838","interactive-clicked":"#2BA482","error-disabled":"#CBCDE1","interactive-disabled":"#CBCDE1"},text:{default:"#040217",muted:"#64668B",placeholder:"#9498B8",inverse:"#FFFFFF",success:"#135638",warning:"#906218",error:"#991B1B",interactive:"#5B4FFF","default-hover":"#040217","muted-hover":"#64668B","placeholder-hover":"#9498B8","default-clicked":"#040217","muted-clicked":"#64668B","placeholder-clicked":"#9498B8","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","placeholder-disabled":"#CBCDE1","error-hover":"#991B1B","interactive-hover":"#5B4FFF","error-clicked":"#991B1B","interactive-clicked":"#5B4FFF","error-disabled":"#CBCDE1","interactive-disabled":"#CBCDE1"},border:{default:"#E2E3F0",primary:"#110F2A",interactive:"#5B4FFF",focused:"#949DF9",info:"#F1F2F9",success:"#87D7B7",warning:"#FACD63",error:"#F69393","default-hover":"#E2E3F0","interactive-hover":"#5B4FFF","default-clicked":"#E2E3F0","interactive-clicked":"#5B4FFF","default-active":"#110F2A","default-disabled":"#E2E3F0","interactive-disabled":"#E2E3F0","error-hover":"#F69393","error-clicked":"#F69393","error-disabled":"#E2E3F0"}};function J6e(t,e,n,r,i){var M,Q,ee,J,oe,de,ae,he,be,fe,ke,we,Ue,Me,_e,xe,Oe,Le,Ce,De,Ve,rt,G,U,z,X,ne,ie,ce,Be,Xe,Ye,et,Pe,Tt,dn,Bt,He,Ln,En,ot,Qt,q,K,se,re,le,ge,$e,je,Mt,bt,St,rn,Qe,ut,at,ct,ht,an,zn;let s,o,a,l,c,u,h,f,p,m,g,y,w,v,b,A,E=n?console.warn:()=>{};e!=null&&e.loginMethods?(s=e.loginMethods.includes("email"),o=e.loginMethods.includes("sms"),l=e.loginMethods.includes("wallet"),c=e.loginMethods.includes("google"),u=e.loginMethods.includes("twitter"),h=e.loginMethods.includes("discord"),m=e.loginMethods.includes("spotify"),g=e.loginMethods.includes("instagram"),f=e.loginMethods.includes("tiktok"),p=e.loginMethods.includes("line"),w=e.loginMethods.includes("github"),y=e.loginMethods.includes("linkedin"),v=e.loginMethods.includes("apple"),b=e.loginMethods.includes("farcaster"),A=e.loginMethods.includes("telegram"),a=e.loginMethods.includes("passkey")):(s=t.email_auth,o=t.sms_auth,l=t.wallet_auth||t.solana_wallet_auth,c=t.google_oauth,u=t.twitter_oauth,h=t.discord_oauth,w=t.github_oauth,m=t.spotify_oauth,g=t.instagram_oauth,f=t.tiktok_oauth,p=t.line_oauth,y=t.linkedin_oauth,v=t.apple_oauth,b=t.farcaster_auth,A=t.telegram_auth,a=t.passkey_auth),t.passkey_auth&&(a=!0),typeof window<"u"&&typeof window.PublicKeyCredential!="function"&&(a=!1);let $=[s,o].filter(Boolean),N=[c,u,h,w,m,g,f,p,y,v,b,A].filter(Boolean),R=[l].filter(Boolean),j=((M=e==null?void 0:e.loginMethods)==null?void 0:M.includes("passkey"))??!1,F=t.passkeys_for_signup_enabled??!1,W=[a&&(F||j)].filter(Boolean);if($.length+N.length+R.length+W.length===0)throw Error("You must enable at least one login method");let V=((Q=e==null?void 0:e.appearance)==null?void 0:Q.showWalletLoginFirst)!==void 0?(ee=e==null?void 0:e.appearance)==null?void 0:ee.showWalletLoginFirst:t.show_wallet_login_first;V&&R.length===0?(E("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),V=!1):V||N.length+$.length!==0||(E("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),V=!0);let B=((oe=(J=e==null?void 0:e.externalWallets)==null?void 0:J.walletConnect)==null?void 0:oe.enabled)??!0;e!=null&&e.loginMethods&&e.loginMethodsAndOrder&&E("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let k=(({input:Ht,overrides:Ft})=>Ft?Ft.primary.concat(Ft.overflow??[]).filter(Zse).filter(Jse):Ht?Ht.filter(Zse).filter(Jse):_f.appearance.walletList)({input:(de=e==null?void 0:e.appearance)==null?void 0:de.walletList,overrides:e==null?void 0:e.loginMethodsAndOrder}),C=(({input:Ht})=>{if(!Ht||!Ht.primary[0])return;let Ft=[Ht.primary[0]],An=[];for(let oi of(Ht.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),Ht.primary.slice(1)))Ft.includes(oi)?console.warn(`Duplicated login method: ${oi}`):Ft.push(oi);for(let oi of Ht.overflow??[])Ft.includes(oi)||An.includes(oi)?console.warn(`Duplicated login method: ${oi}`):An.push(oi);return{primary:Ft,overflow:An}})({input:e==null?void 0:e.loginMethodsAndOrder}),S=((ae=e==null?void 0:e.intl)==null?void 0:ae.defaultCountry)??"US",{chains:T,defaultChain:_}=function({supportedChains:Ht,defaultChainFromConfig:Ft}){let An;if(Ht){if(Ht.length===0)throw Error("`supportedChains` must contain at least one chain");An=R1e(Ht)}else An=[...UA];let oi=Ht?An[0]:du,uc=Ft??oi;if(!An.find(qt=>qt.id===uc.id))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:An,defaultChain:uc}}({supportedChains:e==null?void 0:e.supportedChains,defaultChainFromConfig:e==null?void 0:e.defaultChain}),P=!!(e!=null&&e.defaultChain),L=((he=e==null?void 0:e.customAuth)==null?void 0:he.getCustomAccessToken)&&((be=e==null?void 0:e.customAuth)==null?void 0:be.enabled)!==!1,O=L?"all-users":t.embedded_wallet_config.ethereum.create_on_login,I=t.embedded_wallet_config.solana.create_on_login;t.solana_wallet_auth&&!((ke=(fe=e==null?void 0:e.externalWallets)==null?void 0:fe.solana)!=null&&ke.connectors)&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let D=t.telegram_auth_config?{botId:t.telegram_auth_config.bot_id,botName:t.telegram_auth_config.bot_name,linkEnabled:t.telegram_auth_config.link_enabled,seamlessAuthEnabled:t.telegram_auth_config.seamless_auth_enabled}:void 0,Y=t.funding_config?{methods:t.funding_config.methods,options:t.funding_config.options,defaultRecommendedAmount:t.funding_config.default_recommended_amount,defaultRecommendedCurrency:t.funding_config.default_recommended_currency,promptFundingOnWalletCreation:t.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:t.funding_config.cross_chain_bridging_enabled}:void 0;return{id:t.id,appClientId:i,name:t.name,allowlistConfig:{errorTitle:t.allowlist_config.error_title,errorDetail:t.allowlist_config.error_detail,errorCtaText:t.allowlist_config.cta_text,errorCtaLink:t.allowlist_config.cta_link},legacyWalletUiConfig:t.legacy_wallet_ui_config,appearance:{logo:((we=e==null?void 0:e.appearance)==null?void 0:we.logo)??t.logo_url??void 0,landingHeader:((Ue=e==null?void 0:e.appearance)==null?void 0:Ue.landingHeader)??_f.appearance.landingHeader,loginMessage:typeof((Me=e==null?void 0:e.appearance)==null?void 0:Me.loginMessage)=="string"?(_e=e==null?void 0:e.appearance)==null?void 0:_e.loginMessage.slice(0,100):(xe=e==null?void 0:e.appearance)==null?void 0:xe.loginMessage,footerLogo:(Oe=e==null?void 0:e.appearance)==null?void 0:Oe.footerLogo,palette:P9t({backgroundTheme:((Le=e==null?void 0:e.appearance)==null?void 0:Le.theme)??_f.appearance.theme,accentHex:((Ce=e==null?void 0:e.appearance)==null?void 0:Ce.accentColor)??t.accent_color}),loginGroupPriority:V?"web3-first":"web2-first",hideDirectWeb2Inputs:!!((De=e==null?void 0:e.appearance)!=null&&De.hideDirectWeb2Inputs),walletList:k,walletChainType:((Ve=e==null?void 0:e.appearance)==null?void 0:Ve.walletChainType)??(({evmWalletAuth:Ht,solanaWalletAuth:Ft})=>Ht&&Ft?"ethereum-and-solana":Ht?"ethereum-only":Ft?"solana-only":"ethereum-only")({evmWalletAuth:t.wallet_auth??!1,solanaWalletAuth:t.solana_wallet_auth??!1})},loginMethods:{wallet:l,email:s,sms:o,passkey:a,google:c,twitter:u,discord:h,github:w,spotify:m,instagram:g,tiktok:f,line:p,linkedin:y,apple:v,farcaster:b,telegram:A},disablePlusEmails:t.disable_plus_emails,loginMethodsAndOrder:C,legal:{termsAndConditionsUrl:((rt=e==null?void 0:e.legal)==null?void 0:rt.termsAndConditionsUrl)??t.terms_and_conditions_url,privacyPolicyUrl:((G=e==null?void 0:e.legal)==null?void 0:G.privacyPolicyUrl)??t.privacy_policy_url,requireUsersAcceptTerms:t.require_users_accept_terms??!1},walletConnectCloudProjectId:(e==null?void 0:e.walletConnectCloudProjectId)??t.wallet_connect_cloud_project_id??_f.walletConnectCloudProjectId,rpcConfig:{rpcUrls:{},rpcTimeouts:((U=e==null?void 0:e.externalWallets)==null?void 0:U.signatureRequestTimeouts)??{}},chains:T,defaultChain:_,intl:{defaultCountry:S},shouldEnforceDefaultChainOnConnect:P,captchaEnabled:t.captcha_enabled??_f.captchaEnabled,captchaSiteKey:t.captcha_site_key,externalWallets:{coinbaseWallet:{config:{appName:t.name,appLogoUrl:t.logo_url,preference:{options:"all",...(ne=(X=(z=e==null?void 0:e.externalWallets)==null?void 0:z.coinbaseWallet)==null?void 0:X.config)==null?void 0:ne.preference},...(ce=(ie=e==null?void 0:e.externalWallets)==null?void 0:ie.coinbaseWallet)==null?void 0:ce.config}},baseAccount:{config:{appName:t.name,appLogoUrl:t.logo_url,...(Xe=(Be=e==null?void 0:e.externalWallets)==null?void 0:Be.baseAccount)==null?void 0:Xe.config,preference:{...(Pe=(et=(Ye=e==null?void 0:e.externalWallets)==null?void 0:Ye.baseAccount)==null?void 0:et.config)==null?void 0:Pe.preference,telemetry:!1}}},walletConnect:{enabled:B},solana:{connectors:(dn=(Tt=e==null?void 0:e.externalWallets)==null?void 0:Tt.solana)==null?void 0:dn.connectors},disableAllExternalWallets:((Bt=e==null?void 0:e.externalWallets)==null?void 0:Bt.disableAllExternalWallets)??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:!L&&(t.embedded_wallet_config.require_user_owned_recovery_on_create??!1),userOwnedRecoveryOptions:L?["user-passcode"]:t.embedded_wallet_config.user_owned_recovery_options,priceDisplay:((He=e==null?void 0:e.embeddedWallets)==null?void 0:He.priceDisplay)??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:((En=(Ln=e==null?void 0:e.embeddedWallets)==null?void 0:Ln.ethereum)==null?void 0:En.createOnLogin)??O},solana:{createOnLogin:((Qt=(ot=e==null?void 0:e.embeddedWallets)==null?void 0:ot.solana)==null?void 0:Qt.createOnLogin)??I},disableAutomaticMigration:((q=e==null?void 0:e.embeddedWallets)==null?void 0:q.disableAutomaticMigration)??!1,mode:t.embedded_wallet_config.mode,showWalletUIs:((K=e==null?void 0:e.embeddedWallets)==null?void 0:K.showWalletUIs)??t.enforce_wallet_uis??!0,extendedCalldataDecoding:((se=e==null?void 0:e.embeddedWallets)==null?void 0:se.extendedCalldataDecoding)??!1,transactionScanning:{enabled:((le=(re=e==null?void 0:e.embeddedWallets)==null?void 0:re.transactionScanning)==null?void 0:le.enabled)??!1,domain:(($e=(ge=e==null?void 0:e.embeddedWallets)==null?void 0:ge.transactionScanning)==null?void 0:$e.domain)??r??"https://auth.privy.io"}},mfa:{methods:t.mfa_methods??[],noPromptOnMfaRequired:((je=e==null?void 0:e.mfa)==null?void 0:je.noPromptOnMfaRequired)??!1},passkeys:{shouldUnlinkOnUnenrollMfa:(Mt=e==null?void 0:e.passkeys)==null?void 0:Mt.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:(bt=e==null?void 0:e.passkeys)==null?void 0:bt.shouldUnenrollMfaOnUnlink},customAuth:L?{enabled:!0,...e.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:D,passkeysForSignupEnabled:t.passkeys_for_signup_enabled},headless:!!(e!=null&&e.headless),render:{standalone:((St=e==null?void 0:e._render)==null?void 0:St.standalone)??_f._render.standalone},fundingConfig:Y,fundingMethodConfig:{...(e==null?void 0:e.fundingMethodConfig)??_f.fundingMethodConfig,moonpay:{...((rn=e==null?void 0:e.fundingMethodConfig)==null?void 0:rn.moonpay)??_f.fundingMethodConfig.moonpay,useSandbox:((Qe=e==null?void 0:e.fundingMethodConfig)==null?void 0:Qe.moonpay.useSandbox)??_f.fundingMethodConfig.moonpay.useSandbox}},whatsAppEnabled:!!t.whatsapp_enabled,customOAuthRedirectUrl:e==null?void 0:e.customOAuthRedirectUrl,solanaRpcs:{"solana:mainnet":((at=(ut=e==null?void 0:e.solana)==null?void 0:ut.rpcs)==null?void 0:at["solana:mainnet"])??null,"solana:devnet":((ht=(ct=e==null?void 0:e.solana)==null?void 0:ct.rpcs)==null?void 0:ht["solana:devnet"])??null,"solana:testnet":((zn=(an=e==null?void 0:e.solana)==null?void 0:an.rpcs)==null?void 0:zn["solana:testnet"])??null}}}const X6e={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"user-controlled-server-wallets-only"},fiat_on_ramp_enabled:!1,captcha_enabled:!1,captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1},e4e=J6e(X6e,void 0,!1);let PG=x.createContext({appConfig:e4e,isServerConfigLoaded:!1});const R9t=({children:t,client:e,legacyClient:n,clientConfig:r,appClientId:i})=>{let[s,o]=x.useState(null),a=x.useMemo(()=>J6e(s??X6e,r,!!s,typeof window<"u"?window.location.origin:void 0,i),[s,r,i]);return x.useEffect(()=>{if(!s)return;let l=function(h){var w,v;if(!h)return{};let{appearance:f,supportedChains:p,defaultChain:m,externalWallets:g,...y}=h;return{...y,...p?{supportedChains:p.map(b=>b.id)}:void 0,...m?{defaultChain:m.id}:void 0,...g?{walletConnect:g.walletConnect?{enabled:g.walletConnect.enabled}:void 0,coinbaseWallet:g.coinbaseWallet,solana:{connectors:(v=(w=g.solana)==null?void 0:w.connectors)==null?void 0:v.get().map(b=>b.walletClientType)}}:void 0}}(r),c=function(h,f=0){let p=3735928559^f,m=1103547991^f;for(let g,y=0;y<h.length;y++)p=Math.imul(p^(g=h.charCodeAt(y)),2654435761),m=Math.imul(m^g,1597334677);return p=Math.imul(p^p>>>16,2246822507)^Math.imul(m^m>>>13,3266489909),4294967296*(2097151&(m=Math.imul(m^m>>>16,2246822507)^Math.imul(p^p>>>13,3266489909)))+(p>>>0)}(JSON.stringify(l)).toString(),u=`privy:sent:${s.id}:${c}`;localStorage.getItem(u)||(n.createAnalyticsEvent({eventName:"sdk_initialize",payload:l}),localStorage.setItem(u,"t"))},[r,s]),x.useEffect(()=>{s||(async()=>{try{await e.initialize();let l=e.app.getConfig();l.custom_api_url&&n.updateApiUrl(l.custom_api_url),o(l)}catch(l){console.warn("Error generating app config: ",l)}})()},[]),d.jsx(PG.Provider,{value:{appConfig:a,isServerConfigLoaded:!!s},children:t})},Fn=()=>{let{appConfig:t}=x.useContext(PG);return t},t4e=()=>{let{isServerConfigLoaded:t}=x.useContext(PG);return t},n4e=x.createContext({app:e4e,currentScreen:null,lastScreen:null,navigate:Ie,navigateBack:Ie,resetNavigation:Ie,setModalData:Ie,onUserCloseViaDialogOrKeybindRef:void 0}),j9t=t=>{var a;let e=Fn(),n=t.authenticated,[r,i]=x.useState(t.initialScreen);x.useEffect(()=>{n||!t.initialScreen||t.initialScreen.isUnauthenticatedScreem||t.setInitialScreen(null)},[n]);let s=x.useRef(null);x.useEffect(()=>{t.open||(s.current=null)},[t.open]),x.useEffect(()=>{s.current=null},[t.initialScreen]);let o={app:e,data:t.data,setModalData:t.setModalData,currentScreen:t.initialScreen,lastScreen:r,navigate:(l,c=!0)=>{t.setInitialScreen(l),c&&i(t.initialScreen)},navigateBack:()=>{t.setInitialScreen(r)},resetNavigation:()=>{t.setInitialScreen(null),i(null)},onUserCloseViaDialogOrKeybindRef:s};return d.jsxs(n4e.Provider,{value:o,children:[(typeof e.appearance.logo=="string"||((a=e.appearance.logo)==null?void 0:a.type)==="img")&&d.jsx($9t,{src:typeof e.appearance.logo=="string"?e.appearance.logo:e.appearance.logo.props.src}),t.children]})},lt=()=>x.useContext(n4e),O9t=({style:t,...e})=>{let{app:n}=lt();return d.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[d.jsx("rect",{width:"28",height:"28",rx:"3",fill:(n==null?void 0:n.appearance.palette.colorScheme)==="dark"?"#3396ff":"#141414"}),d.jsx("g",{clipPath:"url(#clip0_1765_9946)",children:d.jsx("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_1765_9946",children:d.jsx("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},r4e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC";class a2 extends qw{async initialize(){var n,r,i,s,o;let e=await this.createProvider();this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session&&((r=(n=this.walletProvider)==null?void 0:n.session)!=null&&r.peer.metadata.url&&(this.walletEntry=$O((s=(i=this.walletProvider)==null?void 0:i.session)==null?void 0:s.peer.metadata.url),this.walletClientType=((o=this.walletEntry)==null?void 0:o.slug)||"unknown"),this.connected=!0,await this.syncAccounts()),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),this.getConnectedWallet()}async isConnected(){var e;return!!((e=this.walletProvider)!=null&&e.connected)}get walletBranding(){var n,r,i,s,o,a,l;let e=(i=(r=(n=this.walletProvider)==null?void 0:n.session)==null?void 0:r.peer.metadata.icons)==null?void 0:i[0];return{name:b9t(((o=(s=this.walletProvider)==null?void 0:s.session)==null?void 0:o.peer.metadata.name)||"")||"WalletConnect",icon:typeof e=="string"?e:r4e,id:((l=(a=this.walletProvider)==null?void 0:a.session)==null?void 0:l.peer.metadata.name.toLowerCase())||"wallet_connect_v2"}}async resetConnection(e){this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,function(){try{localStorage.removeItem(kO)}catch{}}(),this.onDisconnect())}async promptConnection(){if(this.provider)return new Promise((e,n)=>{(async()=>{var s,o,a,l,c,u;let r="",i=await Promise.race([(s=this.walletProvider)==null?void 0:s.enable(),this.proxyProvider.walletTimeout()]);if(i!=null&&i.length&&(r=i[0]),!r||r==="")throw new kr("Unable to retrieve address");(a=(o=this.walletProvider)==null?void 0:o.session)!=null&&a.peer.metadata.url&&(this.walletEntry=$O((c=(l=this.walletProvider)==null?void 0:l.session)==null?void 0:c.peer.metadata.url),this.walletClientType=((u=this.walletEntry)==null?void 0:u.slug)||"unknown",this.proxyProvider.rpcTimeoutDuration=_G(this.rpcConfig,this.walletClientType)),this.connected=!0,await this.syncAccounts(i),e()})().catch(r=>{n(r?Mg(r):new kr("Unknown error during connection"))})})}disconnect(){var e;(e=this.walletProvider)==null||e.disconnect().then(()=>this.onDisconnect()).catch(()=>console.warn("Unable to disconnect WalletConnect provider"))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){let e={};for(let s of this.chains){let o=x9t(s.id,this.chains,this.rpcConfig,this.privyAppId);o&&(e[s.id]=o)}let n=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],r=this.chains.map(s=>s.id),i=await t9t.init({projectId:this.walletConnectCloudProjectId,chains:n,optionalChains:r,optionalEvents:p6e,optionalMethods:f6e,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.origin,icons:[]}});return i.on("display_uri",s=>{var o;if(i.signer.abortPairingAttempt(),function(){try{localStorage.removeItem(kO)}catch{}}(),!this.showPrivyQrModal)throw new kr("WalletConnect modal not available - Privy handles wallet connections through its own UI");if(Cr&&this.walletEntry){let{redirect:a,href:l}=function(u,h){let f=b6e(h);if(f.deepLink)return x6e(f.deepLink,u);if(f.universalLink)return AG(f.universalLink,u);throw new ue(`Unsupported wallet ${h.id}`)}(s,this.walletEntry);E6e(a,"_self"),function({href:u,name:h}){try{localStorage.setItem(kO,JSON.stringify({href:u,name:h}))}catch{}}({href:l,name:((o=this.walletEntry.metadata)==null?void 0:o.shortName)||this.walletEntry.name});let c=Hse(s,this.walletEntry);return this.redirectUri=a,this.fallbackUniversalRedirectUri=c==null?void 0:c.redirect,this.showPrivyQrModal({native:a,universal:a})}if(this.redirectUri=void 0,this.walletEntry){let a=Hse(s,this.walletEntry);this.fallbackUniversalRedirectUri=a==null?void 0:a.redirect}this.showPrivyQrModal({native:s,universal:void 0})}),i.on("connect",()=>{var s,o,a;(s=i.session)!=null&&s.peer.metadata.url&&(this.walletEntry=$O((o=i.session)==null?void 0:o.peer.metadata.url),this.walletClientType=((a=this.walletEntry)==null?void 0:a.slug)||"unknown")}),i}async enableProvider(){var e,n;return(e=this.walletProvider)!=null&&e.connected?Promise.resolve(this.walletProvider.accounts):await((n=this.walletProvider)==null?void 0:n.enable())}setWalletEntry(e,n){this.walletEntry=e,this.showPrivyQrModal=n}constructor({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,shouldEnforceDefaultChainOnConnect:s,privyAppId:o,privyAppName:a,walletClientType:l}){super(l||"unknown",r,i,n),this.connectorType="wallet_connect_v2",this.privyAppId=o,this.privyAppName=a,this.walletConnectCloudProjectId=e,this.rpcConfig=n,this.shouldEnforceDefaultChainOnConnect=s,this.proxyProvider=new Gw(void 0,this.rpcTimeoutDuration),l&&(this.walletEntry=(c=>uC.getState().listings.find(({slug:u})=>L7(u)===L7(c)))(l),this.walletClientType=l)}}const M9t={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},i4e=x.createContext(void 0);let s4e=()=>x.useContext(i4e);function aN(t,e){if(!e)return;let n=s4e().current[t];return x.useEffect(()=>{var r;for(let[i,s]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,i)||console.warn(`Invalid event type "${i}" for action "${t}"`),(r=n[i])==null||r.push(s);return()=>{var i;for(let[s,o]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,s)||console.warn(`Invalid event type "${s}" for action "${t}"`),n[s]=(i=n[s])==null?void 0:i.filter(a=>a!==o)}},[e])}function Ge(t,e,n,...r){for(let i of t.current[e][n])i(...r)}function Kw(){let t=s4e();return(e,n,...r)=>Ge(t,e,n,...r)}const e3=Z.div.withConfig({displayName:"Grow",componentId:"sc-681ff332-0"})(["text-align:left;flex-grow:1;"]),D9t=Z.div.withConfig({displayName:"AlignBottom",componentId:"sc-681ff332-1"})(["display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;"]),mU=Z.div.withConfig({displayName:"LoginMethodContainer",componentId:"sc-681ff332-2"})(["display:flex;flex-direction:column;gap:8px;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),o4e=Z(mU).withConfig({displayName:"LoginMethodContainerWithScrollShadows",componentId:"sc-681ff332-3"})([""," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;max-height:400px;overflow-y:auto;scrollbar-width:none;padding:3px;"],t=>t.$colorScheme==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t.$colorScheme==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0);let B9t=ls(["&&{width:100%;font-size:16px;line-height:24px;min-height:56px;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;align-items:center;color:var(--privy-color-foreground);padding:10px 12px;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);transition:background-color 200ms ease;cursor:pointer;&:hover{background-color:var(--privy-color-background-2);}&:disabled{cursor:pointer;background-color:var(--privy-color-background-2);}}"]);const L9t=Z.div.withConfig({displayName:"Subtitle",componentId:"sc-681ff332-4"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),Gr=Z.button.attrs({className:"login-method-button"}).withConfig({displayName:"LoginMethodButton",componentId:"sc-681ff332-5"})(["",""],B9t),Gh=Z.div.withConfig({displayName:"LoginMethodIconWrapper",componentId:"sc-681ff332-7"})(["width:32px;height:32px;border-radius:",";background:",";display:flex;align-items:center;justify-content:center;flex-shrink:0;svg{width:",";height:",";color:",";}"],t=>t.$fullSize?"0":"4px",t=>t.$fullSize?"transparent":"var(--privy-color-background-2)",t=>t.$fullSize?"32px":"18px",t=>t.$fullSize?"32px":"18px",t=>t.$fullSize?"inherit":"var(--privy-color-icon-muted)"),t3=Z.div.withConfig({displayName:"Hide",componentId:"sc-681ff332-8"})(["width:100%;height:100%;min-height:inherit;display:flex;flex-direction:column;",""],t=>t.$if?"display: none;":""),F9t=Z.div.withConfig({displayName:"EmptyWalletState",componentId:"sc-681ff332-9"})(["width:100%;height:100%;padding:",";"],t=>t.$withPadding?"64px 0px":"0px"),U9t=Z.div.withConfig({displayName:"Header",componentId:"sc-681ff332-10"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:32px;gap:12px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]);function z9t(t){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 460 40",...t,children:d.jsx("g",{fill:t.color||"var(--privy-color-foreground)",children:d.jsx("path",{d:"M0 15.4v15.38h4.64V19.96h3.58c2.47 0 3.63-.01 3.77-.02 1-.08 1.49-.15 2.18-.3a9.45 9.45 0 0 0 4.6-2.37c1.66-1.57 2.64-3.87 2.81-6.56.02-.3.02-1.19 0-1.49-.1-1.77-.56-3.35-1.36-4.72A8.84 8.84 0 0 0 15.14.57c-.93-.3-1.75-.43-3.09-.54C11.9.02 10.2 0 5.93 0H0ZM10.85 4c1.85.05 3.1.45 4.16 1.3.22.17.54.49.69.68a5.97 5.97 0 0 1 1.19 3.13c.04.35.04 1.36 0 1.71-.08.68-.23 1.3-.44 1.85a4.8 4.8 0 0 1-1.09 1.68A5.63 5.63 0 0 1 12 15.92c-.6.08-.4.08-4.01.09H4.64V3.98h2.9c1.6 0 3.08 0 3.31.02ZM187.65 5.71v5.72h-.27l-.09-.14a15.9 15.9 0 0 0-1.21-1.73c-.43-.5-1-.95-1.7-1.36-.54-.3-1.05-.5-1.73-.63a8.98 8.98 0 0 0-1.7-.17 8.84 8.84 0 0 0-7.8 4.03 12.95 12.95 0 0 0-2.03 6.39c-.07.98-.06 2.15.02 3.13.2 2.47.87 4.53 2.02 6.25a8.98 8.98 0 0 0 10.22 3.65 6.5 6.5 0 0 0 2.8-1.93c.41-.51.84-1.1 1.1-1.55l.1-.17h.37v3.58h4.38V0h-4.48Zm-5.24 5.54c1.3.14 2.3.6 3.17 1.48.9.9 1.5 2.09 1.85 3.64.36 1.6.39 3.72.06 5.43a8.13 8.13 0 0 1-1.54 3.62 5.1 5.1 0 0 1-3.93 1.96 6.13 6.13 0 0 1-2.32-.31 5.87 5.87 0 0 1-3.33-3.5c-.39-1-.62-2.05-.72-3.32-.03-.32-.04-1.35-.02-1.73.08-1.56.4-2.91.96-4.05a6.2 6.2 0 0 1 1.06-1.58 5.08 5.08 0 0 1 3.6-1.66c.25-.02.9 0 1.16.02ZM210.07 15.39l.01 15.38h4.38l.01-3.57h.37l.09.15c.24.44.84 1.26 1.21 1.7a6.79 6.79 0 0 0 2.57 1.75 9.3 9.3 0 0 0 6.86-.49 9.28 9.28 0 0 0 4.05-4.07A13.05 13.05 0 0 0 231 21.6c.21-1.73.18-3.7-.09-5.32a13.03 13.03 0 0 0-1.5-4.3 9.1 9.1 0 0 0-3.75-3.63 9.15 9.15 0 0 0-4.43-.96 7.46 7.46 0 0 0-2.8.5A7.07 7.07 0 0 0 216 9.7c-.4.52-.82 1.12-1.1 1.59l-.07.14h-.27V0h-4.5Zm11.13-4.14c1.07.1 1.94.44 2.7 1.04a6.1 6.1 0 0 1 1.64 1.98c.43.84.78 2 .94 3.11.15 1.16.16 2.4.02 3.54a9.34 9.34 0 0 1-1.39 4.03 5.33 5.33 0 0 1-2.69 2.15c-.9.3-2.04.38-3.06.2a5.14 5.14 0 0 1-3.45-2.37 6.03 6.03 0 0 1-.45-.8c-.5-1.03-.8-2.2-.92-3.58-.04-.49-.06-.89-.05-1.53.01-.76.05-1.23.13-1.85.38-2.53 1.47-4.38 3.15-5.31a5.46 5.46 0 0 1 2.3-.63 10 10 0 0 1 1.13.02ZM69.05 2.17l-.01 2.77V7.7h-3.36v3.6h3.36v6.8l.01 7.15c.06 1.4.4 2.44 1.1 3.37a5.8 5.8 0 0 0 2.97 2.07c.91.3 1.83.42 2.9.38a8.71 8.71 0 0 0 2.66-.48l-.8-3.7-.38.06a4.96 4.96 0 0 1-2.43-.06c-.33-.1-.56-.25-.8-.49-.4-.41-.6-.88-.7-1.67-.02-.2-.02-.62-.03-6.82v-6.6h4.73V7.7h-4.73V2.16h-4.49ZM133.34 2.17V7.7h-3.39v3.6h3.38v6.9l.01 7.17a5.66 5.66 0 0 0 2.36 4.49c.85.6 2.03 1.03 3.26 1.17.85.1 2.03.05 2.81-.1.3-.06.75-.18 1-.26l.2-.06v-.05l-.81-3.67-.37.06a4.99 4.99 0 0 1-1.8.09c-.85-.13-1.32-.4-1.7-.97a2.63 2.63 0 0 1-.39-1.04c-.06-.4-.06 0-.06-7.1V11.3h4.7V7.7h-4.7l-.01-2.77V2.16h-4.49ZM293.41 2.36a14.56 14.56 0 0 0-13.7 16.07 14.59 14.59 0 0 0 21.86 11.08 14.5 14.5 0 0 0 7.11-14.07 14.61 14.61 0 0 0-6.53-10.73 14.49 14.49 0 0 0-8.74-2.35ZM350.8 2.36a10.17 10.17 0 0 0-7.56 4.2c-.16.2-.45.63-.58.83l-.05.1h-.47l-.01-4.36h-7.36v36.4h7.82V27.27h.49l.05.07a11.3 11.3 0 0 0 7.49 4.15 10.52 10.52 0 0 0 9.38-4.1c1.66-2.1 2.73-4.9 3.07-8.06.1-.87.13-1.4.13-2.37 0-.8 0-1.1-.07-1.76a15.95 15.95 0 0 0-3.23-8.72 12.8 12.8 0 0 0-1.85-1.84 10.49 10.49 0 0 0-7.26-2.28Zm-.94 6.05c1.27.15 2.33.65 3.2 1.5.98.96 1.67 2.31 2.03 4 .34 1.57.38 3.68.12 5.39a9.78 9.78 0 0 1-1.04 3.25c-.14.25-.44.69-.6.89a5.35 5.35 0 0 1-4.31 2.07 5.25 5.25 0 0 1-4.41-1.9 7.35 7.35 0 0 1-1.26-2.32 14.09 14.09 0 0 1-.62-4.83c.05-1.98.38-3.53 1.02-4.85a5.63 5.63 0 0 1 2.5-2.65c.66-.34 1.3-.5 2.14-.58.18-.02 1.04 0 1.23.03ZM363.63 3.1l-.01 3.2v3.16h1.43c1.26.01 1.44.02 1.54.04.42.09.66.28.79.62.08.23.08.08.08 2.96a911.57 911.57 0 0 1 .03 10.18v7.54h7.82v-7.4l.01-7.83c.03-.94.11-1.63.27-2.28.46-1.9 1.54-2.93 3.35-3.23.52-.08.2-.08 5-.08h4.4V3.08h-3.1c-3.48 0-3.91.01-4.67.1-1.83.2-3.04.79-3.96 1.88-.5.6-.9 1.32-1.26 2.26l-.06.17h-.46V3.09h-5.6c-4.46 0-5.6 0-5.6.02ZM390.8 16.95V30.8h3.87l3.86-.01V3.09h-7.73ZM400.6 3.1l-.01.4v.38l4.66 13.4 4.69 13.47.02.05h10.3l.03-.05 4.67-13.45 4.67-13.4V3.1h-7.43l-6.7 19.26h-.5l-3.28-9.5-3.31-9.64-.05-.12h-3.88l-3.88.01ZM430.98 3.1c-.01 0-.02.19-.02.4v.39l5.08 14.59c2.8 8.02 5.08 14.6 5.08 14.61.01.02-.22.02-4.8.02h-4.82v6.42h4.95c5.09 0 5.23 0 5.87-.06 3.15-.28 5.29-1.63 6.63-4.15.28-.55.44-.95.87-2.16L459 6.78l1-2.89v-.8h-7.43l-6.69 19.26h-.5l-3.27-9.46-3.31-9.64-.06-.16h-3.88l-3.88.01ZM36.57 7.36c-1.36.1-2.6.6-3.62 1.45a5.65 5.65 0 0 0-1.67 2.42l-.05.13H31V7.7h-4.35v23.08h4.5v-7.3c0-8 0-7.34.08-7.82a4.89 4.89 0 0 1 2.06-3.18c.83-.58 1.74-.89 2.87-.98a11.87 11.87 0 0 1 2.8.25H39v-4.3l-.21-.02c-.61-.07-1.74-.1-2.22-.07ZM51.08 7.41c-2.33.12-4.3.84-5.95 2.16a9.89 9.89 0 0 0-2.03 2.2 12.5 12.5 0 0 0-2 5.78 18.04 18.04 0 0 0 0 3.65 12.13 12.13 0 0 0 2.26 6.05 9.74 9.74 0 0 0 5 3.52c2.11.64 4.7.64 6.8 0a9.78 9.78 0 0 0 4.88-3.37c1.38-1.78 2.19-4 2.4-6.58.13-1.46.06-3.06-.18-4.42a11.24 11.24 0 0 0-3.58-6.6 10 10 0 0 0-5.75-2.35c-.56-.06-1.31-.07-1.85-.04Zm1.42 3.78c.88.1 1.62.34 2.28.75a6.13 6.13 0 0 1 1.99 2.15 10.31 10.31 0 0 1 1.2 5c.02 1.23-.12 2.44-.42 3.51a7.14 7.14 0 0 1-1.81 3.32c-.61.6-1.2.98-1.95 1.24a6 6 0 0 1-2 .3 5.7 5.7 0 0 1-2.72-.6 5 5 0 0 1-1.28-.94A7.1 7.1 0 0 1 46 22.73c-.57-1.99-.6-4.46-.08-6.5a7.24 7.24 0 0 1 2.03-3.67 5.13 5.13 0 0 1 3.35-1.4 11 11 0 0 1 1.2.03ZM92.05 7.4c-.96.06-1.56.15-2.3.33a9.62 9.62 0 0 0-6.09 4.66 13.5 13.5 0 0 0-1.71 7c0 .83 0 1.04.06 1.6.16 1.77.58 3.32 1.29 4.7A9.72 9.72 0 0 0 90.28 31c1.84.37 4.08.32 5.85-.13a9.07 9.07 0 0 0 5.02-3.1A7.64 7.64 0 0 0 102.5 25l-2.11-.39-2.11-.38-.08.13a4.72 4.72 0 0 1-2.35 2.55 6.3 6.3 0 0 1-2.23.58c-.29.03-1.13.03-1.44 0a6.35 6.35 0 0 1-3.02-1.04 5.93 5.93 0 0 1-2.02-2.43 8.44 8.44 0 0 1-.72-3.18v-.26h16.38v-.81c0-1.83-.06-2.76-.25-3.87-.2-1.22-.53-2.24-1.05-3.28a8.9 8.9 0 0 0-2.66-3.26 10.1 10.1 0 0 0-5.34-1.94 18.3 18.3 0 0 0-1.46-.03Zm1.3 3.75c1.2.13 2.19.55 3.05 1.3a5.8 5.8 0 0 1 1.78 2.96c.13.51.21 1.17.21 1.66v.15H86.43v-.12c.08-.97.3-1.78.72-2.61.5-1 1.2-1.8 2.14-2.42a5.32 5.32 0 0 1 2.9-.95c.2-.01.97 0 1.17.03ZM116.79 7.41c-2 .1-3.73.65-5.22 1.65a10.7 10.7 0 0 0-4.25 6.06 16.1 16.1 0 0 0-.5 5.8c.2 2.17.84 4.13 1.88 5.76.58.9 1.32 1.73 2.15 2.4a9.37 9.37 0 0 0 3.6 1.8 12.06 12.06 0 0 0 3.92.34 10.2 10.2 0 0 0 3.84-.95 8.31 8.31 0 0 0 4.76-6.75l.01-.04h-4.37l-.05.16a4.87 4.87 0 0 1-4.24 3.75c-.59.07-1.32.06-1.93-.05a5.47 5.47 0 0 1-3.5-2.27c-.56-.75-1-1.73-1.26-2.79a13.8 13.8 0 0 1-.16-5.24 7.77 7.77 0 0 1 2.1-4.3 5.48 5.48 0 0 1 2.15-1.3 6.4 6.4 0 0 1 3.89.1c.59.21 1.03.5 1.5.96a5.32 5.32 0 0 1 1.46 2.5l.04.15h4.37v-.06a8.22 8.22 0 0 0-5.31-6.94 10.98 10.98 0 0 0-4.88-.74ZM156.2 7.41a9.87 9.87 0 0 0-6 2.29 11.02 11.02 0 0 0-3.41 5.43c-.52 1.78-.68 3.9-.48 5.97.17 1.8.63 3.38 1.37 4.8a9.68 9.68 0 0 0 5.91 4.86c1.65.48 3.63.61 5.53.36 3.72-.49 6.55-2.62 7.56-5.69.12-.39.13-.42.1-.43-.02 0-4.13-.75-4.19-.75-.03 0-.04 0-.1.16-.18.42-.45.9-.72 1.22-.16.2-.49.53-.7.7-.67.54-1.5.9-2.43 1.08-.48.08-.83.11-1.41.11-.64 0-1.07-.04-1.6-.15a5.76 5.76 0 0 1-3.93-2.83 8 8 0 0 1-.99-3.79v-.16h16.38v-1.11l-.02-1.43c-.1-2.25-.53-4-1.35-5.59a9.24 9.24 0 0 0-6.18-4.75c-1.04-.26-2.2-.36-3.33-.3Zm1.45 3.74a5.35 5.35 0 0 1 3.66 1.94 6.1 6.1 0 0 1 1.38 4.01v.12h-11.97v-.06c0-.02 0-.14.02-.25a6.6 6.6 0 0 1 2.15-4.32 5.73 5.73 0 0 1 3.5-1.46c.25-.02 1 0 1.26.02ZM233.58 7.82l8.37 23.22a49.22 49.22 0 0 1-.67 1.9 5.36 5.36 0 0 1-1.14 1.8c-.41.4-.82.58-1.48.69-.27.04-1.03.03-1.35 0a8.05 8.05 0 0 1-1.1-.23l-1.08 3.67c0 .02.32.14.66.22.83.21 1.57.29 2.56.28.56-.01.8-.03 1.24-.1 2.71-.4 4.66-2.09 5.86-5.08l9.64-26.44c0-.02-4.82-.06-4.83-.05l-2.93 8.96-2.91 8.94h-.24l-.22-.65-2.91-8.95-2.7-8.3H233.53ZM293.05 35.8c-1.18.04-1.93.09-2.8.16-2.52.24-4.53.69-5.43 1.23-.7.41-.76.86-.2 1.28.88.66 3.29 1.19 6.36 1.4a48.55 48.55 0 0 0 5.75.05c3.47-.19 6.24-.78 7.11-1.5.22-.19.3-.34.3-.53 0-.1 0-.12-.04-.22-.35-.69-2.32-1.3-5.25-1.63a41.09 41.09 0 0 0-5.8-.24Zm0 0"})})})}let Xse=Z.span.withConfig({displayName:"TermsAndConditionsContainer",componentId:"sc-ff3bd734-0"})(["margin-top:16px;font-size:13px;text-align:center;color:var(--privy-color-foreground-3);display:block;&& > a{color:var(--privy-color-accent);}"]);function RG({app:{legal:{privacyPolicyUrl:t,termsAndConditionsUrl:e,requireUsersAcceptTerms:n}},alwaysShowImplicitConsent:r}){let i=!(!t||!e);return n&&!r||!e&&!t?d.jsx(Xse,{}):d.jsxs(Xse,{children:["By logging in I agree to the"," ",e&&d.jsx("a",{href:e,target:"_blank",children:i?"Terms":"Terms of Service"}),i&&" & ",t&&d.jsx("a",{href:t,target:"_blank",children:"Privacy Policy"})]})}const er=({className:t})=>{let{appearance:e}=Fn();return d.jsx(Ri,{className:t,children:e.footerLogo??d.jsx(W9t,{href:"https://www.privy.io/",target:"_blank",id:"protected-by-privy",children:d.jsx(z9t,{color:"currentColor",height:13,width:150})})})};let W9t=Z.a.withConfig({displayName:"PrivyLink",componentId:"sc-ff3bd734-1"})(["&&{padding:0;color:var(--privy-color-foreground-3);}"]);const Ri=Z.div.withConfig({displayName:"ModalFooter",componentId:"sc-ff3bd734-2"})(["display:flex;align-items:center;justify-content:center;padding-top:8px;padding-bottom:12px;gap:8px;font-size:13px;&& a{padding:0.5rem 0;&:hover{text-decoration:none;}}@media all and (display-mode:standalone){padding-bottom:30px;}"]),a4e=({success:t,fail:e})=>d.jsxs(H9t,{children:[d.jsx(eoe,{children:d.jsx(jG,{className:t?"success":e?"fail":""})}),d.jsx(eoe,{children:d.jsx(iu,{className:t?"success":e?"fail":""})})]});let eoe=Z.span.withConfig({displayName:"PositionedAbsoluteLoader",componentId:"sc-aba6339d-0"})(["&&{position:absolute;top:0;left:0;z-index:2;}"]),H9t=Z.span.withConfig({displayName:"ConnectionLoaderContainer",componentId:"sc-aba6339d-1"})(["position:relative;width:82px;height:82px;display:inline-block;"]);const iu=Z.span.withConfig({displayName:"Loader",componentId:"sc-aba6339d-2"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;}@keyframes rotation{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}&&&.success{border-color:var(--privy-color-icon-success);border-bottom-color:var(--privy-color-icon-success);}&&&.fail{border-color:var(--privy-color-icon-error);border-bottom-color:var(--privy-color-icon-error);}"],t=>t.color??"var(--privy-color-icon-subtle)"),jG=Z(iu).withConfig({displayName:"LoaderFaint",componentId:"sc-aba6339d-3"})(["&&{border-bottom-color:",";border-color:",";animation:none;opacity:0.5;}"],t=>t.color??"var(--privy-color-border-default)",t=>t.color??"var(--privy-color-border-default)"),Bg=t=>d.jsx(V9t,{color:t.color||"var(--privy-color-foreground-3)"});let V9t=Z(iu).withConfig({displayName:"StyledButtonLoader",componentId:"sc-aba6339d-4"})(["&&{height:1rem;width:1rem;margin:2px 0;border-width:1.5px;transition:border-color 200ms ease;}"]);const cw=({variant:t="primary",size:e="lg",children:n,success:r,...i})=>{switch(t){case"secondary":return d.jsx(kd,{size:e,...i,children:n});case"error":return d.jsx(kd,{$warn:!0,size:e,...i,children:n});case"muted":return d.jsx(K9t,{size:e,...i,children:n});default:return d.jsx(pr,{size:e,success:r,...i,children:n})}},lN=Z.button.withConfig({displayName:"BaseButton",componentId:"sc-e537b447-0"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:auto;cursor:pointer;border-radius:",";font-size:14px;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{height:",";padding:0 ",";}"],({$size:t})=>t==="sm"?"6px":"var(--privy-border-radius-sm)",({$size:t})=>t==="sm"?"28px":"48px",({$size:t})=>t==="sm"?"10px":"16px"),pr=({children:t,loading:e,disabled:n,success:r,size:i="lg",loadingText:s="Loading...",as:o,onClick:a,...l})=>{let c=o==="a",u=!(!e&&!n);return d.jsx(G9t,{as:o,disabled:c?void 0:u,"aria-disabled":c?u:void 0,$success:r,$size:i,onClick:h=>{c&&u?h.preventDefault():a==null||a(h)},...l,children:e?d.jsxs(d.Fragment,{children:[d.jsx(Bg,{}),s?d.jsx("span",{style:{marginLeft:"8px"},children:s}):null]}):t})},F7=({children:t,loading:e,disabled:n,...r})=>d.jsx(q9t,{disabled:n,...r,children:e?d.jsx(Bg,{color:"var(--privy-color-foreground-accent)"}):t});let q9t=Z(lN).withConfig({displayName:"StyledPrimaryButtonWithoutGray",componentId:"sc-e537b447-1"})(["position:relative;&&{background-color:var(--privy-color-accent);color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:var(--privy-color-accent-dark);}&:active{background-color:var(--privy-color-accent-dark);}&:disabled,&:hover:disabled,&:active:disabled{cursor:not-allowed;color:var(--privy-color-foreground-disabled);background-color:var(--privy-color-accent-dark);}"]),G9t=Z(lN).withConfig({displayName:"StyledPrimaryButton",componentId:"sc-e537b447-2"})(["position:relative;&&{background-color:",";color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:",";}&:active{background-color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)",t=>t.disabled&&ls(["&&&,&&&:hover,&&&:active{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"]));const kd=({children:t,loading:e,disabled:n,size:r="lg",loadingText:i="Loading...",as:s,onClick:o,...a})=>{let l=s==="a",c=!(!e&&!n);return d.jsx(Y9t,{as:s,disabled:l?void 0:c,"aria-disabled":l?c:void 0,$size:r,onClick:u=>{l&&c?u.preventDefault():o==null||o(u)},...a,children:e?d.jsxs(d.Fragment,{children:[d.jsx(Bg,{}),i?d.jsx("span",{style:{marginLeft:"8px"},children:i}):null]}):t})},K9t=({children:t,loading:e,disabled:n,size:r="lg",loadingText:i="Loading...",as:s,onClick:o,...a})=>{let l=s==="a",c=!(!e&&!n);return d.jsx(Q9t,{as:s,disabled:l?void 0:c,"aria-disabled":l?c:void 0,$size:r,onClick:u=>{l&&c?u.preventDefault():o==null||o(u)},...a,children:e?d.jsxs(d.Fragment,{children:[d.jsx(Bg,{}),i?d.jsx("span",{style:{marginLeft:"8px"},children:i}):null]}):t})};let Y9t=Z(lN).withConfig({displayName:"StyledSecondaryButton",componentId:"sc-e537b447-3"})(["&&{border-width:1px;border-style:solid;border-color:",";background-color:var(--privy-color-background);color:",";transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:",";background-color:",";color:",";}&:active{border-color:",";background-color:",";color:",";}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive-hover)",t=>t.$warn?"var(--privy-color-error-light)":"var(--privy-color-info-bg-hover)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive)",t=>t.$warn?"var(--privy-color-error-bg-hover)":"var(--privy-color-info-bg)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.disabled&&ls(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"])),Q9t=Z(lN).withConfig({displayName:"StyledMutedButton",componentId:"sc-e537b447-4"})(["&&{border-width:1px;border-style:solid;border-color:var(--privy-color-border-default);background-color:transparent;color:var(--privy-color-text-muted);transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg-hover);color:var(--privy-color-foreground-2);}&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg);color:var(--privy-color-foreground-2);}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],t=>t.disabled&&ls(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"]));const cN=({children:t,onClick:e,disabled:n,isSubmitting:r,...i})=>d.jsxs(Z9t,{$isSubmitting:r,onClick:e,disabled:n,...i,children:[d.jsx("span",{children:t}),d.jsx("span",{children:d.jsx(Bg,{})})]});let Z9t=Z.button.withConfig({displayName:"StyledEmbeddedButton",componentId:"sc-e537b447-7"})(["&&{color:var(--privy-color-accent);font-size:16px;font-style:normal;font-weight:500;line-height:24px;cursor:pointer;border-radius:0px var(--privy-border-radius-mdlg) var(--privy-border-radius-mdlg) 0px;border:none;transition:color 200ms ease;@media (min-width:441px){font-size:14px;}:hover{color:var(--privy-color-accent-dark);}&& > :first-child{opacity:",";}&& > :last-child{position:absolute;display:flex;top:50%;left:50%;transform:translate3d(-50%,-50%,0);opacity:",";}:disabled,:hover:disabled{color:var(--privy-color-foreground-disabled);cursor:not-allowed;}}"],t=>t.$isSubmitting?0:1,t=>t.$isSubmitting?1:0);const J9t=({backFn:t})=>d.jsx("div",{children:d.jsx(OG,{onClick:t,children:d.jsx(Edt,{height:"16px",width:"16px",strokeWidth:2})})}),X9t=({infoFn:t})=>d.jsx("div",{children:d.jsx(tSt,{"aria-label":"info",onClick:t,children:d.jsx(r2,{height:"22px",width:"22px",strokeWidth:2})})}),eSt=t=>d.jsx("div",{children:d.jsx(OG,{"aria-label":"close modal",onClick:t.onClose,children:d.jsx(pht,{height:"16px",width:"16px",strokeWidth:2})})}),bn=({backFn:t,infoFn:e,onClose:n,title:r,closeable:i=!0,className:s})=>{let{closePrivyModal:o}=st(),a=Fn();return d.jsxs(nSt,{className:s,children:[d.jsxs(rSt,{children:[t&&d.jsx(J9t,{backFn:t}),e&&d.jsx(X9t,{infoFn:e})]}),r&&d.jsx(sSt,{id:"privy-dialog-title",children:r}),d.jsx(iSt,{children:!a.render.standalone&&i&&d.jsx(eSt,{onClose:n||(()=>o())})})]})};let OG=Z.button.withConfig({displayName:"StyledButton",componentId:"sc-e033e17a-0"})(["&&{cursor:pointer;display:flex;opacity:0.6;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-full);padding:4px;> svg{margin:auto;color:var(--privy-color-foreground);}:hover{opacity:1;}}"]),tSt=Z(OG).withConfig({displayName:"TransparentStyledButton",componentId:"sc-e033e17a-1"})(["&&{background-color:transparent;}"]),nSt=Z.div.withConfig({displayName:"StyledHeader",componentId:"sc-e033e17a-2"})(["padding:16px 0;display:flex;align-items:center;justify-content:space-between;h2{font-size:16px;line-height:24px;font-weight:600;color:var(--privy-color-foreground);}"]),rSt=Z.div.withConfig({displayName:"LeftActionContainer",componentId:"sc-e033e17a-3"})(["flex:1;align-items:center;display:flex;gap:8px;"]),iSt=Z.div.withConfig({displayName:"RightActionContainer",componentId:"sc-e033e17a-4"})(["flex:1;display:flex;justify-content:flex-end;"]),sSt=Z.div.withConfig({displayName:"TitleContainer",componentId:"sc-e033e17a-5"})(["overflow:hidden;white-space:nowrap;max-width:100%;text-overflow:ellipsis;text-align:center;color:var(--privy-color-foreground-2);"]);const n5=({size:t})=>d.jsx(oSt,{$size:t,children:d.jsxs(aSt,{children:[d.jsx(lSt,{}),d.jsx(cSt,{})]})});let oSt=Z.div.withConfig({displayName:"LoadingContainer",componentId:"sc-5be8451e-0"})(["--spinner-size:",";display:inline-flex;justify-content:center;align-items:center;@media all and (display-mode:standalone){margin-bottom:30px;}"],t=>t.$size?t.$size:"96px"),aSt=Z.div.withConfig({displayName:"SpinnerContainer",componentId:"sc-5be8451e-1"})(["position:relative;height:var(--spinner-size);width:var(--spinner-size);opacity:1;animation:fadein 200ms ease;"]),lSt=Z.div.withConfig({displayName:"CircleFixed",componentId:"sc-5be8451e-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);&&{border:4px solid var(--privy-color-border-default);border-radius:50%;}"]),cSt=Z.div.withConfig({displayName:"CircleRotate",componentId:"sc-5be8451e-3"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:var(--privy-color-icon-subtle) transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]);const uSt=Z.div.withConfig({displayName:"ScreenRoot",componentId:"sc-cc9e9a32-0"})(["--screen-space:16px;--screen-space-lg:calc(var(--screen-space) * 1.5);position:relative;overflow:hidden;margin:0 calc(-1 * var(--screen-space));height:100%;border-radius:var(--privy-border-radius-lg);"]),dSt=Z.div.withConfig({displayName:"ScreenRootInner",componentId:"sc-cc9e9a32-1"})(["display:flex;flex-direction:column;gap:calc(var(--screen-space) * 1.5);width:100%;background:var(--privy-color-background);padding:0 var(--screen-space-lg) var(--screen-space);height:100%;border-radius:var(--privy-border-radius-lg);"]),hSt=Z.div.withConfig({displayName:"HeaderContainer",componentId:"sc-cc9e9a32-2"})(["position:relative;display:flex;flex-direction:column;"]),fSt=Z(bn).withConfig({displayName:"StyledModalHeader",componentId:"sc-cc9e9a32-3"})(["margin:0 -8px;"]),pSt=Z.div.withConfig({displayName:"BodyContainer",componentId:"sc-cc9e9a32-4"})(["flex:1 1 auto;display:flex;flex-direction:column;overflow-y:auto;padding:3px;margin:-3px;&::-webkit-scrollbar{display:none;}scrollbar-gutter:stable both-edges;scrollbar-width:none;-ms-overflow-style:none;"," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;"],({$colorScheme:t})=>t==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0),mSt=Z.div.withConfig({displayName:"FooterContainer",componentId:"sc-cc9e9a32-5"})(["display:flex;flex-direction:column;gap:var(--screen-space-lg);"]);let gSt=Z.div.withConfig({displayName:"CenteredHeader",componentId:"sc-cc9e9a32-6"})(["text-align:center;display:flex;flex-direction:column;align-items:center;gap:var(--screen-space);"]),ySt=Z.div.withConfig({displayName:"TitleContainer",componentId:"sc-cc9e9a32-7"})(["display:flex;flex-direction:column;gap:4px;"]),wSt=Z.h3.withConfig({displayName:"HeaderTitle",componentId:"sc-cc9e9a32-8"})(["&&{font-size:20px;line-height:32px;font-weight:500;color:var(--privy-color-foreground);margin:0;}"]),bSt=Z.p.withConfig({displayName:"HeaderSubtitle",componentId:"sc-cc9e9a32-9"})(["&&{margin:0;font-size:16px;font-weight:300;line-height:24px;color:var(--privy-color-foreground);}"]),toe=Z.div.withConfig({displayName:"IconContainer",componentId:"sc-cc9e9a32-10"})(["background:",";border-radius:50%;width:64px;height:64px;display:flex;align-items:center;justify-content:center;"],({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"warning":return"var(--privy-color-warn, #FEF3C7)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";case"loading":case"logo":return"transparent";default:return"var(--privy-color-background-2)"}}),vSt=Z.div.withConfig({displayName:"LogoContainer",componentId:"sc-cc9e9a32-11"})(["display:flex;align-items:center;justify-content:center;margin-bottom:var(--screen-space);img,svg{max-height:90px;max-width:180px;}"]),xSt=Z.div.withConfig({displayName:"LoadingWithIconContainer",componentId:"sc-cc9e9a32-12"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > :first-child{position:relative;}> div > :last-child{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);}"]);const ar=({children:t,...e})=>d.jsx(uSt,{children:d.jsx(dSt,{...e,children:t})});let ESt=Z.div.withConfig({displayName:"ProgressBarContainer",componentId:"sc-cc9e9a32-13"})(["position:absolute;top:0;left:calc(-1 * var(--screen-space-lg));width:calc(100% + calc(var(--screen-space-lg) * 2));height:4px;background:var(--privy-color-background-2);border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden;"]),ASt=Z(er).withConfig({displayName:"StyledBlobbyFooter",componentId:"sc-cc9e9a32-14"})(["padding:0;&& a{padding:0;color:var(--privy-color-foreground-3);}"]),CSt=Z.div.withConfig({displayName:"ProgressBarFill",componentId:"sc-cc9e9a32-15"})(["height:100%;width:","%;background:var(--privy-color-foreground-3);border-radius:2px;transition:width 300ms ease-in-out;"],({pct:t})=>t),kSt=({step:t})=>t?d.jsx(ESt,{children:d.jsx(CSt,{pct:Math.min(100,t.current/t.total*100)})}):null;ar.Header=({title:t,subtitle:e,icon:n,iconVariant:r,iconLoadingStatus:i,showBack:s,onBack:o,showInfo:a,onInfo:l,showClose:c,onClose:u,step:h,...f})=>d.jsxs(hSt,{...f,children:[d.jsx(fSt,{backFn:s?o:void 0,infoFn:a?l:void 0,onClose:c?u:void 0,closeable:c}),(n||r||t||e)&&d.jsxs(gSt,{children:[n||r?d.jsx(ar.Icon,{icon:n,variant:r,loadingStatus:i}):null,d.jsxs(ySt,{children:[t&&d.jsx(wSt,{children:t}),e&&d.jsx(bSt,{children:e})]})]}),h&&d.jsx(kSt,{step:h})]}),ar.Body=Ae.forwardRef(({children:t,...e},n)=>d.jsx(pSt,{ref:n,...e,children:t})),ar.Body.displayName="Screen.Body",ar.Footer=({children:t,...e})=>d.jsx(mSt,{...e,children:t}),ar.Actions=({children:t,...e})=>d.jsx(SSt,{...e,children:t}),ar.HelpText=({children:t,...e})=>d.jsx(_St,{...e,children:t}),ar.Watermark=()=>d.jsx(ASt,{}),ar.Icon=({icon:t,variant:e="subtle",loadingStatus:n})=>e==="logo"&&t?d.jsx(vSt,typeof t=="string"?{children:d.jsx("img",{src:t,alt:""})}:Ae.isValidElement(t)?{children:t}:{children:Ae.createElement(t)}):e==="loading"?t?d.jsx(xSt,{children:d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[d.jsx(a4e,{success:n==null?void 0:n.success,fail:n==null?void 0:n.fail}),typeof t=="string"?d.jsx("span",{style:{background:`url('${t}') 0 0 / contain`,height:"38px",width:"38px",borderRadius:"6px",margin:"auto",backgroundSize:"contain"}}):Ae.isValidElement(t)?Ae.cloneElement(t,{style:{width:"38px",height:"38px"}}):Ae.createElement(t,{style:{width:"38px",height:"38px"}})]})}):d.jsx(toe,{$variant:e,children:d.jsx(n5,{size:"64px"})}):d.jsx(toe,{$variant:e,children:t&&(typeof t=="string"?d.jsx("img",{src:t,alt:"",style:{width:"32px",height:"32px",borderRadius:"6px"}}):Ae.isValidElement(t)?t:Ae.createElement(t,{width:32,height:32,stroke:(()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"warning":return"var(--privy-color-icon-warning)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}})(),strokeWidth:2}))});let SSt=Z.div.withConfig({displayName:"ActionsContainer",componentId:"sc-cc9e9a32-16"})(["width:100%;display:flex;flex-direction:column;gap:calc(var(--screen-space) / 2);"]),_St=Z.p.withConfig({displayName:"HelpTextContainer",componentId:"sc-cc9e9a32-17"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-foreground-3);font-size:14px;line-height:22px;& a{color:var(--privy-color-accent);}}"]);const Rn=({primaryCta:t,secondaryCta:e,helpText:n,watermark:r=!0,children:i,...s})=>{let o=t||e?d.jsxs(d.Fragment,{children:[t&&(()=>{let{label:a,...l}=t,c=l.variant||"primary";return d.jsx(cw,{...l,variant:c,style:{width:"100%",...l.style},children:a})})(),e&&(()=>{let{label:a,...l}=e,c=l.variant||"secondary";return d.jsx(cw,{...l,variant:c,style:{width:"100%",...l.style},children:a})})()]}):null;return d.jsxs(ar,{id:s.id,className:s.className,children:[d.jsx(ar.Header,{...s}),i?d.jsx(ar.Body,{children:i}):null,n||o||r?d.jsxs(ar.Footer,{children:[n?d.jsx(ar.HelpText,{children:n}):null,o?d.jsx(ar.Actions,{children:o}):null,r?d.jsx(ar.Watermark,{}):null]}):null]})},PO=({label:t,children:e,valueStyles:n})=>d.jsxs(ISt,{children:[d.jsx("div",{children:t}),d.jsx(TSt,{style:{...n},children:e})]});let ISt=Z.div.withConfig({displayName:"StyledDetailsRow",componentId:"sc-4ebfdd45-0"})(["display:flex;align-items:center;justify-content:space-between;width:100%;> :first-child{color:var(--privy-color-foreground-3);text-align:left;}> :last-child{color:var(--privy-color-foreground-2);text-align:right;}"]),TSt=Z.div.withConfig({displayName:"ValueWrapper",componentId:"sc-4ebfdd45-1"})(["font-size:14px;line-height:100%;display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-full);background-color:var(--privy-color-background-2);padding:4px 8px;"]),$St=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}),l4e=t=>$St.format(t);const c4e=(t,e)=>{let n=l4e(e*parseFloat(t));return n!=="$0.00"?n:"<$0.01"},_1=(t,e)=>{let n=l4e(e*parseFloat(Nw(t)));return n==="$0.00"?"<$0.01":n},cd=(t,e,n=6,r=!1)=>`${u4e(t,n,r)} ${e}`,u4e=(t,e=6,n=!1)=>{let r=parseFloat(Nw(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"");return n?r:`${r==="0"?"<0.001":r}`},MG=t=>t.reduce((e,n)=>e+n,0n),NSt=(t,e)=>{let{chains:n}=st(),r=`https://etherscan.io/address/${e}`,i=`${((s,o)=>{var c;let a=Number(s),l=o.find(u=>u.id===a);if(!l)throw new kr(`Unsupported chainId ${s}`,4901);return(c=l.blockExplorers)==null?void 0:c.default.url})(t,n)}/address/${e}`;if(!i)return r;try{new URL(i)}catch{return r}return i},PSt=1e9,RSt={"solana:mainnet":{EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:{symbol:"USDC",decimals:6,address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:{symbol:"USDT",decimals:6,address:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},"solana:devnet":{"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU":{symbol:"USDC",decimals:6,address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"},EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS:{symbol:"USDT",decimals:6,address:"EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},"solana:testnet":{}};function RO(t,e){let n=parseFloat(t.toString())/PSt,r=jSt.format(e*n);return r==="$0.00"?"<$0.01":r}let jSt=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2});function uS(t,e=6,n=!1,r=!1){let i=(parseFloat(t.toString())/1e9).toFixed(e).replace(/0+$/,"").replace(/\.$/,""),s=r?"":" SOL";return n?`${i}${s}`:`${i==="0"?"<0.001":i}${s}`}const OSt=({weiQuantities:t,tokenPrice:e,tokenSymbol:n})=>{let r=MG(t),i=e?_1(r,e):void 0,s=cd(r,n);return d.jsx(h4e,{children:i||s})},d4e=({weiQuantities:t,tokenPrice:e,tokenSymbol:n})=>{let r=MG(t),i=e?_1(r,e):void 0,s=cd(r,n);return d.jsx(h4e,{children:i?d.jsxs(d.Fragment,{children:[d.jsx(MSt,{children:"USD"}),i==="<$0.01"?d.jsxs(BSt,{children:[d.jsx(DSt,{children:"<"}),"$0.01"]}):i]}):s})};let h4e=Z.span.withConfig({displayName:"StyledPriceDisplay",componentId:"sc-3cd56c8a-0"})(["font-size:14px;line-height:140%;display:flex;gap:4px;align-items:center;"]),MSt=Z.span.withConfig({displayName:"StyledPriceUnit",componentId:"sc-3cd56c8a-1"})(["font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);"]),DSt=Z.span.withConfig({displayName:"TinyLessThan",componentId:"sc-3cd56c8a-2"})(["font-size:10px;"]),BSt=Z.span.withConfig({displayName:"FlexCenter",componentId:"sc-3cd56c8a-3"})(["display:flex;align-items:center;"]);const f4e=Z.div.withConfig({displayName:"BottomPusherContainer",componentId:"sc-cb963810-0"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;margin-top:auto;gap:16px;flex-grow:100;"]),DG=Z.div.withConfig({displayName:"CenteredItem",componentId:"sc-cb963810-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;width:100%;"]),LSt=Z.div.withConfig({displayName:"HorizontallyCenteredItem",componentId:"sc-cb963810-2"})(["display:flex;flex-direction:column;align-items:center;width:100%;"]),FSt=Z(DG).withConfig({displayName:"CenteredItemWithPadding",componentId:"sc-cb963810-3"})(["padding:20px 0;"]),uN=Z(DG).withConfig({displayName:"CenteredItemWithGap",componentId:"sc-cb963810-4"})(["gap:16px;"]),dN=Z.div.withConfig({displayName:"FlexContainer",componentId:"sc-cb963810-5"})(["display:flex;flex-direction:column;width:100%;"]),BG=Z.div.withConfig({displayName:"FixedGappedContainer",componentId:"sc-cb963810-6"})(["display:flex;flex-direction:column;gap:8px;"]),USt=Z.div.withConfig({displayName:"StyledCalloutSection",componentId:"sc-cb963810-8"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;padding:16px;margin-top:16px;margin-bottom:16px;width:100%;background:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);&& h4{color:var(--privy-color-foreground-3);font-size:14px;text-decoration:underline;font-weight:medium;}&& p{color:var(--privy-color-foreground-3);font-size:14px;}"]),hf=Z.div.withConfig({displayName:"RefactorSpacerTop",componentId:"sc-cb963810-9"})(["height:16px;"]),Nd=Z.div.withConfig({displayName:"RefactorSpacerBottom",componentId:"sc-cb963810-10"})(["height:12px;"]),zSt=Z.div.withConfig({displayName:"ConfigurableSpacer",componentId:"sc-cb963810-12"})(["height:","px;"],t=>t.height??"12"),WSt=({gas:t,tokenPrice:e,tokenSymbol:n})=>d.jsxs(dN,{style:{paddingBottom:"12px"},children:[d.jsxs(p4e,{children:[d.jsx(g4e,{children:"Est. Fees"}),d.jsx("div",{children:d.jsx(d4e,{weiQuantities:[BigInt(t)],tokenPrice:e,tokenSymbol:n})})]}),e&&d.jsx(m4e,{children:`${cd(BigInt(t),n)}`})]}),HSt=({value:t,gas:e,tokenPrice:n,tokenSymbol:r})=>{let i=BigInt(t??0)+BigInt(e);return d.jsxs(dN,{children:[d.jsxs(p4e,{children:[d.jsx(g4e,{children:"Total (including fees)"}),d.jsx("div",{children:d.jsx(d4e,{weiQuantities:[BigInt(t||0),BigInt(e)],tokenPrice:n,tokenSymbol:r})})]}),n&&d.jsx(m4e,{children:cd(i,r)})]})};let p4e=Z.div.withConfig({displayName:"TransactionTotalRow",componentId:"sc-f8ef9b74-0"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-top:4px;"]),m4e=Z.div.withConfig({displayName:"ValueConversionRow",componentId:"sc-f8ef9b74-1"})(["display:flex;flex-direction:row;height:12px;font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);font-weight:400;"]),g4e=Z.div.withConfig({displayName:"TotalText",componentId:"sc-f8ef9b74-2"})(["font-size:14px;line-height:22.4px;font-weight:400;"]);const dC=x.createContext(void 0),hN=x.createContext(void 0),VSt=({defaultValue:t,children:e})=>{let[n,r]=x.useState(t||null);return d.jsx(dC.Provider,{value:{activePanel:n,togglePanel:i=>{r(n===i?null:i)}},children:d.jsx(QSt,{children:e})})},qSt=({value:t,children:e})=>{let{activePanel:n,togglePanel:r}=x.useContext(dC),i=n===t;return d.jsx(hN.Provider,{value:{onToggle:()=>r(t),value:t},children:d.jsx(e_t,{isActive:i?"true":"false","data-open":String(i),children:e})})},GSt=({children:t})=>{let{activePanel:e}=x.useContext(dC),{onToggle:n,value:r}=x.useContext(hN),i=e===r;return d.jsxs(d.Fragment,{children:[d.jsxs(ZSt,{onClick:n,"data-open":String(i),children:[d.jsx(XSt,{children:t}),d.jsx(n_t,{isactive:i?"true":"false",children:d.jsx(Nq,{height:"16px",width:"16px",strokeWidth:"2"})})]}),d.jsx(JSt,{})]})},KSt=({children:t})=>{let{activePanel:e}=x.useContext(dC),{value:n}=x.useContext(hN);return d.jsx(t_t,{"data-open":String(e===n),children:d.jsx(y4e,{children:t})})},YSt=({children:t})=>{let{activePanel:e}=x.useContext(dC),{value:n}=x.useContext(hN);return d.jsx(y4e,{children:typeof t=="function"?t({isActive:e===n}):t})};let QSt=Z.div.withConfig({displayName:"AccordionRoot",componentId:"sc-d25f9267-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;"]),ZSt=Z.div.withConfig({displayName:"AccordionTriggerContainer",componentId:"sc-d25f9267-1"})(["display:flex;justify-content:space-between;align-items:center;width:100%;cursor:pointer;padding-bottom:8px;"]),JSt=Z.div.withConfig({displayName:"AccordionDivider",componentId:"sc-d25f9267-2"})(["width:100%;&&{border-top:1px solid;border-color:var(--privy-color-foreground-4);}padding-bottom:12px;"]),XSt=Z.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-d25f9267-3"})(["font-size:14px;font-weight:500;line-height:19.6px;width:100%;padding-right:8px;"]),e_t=Z.div.withConfig({displayName:"AccordionPanelContainer",componentId:"sc-d25f9267-4"})(["display:flex;flex-direction:column;width:100%;overflow:hidden;padding:12px;&&{border:1px solid;border-color:var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);}"]),t_t=Z.div.withConfig({displayName:"AccordionContentContainer",componentId:"sc-d25f9267-5"})(["position:relative;overflow:hidden;transition:max-height 25ms ease-out;&[data-open='true']{max-height:700px;}&[data-open='false']{max-height:0;}"]),y4e=Z.div.withConfig({displayName:"ContentWrapper",componentId:"sc-d25f9267-6"})(["display:flex;flex-direction:column;gap:12px;flex:1 1 auto;min-height:1px;"]),n_t=Z.div.withConfig({displayName:"IconWrapper",componentId:"sc-d25f9267-7"})(["transform:",";"],t=>t.isactive==="true"?"rotate(180deg)":"rotate(0deg)");function r_t(t,e){return`https://explorer.solana.com/account/${t}?chain=${e}`}const noe=t=>d.jsx(i_t,{href:t.chainType==="ethereum"?NSt(t.chainId,t.walletAddress):r_t(t.walletAddress,t.chainId),target:"_blank",children:Xo(t.walletAddress)});let i_t=Z.a.withConfig({displayName:"StyledLink",componentId:"sc-dd6c0f9f-0"})(["&:hover{text-decoration:underline;}"]);const w4e=({from:t,to:e,txn:n,transactionInfo:r,tokenPrice:i,gas:s,tokenSymbol:o})=>{let a=BigInt((n==null?void 0:n.value)||0);return d.jsx(VSt,{...Fn().render.standalone?{defaultValue:"details"}:{},children:d.jsxs(qSt,{value:"details",children:[d.jsx(GSt,{children:d.jsxs(s_t,{children:[d.jsx("div",{children:(r==null?void 0:r.title)||"Details"}),d.jsx(o_t,{children:d.jsx(OSt,{weiQuantities:[a],tokenPrice:i,tokenSymbol:o})})]})}),d.jsxs(KSt,{children:[d.jsx(PO,{label:"From",children:d.jsx(noe,{walletAddress:t,chainId:n.chainId||1,chainType:"ethereum"})}),d.jsx(PO,{label:"To",children:d.jsx(noe,{walletAddress:e,chainId:n.chainId||1,chainType:"ethereum"})}),r&&r.action&&d.jsx(PO,{label:"Action",children:r.action}),s&&d.jsx(WSt,{value:n.value,gas:s,tokenPrice:i,tokenSymbol:o})]}),d.jsx(YSt,{children:({isActive:l})=>d.jsx(HSt,{value:n.value,displayFee:l,gas:s||"0x0",tokenPrice:i,tokenSymbol:o})})]})})};let s_t=Z.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-2eff9f5c-0"})(["display:flex;flex-direction:row;justify-content:space-between;"]),o_t=Z.div.withConfig({displayName:"TotalText",componentId:"sc-2eff9f5c-1"})(["flex-shrink:0;padding-left:8px;"]);const a_t=({enabled:t=!0}={})=>{let{showFiatPrices:e,getUsdPriceForSol:n}=st(),[r,i]=x.useState(!0),[s,o]=x.useState(void 0),[a,l]=x.useState(void 0);return x.useEffect(()=>{(async()=>{if(e&&t)try{i(!0);let c=await n();c?l(c):o(Error("Unable to fetch SOL price"))}catch(c){o(c)}finally{i(!1)}else i(!1)})()},[]),{solPrice:a,isSolPriceLoading:r,solPriceError:s}};function hC(t){let{tokenPrice:e,isTokenPriceLoading:n,tokenPriceError:r}=(a=>{let{showFiatPrices:l,getUsdTokenPrice:c,chains:u}=st(),[h,f]=x.useState(!0),[p,m]=x.useState(void 0),[g,y]=x.useState(void 0);return x.useEffect(()=>{a||(a=1);let w=WV(u).find(v=>v.id===Number(a));(async()=>{if(l){if(!w)return f(!1),void m(Error(`Unable to fetch token price on chain id ${a}`));try{f(!0);let v=await c(w);v?y(v):m(Error(`Unable to fetch token price on chain id ${w.id}`))}catch(v){m(v)}finally{f(!1)}}else f(!1)})()},[a]),{tokenPrice:g,isTokenPriceLoading:h,tokenPriceError:p}})(t==="solana"?-1:t),{solPrice:i,isSolPriceLoading:s,solPriceError:o}=a_t({enabled:t==="solana"});return t==="solana"?{tokenPrice:i,isTokenPriceLoading:s,tokenPriceError:o}:{tokenPrice:e,isTokenPriceLoading:n,tokenPriceError:r}}const b4e=x.createContext(null);function Lg(){let t=x.useContext(b4e);return t===null?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):t}async function U7(t,e,n,r){let i=w2e(t),s=await(async()=>r?await r():await e.prepareTransactionRequest({...i,account:{address:n,type:"json-rpc"}}))();return{...s,type:mht[s.type]}}let v4e=Z.div.withConfig({displayName:"StackedContainer",componentId:"sc-f7e7d474-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]);const l_t=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];let Qr=class extends Error{constructor(e,n){super(n),this.type=e}};function r5(t){let e=t.type;return typeof e=="string"&&l_t.includes(e)}function pE(t){return r5(t)&&t.type==="wallet_not_on_device"}function LG(t){return!!r5(t)&&t.type==="mfa_timeout"}function FG(t){return!!r5(t)&&t.type==="missing_or_invalid_mfa"}function c_t(t){return!!r5(t)&&t.type==="mfa_verification_max_attempts_reached"}function x4e(t){return!(!r5(t)||!t.message.includes("code 429"))}function E4e(t){return!!function(e){let n=e.type;return typeof n=="string"&&n==="client_error"}(t)&&t.message==="MFA canceled"}const fN=()=>window.open(void 0,void 0,u_t({w:440,h:680}));let u_t=({w:t,h:e})=>{let n=window.screenLeft!==void 0?window.screenLeft:window.screenX,r=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${e},width=${t},popup=1,left=${(i-t)/2/(i/window.screen.availWidth)+n},top=${(s-e)/2/(s/window.screen.availHeight)+r}`};const d_t=({title:t,description:e,children:n,...r})=>d.jsx(A4e,{...r,children:d.jsxs(d.Fragment,{children:[d.jsx("h3",{children:t}),typeof e=="string"?d.jsx("p",{children:e}):e,n]})}),Sd=({title:t,description:e,icon:n,children:r,...i})=>d.jsxs(h_t,{...i,children:[n||null,d.jsx("h3",{children:t}),e&&typeof e=="string"?d.jsx("p",{children:e}):e,r]});let A4e=Z.div.withConfig({displayName:"StyledSection",componentId:"sc-523a75d6-1"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;width:100%;margin-bottom:24px;&& h3{font-size:17px;color:var(--privy-color-foreground);}&& p{color:var(--privy-color-foreground-2);font-size:14px;}"]),h_t=Z(A4e).withConfig({displayName:"CenteredStyledSection",componentId:"sc-523a75d6-2"})(["align-items:center;text-align:center;gap:16px;h3{margin-bottom:24px;}"]);const C4e=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 21 20",...t,children:[d.jsx("path",{fill:"url(#icloud-gradient)",d:"M12.34 7.315a4.26 4.26 0 0 0-3.707 2.18 2.336 2.336 0 0 0-1.02-.236 2.336 2.336 0 0 0-2.3 1.963 3.217 3.217 0 0 0 1.244 6.181c.135-.001.27-.01.404-.029h8.943c.047.004.094.006.141.007.045-.001.09-.004.135-.007h.214v-.016a2.99 2.99 0 0 0 1.887-.988c.487-.55.757-1.261.757-1.998v-.006a3.017 3.017 0 0 0-.69-1.915 2.992 2.992 0 0 0-1.748-1.034 4.26 4.26 0 0 0-4.26-4.102Z"}),d.jsx("defs",{children:d.jsxs("linearGradient",{id:"icloud-gradient",x1:19.086,x2:3.333,y1:14.38,y2:14.163,gradientUnits:"userSpaceOnUse",children:[d.jsx("stop",{stopColor:"#3E82F4"}),d.jsx("stop",{offset:1,stopColor:"#93DCF7"})]})})]}),k4e=({style:t,...e})=>d.jsxs("svg",{width:"16",height:"14",style:t,viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[d.jsxs("g",{clipPath:"url(#clip0_2115_829)",children:[d.jsx("path",{d:"M2.34709 12.9404L2.3471 12.9404L2.34565 12.938L1.64031 11.7448L1.64004 11.7444L0.651257 10.0677C0.640723 10.0496 0.630746 10.0314 0.621325 10.0129H4.16461L2.39424 13.0139C2.3775 12.9901 2.36178 12.9656 2.34709 12.9404Z",fill:"#0066DA",stroke:"#6366F1"}),d.jsx("path",{d:"M8 4.48713L5.47995 0.215332C5.23253 0.358922 5.02176 0.556358 4.87514 0.80764L0.219931 8.70508C0.076007 8.95094 0.000191627 9.22937 0 9.51277H5.04009L8 4.48713Z",fill:"#00AC47"}),d.jsx("path",{d:"M13.48 13.7847C13.7274 13.6411 13.9382 13.4437 14.0848 13.1924L14.3781 12.6988L15.7801 10.3206C15.9267 10.0693 16.0001 9.79114 16.0001 9.51294H10.9596L12.0321 11.577L13.48 13.7847Z",fill:"#EA4335"}),d.jsx("path",{d:"M8.00003 4.48718L10.5201 0.215385C10.2726 0.0717949 9.98857 0 9.69533 0H6.30472C6.01148 0 5.7274 0.0807692 5.47998 0.215385L8.00003 4.48718Z",fill:"#00832D"}),d.jsx("path",{d:"M10.9599 9.51294H5.04007L2.52002 13.7847C2.76744 13.9283 3.05152 14.0001 3.34476 14.0001H12.6552C12.9484 14.0001 13.2325 13.9194 13.4799 13.7847L10.9599 9.51294Z",fill:"#2684FC"}),d.jsx("path",{d:"M13.4525 4.75636L11.1249 0.80764C10.9782 0.556358 10.7675 0.358922 10.52 0.215332L8 4.48713L10.9599 9.51277H15.9908C15.9908 9.23456 15.9175 8.95636 15.7709 8.70508L13.4525 4.75636Z",fill:"#FFBA00"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_2115_829",children:d.jsx("rect",{width:"16",height:"14",fill:"white"})})})]});async function roe({url:t,popup:e,provider:n}){return e.location=t,new Promise((r,i)=>{function s(){e==null||e.close(),window.removeEventListener("message",o)}function o(a){a.data&&(a.data.type==="PRIVY_OAUTH_RESPONSE"&&a.data.stateCode&&a.data.authorizationCode&&(r(a.data),s()),a.origin==="https://cdn.apple-cloudkit.com"&&a.data.ckSession&&(r({type:"PRIVY_OAUTH_RESPONSE",ckWebAuthToken:a.data.ckSession}),s()),a.data.type==="PRIVY_OAUTH_ERROR"&&(i(a.data.error),s()))}window.addEventListener("message",o)})}async function f_t({api:t,provider:e,stateCode:n,codeVerifier:r,authorizationCode:i}){if(!i||!n)throw new ue("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(i==="undefined")throw new ue("User denied confirmation during OAuth flow");try{return(await t.post(Fst,{authorization_code:i,state_code:n,code_verifier:r,provider:e})).access_token}catch(s){let o=Nn(s);throw o.privyErrorCode?new ue(o.message||"Invalid code during OAuth flow.",void 0,o.privyErrorCode):o.message==="User denied confirmation during OAuth flow"?new ue("Invalid code during oauth flow.",void 0,pe.OAUTH_USER_DENIED):new ue("Invalid code during OAuth flow.",void 0,pe.UNKNOWN_AUTH_ERROR)}}async function ioe({api:t,provider:e}){let n=iN(),r=kG(),i=await SG(n);try{return e==="icloud"?{url:(await t.post(Lst,{client_type:"web"})).url}:{url:(await t.post(Bst,{redirect_to:window.location.href,code_challenge:i,state_code:r})).url,codeVerifier:n,stateCode:r,provider:e}}catch(s){throw Nn(s)}}const UG=(t,{chainType:e,walletIndex:n}={})=>(t==null?void 0:t.linkedAccounts.filter(r=>!(r.type!=="wallet"||r.walletClientType!=="privy"||n!==void 0&&r.walletIndex!==n||e!==void 0&&r.chainType!==e)))??[],S4e=async({user:t,accessToken:e,proxy:n,refreshSessionAndUser:r,privy:i,appConfig:s,recoverEmbeddedWallet:o,setUser:a,walletIndex:l,chainType:c,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})=>{if(l===0)if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await wL(i,{request:{chain_type:c}});else if(c==="ethereum"){let g=k$(t);g&&await o({address:g.address}),await n.create({accessToken:e,solanaAddress:g==null?void 0:g.address,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})}else{if(c!=="solana")throw Error("Invalid input to create wallet");{let g=bh(t);g&&await o({address:g.address}),await n.createSolana({accessToken:e,ethereumAddress:g==null?void 0:g.address,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})}}else if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await wL(i,{request:{chain_type:c}});else{let{entropyId:g,entropyIdVerifier:y}=Zu(t);await o(),await n.addWallet({accessToken:e,entropyId:g,entropyIdVerifier:y,chainType:c,hdWalletIndex:l})}let p=await r(),m=UG(p,{chainType:c,walletIndex:l})[0];return a(p),{user:p,account:m}},zG=()=>{let{walletProxy:t,recoverEmbeddedWallet:e,setUser:n,refreshSessionAndUser:r,privy:i,client:s}=st(),o=Fn();return{create:async({walletIndex:a,chainType:l,latestUser:c,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})=>{let p=c;p||(p=await r());let m=await s.getAccessToken();if(!p||!m||!t)throw Error("User must be authenticated before creating a Privy wallet");return await S4e({appConfig:o,user:p,refreshSessionAndUser:r,privy:i,accessToken:m,proxy:t,recoverEmbeddedWallet:e,setUser:n,walletIndex:a,chainType:l,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})}}},p_t=({title:t,description:e,onClose:n})=>d.jsx(Rn,{title:t,subtitle:e,icon:QA,iconVariant:"success",watermark:!0,onBack:n}),WG={component:()=>{let{user:t}=Sn(),{closePrivyModal:e,isNewUserThisSession:n,updateWallets:r}=st(),{app:i,data:s,onUserCloseViaDialogOrKeybindRef:o}=lt(),{onSuccess:a,onFailure:l,callAuthOnSuccessOnClose:c}=s.createWallet,u=()=>{let h=bh(t)??k$(t);t&&h?(r(),a({user:t,account:h})):l(Error("Failed to create wallet")),e({shouldCallAuthOnSuccess:c})};return x.useEffect(()=>{let h=setTimeout(u,2500);return()=>clearTimeout(h)},[]),o.current=u,d.jsx(p_t,{title:n?"Welcome"+(i!=null&&i.name?` to ${i==null?void 0:i.name}`:""):"All set!",description:n?"You've successfully created an account.":"Your account is secured.",onClose:u})}},gU=Z.div.withConfig({displayName:"RecoveryContainer",componentId:"sc-12b46968-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),m_t=Z.div.withConfig({displayName:"RecoveryExplainerContainer",componentId:"sc-12b46968-1"})(["padding-bottom:24px;"]);let soe={"google-drive":{name:"Google Drive",component:k4e},icloud:{name:"iCloud",component:C4e}};const _4e={component:()=>{var F;let{logout:t}=Sn(),{navigate:e,setModalData:n,data:r}=lt(),{closePrivyModal:i,createAnalyticsEvent:s}=st(),{execute:o}=(()=>{let{client:W,walletProxy:V,refreshSessionAndUser:B}=st(),{data:k}=lt(),{user:C}=Sn(),S=Kw(),{create:T}=zG();return{execute:async({provider:_,action:P,popup:L,shouldCreateEth:O,shouldCreateSol:I})=>{var Q,ee;let D,Y;if(!W)throw new ue("Missing client");function M(J){if(!J&&W)throw W.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:"Unable to open recovery OAuth popup",provider:_}}),new ue("Recovery OAuth failed")}switch(_){case"google-drive":{let J,oe,{url:de,codeVerifier:ae,stateCode:he}=await ioe({api:W.api,provider:_});M(de);try{let be=await roe({url:de,popup:L,provider:_});if(J=be.stateCode,oe=be.authorizationCode,J!==he)throw W.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:_,storedStateCode:he??"",returnedStateCode:J??""}}),new ue("Unexpected auth flow. This may be a phishing attempt.",void 0,pe.OAUTH_UNEXPECTED)}catch(be){throw W.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:be.toString(),provider:_}}),new ue("Recovery OAuth failed")}[D,Y]=await Promise.all([W.getAccessToken(),f_t({api:W.api,provider:_,codeVerifier:ae,stateCode:J,authorizationCode:oe})]);break}case"icloud":{let{url:J}=await ioe({api:W.api,provider:_});M(J);let{ckWebAuthToken:oe}=await roe({url:J,popup:L,provider:_});Y=oe,D=await W.getAccessToken()}}if(!V)throw new ue("Cannot connect to wallet proxy");if(!D)throw new ue("Unable to authorize user");switch(P){case"recover":{let J=(Q=k==null?void 0:k.recoverWallet)==null?void 0:Q.entropyId,oe=(ee=k==null?void 0:k.recoverWallet)==null?void 0:ee.entropyIdVerifier;if(!J||!oe)throw new ue("Recovery OAuth failed");W.createAnalyticsEvent({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:J,recoveryMethod:_}}),await V.recover({accessToken:D,entropyId:J,entropyIdVerifier:oe,recoveryAccessToken:Y}),W.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:J,recoveryMethod:_}});break}case"create-wallet":{let J;if(W.createAnalyticsEvent({eventName:"embedded_wallet_creation_started"}),O&&I)J=await T({recoveryMethod:_,recoveryAccessToken:Y,chainType:"ethereum",walletIndex:0,latestUser:C}),J=await T({chainType:"solana",walletIndex:0,latestUser:J.user});else if(I)J=await T({recoveryMethod:_,recoveryAccessToken:Y,chainType:"solana",walletIndex:0,latestUser:C});else{if(!O)throw Error("Invalid args to create wallet");J=await T({recoveryMethod:_,recoveryAccessToken:Y,chainType:"ethereum",walletIndex:0,latestUser:C})}if(!J)throw S("createWallet","onError",pe.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to create wallet");W.createAnalyticsEvent({eventName:"embedded_wallet_creation_completed",payload:{walletAddress:J.account.address}}),S("createWallet","onSuccess",{wallet:J.account});break}case"set-recovery":{let J=Cd(C);if(!J)throw S("setWalletRecovery","onError",pe.EMBEDDED_WALLET_NOT_FOUND),Error("Embedded wallet not found");W.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:J.address,existingRecoveryMethod:J.recoveryMethod,targetRecoveryMethod:_}});let{entropyId:oe,entropyIdVerifier:de}=Zu(C);await V.setRecovery({accessToken:D,entropyId:oe,entropyIdVerifier:de,recoveryMethod:_,recoveryAccessToken:Y});let ae=Cd(await B());if(!ae)throw S("createWallet","onError",pe.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to set recovery on wallet");W.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:J.address,existingRecoveryMethod:J.recoveryMethod,targetRecoveryMethod:_}}),S("setWalletRecovery","onSuccess",{method:_,wallet:ae});break}default:throw new ue("Unsupported recovery action")}}}})(),[a,l]=x.useState(!1),{provider:c,action:u,isInAccountCreateFlow:h,shouldCreateEth:f,shouldCreateSol:p}=r==null?void 0:r.recoveryOAuthStatus,[m,g]=x.useState(void 0),[y,w]=x.useState(u==="create-wallet");if(c==="user-passcode")throw Error("RecoveryOAuthScreen should never be called with a wallet that specifies recoveryMethod: `user-passcode`");let v=soe[c].name,b=soe[c].component,A=(F=r==null?void 0:r.recoverWallet)==null?void 0:F.onCompleteNavigateTo,E=new ra(async(W="create-wallet")=>(w(!0),new Promise((V,B)=>{setTimeout(async()=>{try{let k=window.open();await o({provider:c,action:W,popup:k,shouldCreateEth:f,shouldCreateSol:p}),l(!0),V()}catch{g({message:`${W==="recover"?"Recovery":"Back up"} with ${v} unsuccessful`,detail:u==="recover"?`Please verify that you are selecting the ${v} account associated with your backup.`:"",retryable:!0}),B()}},0)})));x.useEffect(()=>{u!=="recover"&&E.execute(h?"create-wallet":"set-recovery")},[]),x.useEffect(()=>{if(!a)return;let W=setTimeout(()=>{h?(n({createWallet:{onSuccess:()=>{},onFailure:V=>{s({eventName:"embedded_wallet_creation_failure_logout",payload:{error:V,screen:"RecoveryOAuthScreen"}}),t()},callAuthOnSuccessOnClose:!0,shouldCreateEth:!1,shouldCreateSol:!1}}),e(WG)):i({shouldCallAuthOnSuccess:!1})},Wr);return()=>clearTimeout(W)},[a]);let $=x.useCallback(async()=>{await E.execute("recover"),A?e(A):l(!0)},[]),N=c==="google-drive"?"Google Drive":"Apple iCloud",R=a&&`Successfully ${u==="recover"?"recovered":"backed up"} with ${N}.`||m&&m.message||`${u==="recover"?"Recovering":"Backing up"} with ${N}...`,j=m?m.detail:"";return d.jsxs(d.Fragment,{children:[d.jsx(bn,{}),y?d.jsx(d.Fragment,{children:d.jsxs(gU,{children:[d.jsx(Sd,{title:R,icon:d.jsx(b,{style:{width:"38px",height:"38px"}}),description:j}),m&&(m!=null&&m.retryable)?d.jsx(pr,{onClick:()=>{cU(),g(void 0),u==="create-wallet"?E.execute("create-wallet"):$()},disabled:!a&&!(m!=null&&m.retryable),children:"Try again"}):null]})}):d.jsxs(gU,{children:[d.jsx(Sd,{title:"Confirm it's really you",icon:d.jsx(b,{style:{height:42,width:48}}),description:`To confirm your identity, please log in to ${N} where your account is backed up.`}),d.jsxs(pr,{onClick:$,children:["Confirm with ",N]})]}),d.jsx(er,{})]})}};let jO=Z.div.withConfig({displayName:"IconContainer",componentId:"sc-ccfae04f-0"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;"]),g_t={"google-drive":"Google Drive",icloud:"iCloud","user-passcode":"password",privy:"Privy","privy-v2":"Privy"},y_t=({onClose:t})=>d.jsxs(m_t,{children:[d.jsx(Sd,{title:"Why do I need to secure my account?",icon:d.jsx(r2,{width:48}),description:d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"Your app uses cryptography to secure your account. App secrets are split and encrypted so only you can access them."}),d.jsx("p",{children:"To use this app on new devices, secure account secrets using a password, your Google or your Apple account. Its important you dont lose access to the method you choose."})]})}),d.jsx(pr,{onClick:t,children:"Select backup method"})]});const yU={component:()=>{let[t,e]=x.useState(!1),{navigate:n,lastScreen:r,navigateBack:i,setModalData:s,data:o,onUserCloseViaDialogOrKeybindRef:a}=lt(),{user:l}=Sn(),{embeddedWallets:c}=Fn(),{closePrivyModal:u}=st(),h=Cd(l),f=h===null,{isInAccountCreateFlow:p,isResettingPassword:m,shouldCreateEth:g,shouldCreateSol:y}=o.recoverySelection,w=h&&h.recoveryMethod!=="privy",v=w?d.jsxs("span",{children:["Your account is currently secured using"," ",d.jsx("strong",{children:g_t[(h==null?void 0:h.recoveryMethod)||"user-passcode"]}),"."]}):"Select a method for logging in on new devices and recovering your account.";function b(E){s({recoveryOAuthStatus:{provider:E,action:f?"create-wallet":"set-recovery",isInAccountCreateFlow:p,shouldCreateEth:g,shouldCreateSol:y}}),n(_4e)}function A(){var E,$;(E=o==null?void 0:o.setWalletPassword)==null||E.onFailure(Error("User exited set recovery flow")),u({shouldCallAuthOnSuccess:(($=o==null?void 0:o.setWalletPassword)==null?void 0:$.callAuthOnSuccessOnClose)??!1})}return a.current=A,d.jsxs(d.Fragment,{children:[d.jsx(bn,{onClose:A,backFn:t?()=>e(!1):r?i:void 0,infoFn:r||t?void 0:()=>e(!0)},"header"),t?d.jsx(y_t,{onClose:()=>e(!1)}):d.jsxs(d.Fragment,{children:[d.jsx(Sd,{title:w?"Update backup method":"Secure your account",icon:d.jsx(y2e,{width:48}),description:v}),d.jsx(gU,{children:c.userOwnedRecoveryOptions.filter(E=>!["icloud","google-drive"].includes((h==null?void 0:h.recoveryMethod)||"")||E!==(h==null?void 0:h.recoveryMethod)).sort().map(E=>{switch(E){case"google-drive":return d.jsxs(Gr,{onClick:()=>b("google-drive"),children:[d.jsx(jO,{children:d.jsx(k4e,{style:{width:18}})}),"Back up to Google Drive"]},E);case"icloud":return d.jsxs(Gr,{onClick:()=>b("icloud"),children:[d.jsx(jO,{children:d.jsx(C4e,{style:{width:24}})}),"Back up to Apple iCloud"]},E);case"user-passcode":return d.jsxs(Gr,{onClick:()=>{n(v8e({isCreatingWallet:f,skipSplashScreen:!0}))},children:[d.jsx(jO,{children:d.jsx(sht,{style:{width:18}})}),m?"Reset your":"Set a"," password"]},E);default:return null}})})]}),d.jsx(er,{})]})}};let w_t=ls(["font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;text-align:left;transition:color 0.1s ease-in;"]);const I4e=Z.span.withConfig({displayName:"StatusText",componentId:"sc-acac4b9-0"})([""," transition:color 0.1s ease-in;color:",";text-transform:",";&[aria-hidden='true']{visibility:hidden;}"],w_t,({error:t})=>t?"var(--privy-color-error)":"var(--privy-color-foreground-3)",({error:t})=>t?"":"capitalize"),pN=Z.div.withConfig({displayName:"EmbeddedWalletScreenContainer",componentId:"sc-acac4b9-1"})(["display:flex;flex-direction:column;justify-content:center;flex-grow:1;"]),mN=Z(pr).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-acac4b9-2"})(["",""],({$hideAnimations:t})=>t&&ls(["&&{transition:none;}"]));let T4e=ls(["&&{width:100%;border-width:1px;border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);background:var(--privy-color-background);color:var(--privy-color-foreground);padding:12px;font-size:16px;font-style:normal;font-weight:300;line-height:22px;}"]);const HG=Z.input.withConfig({displayName:"PasswordInput",componentId:"sc-acac4b9-3"})([""," &::placeholder{color:var(--privy-color-foreground-3);font-style:italic;font-size:14px;}overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],T4e),b_t=Z.div.withConfig({displayName:"PasswordDisplay",componentId:"sc-acac4b9-4"})(["",""],T4e),gN=Z.div.withConfig({displayName:"PasswordContainer",componentId:"sc-acac4b9-5"})(["position:relative;width:100%;display:flex;align-items:center;justify-content:",";"],({centered:t})=>t?"center":"space-between"),yN=Z.div.withConfig({displayName:"Header",componentId:"sc-acac4b9-6"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:32px 0;gap:4px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),VG=Z.div.withConfig({displayName:"Details",componentId:"sc-acac4b9-7"})(["display:flex;flex-direction:column;gap:10px;padding-bottom:1rem;"]),wU=Z.div.withConfig({displayName:"DetailItem",componentId:"sc-acac4b9-8"})(["display:flex;text-align:left;align-items:center;gap:8px;max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;margin:0 8px;color:var(--privy-color-foreground-2);> :first-child{min-width:24px;}"]),ooe=Z(cw).withConfig({displayName:"ExportButton",componentId:"sc-acac4b9-10"})(["display:flex;flex:1;gap:4px;justify-content:center;&&{background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);border-width:1px;}"]),wN=Z.div.withConfig({displayName:"InputRightIcons",componentId:"sc-acac4b9-11"})(["position:absolute;right:0.5rem;display:flex;flex-direction:row;justify-content:space-around;align-items:center;"]),v_t=Z(Cdt).withConfig({displayName:"RegenerateIcon",componentId:"sc-acac4b9-12"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),bN=Z(Kdt).withConfig({displayName:"HiddenIcon",componentId:"sc-acac4b9-13"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),vN=Z(Qdt).withConfig({displayName:"ShownIcon",componentId:"sc-acac4b9-14"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),x_t=Z.progress.withConfig({displayName:"StrengthMeter",componentId:"sc-acac4b9-15"})(["height:4px;width:100%;margin:8px 0;::-webkit-progress-bar{border-radius:8px;background:var(--privy-color-foreground-4);}::-webkit-progress-value{border-radius:8px;transition:all 0.1s ease-out;background:",";}"],({label:t})=>(t==="Strong"?"#78dca6":t==="Medium"&&"var(--privy-color-warn)")||"var(--privy-color-error)"),E_t=({buttonHideAnimations:t,buttonLoading:e,password:n,onSubmit:r,onBack:i})=>{let[s,o]=x.useState(!0),[a,l]=x.useState(!1),[c,u]=x.useState(""),h=n===c;return x.useEffect(()=>{c&&!a&&l(!0)},[c]),d.jsxs(d.Fragment,{children:[d.jsx(bn,{closeable:!1,backFn:i}),d.jsx(hf,{}),d.jsxs(pN,{children:[d.jsxs(yN,{children:[d.jsx(Bw,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),d.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm your password"}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Please re-enter your password below to continue."})]}),d.jsxs(gN,{children:[d.jsx(HG,{value:c,onChange:f=>u(f.target.value),onKeyUp:f=>{f.key==="Enter"&&r()},onBlur:()=>l(!0),placeholder:"confirm your password",type:s?"password":"text",style:{paddingRight:"2.3rem"}}),d.jsx(wN,{style:{right:"0.75rem"},children:s?d.jsx(bN,{onClick:()=>o(!1)}):d.jsx(vN,{onClick:()=>o(!0)})})]}),d.jsx(I4e,{"aria-hidden":!a||h,error:!0,children:"Passwords do not match"})]}),d.jsx(mN,{onClick:r,loading:e,disabled:!h,$hideAnimations:t,children:"Continue"}),d.jsx(Nd,{}),d.jsx(er,{})]})},$4e=({className:t,checked:e,color:n="var(--privy-color-accent)",...r})=>d.jsx("label",{children:d.jsxs(A_t,{className:t,children:[d.jsx(P4e,{checked:e,...r}),d.jsx(C_t,{color:n,checked:e,children:d.jsx(N4e,{viewBox:"0 0 24 24",children:d.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})});let A_t=Z.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-db51b935-1"})(["display:inline-block;vertical-align:middle;"]),N4e=Z.svg.withConfig({displayName:"Icon",componentId:"sc-db51b935-2"})(["fill:none;stroke:white;stroke-width:3px;"]),P4e=Z.input.attrs({type:"checkbox"}).withConfig({displayName:"HiddenCheckbox",componentId:"sc-db51b935-3"})(["border:0;clip:rect(0 0 0 0);clippath:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;"]),C_t=Z.div.withConfig({displayName:"StyledCheckbox",componentId:"sc-db51b935-4"})(["display:inline-block;width:18px;height:18px;transition:all 150ms;cursor:pointer;border-color:",";border-radius:3px;background:",";&&{border-width:1px;}",":focus + &{box-shadow:0 0 0 1px ",";}","{visibility:",";}"],t=>t.color,t=>t.checked?t.color:"var(--privy-color-background)",P4e,t=>t.color,N4e,t=>t.checked?"visible":"hidden");const k_t=({buttonHideAnimations:t,buttonLoading:e,onSubmit:n,onBack:r,config:i})=>{let[s,o]=x.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsx(bn,{closeable:!1,backFn:r}),d.jsx(hf,{}),d.jsxs(pN,{children:[d.jsxs(yN,{children:[d.jsx(Bw,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-error)"}),d.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm you have saved"}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Losing access to your password means you will lose access to your account."})]}),d.jsx(VG,{children:d.jsxs(wU,{style:{color:"var(--privy-color-error)",cursor:"pointer"},onClick:a=>{a.preventDefault(),o(l=>!l)},children:[d.jsx($4e,{color:"var(--privy-color-error)",readOnly:!0,checked:s}),d.jsx(d.Fragment,{children:"I understand that if I lose my password and device, I will lose access to my account and my assets."})]})})]}),d.jsxs(S_t,{children:[i.initiatedBy==="user"&&d.jsx(kd,{onClick:i.onCancel,disabled:e,children:"Cancel"}),d.jsx(mN,{onClick:n,loading:e,$hideAnimations:t,disabled:!s,children:"Set Password"})]}),d.jsx(Nd,{}),d.jsx(er,{})]})};let S_t=Z.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-d1659c5f-0"})(["display:flex;gap:10px;"]),__t=/[a-z]/,I_t=/[A-Z]/,T_t=/[0-9]/,R4e="!@#$%^&*()\\-_+.",j4e=`a-zA-Z0-9${R4e}`,$_t=RegExp(`[${R4e}]`),N_t=RegExp(`[${j4e}]`);const P_t=RegExp(`^[${j4e}]{6,}$`),O4e=()=>bft(4,xft);function R_t(t){return t>.9?"Strong":t>.5?"Medium":"Weak"}function j_t(t=""){return(.3*function(e){if(e.length<8)return 0;let n=0;return __t.test(e)&&(n+=1),I_t.test(e)&&(n+=1),T_t.test(e)&&(n+=1),$_t.test(e)&&(n+=1),Math.max(0,Math.min(1,n/3))}(t)+fft(t)/95)/2}const O_t=({buttonHideAnimations:t,buttonLoading:e,password:n="",config:r,isResettingPassword:i,onSubmit:s,onClose:o,onBack:a,onPasswordChange:l,onPasswordGenerate:c})=>{let[u,h]=x.useState(!1),[f,p]=x.useState(!1);x.useEffect(()=>{n&&!f&&p(!0)},[n]);let m=x.useMemo(()=>f?6>((n==null?void 0:n.length)||0)?"Password must be at least 6 characters":P_t.test(n||"")?null:`Invalid characters used ( ${((w="")=>[...new Set(w.split("").filter(v=>!N_t.test(v)).map(v=>v.replace(" ","SPACE")))])(n).join(" ")} )`:null,[n,f]),g=x.useMemo(()=>m?{value:0,label:"Weak"}:function(w=""){let v=j_t(w);return{value:v,label:R_t(v)}}(n),[n,m]),y=x.useMemo(()=>!(n!=null&&n.length)||!!m,[m,n]);return d.jsxs(d.Fragment,{children:[d.jsx(bn,{onClose:o,closeable:r.initiatedBy==="user",backFn:a}),d.jsx(hf,{}),d.jsxs(pN,{children:[d.jsxs(yN,{children:[d.jsx(Xdt,{height:48,width:48,stroke:"var(--privy-color-accent)"}),d.jsxs("h3",{style:{color:"var(--privy-color-foreground)"},children:[i?"Reset":"Set"," your password"]}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Select a strong, memorable password to secure your account."})]}),d.jsxs(gN,{children:[d.jsx(HG,{value:n,onChange:w=>l(w.target.value),onKeyUp:w=>{w.key==="Enter"&&s()},placeholder:"enter or generate a strong password",type:u?"password":"text",style:{paddingRight:"3.8rem"}}),d.jsxs(wN,{style:{width:"3.5rem"},children:[u?d.jsx(bN,{onClick:()=>h(!1)}):d.jsx(vN,{onClick:()=>h(!0)}),d.jsx(v_t,{onClick:c})]})]}),d.jsx(x_t,{value:g.value===0?.01:g.value,label:g.label}),d.jsx(I4e,{error:!!m,children:m||`Password Strength: ${f?g.label:"--"}`}),d.jsxs(D_t,{children:[d.jsx(M_t,{children:d.jsxs(VG,{children:[d.jsxs(wU,{children:[d.jsx(X8,{width:24,height:24,fill:"var(--privy-color-accent)"}),"This password is used to secure your account."]}),d.jsxs(wU,{children:[d.jsx(X8,{width:24,height:24,fill:"var(--privy-color-accent)"}),"Use it to log in on a new environment, like another browser or device."]})]})}),d.jsx(mN,{onClick:s,loading:e,disabled:y,$hideAnimations:t,children:"Continue"})]})]}),d.jsx(Nd,{}),d.jsx(er,{})]})};let M_t=Z(VG).withConfig({displayName:"DetailsContainer",componentId:"sc-2da5fe90-0"})(["flex:1;padding-top:1rem;"]),D_t=Z.div.withConfig({displayName:"LowerContainer",componentId:"sc-2da5fe90-1"})(["display:flex;flex-direction:column;height:100%;"]);const B_t=({buttonHideAnimations:t,buttonLoading:e,appName:n,password:r,onSubmit:i,onBack:s})=>{let[o,a]=x.useState(!1),[l,c]=x.useState(!0),u=x.useCallback(()=>{a(!0),r&&navigator.clipboard.writeText(r)},[r]),h=x.useCallback(()=>{let f=document.createElement("a"),p=n.toLowerCase().replace(/[^a-z\s]/g,"").replace(/\s/g,"-"),m=new Blob([L_t(n,r)],{type:"text/plain"}),g=URL.createObjectURL(m);f.href=g,f.target="_blank",f.download=`${p}-privy-wallet-recovery.txt`,document.body.appendChild(f),f.click(),setTimeout(()=>{f.remove(),URL.revokeObjectURL(g)},5e3)},[r]);return d.jsxs(d.Fragment,{children:[d.jsx(bn,{backFn:s,closeable:!1}),d.jsx(hf,{}),d.jsxs(pN,{children:[d.jsxs(yN,{children:[d.jsx(Bw,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),d.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Save your password"}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"For your security, this password cannot be reset, so keep it somewhere safe."})]}),d.jsxs(gN,{centered:!0,children:[d.jsx(b_t,{children:l?"".repeat(r.length):r}),d.jsx(wN,{style:{right:"0.75rem"},children:l?d.jsx(bN,{onClick:()=>c(!1)}):d.jsx(vN,{onClick:()=>c(!0)})})]}),d.jsxs("div",{style:{display:"flex",margin:"12px 0",gap:"12px"},children:[d.jsx(ooe,{onClick:u,children:d.jsxs(d.Fragment,o?{children:[d.jsx(g2e,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copied"]}:{children:[d.jsx(Hdt,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copy"]})}),d.jsxs(ooe,{onClick:h,children:[d.jsx(vdt,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Download"]})]})]}),d.jsx(mN,{onClick:i,loading:e,$hideAnimations:t,children:"Continue"}),d.jsx(Nd,{}),d.jsx(er,{})]})};let L_t=(t,e)=>`Your wallet recovery password for ${t} is

${e}

You will need this password to access your ${t} wallet on a new device. Please keep it somewhere safe.`;const F_t=({error:t,onClose:e})=>d.jsxs(d.Fragment,{children:[d.jsx(bn,{closeable:!1}),d.jsx(hf,{}),d.jsxs(uN,t?{children:[d.jsx(Aft,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}),d.jsx(Sd,{title:"Something went wrong",description:t})]}:{children:[d.jsx(X8,{fill:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(Sd,{title:"Success"})]}),d.jsx(pr,{onClick:e,children:"Close"}),d.jsx(Nd,{}),d.jsx(er,{})]});let U_t=(t,e)=>{switch(t){case"creating":return e==="back"?t:"saving";case"saving":return e==="back"?"creating":"confirming";case"confirming":return e==="back"?"saving":"finalizing";case"finalizing":return e==="back"?"confirming":"done";default:return t}};const M4e=({onSubmit:t,...e})=>{let{lastScreen:n,navigate:r}=lt(),{send:i,state:s}=(()=>{let[c,u]=x.useReducer(U_t,"creating");return{send:u,state:c}})(),o=x.useCallback(async()=>{s==="finalizing"&&await t(),i("next")},[s,i,t]);x.useEffect(()=>{let c;return s==="done"&&e.config.initiatedBy==="automatic"&&(c=setTimeout(()=>{var u;return(u=e.onClose)==null?void 0:u.call(e)},Wr)),()=>{c&&clearTimeout(c)}},[s,e.config.initiatedBy,e.onClose]);let a=x.useCallback(()=>{i("back")},[i]),l=x.useCallback(()=>{r(yU)},[n,r]);return s==="creating"?d.jsx(O_t,{...e,onSubmit:o,onBack:n===yU?l:void 0}):s==="saving"?d.jsx(B_t,{...e,onSubmit:o,onBack:a}):s==="confirming"?d.jsx(E_t,{...e,onSubmit:o,onBack:a}):s==="finalizing"?d.jsx(k_t,{...e,onSubmit:o,onBack:a}):s==="done"?d.jsx(F_t,{...e,onSubmit:o}):null};let z_t={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",line_oauth:"line",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:"};const xN=t=>{let e=z_t[t];return t==="wallet"||t==="phone"?{displayName:t,loginMethod:e}:{displayName:e,loginMethod:e}};let D4e=x.createContext({});const W_t=({children:t})=>{let e=Fn(),[n,r]=x.useState({});return aN("login",{onComplete:({loginAccount:i})=>{i&&i.type!=="passkey"&&i.type!=="cross_app"&&(i.type!=="wallet"||i.walletClientType!=="privy")&&(Nt.put(aoe(e.id),i.type),i.type==="wallet"?(Nt.put(OO(e.id),i.walletClientType),Nt.put(MO(e.id),i.chainType),r({accountType:i.type,walletClientType:i.walletClientType,chainType:i.chainType})):(Nt.del(OO(e.id)),Nt.del(MO(e.id)),r({accountType:i.type})))}}),x.useEffect(()=>{if(!e.id)return;let i=Nt.get(aoe(e.id)),s=Nt.get(OO(e.id)),o=Nt.get(MO(e.id));i&&r(i==="wallet"?{accountType:i,walletClientType:s,chainType:o}:{accountType:i})},[e.id]),d.jsx(D4e.Provider,{value:n,children:t})};let aoe=t=>`privy:${t}:recent-login-method`,OO=t=>`privy:${t}:recent-login-wallet-client`,MO=t=>`privy:${t}:recent-login-chain-type`;const Fg=()=>x.useContext(D4e),B4e=()=>{var i;let{app:t}=lt(),e=(i=t==null?void 0:t.appearance)==null?void 0:i.logo,n=`${t==null?void 0:t.name} logo`,r={maxHeight:"90px",maxWidth:"180px"};return e?typeof e=="string"?d.jsx("img",{src:e,alt:n,style:r}):e.type==="svg"||e.type==="img"?Ae.cloneElement(e,{alt:n,style:r}):(console.warn("`config.appearance.logo` must be a string, or an SVG / IMG element. Nothing will be rendered."),null):null},H_t=t=>{let{app:e}=lt();return e!=null&&e.appearance.logo?d.jsx(V_t,{...t,children:d.jsx(B4e,{})}):null},V_t=Z.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-a206bd44-0"})(["display:flex;flex-direction:column;align-items:center;padding:24px 0;flex-grow:1;justify-content:center;"]),q_t=({name:t,logoUrl:e,size:n="38px"})=>typeof e=="string"?d.jsx("img",{src:e,alt:`${t??"Provider app"} logo`,style:{width:n,height:n,maxHeight:"90px",maxWidth:"180px",borderRadius:"8px"}}):d.jsx("span",{}),G_t=({appId:t})=>{let[e,n]=x.useState(void 0),{startCrossAppAuthFlow:r,authenticated:i}=Sn(),{client:s}=st();return x.useEffect(()=>{(async()=>s&&n(await s.getCrossAppProviderDetails(t)))()},[s]),d.jsx(Gr,{onClick:()=>r({appId:t,action:i?"link":"login"}),disabled:!e,children:e?d.jsxs(d.Fragment,{children:[d.jsx(q_t,{name:e.name,logoUrl:e.icon_url||void 0,size:"24px"})," ",e.name]}):d.jsx(Bg,{})})};let K_t=Z.a.withConfig({displayName:"StyledLink",componentId:"sc-c8577138-0"})(["&&{color:",";font-weight:400;text-decoration:",";text-underline-offset:4px;text-decoration-thickness:1px;cursor:",";opacity:",";font-size:",";line-height:",";transition:color 200ms ease,text-decoration-color 200ms ease,opacity 200ms ease;&:hover{color:",";text-decoration:",";text-underline-offset:4px;}&:active{color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;border-radius:2px;}}"],({$variant:t})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))",({$variant:t})=>t==="underlined"?"underline":"var(--privy-link-navigation-decoration, none)",({$disabled:t})=>t?"not-allowed":"pointer",({$disabled:t})=>t?.5:1,({$size:t})=>{switch(t){case"xs":return"12px";case"sm":return"14px";default:return"16px"}},({$size:t})=>{switch(t){case"xs":return"18px";case"sm":return"22px";default:return"24px"}},({$variant:t,$disabled:e})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))",({$disabled:t})=>t?"none":"underline",({$variant:t,$disabled:e})=>e?t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))":"var(--privy-color-foreground)");const n3=({size:t="md",variant:e="navigation",disabled:n=!1,as:r,children:i,onClick:s,...o})=>d.jsx(K_t,{as:r,$size:t,$variant:e,$disabled:n,onClick:a=>{n?a.preventDefault():s==null||s(a)},...o,children:i}),qG=(t,e)=>!bh(t)&&(e==="all-users"||e==="users-without-wallets"&&!Y_t(t).length);let Y_t=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.chainType==="ethereum");const GG=(t,e)=>!k$(t)&&(e==="all-users"||e==="users-without-wallets"&&!Q_t(t).length);let Q_t=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.chainType==="solana");const Ug=(t,e)=>qG(t,e.ethereum.createOnLogin)||GG(t,e.solana.createOnLogin),Z_t=({title:t="Account not found",subtitle:e,appName:n="this app",ctaText:r="Try logging in again",onRetry:i})=>d.jsx(Rn,{title:t,subtitle:e||`Please try logging in again or go to ${n} to create an account.`,icon:xht,iconVariant:"warning",primaryCta:{label:r,onClick:i},watermark:!0}),fC={component:()=>{let{navigate:t,app:e,setModalData:n,data:r}=lt(),{getAuthMeta:i,client:s}=st();return d.jsx(Z_t,{appName:e==null?void 0:e.name,onRetry:()=>{let o=i();n({...r,login:{...r==null?void 0:r.login,...o!=null&&o.disableSignup?{disableSignup:!0}:{}}}),s!=null&&s.authFlow&&(s.authFlow=void 0),t(Lo)}})}},J_t=Z.span.withConfig({displayName:"CircleBorder",componentId:"sc-9056b8b8-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;border-bottom-color:",";}"],t=>t.color??"var(--privy-color-accent)",t=>t.color??"var(--privy-color-accent)"),La=({address:t,showCopyIcon:e,url:n,className:r})=>{let[i,s]=x.useState(!1);function o(a){a.stopPropagation(),navigator.clipboard.writeText(t).then(()=>s(!0)).catch(console.error)}return x.useEffect(()=>{if(i){let a=setTimeout(()=>s(!1),3e3);return()=>clearTimeout(a)}},[i]),d.jsxs(X_t,n?{children:[d.jsx(t7t,{title:t,className:r,href:`${n}/address/${t}`,target:"_blank",children:Xo(t)}),e&&d.jsx(kd,{onClick:o,size:"sm",style:{gap:"0.375rem"},children:d.jsxs(d.Fragment,i?{children:["Copied",d.jsx(eE,{size:16})]}:{children:["Copy",d.jsx(f7,{size:16})]})})]}:{children:[d.jsx(e7t,{title:t,className:r,children:Xo(t)}),e&&d.jsx(kd,{onClick:o,size:"sm",style:{gap:"0.375rem",fontSize:"14px"},children:d.jsxs(d.Fragment,i?{children:["Copied",d.jsx(eE,{size:14})]}:{children:["Copy",d.jsx(f7,{size:14})]})})]})};let X_t=Z.span.withConfig({displayName:"AddressContainer",componentId:"sc-3a987cc8-0"})(["display:inline-flex;align-items:center;gap:0.5rem;"]),e7t=Z.span.withConfig({displayName:"AddressText",componentId:"sc-3a987cc8-1"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),t7t=Z.a.withConfig({displayName:"AddressLink",componentId:"sc-3a987cc8-2"})(["font-size:14px;color:var(--privy-color-foreground);text-decoration:none;&:hover{text-decoration:underline;}"]);function n7t(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...t,children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),d.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]})}const bU=792703809,vU="11111111111111111111111111111111";let loe="0x0000000000000000000000000000000000000000";const l2=({originCurrency:t,destinationCurrency:e,...n})=>({tradeType:"EXPECTED_OUTPUT",originCurrency:t??loe,destinationCurrency:e??loe,...n});let L4e="https://api.relay.link",F4e="https://api.testnets.relay.link";const mE=async({input:t,isTestnet:e})=>{let n=await fetch((e?F4e:L4e)+"/quote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await n.json();if(!(n.ok||typeof r.message=="string"&&r.message.startsWith("Invalid address")))throw console.error("Relay error:",r),Error(r.message??"Error fetching quote from relay");return r},z7=t=>{var n,r;let e=(r=(n=t.steps[0])==null?void 0:n.items)==null?void 0:r[0];if(e)return{from:e.data.from,to:e.data.to,value:Number(e.data.value),chainId:Number(e.data.chainId),data:e.data.data}};async function r7t({transactionHash:t,isTestnet:e}){var i;let n=await fetch((e?F4e:L4e)+"/requests/v2?hash="+t),r=await n.json();if(!n.ok)throw"message"in r&&typeof r.message=="string"?Error(r.message):Error("Error fetching request from relay");return((i=r.requests.at(0))==null?void 0:i.status)??"pending"}function KG({transactionHash:t,isTestnet:e,bridgingStatus:n,setBridgingStatus:r,onSuccess:i,onFailure:s}){x.useEffect(()=>{if(t&&n){if(["delayed","waiting","pending"].includes(n)){let o=setInterval(async()=>{try{let a=await r7t({transactionHash:t,isTestnet:e});r(a)}catch(a){console.error(a)}},1e3);return()=>clearInterval(o)}n==="success"?i({transactionHash:t}):["refund","failure"].includes(n)&&s({error:new U4e(t,e)})}},[n,t,e])}let U4e=class extends ue{constructor(e,n){super("We were unable to complete the bridging transaction. Funds will be refunded on your wallet.",void 0,pe.TRANSACTION_FAILURE),this.relayLink=n?`https://testnets.relay.link/transaction/${e}`:`https://relay.link/transaction/${e}`}};const EN=({error:t,allowlistConfig:e,onRetry:n,onCaptchaReset:r,onBack:i})=>{let s=((o,a)=>{if(o instanceof U4e)return{title:"Transaction failed",detail:d.jsxs(d.Fragment,{children:[d.jsx("span",{children:o.message}),d.jsxs("span",{children:[" ","Check the"," ",d.jsx(i7t,{href:o.relayLink,target:"_blank",children:"refund status"}),"."]})]}),ctaText:"Try again",icon:ml};if(o instanceof ue)switch(o.privyErrorCode){case pe.CLIENT_REQUEST_TIMEOUT:return{title:"Timed out",detail:o.message,ctaText:"Try again",icon:ml};case pe.INSUFFICIENT_BALANCE:return{title:"Insufficient balance",detail:o.message,ctaText:"Try again",icon:ml};case pe.TRANSACTION_FAILURE:return{title:"Transaction failure",detail:o.message,ctaText:"Try again",icon:ml};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:ml}}else{if(o instanceof Qr&&o.type==="twilio_verification_failed")return{title:"Something went wrong",detail:o.message,ctaText:"Try again",icon:kht};if(!(o instanceof Do))return o instanceof Rl&&o.status&&[400,422].includes(o.status)?{title:"Something went wrong",detail:o.message,ctaText:"Try again",icon:ml}:{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:ml};switch(o.privyErrorCode){case pe.INVALID_CAPTCHA:return{title:"Something went wrong",detail:"Please try again.",ctaText:"Try again",icon:ml};case pe.DISALLOWED_LOGIN_METHOD:return{title:"Not allowed",detail:o.message,ctaText:"Try another method",icon:ml};case pe.ALLOWLIST_REJECTED:return{title:a.errorTitle||"You don't have access to this app",detail:a.errorDetail||"Have you been invited?",ctaText:a.errorCtaText||"Try another account",icon:Rq};case pe.CAPTCHA_FAILURE:return{title:"Something went wrong",detail:"You did not pass CAPTCHA. Please try again.",ctaText:"Try again",icon:null};case pe.CAPTCHA_TIMEOUT:return{title:"Something went wrong",detail:"Something went wrong! Please try again later.",ctaText:"Try again",icon:null};case pe.LINKED_TO_ANOTHER_USER:return{title:"Authentication failed",detail:"This account has already been linked to another user.",ctaText:"Try again",icon:ml};case pe.NOT_SUPPORTED:return{title:"This region is not supported",detail:"SMS authentication from this region is not available",ctaText:"Try another method",icon:ml};case pe.TOO_MANY_REQUESTS:return{title:"Request failed",detail:"Too many attempts.",ctaText:"Try again later",icon:ml};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:ml}}}})(t,e);return d.jsx(Rn,{title:s.title,subtitle:s.detail,icon:s.icon,onBack:i,iconVariant:"error",primaryCta:{label:s.ctaText,onClick:()=>{t instanceof Do&&(t.privyErrorCode===pe.INVALID_CAPTCHA&&(r==null||r()),t.privyErrorCode===pe.ALLOWLIST_REJECTED&&e.errorCtaLink)?window.location.href=e.errorCtaLink:n==null||n()},variant:"error"},watermark:!0})},Yr={component:()=>{var a,l;let{navigate:t,data:e,lastScreen:n,currentScreen:r,app:i}=lt(),{reset:s}=dl(),o=((a=e==null?void 0:e.errorModalData)==null?void 0:a.previousScreen)||(n===r?void 0:n);return d.jsx(EN,{error:((l=e==null?void 0:e.errorModalData)==null?void 0:l.error)||Error(),allowlistConfig:i.allowlistConfig,onRetry:()=>{t(o||Lo,!1)},onCaptchaReset:s})}};let i7t=Z.a.withConfig({displayName:"Link",componentId:"sc-89a5a605-0"})(["color:var(--privy-color-accent) !important;font-weight:600;"]);const z4e=({onTransfer:t,isTransferring:e,transferSuccess:n})=>d.jsx(pr,{...n?{success:!0,children:"Success!"}:{warn:!0,loading:e,onClick:t,children:"Transfer and delete account"}}),W4e=Z.div.withConfig({displayName:"ConnectContainer",componentId:"sc-3505eb4c-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;width:100%;padding-bottom:16px;"]),xU=Z.div.withConfig({displayName:"GappedContainer",componentId:"sc-3505eb4c-1"})(["display:flex;flex-direction:column;&& p{font-size:14px;}width:100%;gap:16px;"]),H4e=Z.div.withConfig({displayName:"DisclosedAccountContainer",componentId:"sc-3505eb4c-2"})(["display:flex;cursor:pointer;align-items:center;width:100%;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);padding:8px 10px;font-size:14px;font-weight:500;gap:8px;"]),s7t=Z(yq).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-3505eb4c-3"})(["position:relative;width:",";height:",";color:var(--privy-color-foreground-3);margin-left:auto;"],({$iconSize:t})=>`${t}px`,({$iconSize:t})=>`${t}px`),o7t=Z(uht).withConfig({displayName:"StyledCopyIcon",componentId:"sc-3505eb4c-4"})(["position:relative;width:15px;height:15px;color:var(--privy-color-foreground-3);margin-left:auto;"]),a7t=Z.ol.withConfig({displayName:"ListContainer",componentId:"sc-3505eb4c-5"})(["display:flex;flex-direction:column;font-size:14px;width:100%;text-align:left;"]),coe=Z.li.withConfig({displayName:"ListItem",componentId:"sc-3505eb4c-6"})(["font-size:14px;list-style-type:auto;list-style-position:outside;margin-left:1rem;margin-bottom:0.5rem;&:last-child{margin-bottom:0;}"]),l7t=Z.div.withConfig({displayName:"CircleContainer",componentId:"sc-3505eb4c-7"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]);let c7t=()=>d.jsx(l7t,{children:d.jsx(s7t,{$iconSize:60})});const u7t=({address:t,onClose:e,onRetry:n,onTransfer:r,isTransferring:i,transferSuccess:s})=>{var l;let{defaultChain:o}=Fn(),a=((l=o.blockExplorers)==null?void 0:l.default.url)??"https://etherscan.io";return d.jsxs(d.Fragment,{children:[d.jsx(bn,{onClose:e,backFn:n}),d.jsxs(W4e,{children:[d.jsx(c7t,{}),d.jsxs(xU,{children:[d.jsx("h3",{children:"Check account assets before transferring"}),d.jsx("p",{children:"Before transferring, ensure there are no assets in the other account. Assets in that account will not transfer automatically and may be lost."}),d.jsxs(a7t,{children:[d.jsx("p",{children:" To check your balance, you can:"}),d.jsx(coe,{children:"Log out and log back into the other account, or "}),d.jsxs(coe,{children:["Copy your wallet address and use a"," ",d.jsx("u",{children:d.jsx("a",{target:"_blank",href:a,children:"block explorer"})})," ","to see if the account holds any assets."]})]}),d.jsxs(H4e,{onClick:()=>navigator.clipboard.writeText(t).catch(console.error),children:[d.jsx(m$,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),d.jsx(La,{address:t,showCopyIcon:!1}),d.jsx(o7t,{})]}),d.jsx(z4e,{onTransfer:r,isTransferring:i,transferSuccess:s})]})]}),d.jsx(er,{})]})},Yw={component:()=>{let{initiateAccountTransfer:t,closePrivyModal:e}=st(),{data:n,navigate:r,lastScreen:i,setModalData:s}=lt(),[o,a]=x.useState(void 0),[l,c]=x.useState(!1),[u,h]=x.useState(!1),f=async()=>{var p,m,g,y,w,v,b,A,E,$;try{if(!((p=n==null?void 0:n.accountTransfer)!=null&&p.nonce)||!((m=n==null?void 0:n.accountTransfer)!=null&&m.account))throw Error("missing account transfer inputs");h(!0),await t({nonce:(g=n==null?void 0:n.accountTransfer)==null?void 0:g.nonce,account:(y=n==null?void 0:n.accountTransfer)==null?void 0:y.account,accountType:(w=n==null?void 0:n.accountTransfer)==null?void 0:w.linkMethod,externalWalletMetadata:(v=n==null?void 0:n.accountTransfer)==null?void 0:v.externalWalletMetadata,telegramWebAppData:(b=n==null?void 0:n.accountTransfer)==null?void 0:b.telegramWebAppData,telegramAuthResult:(A=n==null?void 0:n.accountTransfer)==null?void 0:A.telegramAuthResult,farcasterEmbeddedAddress:(E=n==null?void 0:n.accountTransfer)==null?void 0:E.farcasterEmbeddedAddress,oAuthUserInfo:($=n==null?void 0:n.accountTransfer)==null?void 0:$.oAuthUserInfo}),c(!0),h(!1),setTimeout(e,1e3)}catch(N){s({errorModalData:{error:N,previousScreen:i||Yw}}),r(Yr,!0)}};return o?d.jsx(u7t,{address:o,onClose:e,onRetry:()=>a(void 0),onTransfer:f,isTransferring:u,transferSuccess:l}):d.jsx(d7t,{onClose:e,onInfo:()=>{var p;return a((p=n==null?void 0:n.accountTransfer)==null?void 0:p.embeddedWalletAddress)},onContinue:()=>{var p;return a((p=n==null?void 0:n.accountTransfer)==null?void 0:p.embeddedWalletAddress)},onTransfer:f,isTransferring:u,transferSuccess:l,data:n})}},d7t=({onClose:t,onContinue:e,onInfo:n,onTransfer:r,transferSuccess:i,isTransferring:s,data:o})=>{var l,c,u,h,f,p,m;if(!((l=o==null?void 0:o.accountTransfer)!=null&&l.linkMethod)||!((c=o==null?void 0:o.accountTransfer)!=null&&c.displayName))return;let a={method:(u=o==null?void 0:o.accountTransfer)==null?void 0:u.linkMethod,handle:(h=o==null?void 0:o.accountTransfer)==null?void 0:h.displayName,disclosedAccount:(f=o==null?void 0:o.accountTransfer)!=null&&f.embeddedWalletAddress?{type:"wallet",handle:(p=o==null?void 0:o.accountTransfer)==null?void 0:p.embeddedWalletAddress}:void 0};return d.jsxs(d.Fragment,{children:[d.jsx(bn,{closeable:!0}),d.jsxs(W4e,{children:[d.jsx(v4e,{children:d.jsxs("div",{children:[d.jsx(J_t,{color:"var(--privy-color-error)"}),d.jsx(Bw,{height:38,width:38,stroke:"var(--privy-color-error)"})]})}),d.jsxs(xU,{children:[d.jsxs("h3",{children:[function(g){switch(g){case"sms":return"Phone number";case"email":return"Email address";case"siwe":return"Wallet address";case"siws":return"Solana wallet address";case"linkedin":return"LinkedIn profile";case"google":case"apple":case"discord":case"github":case"instagram":case"spotify":case"tiktok":case"line":case"twitter":case"telegram":case"farcaster":return`${S6e(g.replace("_oauth",""))} profile`;default:return g.startsWith("privy:")?"Cross-app account":g}}(a.method)," is associated with another account"]}),d.jsxs("p",{children:["Do you want to transfer",d.jsx("b",{children:a.handle?` ${a.handle}`:""})," to this account instead? This will delete your other account."]}),d.jsx(h7t,{onClick:n,disclosedAccount:a.disclosedAccount})]}),d.jsxs(xU,{style:{gap:12,marginTop:12},children:[(m=o==null?void 0:o.accountTransfer)!=null&&m.embeddedWalletAddress?d.jsx(pr,{onClick:e,children:"Continue"}):d.jsx(z4e,{onTransfer:r,transferSuccess:i,isTransferring:s}),d.jsx(kd,{onClick:t,children:"No thanks"})]})]}),d.jsx(er,{})]})};function h7t({disclosedAccount:t,onClick:e}){return t?d.jsxs(H4e,{onClick:e,children:[d.jsx(m$,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),d.jsx(La,{address:t.handle,showCopyIcon:!1}),d.jsx(n7t,{width:15,height:15,color:"var(--privy-color-foreground-3)",style:{marginLeft:"auto"}})]}):null}const f7t=({errorMessage:t,onClose:e})=>d.jsx(Rn,t?{title:"Something went wrong",subtitle:t,icon:I$,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Creating your wallet",subtitle:"Please wait...",iconVariant:"loading",watermark:!1}),o0={component:()=>{let{app:t,setModalData:e,navigate:n,data:r,onUserCloseViaDialogOrKeybindRef:i}=lt(),[s,o]=x.useState(""),{embeddedWallets:a}=Fn(),{authenticated:l,user:c}=Sn(),{closePrivyModal:u,walletProxy:h,client:f}=st(),{onSuccess:p,onFailure:m,callAuthOnSuccessOnClose:g,shouldCreateEth:y,shouldCreateSol:w}=r.createWallet,v=t.embeddedWallets.mode==="legacy-embedded-wallets-only"&&(t==null?void 0:t.embeddedWallets.requireUserOwnedRecoveryOnCreate)===!0,[b,A]=x.useState(null),{create:E}=zG(),$=y??(!!c&&qG(c,t.embeddedWallets.ethereum.createOnLogin)),N=w??(!!c&&GG(c,t.embeddedWallets.solana.createOnLogin)),R=new ra(async()=>{let j=await f.getAccessToken();if(c&&j&&h)try{let F;if($&&N)F=await E({chainType:"ethereum",walletIndex:0,latestUser:c}),F=await E({chainType:"solana",walletIndex:0,latestUser:F.user});else if(N)F=await E({chainType:"solana",walletIndex:0,latestUser:c});else{if(!$)return void u({shouldCallAuthOnSuccess:g});F=await E({chainType:"ethereum",walletIndex:0,latestUser:c})}A(F),n(WG)}catch(F){o(F.message)}});return x.useEffect(()=>l&&c?v?(e({...r,createWallet:{...r.createWallet,shouldCreateEth:$,shouldCreateSol:N},recoverySelection:{...r==null?void 0:r.recoverySelection,isInAccountCreateFlow:!0,shouldCreateEth:$,shouldCreateSol:N}}),n(x8e({walletAction:"create",showAutomaticRecovery:!1,availableRecoveryMethods:a.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:!1,isResettingPassword:!1}))):void R.execute():(n(Lo),void m(Error("User must be authenticated before creating a Privy wallet"))),[v,l]),i.current=()=>null,d.jsx(f7t,{errorMessage:s||void 0,onClose:()=>{b?(p(b),u({shouldCallAuthOnSuccess:g})):(m(new ng("User wallet creation failed")),u({shouldCallAuthOnSuccess:!1}))}})}},Qw={component:()=>{let{user:t,logout:e}=Sn(),{app:n,onUserCloseViaDialogOrKeybindRef:r,setModalData:i,navigate:s}=lt(),{acceptTerms:o,closePrivyModal:a,createAnalyticsEvent:l}=st(),c=u=>{u==null||u.preventDefault(),a({shouldCallAuthOnSuccess:!1}),e()};return r.current=c,d.jsx(p7t,{termsAndConditionsUrl:n==null?void 0:n.legal.termsAndConditionsUrl,privacyPolicyUrl:n==null?void 0:n.legal.privacyPolicyUrl,onAccept:async u=>{u==null||u.preventDefault(),await o(),t&&Ug(t,n.embeddedWallets)?(i({createWallet:{onSuccess:()=>{},onFailure:h=>{console.error(h),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:h,screen:"AffirmativeConsentScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(o0)):a()},onDecline:c})}},p7t=({termsAndConditionsUrl:t,privacyPolicyUrl:e,onAccept:n,onDecline:r,title:i="One last step",subtitle:s="By signing up, you agree to our terms and privacy policy."})=>d.jsx(Rn,{title:i,subtitle:s,icon:Cht,primaryCta:{label:"Accept",onClick:n},secondaryCta:{label:"No thanks",onClick:r},watermark:!0,children:(t||e)&&d.jsxs(m7t,{children:[t&&d.jsxs(cw,{variant:"muted",href:t,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Terms",d.jsx(eF,{width:16,height:16,strokeWidth:2.25})]}),e&&d.jsxs(cw,{variant:"muted",href:e,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Privacy Policy",d.jsx(eF,{width:16,height:16,strokeWidth:2.25})]})]})});let m7t=Z.div.withConfig({displayName:"LinksContainer",componentId:"sc-b9d25a6d-0"})(["display:flex;flex-direction:column;gap:12px;margin-top:var(--screen-space);"]);const V4e=({color:t,...e})=>d.jsx("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 115.77 122.88",xmlSpace:"preserve",...e,children:d.jsx("g",{children:d.jsx("path",{fill:t||"currentColor",className:"st0",d:"M89.62,13.96v7.73h12.19h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02v0.02 v73.27v0.01h-0.02c-0.01,3.84-1.57,7.33-4.1,9.86c-2.51,2.5-5.98,4.06-9.82,4.07v0.02h-0.02h-61.7H40.1v-0.02 c-3.84-0.01-7.34-1.57-9.86-4.1c-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-0.02V92.51H13.96h-0.01v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1 c-2.5-2.51-4.06-5.98-4.07-9.82H0v-0.02V13.96v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07V0h0.02h61.7 h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02V13.96L89.62,13.96z M79.04,21.69v-7.73v-0.02h0.02 c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v64.59v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h12.19V35.65 v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07v-0.02h0.02H79.04L79.04,21.69z M105.18,108.92V35.65v-0.02 h0.02c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v73.27v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h61.7h0.02 v0.02c0.91,0,1.75-0.39,2.37-1.01c0.61-0.61,1-1.46,1-2.37h-0.02V108.92L105.18,108.92z"})})});let g7t=Z.button.withConfig({displayName:"CopyTextButton",componentId:"sc-4b0620dc-0"})(["display:flex;align-items:center;gap:0.5rem;&:hover{text-decoration:underline;}svg{width:0.875rem;height:0.875rem;}"]),y7t=Z.span.withConfig({displayName:"CopiedText",componentId:"sc-4b0620dc-1"})(["display:flex;align-items:center;gap:0.25rem;font-size:0.875rem;color:var(--privy-color-foreground-2);"]),w7t=Z(jdt).withConfig({displayName:"GreenCheck",componentId:"sc-4b0620dc-2"})(["color:var(--privy-color-success);"]),b7t=Z(V4e).withConfig({displayName:"StyledCopy",componentId:"sc-4b0620dc-3"})(["color:var(--privy-color-foreground-3);opactiy:0.5;"]);function v7t({children:t,iconOnly:e,value:n,hideCopyIcon:r,...i}){let[s,o]=x.useState(!1);return d.jsxs(g7t,{...i,onClick:()=>{navigator.clipboard.writeText(n||t).catch(console.error),o(!0),setTimeout(()=>o(!1),1500)},children:[t," ",s?d.jsxs(y7t,{children:[d.jsx(w7t,{})," ",!e&&"Copied"]}):!r&&d.jsx(b7t,{})]})}const x7t=()=>d.jsx("svg",{width:"200",height:"200",viewBox:"-77 -77 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px"},children:d.jsx("rect",{width:"50",height:"50",fill:"black",rx:10,ry:10})});let DO=(t,e,n,r,i)=>{for(let s=e;s<e+r;s++)for(let o=n;o<n+i;o++){let a=t==null?void 0:t[o];a&&a[s]&&(a[s]=0)}return t},E7t=({x:t,y:e,cellSize:n,bgColor:r,fgColor:i})=>d.jsx(d.Fragment,{children:[0,1,2].map(s=>d.jsx("circle",{r:n*(7-2*s)/2,cx:t+7*n/2,cy:e+7*n/2,fill:s%2!=0?r:i},`finder-${t}-${e}-${s}`))}),A7t=({cellSize:t,matrixSize:e,bgColor:n,fgColor:r})=>d.jsx(d.Fragment,{children:[[0,0],[(e-7)*t,0],[0,(e-7)*t]].map(([i,s])=>d.jsx(E7t,{x:i,y:s,cellSize:t,bgColor:n,fgColor:r},`finder-${i}-${s}`))}),C7t=({matrix:t,cellSize:e,color:n})=>d.jsx(d.Fragment,{children:t.map((r,i)=>r.map((s,o)=>s?d.jsx("rect",{height:e-.4,width:e-.4,x:i*e+.1*e,y:o*e+.1*e,rx:.5*e,ry:.5*e,fill:n},`cell-${i}-${o}`):d.jsx(Ae.Fragment,{},`circle-${i}-${o}`)))}),k7t=({cellSize:t,matrixSize:e,element:n,sizePercentage:r,bgColor:i})=>{if(!n)return d.jsx(d.Fragment,{});let s=e*(r||.14),o=Math.floor(e/2-s/2),a=Math.floor(e/2+s/2);(a-o)%2!=e%2&&(a+=1);let l=(a-o)*t,c=l-.2*l,u=o*t;return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:o*t,y:o*t,width:l,height:l,fill:i}),d.jsx(n,{x:u+.1*l,y:u+.1*l,height:c,width:c})]})},S7t=t=>{var s;let e=t.outputSize,n=((o,a)=>{let l=ZA.create(o,{errorCorrectionLevel:a}).modules,c=((u,h)=>{let f=u.slice(0),p=[];for(;f.length;)p.push(f.splice(0,h));return p})(Array.from(l.data),l.size);return c=DO(c,0,0,7,7),c=DO(c,c.length-7,0,7,7),DO(c,0,c.length-7,7,7)})(t.url,t.errorCorrectionLevel),r=e/n.length,i=function(o,{min:a,max:l}){return Math.min(Math.max(o,a),l)}(2*r,{min:.025*e,max:.036*e});return d.jsxs("svg",{height:t.outputSize,width:t.outputSize,viewBox:`0 0 ${t.outputSize} ${t.outputSize}`,style:{height:"100%",width:"100%",padding:`${i}px`},children:[d.jsx(C7t,{matrix:n,cellSize:r,color:t.fgColor}),d.jsx(A7t,{cellSize:r,matrixSize:n.length,fgColor:t.fgColor,bgColor:t.bgColor}),d.jsx(k7t,{cellSize:r,element:(s=t.logo)==null?void 0:s.element,bgColor:t.bgColor,matrixSize:n.length})]})},_7t=Z.div.attrs({className:"ph-no-capture"}).withConfig({displayName:"QrContainer",componentId:"sc-597e27f3-0"})(["display:flex;justify-content:center;align-items:center;height:",";width:",";margin:auto;background-color:",";&&{border-width:2px;border-color:",";border-radius:var(--privy-border-radius-md);}"],t=>`${t.$size}px`,t=>`${t.$size}px`,t=>t.$bgColor,t=>t.$borderColor);const pC=t=>{let{appearance:e}=Fn(),n=t.bgColor||"#FFFFFF",r=t.fgColor||"#000000",i=t.size||160,s=e.palette.colorScheme==="dark"?n:r;return d.jsx(_7t,{$size:i,$bgColor:n,$fgColor:r,$borderColor:s,children:d.jsx(S7t,{url:t.url,logo:{element:t.squareLogoElement??x7t},outputSize:i,bgColor:n,fgColor:r,errorCorrectionLevel:t.errorCorrectionLevel||"Q"})})},uw=Z.span.withConfig({displayName:"ErrorMessage",componentId:"sc-fcb8cd50-0"})(["text-align:left;font-size:0.75rem;font-weight:500;line-height:1.125rem;color:var(--privy-color-error);"]);let q4e=Z.label.withConfig({displayName:"BaseEmailForm",componentId:"sc-f34af797-0"})(["display:block;position:relative;width:100%;height:56px;&& > :first-child{position:absolute;left:0.75em;top:50%;transform:translate(0,-50%);}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);padding:12px 88px 12px 52px;flex-grow:1;background:var(--privy-color-background);border:1px solid ",";border-radius:var(--privy-border-radius-md);width:100%;height:100%;@media (min-width:441px){font-size:14px;padding-right:78px;}:focus{outline:none;border-color:",";box-shadow:",";}:autofill,:-webkit-autofill{background:var(--privy-color-background);}&& > input::placeholder{color:var(--privy-color-foreground-3);}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}"],({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)",({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-accent-light)",({$error:t})=>t?"none":"0 0 0 1px var(--privy-color-accent-light)");const G4e=Z(q4e).withConfig({displayName:"EmailUpdateForm",componentId:"sc-f34af797-1"})(["background-color:var(--privy-color-background);transition:background-color 200ms ease;&& > button{right:0;line-height:24px;position:absolute;padding:13px 17px;background-color:#090;:focus{outline:none;border-color:var(--privy-color-accent);}}"]),I7t=Z(q4e).withConfig({displayName:"EmailInputForm",componentId:"sc-f34af797-2"})(["&& > input{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:",";border:1px solid ",";&& > input::placeholder{color:var(--privy-color-foreground-3);}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}}"],t=>t.$stacked?"16px":"88px",({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)"),K4e=Z.div.withConfig({displayName:"InputContainerForm",componentId:"sc-f34af797-3"})(["width:100%;&& > ","{display:block;text-align:left;padding-left:var(--privy-border-radius-md);padding-bottom:5px;}"],uw),Y4e=({...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[d.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),d.jsx("path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2"}),d.jsx("path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21"})]}),_v={phantom:{mobile:{native:"phantom://",universal:"https://phantom.app/ul/"}},solflare:{mobile:{native:void 0,universal:"https://solflare.com/ul/v1/"}},metamask:{image_url:{sm:fU,md:fU}}};class jl{static normalize(e){return e.replace(/[-_]wallet$/,"").replace(/[-_]extension$/,"").toLowerCase()}isEth(e){return e.chains.some(n=>n.startsWith("eip155:"))}isSol(e){return e.chains.some(n=>n.startsWith("solana:"))}inAllowList(e,n){if(!this.normalizedAllowList||this.normalizedAllowList.length===0||n==="listing"&&this.includeWalletConnect)return!0;let r=jl.normalize(e);return this.normalizedAllowList.some(i=>r===jl.normalize(i))}chainMatches(e){return this.chainFilter==="ethereum-only"?e==="ethereum":this.chainFilter!=="solana-only"||e==="solana"}connectorOk(e){return!!(e.connectorType!=="null"&&this.chainMatches(e.chainType)&&(this.inAllowList(e.walletClientType,"connector")||(e.connectorType==="injected"||e.connectorType==="solana_adapter")&&(e.chainType==="ethereum"&&this.detectedEth||e.chainType==="solana"&&this.detectedSol)))}listingOk(e){if(e.slug.includes("coinbase"))return!1;if(this.chainFilter==="ethereum-only"){if(!this.isEth(e))return!1}else if(this.chainFilter==="solana-only"&&!this.isSol(e))return!1;return!!this.inAllowList(e.slug,"listing")}getWallets(e,n){var l;let r=new Map,i=c=>{let u=r.get(c.id);if(u){u.chainType!==c.chainType&&(u.chainType="multi");let h=new Set(u.chains);c.chains.forEach(f=>h.add(f)),u.chains=Array.from(h),!u.icon&&c.icon&&(u.icon=c.icon),!u.url&&c.url&&(u.url=c.url),!u.listing&&c.listing&&(u.listing=c.listing)}else r.set(c.id,c)};e.filter(c=>this.connectorOk(c)).forEach(c=>{var h,f;let u=jl.normalize(c.walletClientType);i({id:u,label:((h=c.walletBranding)==null?void 0:h.name)??u,source:"connector",connector:c,chainType:c.chainType,icon:(f=c.walletBranding)==null?void 0:f.icon,url:void 0,chains:[c.chainType==="ethereum"?"eip155":"solana"]})}),n.filter(c=>this.listingOk(c)).forEach(c=>{var g,y;let u=this.isEth(c),h=this.isSol(c),f=jl.normalize(c.slug),p=_v[c.slug],m=((g=p==null?void 0:p.image_url)==null?void 0:g.sm)||((y=c.image_url)==null?void 0:y.sm);i({id:f,label:c.name||f,source:"listing",listing:c,chainType:u&&h?"multi":u?"ethereum":"solana",icon:m,url:c.homepage,chains:c.chains})});let s=e.find(c=>c.connectorType==="wallet_connect_v2");this.includeWalletConnectQr&&s&&i({id:"wallet_connect_qr",label:"WalletConnect",source:"connector",connector:s,chainType:"ethereum",icon:r4e,url:void 0,chains:[s.chainType==="ethereum"?"eip155":"solana"]});let o=Array.from(r.values());o.forEach(c=>{var h,f;let u=_v[((h=c.listing)==null?void 0:h.slug)||c.id];(f=u==null?void 0:u.image_url)!=null&&f.sm&&(c.icon=u.image_url.sm)});let a=new Map;return(l=this.normalizedAllowList)==null||l.forEach((c,u)=>{a.set(jl.normalize(c),u)}),{wallets:o.slice().sort((c,u)=>{let h=jl.normalize(c.id),f=jl.normalize(u.id);h==="binance-defi"?h="binance":h==="universalprofiles"?h="universal_profile":h==="cryptocom-defi"&&(h="cryptocom"),f==="binance-defi"?f="binance":f==="universalprofiles"?f="universal_profile":f==="cryptocom-defi"&&(f="cryptocom");let p=a.has(h),m=a.has(f);return p&&m?a.get(h)-a.get(f):p?-1:m?1:c.source==="connector"&&u.source==="listing"?-1:c.source==="listing"&&u.source==="connector"?1:c.label.toLowerCase().localeCompare(u.label.toLowerCase())}),walletCount:o.length}}constructor(e,n){var r,i,s,o;this.chainFilter=e,n&&n.length>0&&(this.normalizedAllowList=n.map(String),this.normalizedAllowList.includes("binance")&&this.normalizedAllowList.push("binance-defi-wallet")),this.detectedEth=((r=this.normalizedAllowList)==null?void 0:r.includes("detected_ethereum_wallets"))??!1,this.detectedSol=((i=this.normalizedAllowList)==null?void 0:i.includes("detected_solana_wallets"))??!1,this.includeWalletConnect=((s=this.normalizedAllowList)==null?void 0:s.includes("wallet_connect"))??!1,this.includeWalletConnectQr=((o=this.normalizedAllowList)==null?void 0:o.includes("wallet_connect_qr"))??!1}}var EU=t=>d.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("path",{d:"m0 0h32v32h-32z",fill:"#5469d4"}),d.jsx("path",{d:"m15.997 5.333-.143.486v14.106l.143.143 6.548-3.87z",fill:"#c2ccf4"}),d.jsx("path",{d:"m15.996 5.333-6.548 10.865 6.548 3.87z",fill:"#fff"}),d.jsx("path",{d:"m15.997 21.306-.08.098v5.025l.08.236 6.552-9.227z",fill:"#c2ccf4"}),d.jsx("path",{d:"m15.996 26.665v-5.36l-6.548-3.867z",fill:"#fff"}),d.jsx("path",{d:"m15.995 20.07 6.548-3.87-6.548-2.976v6.847z",fill:"#8698e8"}),d.jsx("path",{d:"m9.448 16.2 6.548 3.87v-6.846z",fill:"#c2ccf4"})]}),AU=t=>d.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsxs("linearGradient",{id:"a",gradientUnits:"userSpaceOnUse",x1:"7.233",x2:"24.766",y1:"24.766",y2:"7.234",children:[d.jsx("stop",{offset:"0",stopColor:"#9945ff"}),d.jsx("stop",{offset:".2",stopColor:"#7962e7"}),d.jsx("stop",{offset:"1",stopColor:"#00d18c"})]}),d.jsx("path",{d:"m0 0h32v32h-32z",fill:"#10111a"}),d.jsx("path",{clipRule:"evenodd",d:"m9.873 20.41a.645.645 0 0 1 .476-.21l14.662.012a.323.323 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54zm15.376-2.862a.322.322 0 0 1 -.238.54l-14.662.012a.642.642 0 0 1 -.476-.21l-3.122-3.44a.323.323 0 0 1 .238-.54l14.662-.012a.644.644 0 0 1 .475.21zm-15.376-9.738a.644.644 0 0 1 .476-.21l14.662.012a.322.322 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54z",fill:"url(#a)",fillRule:"evenodd"})]});const T7t=Z.div.withConfig({displayName:"WalletIconWithActiveIndicator",componentId:"sc-9b65f2b6-2"})(["position:relative;display:inline-flex;align-items:center;&::after{content:' ';border-radius:var(--privy-border-radius-full);height:6px;width:6px;background-color:var(--privy-color-icon-success);position:absolute;right:-3px;top:-3px;}"]),C4=Z.img.withConfig({displayName:"WalletIcon",componentId:"sc-9b65f2b6-3"})(["width:32px;height:32px;border-radius:0.25rem;object-fit:contain;"]),$7t=Z.span.withConfig({displayName:"Chip",componentId:"sc-9b65f2b6-4"})(["display:flex;gap:0.25rem;align-items:center;padding:0.25rem 0.5rem;font-size:0.75rem;font-weight:500;line-height:1.125rem;border-radius:var(--privy-border-radius-sm);background-color:var(--privy-color-background-2);svg{width:100%;max-width:1rem;max-height:1rem;stroke-width:2;}"]),N7t=Lw(()=>({isModalOpen:!1,resolvers:null}));Lw(()=>({}));const P7t=({address:t,client:e,appId:n})=>{let r=`${e}:${t}`;n&&Nt.put(R7t(n),r),N7t.setState({wallet:r})},R7t=t=>`privy:${t}:active-wallet-connection`;function Q4e({walletList:t,walletChainType:e}){var g;let n=Fn(),{connectors:r}=st(),i=uC(y=>y.listings),s=e??n.appearance.walletChainType,o=t??((g=n.appearance)==null?void 0:g.walletList),a=x.useMemo(()=>new jl(s,o),[s,o]),{wallets:l,walletCount:c}=x.useMemo(()=>a.getWallets(r,i),[a,r,i]),[u,h]=x.useState(""),f=x.useMemo(()=>u?l.filter(y=>y.label.toLowerCase().includes(u.toLowerCase())):l,[u,l]),[p,m]=x.useState();return{selected:p,setSelected:m,search:u,setSearch:h,wallets:f,walletCount:c}}let Z4e=t=>!t||typeof t!="string"&&(t instanceof IG||t instanceof NG);const CU=({index:t,style:e,data:n,recent:r})=>{var l,c;let i=n.wallets[t],{walletChainType:s,handleWalletClick:o}=n,a={...e,boxSizing:"border-box"};return i?d.jsxs(dS,{style:a,onClick:()=>o(i),children:[i.icon&&(i.connector&&!Z4e(i.connector)?d.jsx(T7t,{children:typeof i.icon=="string"?d.jsx(C4,{src:i.icon}):d.jsx(i.icon,{style:{width:"32px",height:"32px"}})}):typeof i.icon=="string"?d.jsx(C4,{src:i.icon}):d.jsx(i.icon,{style:{width:"32px",height:"32px"}})),d.jsx(hS,{children:i.label}),r?d.jsxs(d.Fragment,{children:[d.jsx($7t,{children:"Last used"}),d.jsx(W7,{children:d.jsxs(d.Fragment,{children:[s==="ethereum-only"&&d.jsx(EU,{}),s==="solana-only"&&d.jsx(AU,{})]})})]}):d.jsx(W7,{children:!(s==="ethereum-only"||s==="solana-only")&&d.jsxs(d.Fragment,{children:[((l=i.chains)==null?void 0:l.some(u=>u.startsWith("eip155")))&&d.jsx(EU,{}),((c=i.chains)==null?void 0:c.some(u=>u.startsWith("solana")))&&d.jsx(AU,{})]})})]}):null};var J4e=({className:t,customDescription:e,connectOnly:n,preSelectedWalletId:r,...i})=>{var T;let s=Fn(),{connectors:o}=st(),a=i.walletChainType||s.appearance.walletChainType,l=i.walletList||((T=s.appearance)==null?void 0:T.walletList),{onBack:c,onClose:u,app:h}=i,{selected:f,setSelected:p,qrUrl:m,setQrUrl:g,connecting:y,uiState:w,wallets:v,walletCount:b,handleConnect:A,handleBack:E,showSearchBar:$,isInitialConnectView:N,title:R,search:j,setSearch:F}=function({onConnect:_,onBack:P,onClose:L,onConnectError:O,walletList:I,walletChainType:D,app:Y}){let M=Fn(),{connectors:Q}=st(),{wallets:ee,walletCount:J,search:oe,setSearch:de,selected:ae,setSelected:he}=Q4e({walletList:I,walletChainType:D}),[be,fe]=x.useState(),[ke,we]=x.useState(),[Ue,Me]=x.useState(),_e=!ae&&!ke&&!Ue,xe=_e&&(J>6||oe.length>0),Oe=Q.find(Ve=>Ve.connectorType==="wallet_connect_v2"),Le=x.useCallback(async(Ve,rt)=>{var G,U;if(Ve){if((Ue==null?void 0:Ue.connector)===Ve)return void console.log("Already connecting to this wallet, skipping duplicate attempt");if(fe("loading"),typeof Ve=="string")return Me({connector:Ve,name:(rt==null?void 0:rt.name)??"Wallet",icon:rt==null?void 0:rt.icon}),void window.open(Ve,"_blank");Me({connector:Ve,name:(rt==null?void 0:rt.name)??Ve.walletBranding.name??"Wallet",icon:(rt==null?void 0:rt.icon)??Ve.walletBranding.icon});try{let z=await Ve.connect({showPrompt:!0});if(!z)return fe("error"),void(O==null?void 0:O(new kr("Unable to connect wallet")));fe("success"),P7t({address:z.address,client:z.walletClientType,appId:M.id}),setTimeout(()=>{_({connector:Ve,wallet:z})},Wr)}catch(z){if(console.error("ERROR: ",{e:z}),((G=z==null?void 0:z.message)==null?void 0:G.includes("already pending for origin"))||((U=z==null?void 0:z.message)==null?void 0:U.includes("wallet_requestPermissions")))return void console.log("Connection request already pending, maintaining loading state");fe("error"),O==null||O(new kr("Unable to connect wallet"))}}},[M.id,_,Ue]),Ce=x.useCallback(()=>ke?(fe(void 0),Me(void 0),void we(void 0)):Ue?(fe(void 0),void Me(void 0)):ae?(fe(void 0),Me(void 0),void he(void 0)):be==="error"||be==="loading"?(fe(void 0),void Me(void 0)):void(P==null?void 0:P()),[ke,Ue,ae,be,P]),De=x.useMemo(()=>(Ue==null?void 0:Ue.connector)===Oe&&ke&&Cr?`Go to ${Ue.name} to continue`:(Ue==null?void 0:Ue.connector)===Oe&&ke?`Scan code to connect to ${Ue.name}`:typeof(Ue==null?void 0:Ue.connector)=="string"?`Open or install ${Ue.name}`:ae&&!Ue?"Select network":Ue?null:"Select your wallet",[Ue,ke,ae,Oe]);return{selected:ae,setSelected:he,qrUrl:ke,setQrUrl:we,connecting:Ue,uiState:be,search:oe,setSearch:de,wallets:ee,walletCount:J,wc:Oe,isInitialConnectView:_e,showSearchBar:xe,title:De,handleConnect:Le,handleBack:Ce,onClose:L,onConnect:_,app:Y}}({...i,walletList:l,walletChainType:a}),W=o.find(_=>_.connectorType==="wallet_connect_v2"),V=x.useRef(null),B=Rlt({count:v.length,getScrollElement:()=>V.current,estimateSize:()=>56,overscan:6,gap:5}),k=x.useCallback(async _=>{var D,Y,M,Q,ee,J,oe;let P,L=a!=="solana-only"&&((D=_.chains)==null?void 0:D.some(de=>de.startsWith("eip155"))),O=a!=="ethereum-only"&&((Y=_.chains)==null?void 0:Y.some(de=>de.startsWith("solana"))),I=$G[_.id];if(O&&I)P=I.getMobileRedirect({isSolana:!0,connectOnly:!!n,useUniversalLink:!1});else{let de=(Q=(M=_.listing)==null?void 0:M.mobile)==null?void 0:Q.native;P=((J=(ee=_.listing)==null?void 0:ee.mobile)==null?void 0:J.universal)||de||_.url}if(L&&O){let de=jl.normalize(_.id),ae=o.filter(fe=>jl.normalize(fe.walletClientType)===de&&!(fe.chainType==="ethereum"&&fe instanceof IG||fe.chainType==="solana"&&fe instanceof NG)),he=ae.find(fe=>fe.chainType==="ethereum"),be=ae.find(fe=>fe.chainType==="solana");if(!he&&_.listing){let fe=_v[_.listing.slug]?{..._.listing,..._v[_.listing.slug]}:_.listing;W.setWalletEntry(fe,g),await W.resetConnection(_.id),he=W}if(!be&&P&&(be=P),he||be)return void p({eth:he,sol:be,name:_.label,icon:_.icon})}if(!Z4e(_.connector))return((oe=_.connector)==null?void 0:oe.connectorType)==="wallet_connect_v2"&&(await W.resetConnection(_.id),W.setWalletEntry({id:"wallet_connect_qr",name:"WalletConnect",rdns:"",slug:"wallet-connect",homepage:"",chains:["eip155"],mobile:{native:"",universal:void 0}},g)),void await A(_.connector,{name:_.label,icon:_.icon});if(L||O||_.url||_.listing){if(L&&_.listing){let de=_v[_.listing.slug]?{..._.listing,..._v[_.listing.slug]}:_.listing;W.setWalletEntry(de,g),await W.resetConnection(_.id)}if(L&&O)return void p({eth:W,sol:P,name:_.label,icon:_.icon});if(O)return void await A(P,{name:_.label,icon:_.icon});if(L)return void(_.listing?await A(W,{name:_.label,icon:_.icon}):_.url?await A(_.url,{name:_.label,icon:_.icon}):console.warn("Cannot connect to EVM wallet without connector or listing details:",_.label));if(_.url)return void await A(_.url,{name:_.label,icon:_.icon})}},[W,A,p,g,E,u,h,N,R,e,s,o]),C=c||E,S=!!c||!N;return x.useEffect(()=>{if(!r)return;let _=v.find(({id:P})=>P===r);_&&k(_).catch(console.error)},[r]),d.jsxs(ar,{className:t,children:[d.jsx(ar.Header,{icon:y&&!m||m&&Cr&&(y!=null&&y.icon)?y.icon:y?void 0:Y4e,iconVariant:y&&!m||m&&Cr?"loading":void 0,iconLoadingStatus:y&&!m||m&&Cr?{success:w==="success",fail:w==="error"}:void 0,title:y&&!m?`Waiting for ${y.name}`:m&&Cr?`Waiting for ${(y==null?void 0:y.name)??"connection"}`:R,subtitle:y&&!m&&typeof y.connector=="string"?`To connect to ${y.name}, install and open the app. Then confirm the connection when prompted.`:y&&!m&&typeof y.connector!="string"?w==="error"?"Please try connecting again.":"For the best experience, connect only one wallet at a time.":N?e??(h?`Connect a wallet to your ${h.name} account`:null):null,showBack:S,showClose:!0,onBack:C,onClose:u}),d.jsxs(ar.Body,{ref:V,$colorScheme:s.appearance.palette.colorScheme,style:{marginBottom:m?"0.5rem":void 0},children:[$&&d.jsx(j7t,{children:d.jsxs(G4e,{style:{background:"transparent"},children:[d.jsx(Gh,{children:d.jsx(nht,{})}),d.jsx("input",{className:"login-method-button",type:"text",placeholder:"Search wallets",onChange:_=>F(_.target.value),value:j})]})}),m&&Cr&&w==="loading"&&d.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:d.jsx(cw,{variant:"primary",onClick:()=>window.open(m.universal??m.native,"_blank"),style:{width:"100%"},children:"Open in app"})}),m&&!Cr&&w==="loading"&&d.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:d.jsx(D7t,{value:m.universal??m.native,iconOnly:!0,children:"Copy link"})}),m&&!Cr&&d.jsx(pC,{size:280,url:m.universal??m.native,squareLogoElement:y!=null&&y.icon?typeof y.icon=="string"?_=>d.jsx("svg",{..._,children:d.jsx("image",{href:y.icon,height:_.height,width:_.width})}):y.icon:O9t}),d.jsxs(O7t,{children:[y&&!m&&typeof y.connector=="string"&&d.jsxs(dS,{onClick:()=>window.open(y.connector,"_blank"),children:[y.icon&&(typeof y.icon=="string"?d.jsx(C4,{src:y.icon}):d.jsx(y.icon,{})),d.jsx(hS,{children:y.name})]}),(f==null?void 0:f.eth)&&!y&&d.jsxs(dS,{onClick:()=>A(f.eth,{name:f.name,icon:f.icon}),children:[f.icon&&(typeof f.icon=="string"?d.jsx(C4,{src:f.icon}):d.jsx(f.icon,{})),d.jsx(hS,{children:f.name}),d.jsx(W7,{children:d.jsx(EU,{})})]}),(f==null?void 0:f.sol)&&!y&&d.jsxs(dS,{onClick:()=>A(f.sol,{name:f.name,icon:f.icon}),children:[f.icon&&(typeof f.icon=="string"?d.jsx(C4,{src:f.icon}):d.jsx(f.icon,{})),d.jsx(hS,{children:f.name}),d.jsx(W7,{children:d.jsx(AU,{})})]}),N&&d.jsxs(d.Fragment,{children:[!(b>0)&&d.jsx(M7t,{children:"No wallets found. Try another search."}),b>0&&!m&&d.jsx("div",{style:{maxHeight:56*Math.min(v.length,5)+5,width:"100%"},children:d.jsx("div",{style:{height:`${B.getTotalSize()}px`,width:"100%",position:"relative"},children:B.getVirtualItems().map(_=>d.jsx(CU,{index:_.index,style:{position:"absolute",top:0,left:0,height:`${_.size}px`,transform:`translateY(${_.start}px)`},data:{wallets:v,walletChainType:a,handleWalletClick:k}},_.key))})})]})]})]}),d.jsxs(ar.Footer,{children:[y&&!m&&typeof y.connector!="string"&&w==="error"&&d.jsx(ar.Actions,{children:d.jsx(cw,{style:{width:"100%",alignItems:"center"},variant:"error",onClick:()=>A(y.connector,{name:y.name,icon:y.icon}),children:"Retry"})}),!!(h&&h.legal.privacyPolicyUrl&&h.legal.termsAndConditionsUrl)&&d.jsx(RG,{app:h,alwaysShowImplicitConsent:!0}),d.jsx(ar.Watermark,{})]})]})};let j7t=Z.div.withConfig({displayName:"StickySearchContainer",componentId:"sc-850f7dce-0"})(["position:sticky;margin-top:-3px;padding-top:3px;top:-3px;z-index:1;background:var(--privy-color-background);padding-bottom:calc(var(--screen-space) / 2);"]),O7t=Z.div.withConfig({displayName:"WalletListContainer",componentId:"sc-850f7dce-1"})(["display:flex;flex-direction:column;gap:","px;"],5),dS=Z.button.withConfig({displayName:"Button",componentId:"sc-850f7dce-2"})(["&&{gap:0.5rem;align-items:center;display:flex;position:relative;text-align:left;font-weight:500;transition:background 200ms ease-in;width:calc(100% - 4px);border-radius:var(--privy-border-radius-md);padding:0.75em;border:1px solid var(--privy-color-foreground-4);justify-content:space-between;}&:hover{background:var(--privy-color-background-2);}"]),W7=Z.span.withConfig({displayName:"ButtonBadge",componentId:"sc-850f7dce-3"})(["display:flex;align-items:center;justify-content:end;position:relative;& > svg{border-radius:var(--privy-border-radius-full);stroke-width:2.5;width:100%;max-height:1rem;max-width:1rem;flex-shrink:0;}& > svg:not(:last-child){border-radius:var(--privy-border-radius-full);margin-right:-0.375rem;}"]),M7t=Z.div.withConfig({displayName:"EmptyContainer",componentId:"sc-850f7dce-4"})(["height:60px;display:flex;align-items:center;justify-content:center;text-align:center;"]),hS=Z.span.withConfig({displayName:"WalletName",componentId:"sc-850f7dce-5"})(["text-overflow:ellipsis;white-space:nowrap;color:var(--privy-color-foreground);font-weight:400;flex:1;"]),D7t=Z(v7t).withConfig({displayName:"StyledCopyableText",componentId:"sc-850f7dce-6"})(["&&{margin:0.5rem auto 0 auto;}"]);const B7t=({...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",...t,children:[d.jsxs("g",{clipPath:"url(#clip0_2856_1743)",children:[d.jsx("path",{d:"M22.1673 8.24075V16.3642C22.1673 17.3256 21.3421 18.105 20.3241 18.105H17.0028M22.1673 8.24075C22.1673 7.27936 21.3421 6.5 20.3241 6.5H11.5302M22.1673 8.24075V8.42852C22.1673 9.03302 21.8352 9.59423 21.2901 9.91105L15.1463 13.4818C14.5539 13.8261 13.8067 13.8261 13.2143 13.4818L10.1621 11.5401",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M3.12913 6.64816C0.508085 12.9507 3.49251 20.1847 9.79504 22.8057L11.5068 23.5176C12.4522 23.9108 13.7783 23.2222 14.1714 22.2768L14.6054 21.2333C14.7687 20.8406 14.6438 20.3871 14.3024 20.1334L11.2872 17.8927C10.9878 17.6702 10.5843 17.6488 10.2632 17.8384L9.11575 18.5156C8.78274 18.7121 8.3597 18.6844 8.07552 18.4221C5.94293 16.4542 4.77629 13.6264 4.90096 10.7273C4.91757 10.3409 5.19796 10.023 5.57269 9.92753L6.86381 9.59869C7.22522 9.50664 7.49627 9.20696 7.55169 8.83815L8.10986 5.12321C8.17306 4.70259 7.94188 4.29293 7.54915 4.1296L6.50564 3.69564C5.56026 3.30248 4.23416 3.99103 3.84101 4.9364L3.12913 6.64816Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_2856_1743",children:d.jsx("rect",{x:"0.5",y:"0.5",width:"24",height:"24",rx:"6",fill:"white"})})})]}),uoe=t=>{var n;let e=(n=localStorage.getItem("-walletlink:https://www.walletlink.org:Addresses"))==null?void 0:n.split(" ").filter(r=>Ro(r,{strict:!0})).map(r=>Bi(r));return!!(e!=null&&e.length)&&!!(t!=null&&t.linkedAccounts.filter(r=>r.type=="wallet"&&e.includes(r.address)).length)};let X4e=x.createContext({plugins:{current:{}}});const L7t=({children:t})=>{let e=x.useRef({});return d.jsx(X4e.Provider,{value:{plugins:e},children:t})},YG=()=>{let{plugins:t}=x.useContext(X4e);return x.useCallback(e=>t.current[e],[t])},e8e=Symbol("solana-ledger-plugin"),F7t=({title:t="You don't have access to this app",subtitle:e="Have you been invited?",ctaText:n="Try another account",ctaLink:r,onCtaClick:i})=>d.jsx(Rn,{title:t,subtitle:e,icon:Rq,iconVariant:"warning",primaryCta:{label:n,onClick:()=>{r?window.open(r,"_blank"):i==null||i()}},watermark:!0}),AN={component:()=>{let{navigate:t,app:e}=lt(),n=(e==null?void 0:e.allowlistConfig.errorTitle)||"You don't have access to this app",r=(e==null?void 0:e.allowlistConfig.errorDetail)||"Have you been invited?",i=(e==null?void 0:e.allowlistConfig.errorCtaText)||"Try another account",s=e==null?void 0:e.allowlistConfig.errorCtaLink;return d.jsx(F7t,{title:n,subtitle:r,ctaText:i,ctaLink:s??void 0,onCtaClick:()=>{t(Lo)}})}},U7t=({status:t,title:e,description:n,userIntentRequired:r,retriesRemaining:i,hasSelectedCta:s,onContinue:o,onRetry:a})=>{let l=x.useMemo(()=>{switch(t){case"loading":default:return;case"success":return r?{label:s?"Continuing...":"Continue",onClick:o,disabled:s,loading:s}:void 0;case"error":return i>0?{label:"Retry",onClick:a}:void 0}},[t,s,o,a]),c=x.useMemo(()=>({loading:"loading",ready:"subtle",disabled:"subtle",success:"success",error:"error"})[t]||"loading",[t]);return d.jsx(Rn,{icon:t==="loading"||t==="ready"?void 0:t==="success"?QA:I$,iconVariant:c,title:e,subtitle:n,primaryCta:l,watermark:!0})},_d={component:()=>{let{lastScreen:t,data:e,navigate:n,setModalData:r}=lt(),{status:i,token:s,waitForResult:o,reset:a,execute:l}=dl(),c=x.useRef([]),u=N=>{c.current=[N,...c.current]},[h,f]=x.useState(!0);x.useEffect(()=>(u(setTimeout(f,1e3,!1)),()=>{c.current.forEach(N=>clearTimeout(N)),c.current=[]}),[]);let[p,m]=x.useState(""),[g,y]=x.useState("Checking that you are a human..."),[w,v]=x.useState(!1),[b,A]=x.useState(3),E=e==null?void 0:e.captchaModalData,$=async N=>{try{await(E==null?void 0:E.callback(N)),E!=null&&E.onSuccessNavigateTo&&n(E==null?void 0:E.onSuccessNavigateTo,!1)}catch(R){if(R instanceof sN)return;r({errorModalData:{error:R,previousScreen:t||Lo}}),n((E==null?void 0:E.onErrorNavigateTo)||Yr,!1)}};return x.useEffect(()=>{i==="success"?u(setTimeout(async()=>{let N=await o();!N||E!=null&&E.userIntentRequired||$(N)},1e3)):i==="ready"&&u(setTimeout(()=>{i==="ready"&&l()},500))},[i]),x.useEffect(()=>{if(!h)switch(i){case"success":m("Success!"),y("CAPTCHA passed successfully."),E!=null&&E.userIntentRequired||setTimeout(()=>{v(!0),$(s)},2e3);break;case"loading":m(""),y("Checking that you are a human...");break;case"error":m("Something went wrong"),y(b<=0?"If you use an adblocker or VPN, try disabling and re-attempting.":"You did not pass CAPTCHA. Please try again.")}},[i,h,w]),d.jsx(U7t,{status:i,title:p,description:g,userIntentRequired:E==null?void 0:E.userIntentRequired,retriesRemaining:b,hasSelectedCta:w,onContinue:()=>{v(!0),$(s)},onRetry:async()=>{if(b<=0)return;A(R=>R-1),a(),l();let N=await o();!N||E!=null&&E.userIntentRequired||$(N)}})}},z7t=t=>d.jsx("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"-0.625 12.48 397.647 399.546",width:"2500",height:"674",preserveAspectRatio:"none",...t,children:d.jsx("g",{children:d.jsx("path",{fill:"#333745",d:"M 333.9 12.8 L 150.9 12.8 L 150.9 258.4 L 396.5 258.4 L 396.5 76.7 C 396.6 42.2 368.4 12.8 333.9 12.8 Z M 94.7 12.8 L 64 12.8 C 29.5 12.8 0 40.9 0 76.8 L 0 107.5 L 94.7 107.5 L 94.7 12.8 Z M 0 165 L 94.7 165 L 94.7 259.7 L 0 259.7 L 0 165 Z M 301.9 410.6 L 332.6 410.6 C 367.1 410.6 396.6 382.5 396.6 346.6 L 396.6 316 L 301.9 316 L 301.9 410.6 Z M 150.9 316 L 245.6 316 L 245.6 410.7 L 150.9 410.7 L 150.9 316 Z M 0 316 L 0 346.7 C 0 381.2 28.1 410.7 64 410.7 L 94.7 410.7 L 94.7 316 L 0 316 Z"})})}),W7t=({onContinueWithLedger:t,onContinueWithoutLedger:e,title:n="Phantom supports Ledger",subtitle:r=`Are you using a Ledger hardware wallet?
Continue to sign with Ledger`})=>d.jsx(Rn,{title:n,subtitle:d.jsx(q7t,{children:r}),primaryCta:{label:"Continue with Ledger",onClick:t},secondaryCta:{label:"Continue without Ledger",onClick:e},watermark:!0,children:d.jsxs(V7t,{children:[d.jsx(Q6e,{style:{width:"48px",height:"48px"}}),d.jsx(bht,{strokeWidth:2,color:"var(--privy-color-icon-subtle)",width:22,height:22}),d.jsx(z7t,{style:{width:"48px",height:"48px"}})]})}),H7t={component:function(){let{data:t,setModalData:e,navigate:n}=lt();return d.jsx(W7t,{onContinueWithLedger:function(){e({...t,login:{...t==null?void 0:t.login,isSigningInWithLedgerSolana:!0}}),n(_p)},onContinueWithoutLedger:function(){e({...t,login:{...t==null?void 0:t.login,isSigningInWithLedgerSolana:!1}}),n(_p)}})}};let V7t=Z.div.withConfig({displayName:"IconContainer",componentId:"sc-218811f1-0"})(["display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:var(--screen-space);"]),q7t=Z.span.withConfig({displayName:"SubtitleText",componentId:"sc-218811f1-1"})(["white-space:pre-wrap;"]);const G7t=({style:t,...e})=>d.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"38px",width:"38px",...t},...e,children:d.jsx("path",{d:"M20 13.6V20M20 26.4H20.016M36 20C36 28.8365 28.8366 36 20 36C11.1635 36 4.00001 28.8365 4.00001 20C4.00001 11.1634 11.1635 3.99999 20 3.99999C28.8366 3.99999 36 11.1634 36 20Z",stroke:"currentColor",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round"})}),K7t=({title:t="Unable to sign in",subtitle:e="This is a test application that has reached its user limit. To allow more users, this app needs to be upgraded to production.",onGoBack:n})=>d.jsx(Rn,{title:t,subtitle:e,icon:G7t,iconVariant:"subtle",primaryCta:{label:"Go back",onClick:n},showBack:!0,onBack:n,watermark:!0}),mC={component:()=>{let{navigate:t}=lt();return d.jsx(K7t,{onGoBack:()=>{t(Lo)}})}},t8e=t=>(t==null?void 0:t.privyErrorCode)===pe.LINKED_TO_ANOTHER_USER?Ly.ERROR_USER_EXISTS:t instanceof xo&&!t.details.default?t.details:t instanceof q6e?Ly.ERROR_TIMED_OUT:(t==null?void 0:t.privyErrorCode)===pe.CANNOT_LINK_MORE_OF_TYPE?Ly.ERROR_USER_LIMIT_REACHED:Ly.ERROR_WALLET_CONNECTION,Y7t=({walletLogo:t,title:e,subtitle:n,signSuccess:r,errorMessage:i,connectSuccess:s,separateConnectAndSign:o,signing:a,walletConnectRedirectUri:l,walletConnectFallbackUniversalUri:c,hasTabbedAway:u,showCoinbaseWalletResetCta:h,numRetries:f,onBack:p,onSign:m,onRetry:g,onCoinbaseReset:y,onDifferentWallet:w})=>{let v=h?{label:"Use a different wallet",onClick:y,disabled:r}:i===Ly.ERROR_USER_EXISTS&&p?{label:"Use a different wallet",onClick:w}:s&&!r&&o?{label:a?"Signing":"Sign with your wallet",onClick:m,disabled:a}:!r&&(i!=null&&i.retryable)&&f<2?{label:"Retry",onClick:g,disabled:!1}:r||i?void 0:{label:"Connecting",onClick:()=>{},disabled:!0};return d.jsx(Rn,{title:e,subtitle:n,icon:t,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!i},primaryCta:v,onBack:p,watermark:!0,children:!s&&l&&!u&&d.jsxs(Q7t,{children:["Still here?"," ",d.jsx(n3,{href:l,target:"_blank",variant:"underlined",size:"sm",children:"Try connecting again"}),c&&d.jsxs(d.Fragment,{children:[" ","or"," ",d.jsx(n3,{href:c,target:"_blank",variant:"underlined",size:"sm",children:"use this different link"})]})]})})},_p={component:()=>{var we,Ue,Me,_e,xe,Oe,Le,Ce,De,Ve,rt,G,U,z,X;let t,[e,n]=x.useState(!1),[r,i]=x.useState(!1),[s,o]=x.useState(void 0),{authenticated:a,logout:l}=Sn(),{app:c,navigate:u,navigateBack:h,lastScreen:f,currentScreen:p,setModalData:m,data:g}=lt(),{getAuthFlow:y,walletConnectionStatus:w,closePrivyModal:v,initLoginWithWallet:b,loginWithWallet:A,updateWallets:E,createAnalyticsEvent:$}=st(),{walletConnectors:N}=Sn(),[R,j]=x.useState(0),{user:F}=Sn(),W=YG(),[V]=x.useState((F==null?void 0:F.linkedAccounts.length)||0),[B,k]=x.useState(""),[C,S]=x.useState(""),[T,_]=x.useState(!1),{hasTabbedAway:P}=function(){let[ne,ie]=x.useState(!1),ce=x.useCallback(()=>{document.hidden&&ie(!0)},[]);return x.useEffect(()=>(document.addEventListener("visibilitychange",ce),()=>document.removeEventListener("visibilitychange",ce)),[ce]),{hasTabbedAway:ne,reset:()=>ie(!1)}}(),{enabled:L,token:O}=dl(),I=Dg(((we=w==null?void 0:w.connector)==null?void 0:we.walletClientType)||"unknown"),D=Cr&&((Ue=w==null?void 0:w.connector)==null?void 0:Ue.connectorType)==="wallet_connect_v2"||Cr&&((Me=w==null?void 0:w.connector)==null?void 0:Me.connectorType)==="coinbase_wallet"||Cr&&((_e=w==null?void 0:w.connector)==null?void 0:_e.connectorType)==="base_account"||Cr&&((xe=w==null?void 0:w.connector)==null?void 0:xe.connectorType)==="injected"&&((Oe=w==null?void 0:w.connector)==null?void 0:Oe.walletClientType)==="phantom"||Cr&&((Le=w==null?void 0:w.connector)==null?void 0:Le.connectorType)==="solana_adapter"&&w.connector.walletClientType==="mobile_wallet_adapter",Y=(w==null?void 0:w.status)==="connected",M=(w==null?void 0:w.status)==="switching_to_supported_chain";x.useEffect(()=>{var ce,Be,Xe,Ye,et,Pe;let ne=y(),ie=ne instanceof s2||ne instanceof D7?ne:void 0;Y&&((ce=w.connector)==null?void 0:ce.chainType)==="solana"&&((Be=w.connector)==null?void 0:Be.walletClientType)==="phantom"&&W(e8e)&&((Xe=g==null?void 0:g.login)==null?void 0:Xe.isSigningInWithLedgerSolana)===void 0?u(H7t,!1):(Y&&!ie&&(!L||O||a?b(w.connectedWallet,O,(Ye=g==null?void 0:g.login)==null?void 0:Ye.disableSignup,(et=g==null?void 0:g.login)!=null&&et.isSigningInWithLedgerSolana?"transaction":"plain").then(()=>{_(!0)}):(m({captchaModalData:{callback:Tt=>{var dn,Bt;return b(w.connectedWallet,Tt,(dn=g==null?void 0:g.login)==null?void 0:dn.disableSignup,(Bt=g==null?void 0:g.login)!=null&&Bt.isSigningInWithLedgerSolana?"transaction":"plain").then(()=>{_(!0)})},userIntentRequired:!1,onSuccessNavigateTo:_p,onErrorNavigateTo:Yr}}),u(_d,!1))),ie instanceof D7&&((Pe=g==null?void 0:g.login)!=null&&Pe.isSigningInWithLedgerSolana)&&(ie.messageType="transaction"),ie&&D&&Y&&!ie.preparedMessage?ie.buildMessage():ie&&!D&&Y&&(r||(async()=>{var Tt,dn;i(!0),o(void 0);try{((Tt=w==null?void 0:w.connector)==null?void 0:Tt.connectorType)==="wallet_connect_v2"&&((dn=w==null?void 0:w.connector)==null?void 0:dn.walletClientType)==="metamask"&&await B7(2500),await ee()}catch(Bt){console.warn("Auto-prompted signature failed",Bt)}finally{i(!1)}})()))},[R,Y,T]),x.useEffect(()=>{if(F&&e){let ne=900;if(c!=null&&c.legal.requireUsersAcceptTerms&&!F.hasAcceptedTerms){let ce=setTimeout(()=>{u(Qw)},ne);return()=>clearTimeout(ce)}if(Ug(F,c.embeddedWallets)){let ce=setTimeout(()=>{m({createWallet:{onSuccess:()=>{},onFailure:Be=>{console.error(Be),$({eventName:"embedded_wallet_creation_failure_logout",payload:{error:Be,screen:"ConnectionStatusScreen"}}),l()},callAuthOnSuccessOnClose:!0}}),u(o0)},ne);return()=>clearTimeout(ce)}E();let ie=setTimeout(()=>v({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Wr);return()=>clearTimeout(ie)}},[F,e]);let Q=ne=>{var ie,ce,Be,Xe,Ye,et,Pe,Tt,dn,Bt,He,Ln,En,ot;if((ne==null?void 0:ne.privyErrorCode)!==pe.ALLOWLIST_REJECTED){if((ne==null?void 0:ne.privyErrorCode)===pe.USER_LIMIT_REACHED)return console.error(new HA(ne).toString()),void u(mC);if((ne==null?void 0:ne.privyErrorCode)!==pe.USER_DOES_NOT_EXIST)return(ne==null?void 0:ne.privyErrorCode)===pe.ACCOUNT_TRANSFER_REQUIRED&&((ce=(ie=ne.data)==null?void 0:ie.data)!=null&&ce.nonce)?(m({accountTransfer:{nonce:(Xe=(Be=ne.data)==null?void 0:Be.data)==null?void 0:Xe.nonce,account:(Ye=y())==null?void 0:Ye.meta.address,displayName:(Tt=(Pe=(et=ne.data)==null?void 0:et.data)==null?void 0:Pe.account)==null?void 0:Tt.displayName,externalWalletMetadata:{walletClientType:(dn=y())==null?void 0:dn.meta.walletClientType,chainId:(Bt=y())==null?void 0:Bt.meta.chainId,connectorType:(He=y())==null?void 0:He.meta.connectorType},linkMethod:y()instanceof s2?"siwe":"siws",embeddedWalletAddress:(ot=(En=(Ln=ne.data)==null?void 0:Ln.data)==null?void 0:En.otherUser)==null?void 0:ot.embeddedWalletAddress}}),void u(Yw)):void o(t8e(ne));u(fC)}else u(AN)};async function ee(){try{await A(),n(!0)}catch(ne){Q(ne)}finally{i(!1)}}x.useEffect(()=>{w!=null&&w.connectError&&Q(w==null?void 0:w.connectError)},[w]),((ne,ie)=>{let ce=x.useRef(()=>{});x.useEffect(()=>{ce.current=ne}),x.useEffect(()=>{if(ie!==null){let Be=setInterval(()=>ce.current(),ie||0);return()=>clearInterval(Be)}},[ie])})(()=>{let ne=J==="wallet_connect_v2"&&(w==null?void 0:w.connector)instanceof a2?w.connector.redirectUri:void 0;ne&&k(ne);let ie=J==="wallet_connect_v2"&&(w==null?void 0:w.connector)instanceof a2?w.connector.fallbackUniversalRedirectUri:void 0;ie&&S(ie)},(w==null?void 0:w.connector)instanceof a2&&!B?500:null);let J=((Ce=w==null?void 0:w.connector)==null?void 0:Ce.connectorType)||"injected",oe=((De=w==null?void 0:w.connector)==null?void 0:De.walletClientType)||"unknown",de=((Ve=I==null?void 0:I.metadata)==null?void 0:Ve.shortName)||(I==null?void 0:I.name)||((rt=w==null?void 0:w.connector)==null?void 0:rt.walletBranding.name)||"Browser Extension",ae=((G=I==null?void 0:I.image_url)==null?void 0:G.md)||((U=w==null?void 0:w.connector)==null?void 0:U.walletBranding.icon)||(ne=>d.jsx(TG,{...ne})),he=de==="Browser Extension"?de.toLowerCase():de;t=e?`Successfully connected with ${he}`:s?s.message:M?"Switching networks":Y?r&&D?"Signing":"Sign to verify":`Waiting for ${he}`;let be="Dont see your wallet? Check your other browser windows.";e?be=V===((F==null?void 0:F.linkedAccounts.length)||0)?"Wallet was already linked.":"Youre good to go!":R>=2&&s?be="Unable to connect wallet":s?be=s.detail:M?be="Switch your wallet to the requested network.":Y&&D?be="Sign the message in your wallet to verify it belongs to you.":oe==="metamask"&&Cr?be="Click continue to open and connect MetaMask.":oe==="metamask"?be="For the best experience, connect only one wallet at a time.":J==="wallet_connect"?be="Open your mobile wallet app to continue":J==="coinbase_wallet"?L6e()||(be=uoe(F)?"Continue with the Coinbase app. Not the right wallet? Reset your connection below.":"Open the Coinbase app on your phone to continue."):(z=g==null?void 0:g.login)!=null&&z.isSigningInWithLedgerSolana&&(be="Ledger requires a transaction to verify your identity. Youll sign a transaction that performs no onchain action.");let fe=(X=N==null?void 0:N.walletConnectors)==null?void 0:X.find(ne=>ne.walletClientType==="coinbase_wallet"),ke=oe==="coinbase_wallet"&&(uoe(F)||s===Ly.ERROR_USER_EXISTS);return d.jsx(Y7t,{walletLogo:ae,title:t,subtitle:be,signSuccess:e,errorMessage:s,connectSuccess:Y,separateConnectAndSign:D,signing:r,walletConnectRedirectUri:B,walletConnectFallbackUniversalUri:C,hasTabbedAway:P,showCoinbaseWalletResetCta:ke,numRetries:R,onBack:f&&p!==f?h:void 0,onSign:()=>{i(!0),ee()},onRetry:()=>{j(R+1),o(void 0),Y?(i(!0),ee()):w==null||w.connectRetry()},onCoinbaseReset:()=>{fe&&(fe==null||fe.disconnect())},onDifferentWallet:h})}};let Q7t=Z.p.withConfig({displayName:"RedirectLinksContainer",componentId:"sc-3c9a580-0"})(["text-align:center;color:var(--privy-color-foreground-2);font-size:14px;line-height:22px;margin:16px 0;"]);const fS={component:()=>{var p,m,g,y,w,v;let{setWalletConnectionStatus:t,closePrivyModal:e,inProgressAuthFlowRef:n}=st(),{app:r,data:i,navigate:s}=lt(),o=Kw(),a=(p=i==null?void 0:i.externalConnectWallet)==null?void 0:p.description,l=x.useRef(((m=i==null?void 0:i.externalConnectWallet)==null?void 0:m.walletList)??r.appearance.walletList),c=x.useRef(((g=i==null?void 0:i.externalConnectWallet)==null?void 0:g.walletChainType)??r.appearance.walletChainType),u=l.current,h=c.current,f=n.current==="link"?void 0:()=>s(Lo);return d.jsx(J4e,{walletList:u,walletChainType:h,onClose:e,onConnect:x.useCallback(({connector:b,wallet:A})=>{var E;o("connectWallet","onSuccess",{wallet:A}),t({status:"connected",connectedWallet:A,connector:b,connectError:null,connectRetry:()=>null}),s(_p,!((E=i==null?void 0:i.externalConnectWallet)!=null&&E.preSelectedWalletId))},[t,s,(y=i==null?void 0:i.login)==null?void 0:y.disableSignup,(w=i==null?void 0:i.externalConnectWallet)==null?void 0:w.preSelectedWalletId]),onConnectError:b=>{b instanceof Do?(console.warn(b.cause?b.cause:b.message),o("connectWallet","onError",b.privyErrorCode||pe.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(b),o("connectWallet","onError",pe.UNKNOWN_CONNECT_WALLET_ERROR))},onBack:f,customDescription:a||"",preSelectedWalletId:(v=i==null?void 0:i.externalConnectWallet)==null?void 0:v.preSelectedWalletId,app:r})},isUnauthenticatedScreem:!0},kU={component:()=>{var a,l,c;let{closePrivyModal:t}=st(),{app:e,data:n}=lt(),r=Kw(),i=(a=n==null?void 0:n.externalConnectWallet)==null?void 0:a.description,s=x.useRef(((l=n==null?void 0:n.externalConnectWallet)==null?void 0:l.walletList)??e.appearance.walletList),o=x.useRef(((c=n==null?void 0:n.externalConnectWallet)==null?void 0:c.walletChainType)??e.appearance.walletChainType);return d.jsx(J4e,{walletList:s.current,walletChainType:o.current,onClose:()=>{r("connectWallet","onError",pe.GENERIC_CONNECT_WALLET_ERROR),t()},onConnect:({wallet:u})=>{r("connectWallet","onSuccess",{wallet:u}),t()},onConnectError:u=>{u instanceof Do?(console.warn(u.cause?u.cause:u.message),r("connectWallet","onError",u.privyErrorCode||pe.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(u),r("connectWallet","onError",pe.UNKNOWN_CONNECT_WALLET_ERROR))},customDescription:i,app:e})},isUnauthenticatedScreem:!0},doe=({chainType:t,withPadding:e})=>{let n="";return n=t==="ethereum-only"||t==="ethereum-and-solana"?"Rainbow, Phantom, or Coinbase Wallet":"Phantom or Solflare",d.jsx(F9t,{$withPadding:e,children:d.jsxs(U9t,{children:[d.jsx(r2,{style:{color:"var(--privy-color-warn)",height:48,width:48}}),d.jsx("h3",{children:"No wallets available"}),d.jsxs("p",{children:["Please download an external wallet provider, like ",n,"."]})]})},"empty-wallet-state")};let Z7t=Vbe(["from,to{background:var(--privy-color-foreground-4);color:var(--privy-color-foreground-4);}50%{background:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-accent);}"]);const CN=ls(["",""],t=>t.$isLoading?ls(["width:35%;animation:"," 2s linear infinite;border-radius:var(--privy-border-radius-sm);"],Z7t):""),tf=({children:t,color:e,isLoading:n,isPulsing:r,...i})=>d.jsx(J7t,{$color:e,$isLoading:n,$isPulsing:r,...i,children:t});let J7t=Z.span.withConfig({displayName:"StyledSpan",componentId:"sc-80725f4-0"})(["padding:0.25rem;font-size:0.75rem;font-weight:500;line-height:1rem;border-radius:var(--privy-border-radius-xs);display:flex;align-items:center;"," ",""],t=>{let e,n;t.$color==="green"&&(e="var(--privy-color-success-dark)",n="var(--privy-color-success-light)"),t.$color==="red"&&(e="var(--privy-color-error)",n="var(--privy-color-error-light)"),t.$color==="gray"&&(e="var(--privy-color-foreground-2)",n="var(--privy-color-background-2)");let r=Vbe(["from,to{background-color:",";}50%{background-color:rgba(",",0.8);}"],n,n);return ls(["color:",";background-color:",";",";"],e,n,t.$isPulsing&&ls(["animation:"," 3s linear infinite;"],r))},CN);const I1=t=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#855DCD"}),d.jsxs("g",{"clip-path":"url(#clip0_1715_1960)",children:[d.jsx("path",{d:"M4.5 4H28.5V28H4.5V4Z",fill:"#855DCD"}),d.jsx("path",{d:"M11.1072 8.42105H21.6983V23.5789H20.1437V16.6357H20.1284C19.9566 14.7167 18.3542 13.2129 16.4028 13.2129C14.4514 13.2129 12.849 14.7167 12.6771 16.6357H12.6619V23.5789H11.1072V8.42105Z",fill:"white"}),d.jsx("path",{d:"M8.28943 10.5725L8.92101 12.7239H9.45542V21.4275C9.1871 21.4275 8.96959 21.6464 8.96959 21.9165V22.5032H8.87242C8.60411 22.5032 8.38659 22.7221 8.38659 22.9922V23.5789H13.8279V22.9922C13.8279 22.7221 13.6104 22.5032 13.3421 22.5032H13.2449V21.9165C13.2449 21.6464 13.0274 21.4275 12.7591 21.4275H12.1761V10.5725H8.28943Z",fill:"white"}),d.jsx("path",{d:"M20.2408 21.4275C19.9725 21.4275 19.755 21.6464 19.755 21.9165V22.5032H19.6579C19.3895 22.5032 19.172 22.7221 19.172 22.9922V23.5789H24.6133V22.9922C24.6133 22.7221 24.3958 22.5032 24.1275 22.5032H24.0303V21.9165C24.0303 21.6464 23.8128 21.4275 23.5445 21.4275V12.7239H24.0789L24.7105 10.5725H20.8238V21.4275H20.2408Z",fill:"white"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_1715_1960",children:d.jsx("rect",{width:"24",height:"24",fill:"white",transform:"translate(4.5 4)"})})})]}),n8e=t=>{let[e,n]=x.useState(!1);return d.jsx(X7t,{color:t.color,href:t.url,target:"_blank",rel:"noreferrer noopener",onClick:()=>{n(!0),setTimeout(()=>n(!1),1500)},justOpened:e,children:t.text})};let X7t=Z.a.withConfig({displayName:"StyledOpenLinkButton",componentId:"sc-4e695c83-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],t=>t.justOpened?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)",t=>t.justOpened?"medium":"normal",t=>t.justOpened?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)");const QG=Z.span.withConfig({displayName:"LabelXs",componentId:"sc-4c43f9fd-0"})(["color:var(--privy-color-foreground-3);font-size:0.75rem;font-weight:500;line-height:1.125rem;"]);let eIt=Z.div.withConfig({displayName:"Container",componentId:"sc-913deead-0"})(["width:100%;"]),tIt=Z.div.withConfig({displayName:"InputContainer",componentId:"sc-913deead-1"})(["display:flex;align-items:center;justify-content:space-between;gap:0.75rem;padding:0.75rem;height:56px;background:",";border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);&:hover{border-color:",";}"],t=>t.$disabled?"var(--privy-color-background-2)":"var(--privy-color-background)",t=>t.$disabled?"var(--privy-color-foreground-4)":"var(--privy-color-foreground-3)"),nIt=Z.div.withConfig({displayName:"TextContainer",componentId:"sc-913deead-2"})(["flex:1;min-width:0;display:flex;align-items:center;"]),r8e=Z.span.withConfig({displayName:"Text",componentId:"sc-913deead-3"})(["display:block;font-size:16px;line-height:24px;color:",";overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-all;@media (min-width:441px){font-size:14px;line-height:20px;}"],t=>t.$disabled?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"),rIt=Z(r8e).withConfig({displayName:"PlaceholderText",componentId:"sc-913deead-4"})(["color:var(--privy-color-foreground-3);font-style:italic;"]),iIt=Z(QG).withConfig({displayName:"TitleLabel",componentId:"sc-913deead-5"})(["margin-bottom:0.5rem;"]),sIt=Z(kd).withConfig({displayName:"CopyButton",componentId:"sc-913deead-6"})(["&&{gap:0.375rem;font-size:14px;flex-shrink:0;}"]);const oIt=({value:t,title:e,placeholder:n,className:r,showCopyButton:i=!0,truncate:s,maxLength:o=40,disabled:a=!1})=>{let[l,c]=x.useState(!1),u=s&&t?((h,f,p)=>{if((h=h.startsWith("https://")?h.slice(8):h).length<=p)return h;if(f==="middle"){let m=Math.ceil(p/2)-2,g=Math.floor(p/2)-1;return`${h.slice(0,m)}...${h.slice(-g)}`}return`${h.slice(0,p-3)}...`})(t,s,o):t;return x.useEffect(()=>{if(l){let h=setTimeout(()=>c(!1),3e3);return()=>clearTimeout(h)}},[l]),d.jsxs(eIt,{className:r,children:[e&&d.jsx(iIt,{children:e}),d.jsxs(tIt,{$disabled:a,children:[d.jsx(nIt,{children:t?d.jsx(r8e,{$disabled:a,title:t,children:u}):d.jsx(rIt,{$disabled:a,children:n||"No value"})}),i&&t&&d.jsx(sIt,{onClick:function(h){h.stopPropagation(),navigator.clipboard.writeText(t).then(()=>c(!0)).catch(console.error)},size:"sm",children:d.jsxs(d.Fragment,l?{children:["Copied",d.jsx(eE,{size:14})]}:{children:["Copy",d.jsx(f7,{size:14})]})})]})]})},aIt=({connectUri:t,loading:e,success:n,errorMessage:r,onBack:i,onClose:s,onOpenFarcaster:o})=>d.jsx(Rn,Cr||e?VH?{title:r?r.message:"Sign in with Farcaster",subtitle:r?r.detail:"To sign in with Farcaster, please open the Farcaster app.",icon:I1,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},primaryCta:t&&o?{label:"Open Farcaster app",onClick:o}:void 0,onBack:i,onClose:s,watermark:!0}:{title:r?r.message:"Signing in with Farcaster",subtitle:r?r.detail:"This should only take a moment",icon:I1,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},onBack:i,onClose:s,watermark:!0,children:t&&Cr&&d.jsx(lIt,{children:d.jsx(n8e,{text:"Take me to Farcaster",url:t,color:"#8a63d2"})})}:{title:"Sign in with Farcaster",subtitle:"Scan with your phone's camera to continue.",onBack:i,onClose:s,watermark:!0,children:d.jsxs(cIt,{children:[d.jsx(uIt,{children:t?d.jsx(pC,{url:t,size:275,squareLogoElement:I1}):d.jsx(fIt,{children:d.jsx(iu,{})})}),d.jsxs(dIt,{children:[d.jsx(hIt,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),t&&d.jsx(oIt,{value:t,truncate:"end",maxLength:30,showCopyButton:!0,disabled:!0})]})]})}),SU={component:()=>{let{authenticated:t,logout:e,ready:n,user:r}=Sn(),{lastScreen:i,navigate:s,navigateBack:o,setModalData:a,app:l}=lt(),{getAuthFlow:c,loginWithFarcaster:u,closePrivyModal:h,createAnalyticsEvent:f}=st(),[p,m]=x.useState(void 0),[g,y]=x.useState(!1),[w,v]=x.useState(!1),b=x.useRef([]),A=c(),E=A==null?void 0:A.meta.connectUri;return x.useEffect(()=>{let $=Date.now(),N=setInterval(async()=>{var F,W,V,B,k,C,S,T,_,P,L,O,I,D,Y;let R=await A.pollForReady.execute(),j=Date.now()-$;if(R){clearInterval(N),y(!0);try{await u(),v(!0)}catch(M){let Q={retryable:!1,message:"Authentication failed"};if((M==null?void 0:M.privyErrorCode)===pe.ALLOWLIST_REJECTED)return void s(AN);if((M==null?void 0:M.privyErrorCode)===pe.USER_LIMIT_REACHED)return console.error(new HA(M).toString()),void s(mC);if((M==null?void 0:M.privyErrorCode)===pe.USER_DOES_NOT_EXIST)return void s(fC);if((M==null?void 0:M.privyErrorCode)===pe.LINKED_TO_ANOTHER_USER)Q.detail=M.message??"This account has already been linked to another user.";else{if((M==null?void 0:M.privyErrorCode)===pe.ACCOUNT_TRANSFER_REQUIRED&&((W=(F=M.data)==null?void 0:F.data)!=null&&W.nonce))return a({accountTransfer:{nonce:(B=(V=M.data)==null?void 0:V.data)==null?void 0:B.nonce,account:(C=(k=M.data)==null?void 0:k.data)==null?void 0:C.subject,displayName:(_=(T=(S=M.data)==null?void 0:S.data)==null?void 0:T.account)==null?void 0:_.displayName,linkMethod:"farcaster",embeddedWalletAddress:(O=(L=(P=M.data)==null?void 0:P.data)==null?void 0:L.otherUser)==null?void 0:O.embeddedWalletAddress,farcasterEmbeddedAddress:(Y=(D=(I=M.data)==null?void 0:I.data)==null?void 0:D.otherUser)==null?void 0:Y.farcasterEmbeddedAddress}}),void s(Yw);(M==null?void 0:M.privyErrorCode)===pe.INVALID_CREDENTIALS?(Q.retryable=!0,Q.detail="Something went wrong. Try again."):(M==null?void 0:M.privyErrorCode)===pe.TOO_MANY_REQUESTS&&(Q.detail="Too many requests. Please wait before trying again.")}m(Q)}}else j>12e4&&(clearInterval(N),m({retryable:!0,message:"Authentication failed",detail:"The request timed out. Try again."}))},2e3);return()=>{clearInterval(N),b.current.forEach(R=>clearTimeout(R))}},[]),x.useEffect(()=>{if(n&&t&&w&&r){if(l!=null&&l.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms){let $=setTimeout(()=>{s(Qw)},Wr);return()=>clearTimeout($)}w&&(Ug(r,l.embeddedWallets)?b.current.push(setTimeout(()=>{a({createWallet:{onSuccess:()=>{},onFailure:$=>{console.error($),f({eventName:"embedded_wallet_creation_failure_logout",payload:{error:$,screen:"FarcasterConnectStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(o0)},Wr)):b.current.push(setTimeout(()=>h({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Wr)))}},[w,n,t,r]),d.jsx(aIt,{connectUri:E,loading:g,success:w,errorMessage:p,onBack:i?o:void 0,onClose:h,onOpenFarcaster:()=>{E&&(window.location.href=E)}})}};let lIt=Z.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-8d74ecf6-0"})(["margin-top:24px;"]),cIt=Z.div.withConfig({displayName:"ContentContainer",componentId:"sc-8d74ecf6-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),uIt=Z.div.withConfig({displayName:"QrContainer",componentId:"sc-8d74ecf6-2"})(["display:flex;align-items:center;justify-content:center;min-height:275px;"]),dIt=Z.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-8d74ecf6-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),hIt=Z.div.withConfig({displayName:"InstructionText",componentId:"sc-8d74ecf6-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),fIt=Z.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-8d74ecf6-5"})(["position:relative;width:82px;height:82px;"]);const i8e=()=>{let[t,e]=x.useState(!1),{currentScreen:n,navigate:r,setModalData:i,data:s}=lt(),{enabled:o,token:a}=dl(),{initLoginWithFarcaster:l}=st(),{accountType:c}=Fg();return d.jsxs(Gr,{onClick:async()=>{var u;e(!0);try{o&&!a?(i({captchaModalData:{callback:h=>{var f;return l(h,(f=s==null?void 0:s.login)==null?void 0:f.disableSignup)},userIntentRequired:!0,onSuccessNavigateTo:SU,onErrorNavigateTo:Yr}}),r(_d)):(await l(a,(u=s==null?void 0:s.login)==null?void 0:u.disableSignup),r(SU))}catch(h){i({errorModalData:{error:h,previousScreen:n||Lo}}),r(Yr)}finally{e(!1)}},disabled:!1,children:[d.jsx(I1,{width:32,height:32})," Farcaster",t&&d.jsx(Bg,{}),c==="farcaster"&&d.jsx(pIt,{color:"gray",children:"Recent"})]})};let pIt=Z(tf).withConfig({displayName:"StyledChip",componentId:"sc-c6317ff9-0"})(["margin-left:auto;"]);const mIt=({status:t,passkeySignupFlow:e=!1,error:n,onRetry:r})=>d.jsx(Rn,{title:(()=>{switch(t){case"loading":return"Waiting for passkey";case"success":return"Success";case"error":return"Something went wrong"}})(),subtitle:d.jsx(gIt,{children:(()=>{switch(t){case"loading":return e?"Please follow prompts to register your passkey.":`Please follow prompts to verify your passkey.
You will have to sign up with another method first to register a passkey for your account.`;case"success":return"You've successfully logged in with your passkey.";case"error":if(n instanceof Do){if(n.privyErrorCode===pe.CANNOT_LINK_MORE_OF_TYPE)return"Cannot link more passkeys to account.";if(n.privyErrorCode===pe.PASSKEY_NOT_ALLOWED)return`Passkey request timed out or rejected by user.
You will have to sign up with another method first to register a passkey for your account.`}return`An unknown error occurred.
You will have to sign up with another method first to register a passkey for your account.`}})()}),icon:p7,iconVariant:"loading",iconLoadingStatus:{success:t==="success",fail:t==="error"},primaryCta:t==="error"&&r?{label:"Retry",onClick:r}:t==="success"?{label:"Continue",disabled:!0}:void 0,watermark:!0}),Iv={component:()=>{let{app:t,data:e,setModalData:n,navigate:r}=lt(),{loginWithPasskey:i,signupWithPasskey:s,closePrivyModal:o,createAnalyticsEvent:a}=st(),{user:l,logout:c}=Sn(),{passkeySignupFlow:u}=(e==null?void 0:e.passkeyAuthModalData)??{},[h,f]=x.useState("loading"),[p,m]=x.useState(null),g=x.useRef([]),y=v=>{g.current=[v,...g.current]};x.useEffect(()=>()=>{g.current.forEach(v=>clearTimeout(v)),g.current=[]},[]);let w=async()=>{f("loading");try{u?await s():await i(),f("success")}catch(v){m(v),f("error")}};return x.useEffect(()=>{if(h==="success"&&l){if(t!=null&&t.legal.requireUsersAcceptTerms&&!l.hasAcceptedTerms)return void y(setTimeout(()=>{r(Qw)},900));if(!Ug(l,t==null?void 0:t.embeddedWallets))return void y(setTimeout(()=>{o({shouldCallAuthOnSuccess:!0,isSuccess:!0})},Wr));y(setTimeout(()=>{n({createWallet:{onSuccess:()=>{},onFailure:v=>{console.error(v),a({eventName:"embedded_wallet_creation_failure_logout",payload:{error:v,screen:"PasskeyStatusScreen"}}),c()},callAuthOnSuccessOnClose:!0}}),r(o0)},900))}},[l,h]),x.useEffect(()=>{w()},[]),d.jsx(mIt,{status:h,passkeySignupFlow:u,error:p,onRetry:w})}};let gIt=Z.span.withConfig({displayName:"SubtitleText",componentId:"sc-ad4f7fb3-0"})(["white-space:pre-wrap;"]);const yIt=({title:t="Log in or create a new account?",subtitle:e="Create a new account with a passkey or use a passkey to log in to an existing account.",onSignup:n,onLogin:r})=>d.jsx(Rn,{title:t,subtitle:e,icon:p7,primaryCta:{label:"Create new account",onClick:n},secondaryCta:{label:"Log in with a passkey",onClick:r},watermark:!0}),wIt={component:()=>{let{enabled:t,token:e}=dl(),{navigate:n,setModalData:r}=lt(),{initSignupWithPasskey:i,initLoginWithPasskey:s}=st();return d.jsx(yIt,{onSignup:async()=>{t&&!e?(r({passkeyAuthModalData:{passkeySignupFlow:!0},captchaModalData:{callback:o=>i({captchaToken:o,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:Iv,onErrorNavigateTo:Yr}}),n(_d)):(await i({withPrivyUi:!0}),r({passkeyAuthModalData:{passkeySignupFlow:!0}}),n(Iv))},onLogin:async()=>{t&&!e?(r({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:o=>s({captchaToken:o,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:Iv,onErrorNavigateTo:Yr}}),n(_d)):(await s({withPrivyUi:!0}),r({passkeyAuthModalData:{passkeySignupFlow:!1}}),n(Iv))}})}},s8e=()=>{let{enabled:t,token:e}=dl(),{navigate:n,setModalData:r,app:i,data:s}=lt(),{initLoginWithPasskey:o}=st(),a=()=>{i.loginConfig.passkeysForSignupEnabled?n(wIt):(async()=>t&&!e?(r({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:l=>o({captchaToken:l,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:Iv,onErrorNavigateTo:Yr}}),n(_d)):(await o({withPrivyUi:!0}),r({passkeyAuthModalData:{passkeySignupFlow:!1}}),n(Iv)))()};return x.useMemo(()=>{var c;let l=(c=s==null?void 0:s.login)==null?void 0:c.loginMethods;return l?l.filter(u=>u!=="passkey").length:Object.entries(i.loginMethods).filter(([u,h])=>h).filter(([u])=>u!=="passkey").length},[i.loginMethods,s==null?void 0:s.login])===0?d.jsxs(Gr,{onClick:a,children:[d.jsx(Pq,{})," Continue with passkey"]}):d.jsx(n3,{as:"button",onClick:a,size:"sm",variant:"navigation",style:{width:"100%",justifyContent:"center"},children:"I have a passkey"})},bIt=({value:t,onChange:e})=>d.jsx("select",{value:t,onChange:e,children:Xrt.map(n=>d.jsxs("option",{value:n.code,children:[n.code," +",n.callCode]},n.code))}),kN=x.forwardRef((t,e)=>{let{app:n}=lt(),[r,i]=x.useState(!1),{accountType:s}=Fg(),[o,a]=x.useState(""),[l,c]=x.useState((n==null?void 0:n.intl.defaultCountry)??"US"),u=gk(o,l),h=Jrt(l),f=eit(l),p=aq(l),m=!u,[g,y]=x.useState(!1),w=p.length,v=E=>{let $=E.target.value;c($),a(""),t.onChange&&t.onChange({rawPhoneNumber:o,qualifiedPhoneNumber:wj(o,$),countryCode:$,isValid:gk(o,l)})},b=(E,$)=>{try{let N=E.replace(/\D/g,"")===o.replace(/\D/g,"")?E:h.input(E);a(N),t.onChange&&t.onChange({rawPhoneNumber:N,qualifiedPhoneNumber:wj(E,$),countryCode:$,isValid:gk(E,$)})}catch(N){console.error("Error processing phone number:",N)}},A=()=>{y(!0);let E=wj(o,l);t.onSubmit({rawPhoneNumber:o,qualifiedPhoneNumber:E,countryCode:l,isValid:gk(o,l)}).finally(()=>y(!1))};return x.useEffect(()=>{if(t.defaultValue){let E=tit(t.defaultValue);h.reset(),v({target:{value:E.countryCode}}),b(E.phone,E.countryCode)}},[t.defaultValue]),d.jsxs(d.Fragment,{children:[d.jsx(vIt,{children:d.jsxs(xIt,{$callingCodeLength:w,$stacked:t.stacked,children:[d.jsx(bIt,{value:l,onChange:v}),d.jsx("input",{ref:e,id:"phone-number-input",className:"login-method-button",type:"tel",placeholder:f,onFocus:()=>i(!0),onChange:E=>{b(E.target.value,l)},onKeyUp:E=>{E.key==="Enter"&&A()},value:o,autoComplete:"tel"}),s!=="phone"||r||t.hideRecent?t.stacked||t.noIncludeSubmitButton?d.jsx("span",{}):d.jsx(cN,{isSubmitting:g,onClick:A,disabled:m,children:"Submit"}):d.jsx(tf,{color:"gray",children:"Recent"})]})}),t.stacked&&!t.noIncludeSubmitButton?d.jsx(pr,{loading:g,loadingText:null,onClick:A,disabled:m,children:"Submit"}):null]})});let vIt=Z.div.withConfig({displayName:"InputContainer",componentId:"sc-f29a1304-0"})(["width:100%;"]),xIt=Z.label.withConfig({displayName:"PhoneNumberInput",componentId:"sc-f29a1304-1"})(["--country-code-dropdown-width:calc(54px + calc(12 * ","px));--phone-input-extra-padding-left:calc(12px + calc(3 * ","px));display:block;position:relative;width:100%;@media (min-width:441px){--country-code-dropdown-width:calc(52px + calc(10 * ","px));}&& > select{font-size:16px;height:24px;position:absolute;margin:13px calc(var(--country-code-dropdown-width) / 4);line-height:24px;width:var(--country-code-dropdown-width);background-color:var(--privy-color-background);background-size:auto;background-position-x:right;cursor:pointer;@media (min-width:441px){font-size:14px;width:var(--country-code-dropdown-width);}:focus{outline:none;box-shadow:none;}}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - var(--country-code-dropdown-width));padding:12px 88px 12px calc(var(--country-code-dropdown-width) + var(--phone-input-extra-padding-left));padding-right:",";flex-grow:1;background:var(--privy-color-background);border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);width:100%;:focus{outline:none;border-color:var(--privy-color-accent);}:autofill,:-webkit-autofill{background:var(--privy-color-background);}@media (min-width:441px){font-size:14px;padding-right:78px;}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;border-color:var(--privy-color-accent);}}&& > input::placeholder{color:var(--privy-color-foreground-3);}"],t=>t.$callingCodeLength,t=>t.$callingCodeLength,t=>t.$callingCodeLength,t=>t.$stacked?"16px":"88px");const o8e=({isEditable:t,setIsEditable:e,defaultValue:n})=>{let r=x.useRef(null),{authenticated:i}=Sn(),{navigate:s,setModalData:o,currentScreen:a,data:l}=lt(),{initLoginWithSms:c}=st(),{enabled:u,token:h}=dl(),{whatsAppEnabled:f}=Fn();return d.jsxs(d.Fragment,{children:[d.jsx(t3,{$if:!t,children:d.jsx(kN,{ref:r,onSubmit:async function({qualifiedPhoneNumber:p}){var m;if(!u||h||i)try{await c({phoneNumber:p,captchaToken:h,withPrivyUi:!0,disableSignup:(m=l==null?void 0:l.login)==null?void 0:m.disableSignup}),s(Jp)}catch(g){o({errorModalData:{error:g,previousScreen:a||Lo}}),s(Yr)}else o({captchaModalData:{callback:g=>{var y;return c({phoneNumber:p,captchaToken:g,withPrivyUi:!0,disableSignup:(y=l==null?void 0:l.login)==null?void 0:y.disableSignup})},userIntentRequired:!1,onSuccessNavigateTo:Jp,onErrorNavigateTo:Yr}}),s(_d)},defaultValue:n})}),d.jsx(t3,{$if:t,children:d.jsxs(Gr,{onClick:()=>{e(),setTimeout(()=>{var p;(p=r.current)==null||p.focus()},0)},children:[d.jsx(Gh,{children:d.jsx(x2e,{})}),"Continue with ",f?"WhatsApp":"SMS"]})})]})};let EIt={apple:{logo:_6e,displayName:"Apple"},discord:{logo:I6e,displayName:"Discord"},github:{logo:T6e,displayName:"GitHub"},google:{logo:$6e,displayName:"Google"},linkedin:{logo:R6e,displayName:"LinkedIn"},spotify:{logo:j6e,displayName:"Spotify"},instagram:{logo:N6e,displayName:"Instagram"},twitter:{logo:M6e,displayName:"Twitter"},tiktok:{logo:O6e,displayName:"TikTok"},line:{logo:P6e,displayName:"LINE"}};const Fi=({provider:t})=>{let{enabled:e,token:n}=dl(),{navigate:r,setModalData:i,data:s}=lt(),[o,a]=x.useState(!1),{initLoginWithOAuth:l}=st(),{accountType:c}=Fg(),u=x.useMemo(()=>c&&c!=="guest"&&c!=="authorization_key"&&c!=="cross_app"?xN(c):null,[c]),{displayName:h,logo:f}=EIt[t];return d.jsxs(Gr,{onClick:()=>{var p;a(!0),setTimeout(()=>{a(!1)},2e3),e&&!n?(i({captchaModalData:{callback:m=>{var g;return l(t,m,(g=s==null?void 0:s.login)==null?void 0:g.disableSignup)},userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:Yr}}),r(_d)):l(t,void 0,(p=s==null?void 0:s.login)==null?void 0:p.disableSignup)},disabled:o,children:[d.jsx(Gh,{$fullSize:!0,children:d.jsx(f,{style:{width:"32px",height:"32px"}})}),h,(u==null?void 0:u.loginMethod)===t&&d.jsx(AIt,{color:"gray",children:"Recent"})]})};let AIt=Z(tf).withConfig({displayName:"StyledChip",componentId:"sc-afd4ca87-0"})(["margin-left:auto;"]);function a8e(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...t,children:[d.jsx("rect",{width:"512",height:"512",rx:"15%",fill:"#37aee2"}),d.jsx("path",{fill:"#c8daea",d:"M199 404c-11 0-10-4-13-14l-32-105 245-144"}),d.jsx("path",{fill:"#a9c9dd",d:"M199 404c7 0 11-4 16-8l45-43-56-34"}),d.jsx("path",{fill:"#f6fbfe",d:"M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"})]})}const CIt=({success:t,errorMessage:e,onRetry:n})=>{let r=t?"Successfully connected with Telegram":e?e.message:"Verifying connection to Telegram";return d.jsx(Rn,{title:r,subtitle:t?"You're good to go!":e?e.detail:"Just a few moments more",icon:a8e,iconVariant:"loading",iconLoadingStatus:{success:t,fail:!!e},secondaryCta:e!=null&&e.retryable&&n?{label:"Retry",onClick:n}:void 0,watermark:!0})},pS={component:()=>{let{authenticated:t,logout:e,ready:n,user:r}=Sn(),{app:i,setModalData:s,navigate:o,resetNavigation:a,data:l}=lt(),{initLoginWithTelegram:c,loginWithTelegram:u,updateWallets:h,setReadyToTrue:f,closePrivyModal:p,createAnalyticsEvent:m,getAuthMeta:g}=st(),[y,w]=x.useState(!1),[v,b]=x.useState(void 0),A=dl();async function E(){var $,N,R,j,F,W,V,B,k,C,S,T,_,P;try{let L=await async function(){let O;if(!t){if(A.enabled&&A.status==="error")throw new sN(A.error,null,pe.CAPTCHA_FAILURE);return A.enabled&&A.status!=="success"&&(A.execute(),O=await A.waitForResult()),O}}();await u({captchaToken:L}),w(!0),f(!0)}catch(L){if((L==null?void 0:L.privyErrorCode)===pe.ALLOWLIST_REJECTED)return b(void 0),a(),void o(AN);if((L==null?void 0:L.privyErrorCode)===pe.USER_LIMIT_REACHED)return console.error(new HA(L).toString()),b(void 0),a(),void o(mC);if((L==null?void 0:L.privyErrorCode)===pe.USER_DOES_NOT_EXIST)return b(void 0),a(),void o(fC);if((L==null?void 0:L.privyErrorCode)===pe.ACCOUNT_TRANSFER_REQUIRED&&((N=($=L.data)==null?void 0:$.data)!=null&&N.nonce))return b(void 0),a(),s({accountTransfer:{nonce:(j=(R=L.data)==null?void 0:R.data)==null?void 0:j.nonce,account:(W=(F=L.data)==null?void 0:F.data)==null?void 0:W.subject,telegramAuthResult:(V=g())==null?void 0:V.telegramAuthResult,telegramWebAppData:(B=g())==null?void 0:B.telegramWebAppData,displayName:(S=(C=(k=L.data)==null?void 0:k.data)==null?void 0:C.account)==null?void 0:S.displayName,linkMethod:"telegram",embeddedWalletAddress:(P=(_=(T=L.data)==null?void 0:T.data)==null?void 0:_.otherUser)==null?void 0:P.embeddedWalletAddress}}),void o(Yw);let{retryable:O,detail:I}=Kse(L);b({retryable:O,detail:I,message:"Authentication failed"})}}return x.useEffect(()=>{E()},[]),x.useEffect(()=>{if(!(n&&t&&y&&r))return;if(i!=null&&i.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms){let N=setTimeout(()=>{o(Qw)},Wr);return()=>clearTimeout(N)}if(Ug(r,i.embeddedWallets)){let N=setTimeout(()=>{s({createWallet:{onSuccess:()=>{},onFailure:R=>{console.error(R),m({eventName:"embedded_wallet_creation_failure_logout",payload:{error:R,provider:"telegram",screen:"TelegramAuthScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),o(o0)},Wr);return()=>clearTimeout(N)}h();let $=setTimeout(()=>p({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Wr);return()=>clearTimeout($)},[n,t,y,r]),d.jsx(CIt,{success:y,errorMessage:v,onRetry:v!=null&&v.retryable?async()=>{var $,N;try{b(void 0),($=l==null?void 0:l.telegramAuthModalData)!=null&&$.seamlessAuth||await c(void 0,(N=l==null?void 0:l.login)==null?void 0:N.disableSignup),await E()}catch(R){let{retryable:j,detail:F}=Kse(R);b({retryable:j,detail:F,message:"Authentication failed"})}}:void 0})},isCaptchaRequired:!0},l8e=()=>{let{enabled:t,token:e}=dl(),{navigate:n,setModalData:r,data:i}=lt(),[s,o]=x.useState(!1),{initLoginWithTelegram:a}=st(),{accountType:l}=Fg();async function c(u){var h;try{await a(u,(h=i==null?void 0:i.login)==null?void 0:h.disableSignup),r({telegramAuthModalData:{seamlessAuth:!1}}),n(pS)}catch(f){console.error(f),o(!1)}}return d.jsxs(Gr,{onClick:async function(){if(o(!0),t&&!e)return r({captchaModalData:{callback:c,userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:Yr}}),void n(_d);await c(e)},disabled:s,children:[d.jsx(a8e,{width:32,height:32}),"Telegram",l==="telegram"&&d.jsx(kIt,{color:"gray",children:"Recent"})]})};let kIt=Z(tf).withConfig({displayName:"StyledChip",componentId:"sc-4b233cf1-0"})(["margin-left:auto;"]);const c8e=({onClick:t,text:e})=>d.jsxs(Gr,{onClick:t,children:[d.jsx(Gh,{children:d.jsx(Iht,{})}),d.jsx(e3,{children:e})]}),u8e=({onClick:t,text:e,icon:n})=>d.jsxs(Gr,{onClick:t,children:[d.jsx(Gh,{children:n}),d.jsx(e3,{children:e})]}),d8e=({connectOnly:t})=>{var Le;let{closePrivyModal:e}=st(),{data:n,setModalData:r,onUserCloseViaDialogOrKeybindRef:i,navigate:s}=lt(),o=Fn(),a=n==null?void 0:n.login,l=o.appearance.walletList,c=(a==null?void 0:a.walletChainType)??o.appearance.walletChainType,{accountType:u,walletClientType:h,chainType:f}=Fg(),{wallets:p}=Q4e({walletList:l,walletChainType:c}),m=x.useMemo(()=>u&&u!=="guest"&&u!=="authorization_key"&&u!=="cross_app"?xN(u):null,[u]),{email:g,sms:y,google:w,twitter:v,discord:b,github:A,spotify:E,instagram:$,tiktok:N,line:R,linkedin:j,apple:F,wallet:W,farcaster:V,telegram:B}=x.useMemo(()=>a!=null&&a.loginMethods?nit(a.loginMethods,!0):null,[a])??o.loginMethods,{passkey:k}=o.loginMethods,C=[g&&"email",y&&"sms",w&&"google",v&&"twitter",b&&"discord",A&&"github",E&&"spotify",$&&"instagram",N&&"tiktok",R&&"line",j&&"linkedin",F&&"apple",V&&"farcaster",B&&"telegram"].filter(Ce=>!!Ce),S=C.length>0,T=x.useMemo(()=>W&&!S?"web3-first":W&&(o==null?void 0:o.appearance.loginGroupPriority)||"web2-first",[W,S,o==null?void 0:o.appearance.loginGroupPriority]),_=o==null?void 0:o.appearance.hideDirectWeb2Inputs,[P,L]=x.useState("default"),[O,I]=x.useState(H7({mostRecentlyUsedAccountType:u,smsAvailable:y,emailAvailable:g,prefilledType:(Le=a==null?void 0:a.prefill)==null?void 0:Le.type}));x.useEffect(()=>{var Ce;I(H7({mostRecentlyUsedAccountType:u,smsAvailable:y,emailAvailable:g,prefilledType:(Ce=a==null?void 0:a.prefill)==null?void 0:Ce.type}))},[g,y,u]);let D=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{L("default")},150)};i.current=D;let Y=[];h&&W?Y.push(h):m!=null&&m.loginMethod&&C.includes(m.loginMethod)&&Y.push(m.loginMethod);let M=Ce=>{var rt,G;if(Ce==="email")return d.jsx(p8e,{isEditable:O==="email",setIsEditable:()=>{I("email")},defaultValue:((rt=a==null?void 0:a.prefill)==null?void 0:rt.type)==="email"?a.prefill.value:void 0},Ce);if(Ce==="sms")return d.jsx(o8e,{isEditable:O==="sms",setIsEditable:()=>{I("sms")},defaultValue:((G=a==null?void 0:a.prefill)==null?void 0:G.type)==="phone"?a.prefill.value:void 0},Ce);if(Ce==="apple")return d.jsx(Fi,{provider:"apple"},Ce);if(Ce==="discord")return d.jsx(Fi,{provider:"discord"},Ce);if(Ce==="farcaster")return d.jsx(i8e,{},Ce);if(Ce==="github")return d.jsx(Fi,{provider:"github"},Ce);if(Ce==="google")return d.jsx(Fi,{provider:"google"},Ce);if(Ce==="linkedin")return d.jsx(Fi,{provider:"linkedin"},Ce);if(Ce==="tiktok")return d.jsx(Fi,{provider:"tiktok"},Ce);if(Ce==="line")return d.jsx(Fi,{provider:"line"},Ce);if(Ce==="spotify")return d.jsx(Fi,{provider:"spotify"},Ce);if(Ce==="instagram")return d.jsx(Fi,{provider:"instagram"},Ce);if(Ce==="twitter")return d.jsx(Fi,{provider:"twitter"},Ce);if(Ce==="telegram")return d.jsx(l8e,{},Ce);let De=p.findIndex(({id:U})=>U===jl.normalize(Ce)),Ve=f==="solana"?"solana-only":"ethereum-only";return d.jsx(CU,{recent:!0,index:De,data:{wallets:p,walletChainType:Ve,handleWalletClick(U){r(z=>({...z,externalConnectWallet:{walletList:l,walletChainType:Ve,preSelectedWalletId:U.id}})),s(t?kU:fS)}}})},Q=p.filter(Ce=>Ce.id!==jl.normalize(h||"")),ee=Q.map((Ce,De)=>d.jsx(CU,{index:De,data:{walletChainType:c,wallets:Q,handleWalletClick(Ve){r(rt=>({...rt,externalConnectWallet:{walletList:l,walletChainType:c,preSelectedWalletId:Ve.id}})),s(t?kU:fS)}}},Ce.id)),J=C.filter(Ce=>Ce!==(m==null?void 0:m.loginMethod)).flatMap(M),oe=Y.flatMap(M);T==="web3-first"&&P==="default"?ee.unshift(...oe):T==="web2-first"&&J.unshift(...oe);let de=P==="web2-overflow"?()=>L("default"):void 0,ae=C.filter(Ce=>Ce!=="email"&&Ce!=="sms"),he=IIt({priority:T,email:g,sms:y,social:ae}),be=TIt({priority:T,email:g,sms:y,social:ae}),fe=d.jsx(c8e,{text:$It({priority:T}),onClick:()=>{r({...n,externalConnectWallet:{walletChainType:(a==null?void 0:a.walletChainType)??o.appearance.walletChainType}}),s(fS)}}),ke=d.jsx(u8e,{text:he,icon:be,onClick:()=>L("web2-overflow")}),we=_?0:1,Ue=W&&ee.length>0,Me=J.length===0&&W&&ee.length===0,_e=5-(Ue?1:0),xe=P==="default"&&(o==null?void 0:o.appearance.logo),Oe=P==="default"&&o.appearance.loginMessage;return d.jsxs(Rn,{title:o.appearance.landingHeader,icon:xe?d.jsx(B4e,{}):void 0,iconVariant:xe?"logo":void 0,onClose:D,showClose:!0,onBack:de,showBack:!!de,helpText:o||k&&P==="default"?d.jsxs(d.Fragment,{children:[k&&P==="default"&&d.jsx(s8e,{}),o&&d.jsx(RG,{app:o})]}):void 0,watermark:!0,children:[Oe&&(typeof o.appearance.loginMessage=="string"?d.jsx(SIt,{children:o.appearance.loginMessage}):d.jsx(_It,{children:o.appearance.loginMessage})),d.jsx(o4e,{$colorScheme:o.appearance.palette.colorScheme,children:P==="default"&&T==="web2-first"?d.jsxs(d.Fragment,{children:[J.length>_e?J.slice(0,_e-1):J,J.length>_e&&ke,Ue&&fe,Me&&d.jsx(doe,{chainType:o.appearance.walletChainType})]}):P==="default"&&T==="web3-first"?d.jsxs(d.Fragment,{children:[W&&d.jsxs(d.Fragment,{children:[ee.length>_e?ee.slice(0,_e-1):ee,ee.length>_e&&fe]}),J.length>we&&ke,J.length===we&&J[0],Me&&d.jsx(doe,{chainType:o.appearance.walletChainType})]}):P==="web2-overflow"?d.jsx(d.Fragment,{children:T==="web3-first"?J:J.slice(3)}):null})]})};let SIt=Z.div.withConfig({displayName:"StyledSubtitle",componentId:"sc-a0c826dc-0"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),_It=Z.div.withConfig({displayName:"MessageContainer",componentId:"sc-a0c826dc-1"})(["margin-bottom:24px;"]),IIt=({priority:t,email:e,sms:n,social:r})=>t==="web2-first"?"Other socials":e&&n&&r.length>0||e&&r.length>0?"Log in with email or socials":n&&r.length>0?"Log in with sms or socials":e&&n?"Continue with email or sms":e?"Continue with email":n?"Continue with sms":"Log in with a social account",TIt=({priority:t,email:e,sms:n,social:r})=>t==="web2-first"||r.length>0?d.jsx(Eht,{}):e&&n?d.jsx(B7t,{}):e?d.jsx(jq,{}):n?d.jsx(x2e,{}):null,$It=({priority:t})=>t==="web2-first"?"Continue with a wallet":"Other wallets";const H7=({mostRecentlyUsedAccountType:t,smsAvailable:e,emailAvailable:n,prefilledType:r})=>n&&(t==="email"&&r!=="phone"||r==="email")||!e||t!=="phone"&&r!=="phone"?"email":"sms",h8e={component:()=>{let{app:t}=lt();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?d.jsx(w8e,{connectOnly:!0}):d.jsx(d8e,{connectOnly:!0})}},NIt=({contactMethod:t,authFlow:e,appName:n="Privy",whatsAppEnabled:r=!1,onBack:i,onCodeSubmit:s,onResend:o,errorMessage:a,success:l=!1,resendCountdown:c=0,onInvalidInput:u,onClearError:h})=>{let[f,p]=x.useState(foe);x.useEffect(()=>{a||p(foe)},[a]);let m=async g=>{var E;g.preventDefault();let y=g.currentTarget.value.replace(" ","");if(y==="")return;if(isNaN(Number(y)))return void(u==null?void 0:u("Code should be numeric"));h==null||h();let w=Number((E=g.currentTarget.name)==null?void 0:E.charAt(5)),v=[...y||[""]].slice(0,hoe-w),b=[...f.slice(0,w),...v,...f.slice(w+v.length)];p(b);let A=Math.min(Math.max(w+v.length,0),hoe-1);if(!isNaN(Number(g.currentTarget.value))){let $=document.querySelector(`input[name=code-${A}]`);$==null||$.focus()}if(b.every($=>$&&!isNaN(+$))){let $=document.querySelector(`input[name=code-${A}]`);$==null||$.blur(),await(s==null?void 0:s(b.join("")))}};return d.jsx(Rn,{title:"Enter confirmation code",subtitle:d.jsxs("span",e==="email"?{children:["Please check ",d.jsx(poe,{children:t})," for an email from privy.io and enter your code below."]}:{children:["Please check ",d.jsx(poe,{children:t})," for a",r?" WhatsApp":""," message from ",n," and enter your code below."]}),icon:e==="email"?_$:bg,onBack:i,showBack:!0,helpText:d.jsxs(DIt,{children:[d.jsxs("span",{children:["Didn't get ",e==="email"?"an email":"a message","?"]}),c?d.jsxs(BIt,{children:[d.jsx(oft,{color:"var(--privy-color-foreground)",strokeWidth:1.33,height:"12px",width:"12px"}),d.jsx("span",{children:"Code sent"})]}):d.jsx(n3,{as:"button",size:"sm",onClick:o,children:"Resend code"})]}),children:d.jsx(jIt,{children:d.jsx(LSt,{children:d.jsxs(OIt,{children:[d.jsx("div",{children:f.map((g,y)=>d.jsx("input",{name:`code-${y}`,type:"text",value:f[y],onChange:m,onKeyUp:w=>{w.key==="Backspace"&&(v=>{if(h==null||h(),p([...f.slice(0,v),"",...f.slice(v+1)]),v>0){let b=document.querySelector(`input[name=code-${v-1}]`);b==null||b.focus()}})(y)},inputMode:"numeric",autoFocus:y===0,pattern:"[0-9]",className:`${l?"success":""} ${a?"fail":""}`,autoComplete:Cr?"one-time-code":"off"},y))}),d.jsx(MIt,{$fail:!!a,$success:l,children:d.jsx("span",{children:a==="Invalid or expired verification code"?"Incorrect code":a||(l?"Success!":"")})})]})})})})};let hoe=6,foe=Array(6).fill("");var r6,i6,PIt=((r6=PIt||{})[r6.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",r6[r6.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",r6),RIt=((i6=RIt||{})[i6.EMAIL=0]="EMAIL",i6[i6.SMS=1]="SMS",i6);const Jp={component:()=>{var W,V,B;let{app:t,navigate:e,lastScreen:n,navigateBack:r,setModalData:i,onUserCloseViaDialogOrKeybindRef:s}=lt(),{closePrivyModal:o,resendEmailCode:a,resendSmsCode:l,getAuthMeta:c,loginWithCode:u,updateWallets:h,createAnalyticsEvent:f}=st(),{authenticated:p,logout:m,user:g}=Sn(),{whatsAppEnabled:y}=Fn(),[w,v]=x.useState(!1),[b,A]=x.useState(null),[E,$]=x.useState(null),[N,R]=x.useState(0);s.current=()=>null;let j=(W=c())!=null&&W.email?0:1,F=j===0?((V=c())==null?void 0:V.email)||"":((B=c())==null?void 0:B.phoneNumber)||"";return x.useEffect(()=>{if(N){let k=setTimeout(()=>{R(N-1)},1e3);return()=>clearTimeout(k)}},[N]),x.useEffect(()=>{if(p&&w&&g){if(t!=null&&t.legal.requireUsersAcceptTerms&&!g.hasAcceptedTerms){let k=setTimeout(()=>{e(Qw)},900);return()=>clearTimeout(k)}if(Ug(g,t.embeddedWallets)){let k=setTimeout(()=>{i({createWallet:{onSuccess:()=>{},onFailure:C=>{console.error(C),f({eventName:"embedded_wallet_creation_failure_logout",payload:{error:C,screen:"AwaitingPasswordlessCodeScreen"}}),m()},callAuthOnSuccessOnClose:!0}}),e(o0)},900);return()=>clearTimeout(k)}{h();let k=setTimeout(()=>o({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Wr);return()=>clearTimeout(k)}}},[p,w,g]),x.useEffect(()=>{if(b&&E===0){let k=setTimeout(()=>{A(null),$(null);let C=document.querySelector("input[name=code-0]");C==null||C.focus()},1400);return()=>clearTimeout(k)}},[b,E]),d.jsx(NIt,{contactMethod:F,authFlow:j===0?"email":"sms",appName:t==null?void 0:t.name,whatsAppEnabled:y,onBack:()=>r(),onCodeSubmit:async k=>{var C,S,T,_,P,L,O,I,D,Y;try{await u(k),v(!0)}catch(M){if(M instanceof Rl&&M.privyErrorCode===pe.INVALID_CREDENTIALS)A("Invalid or expired verification code"),$(0);else if(M instanceof Rl&&M.privyErrorCode===pe.CANNOT_LINK_MORE_OF_TYPE)A(M.message);else{if(M instanceof Rl&&M.privyErrorCode===pe.USER_LIMIT_REACHED)return console.error(new HA(M).toString()),void e(mC);if(M instanceof Rl&&M.privyErrorCode===pe.USER_DOES_NOT_EXIST)return void e(fC);if(M instanceof Rl&&M.privyErrorCode===pe.LINKED_TO_ANOTHER_USER)return i({errorModalData:{error:M,previousScreen:n??Jp}}),void e(Yr,!1);if(M instanceof Rl&&M.privyErrorCode===pe.DISALLOWED_PLUS_EMAIL)return i({inlineError:{error:M}}),void e(h8e,!1);if(M instanceof Rl&&M.privyErrorCode===pe.ACCOUNT_TRANSFER_REQUIRED&&((S=(C=M.data)==null?void 0:C.data)!=null&&S.nonce))return i({accountTransfer:{nonce:(_=(T=M.data)==null?void 0:T.data)==null?void 0:_.nonce,account:F,displayName:(O=(L=(P=M.data)==null?void 0:P.data)==null?void 0:L.account)==null?void 0:O.displayName,linkMethod:j===0?"email":"sms",embeddedWalletAddress:(Y=(D=(I=M.data)==null?void 0:I.data)==null?void 0:D.otherUser)==null?void 0:Y.embeddedWalletAddress}}),void e(Yw);A("Issue verifying code"),$(0)}}},onResend:async()=>{R(30),j===0?await a():await l()},errorMessage:b||void 0,success:w,resendCountdown:N,onInvalidInput:k=>{A(k),$(1)},onClearError:()=>{E===1&&(A(null),$(null))}})}};let jIt=Z.div.withConfig({displayName:"PasswordlessCodeContainer",componentId:"sc-5dd8bc26-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:auto;gap:16px;flex-grow:1;width:100%;"]),OIt=Z.div.withConfig({displayName:"CodeInput",componentId:"sc-5dd8bc26-1"})(["display:flex;flex-direction:column;width:100%;gap:12px;> div:first-child{display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-sm);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-sm);padding:8px 10px;height:48px;width:40px;text-align:center;font-size:18px;font-weight:600;color:var(--privy-color-foreground);transition:all 0.2s ease;}> input:focus{border:1px solid var(--privy-color-foreground);box-shadow:0 0 0 1px var(--privy-color-foreground);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-border-success);background:var(--privy-color-success-bg);}> input.fail{border:1px solid var(--privy-color-border-error);background:var(--privy-color-error-bg);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),MIt=Z.div.withConfig({displayName:"InputHelp",componentId:"sc-5dd8bc26-2"})(["line-height:20px;min-height:20px;font-size:14px;font-weight:400;color:",";display:flex;justify-content:center;width:100%;text-align:center;"],t=>t.$success?"var(--privy-color-success-dark)":t.$fail?"var(--privy-color-error-dark)":"transparent"),DIt=Z.div.withConfig({displayName:"HelpTextContainer",componentId:"sc-5dd8bc26-3"})(["display:flex;gap:8px;align-items:center;justify-content:center;width:100%;color:var(--privy-color-foreground-2);"]),BIt=Z.div.withConfig({displayName:"Badge",componentId:"sc-5dd8bc26-4"})(["display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-sm);padding:2px 8px;gap:4px;background:var(--privy-color-background-2);color:var(--privy-color-foreground-2);"]),poe=Z.span.withConfig({displayName:"BoldWrappingSpan",componentId:"sc-5dd8bc26-5"})(["font-weight:500;word-break:break-all;color:var(--privy-color-foreground);"]);const f8e=x.forwardRef((t,e)=>{let[n,r]=x.useState(t.defaultValue||""),[i,s]=x.useState(""),[o,a]=x.useState(!1),{authenticated:l}=Sn(),{initLoginWithEmail:c}=st(),{navigate:u,setModalData:h,currentScreen:f,data:p}=lt(),{enabled:m,token:g}=dl(),[y,w]=x.useState(!1),{accountType:v}=Fg(),b=Fn();x.useEffect(()=>{var N,R;!n&&b.disablePlusEmails&&((N=p==null?void 0:p.inlineError)==null?void 0:N.error)instanceof Do&&((R=p==null?void 0:p.inlineError)==null?void 0:R.error.privyErrorCode)===pe.DISALLOWED_PLUS_EMAIL&&!i&&s("Please enter a valid email address without a '+'."),i&&s("")},[n]);let A=F6e(n),E=o||!A,$=()=>{h({login:p==null?void 0:p.login,inlineError:void 0}),!m||g||l?(N=>{var R;a(!0),c({email:n,captchaToken:N,disableSignup:(R=p==null?void 0:p.login)==null?void 0:R.disableSignup,withPrivyUi:!0}).then(()=>{u(Jp)}).catch(j=>{h({errorModalData:{error:j,previousScreen:f||Lo}}),u(Yr)}).finally(()=>{a(!1)})})(g):(h({captchaModalData:{callback:N=>c({email:n,captchaToken:N,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:Jp,onErrorNavigateTo:Yr}}),u(_d))};return d.jsxs(d.Fragment,{children:[d.jsxs(LIt,{children:[i&&d.jsx(uw,{style:{display:"block",marginTop:"0.25rem",textAlign:"left"},children:i}),d.jsxs(FIt,{stacked:t.stacked,$error:!!i,children:[d.jsx(UIt,{children:d.jsx(jq,{})}),d.jsx("input",{ref:e,id:"email-input",className:"login-method-button",type:"email",placeholder:"your@email.com",onFocus:()=>w(!0),onChange:N=>r(N.target.value),onKeyUp:N=>{N.key==="Enter"&&$()},value:n,autoComplete:"email"}),v!=="email"||y?t.stacked?d.jsx("span",{}):d.jsx(cN,{isSubmitting:o,onClick:$,disabled:E,children:"Submit"}):d.jsx(tf,{color:"gray",children:"Recent"})]})]}),t.stacked?d.jsx(pr,{loadingText:null,loading:o,disabled:E,onClick:$,style:{width:"100%"},children:"Submit"}):null]})});let LIt=K4e,FIt=I7t,UIt=Z(Gh).withConfig({displayName:"StyledLoginMethodIconWrapper",componentId:"sc-e33d938a-0"})(["display:inline-flex;"]);const p8e=({isEditable:t,setIsEditable:e,defaultValue:n})=>{let r=x.useRef(null);return d.jsxs(d.Fragment,{children:[d.jsx(t3,{$if:!t,children:d.jsx(f8e,{ref:r,defaultValue:n})}),d.jsx(t3,{$if:t,children:d.jsxs(Gr,{onClick:()=>{e(),setTimeout(()=>{var i;(i=r.current)==null||i.focus()},0)},children:[d.jsx(Gh,{children:d.jsx(jq,{})}),"Continue with Email"]})})]})},m8e=({icon:t,name:e})=>typeof t=="string"?d.jsx("img",{alt:`${e||"wallet"} logo`,src:t,style:{height:24,width:24,borderRadius:4}}):t===void 0?d.jsx(m$,{style:{height:24,width:24}}):t?d.jsx(t,{}):null;function _U(t){var n,r;let e=t.toLowerCase();return!!((r=(n=window==null?void 0:window.webkit)==null?void 0:n.messageHandlers)!=null&&r.ReactNativeWebView)||!!(window!=null&&window.ReactNativeWebView)||["fbav","fban","instagram","snapchat","linkedinapp"].some(i=>e.includes(i))}const zIt=({walletLogo:t,success:e,errorMessage:n,title:r,subtitle:i,onRetry:s,onUseDifferentWallet:o,onBack:a,numRetries:l,maxRetries:c})=>d.jsx(Rn,{title:r,subtitle:i,icon:t,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!n},primaryCta:n===Ly.ERROR_USER_EXISTS?{label:"Use a different wallet",onClick:o}:!e&&(n!=null&&n.retryable)&&l<c?{label:"Retry",onClick:s,disabled:!(n!=null&&n.retryable)||l>=c}:!e&&n&&l>=c?{label:"Use a different wallet",onClick:o}:void 0,onBack:a,watermark:!0}),IU={component:()=>{var $,N,R,j,F,W,V;let t,{navigateBack:e,navigate:n,lastScreen:r,currentScreen:i,data:s,setModalData:o}=lt(),{walletConnectionStatus:a,closePrivyModal:l}=st(),[c,u]=x.useState(void 0),[h,f]=x.useState(0),p=Dg((($=a==null?void 0:a.connector)==null?void 0:$.walletClientType)||"unknown"),m=(a==null?void 0:a.status)==="connected",g=(a==null?void 0:a.status)==="switching_to_supported_chain";x.useEffect(()=>{var B,k;if(m){let C;if((B=s==null?void 0:s.externalConnectWallet)!=null&&B.onCompleteNavigateTo){let S=s.externalConnectWallet.onCompleteNavigateTo,T=(k=a.connectedWallet)==null?void 0:k.address;C=setTimeout(()=>{var _,P;s.funding&&o({...s,funding:{...s.funding,connectedWalletAddress:T}}),n(S({address:T,walletClientType:(_=a.connector)==null?void 0:_.walletClientType,walletChainType:(P=a.connector)==null?void 0:P.chainType}))},Wr)}else C=setTimeout(l,Wr);return()=>clearTimeout(C)}},[m]),x.useEffect(()=>{a!=null&&a.connectError&&(B=>{u(t8e(B))})(a==null?void 0:a.connectError)},[a]);let y=((N=a==null?void 0:a.connector)==null?void 0:N.connectorType)||"injected",w=((R=a==null?void 0:a.connector)==null?void 0:R.walletClientType)||"unknown",v=((j=p==null?void 0:p.metadata)==null?void 0:j.shortName)||(p==null?void 0:p.name)||((F=a==null?void 0:a.connector)==null?void 0:F.walletBranding.name)||"Browser Extension",b=((W=p==null?void 0:p.image_url)==null?void 0:W.md)||((V=a==null?void 0:a.connector)==null?void 0:V.walletBranding.icon)||(B=>d.jsx(TG,{...B})),A=v==="Browser Extension"?v.toLowerCase():v;t=m?`Successfully connected with ${A}`:c?c.message:g?"Switching networks":`Waiting for ${A}`;let E="Dont see your wallet? Check your other browser windows.";return m?E="Youre good to go!":h>=2&&c?E="Unable to connect wallet":c?E=c.detail:g?E="Switch your wallet to the requested network.":w==="metamask"&&Cr?E="Click to continue to open and connect MetaMask.":w==="metamask"?E="For the best experience, connect only one wallet at a time.":y==="wallet_connect_v2"?E="Open your mobile wallet app to continue":y==="coinbase_wallet"&&(E="Open the Coinbase app on your phone to continue."),d.jsx(zIt,{walletName:v,walletLogo:b,success:m,errorMessage:c,title:t,subtitle:E,onRetry:()=>{f(h+1),u(void 0),a==null||a.connectRetry()},onUseDifferentWallet:e,onBack:i===r?void 0:e,numRetries:h,maxRetries:2})}},g8e=Z.div.withConfig({displayName:"TodoList",componentId:"sc-bcc78743-0"})(["display:flex;flex-direction:column;justify-content:flex-start;gap:10px;padding-left:8px;"]),c2=({children:t,variant:e="default",icon:n})=>{let r=()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}};return d.jsxs(HIt,{children:[d.jsx(WIt,{$variant:e,"data-variant":e,children:(()=>{if(n)return Ae.isValidElement(n)?Ae.cloneElement(n,{stroke:r(),strokeWidth:2}):n;switch(e){case"success":default:return d.jsx(eE,{size:12,stroke:r(),strokeWidth:3});case"error":return d.jsx(Tht,{size:12,stroke:r(),strokeWidth:3})}})()}),t]})};let WIt=Z.div.withConfig({displayName:"IconBackground",componentId:"sc-bcc78743-2"})(["display:flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;background-color:",";flex-shrink:0;"],({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";default:return"var(--privy-color-background-2)"}}),HIt=Z.div.withConfig({displayName:"TodoItemWrapper",componentId:"sc-bcc78743-3"})(["display:flex;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;&&{a{color:var(--privy-color-accent);}}"]);const VIt=({walletName:t,installLink:e,title:n,subtitle:r="Follow the instructions below to get started.",onReload:i,onBack:s})=>{let o=n||`Create a ${t} wallet`.replace(/wallet wallet/gi,"wallet");return d.jsx(Rn,{title:o,subtitle:r,onBack:s,showBack:!0,primaryCta:{label:"Reload the page to use your wallet",onClick:i},helpText:d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"Still not sure? "}),d.jsx(n3,{size:"sm",target:"_blank",href:"https://solana.com/docs/intro/wallets",children:"Learn more"})]}),watermark:!0,children:d.jsxs(g8e,{children:[d.jsx(c2,{children:d.jsxs("div",{children:[d.jsx("span",{children:"Install the "})," ",d.jsxs(n3,{href:e,target:"_blank",children:[t," browser extension"]})]})}),d.jsx(c2,{children:"Set up your first wallet"}),d.jsx(c2,{children:"Store your recovery phrase in a safe place!"})]})})},qIt={component:()=>{let{navigateBack:t,data:e}=lt();if(!(e!=null&&e.installWalletModalData))throw Error("Wallet data is missing");let{walletConfig:n}=e.installWalletModalData;return d.jsx(VIt,{walletName:n.name,installLink:n.installLink,onReload:()=>{window.location.reload()},onBack:t})}},GIt=({title:t,subtitle:e,buttonText:n,buttonHref:r,isLoading:i=!1,helpText:s,onButtonClick:o})=>d.jsx(Rn,{title:t,subtitle:e,primaryCta:{label:n,onClick:()=>{r&&window.open(r,"_self"),o==null||o()},disabled:i},helpText:s,watermark:!0}),KIt={component:()=>{let{ready:t}=Sn(),{data:e}=lt(),[n,r]=x.useState(!1);if(!(e!=null&&e.installWalletModalData))throw Error("Wallet data is missing");let{walletConfig:i,connectOnly:s,chainType:o}=e.installWalletModalData,a=i.getMobileRedirect({useUniversalLink:!n,isSolana:o==="solana",connectOnly:s}),l=i.name.replace(/ wallet/gi,""),c={title:`Redirecting to ${l} Mobile Wallet`,description:`We'll take you to the ${l} Mobile Wallet app to continue your login experience.`,footnote:""};return t&&(c.description=`For the best experience, we'll automatically log you into the ${l} Mobile Wallet in-app browser.`,c.footnote="You can always return here to login via other methods."),n&&(c.title="Still here?",c.description=`You may need to install the ${i.name} mobile app.`,c.footnote=`Once you're done, you can connect with ${i.name} wallet to complete the login.`),d.jsx(GIt,{title:c.title,subtitle:c.description,buttonText:n?"Go to App Store":"Continue",buttonHref:a,isLoading:t&&!a,helpText:c.footnote||void 0,onButtonClick:()=>{setTimeout(()=>r(!0),1e3)}})}},Hd=({provider:t,displayName:e,logo:n,connectOnly:r,connector:i})=>{var g,y,w;let s,{navigate:o,setModalData:a}=lt(),{connectWallet:l}=st(),c=Fg(),u=Dg(t),h=i.connectorType==="wallet_connect_v2"?t:i.walletClientType,f=window.matchMedia("(display-mode: standalone)").matches,p=Z6e({connectorType:i.connectorType,walletClientType:h});s=p&&p.chainTypes.includes(i.chainType)?()=>{p.isInstalled||i.chainType==="solana"&&"isInstalled"in i&&i.isInstalled?(l(i,h),o(r?IU:_p)):Cr?(a({installWalletModalData:{walletConfig:p,chainType:i.chainType,connectOnly:r}}),o(KIt)):(a({installWalletModalData:{walletConfig:p,chainType:i.chainType,connectOnly:r}}),o(qIt))}:i.connectorType!=="coinbase_wallet"||((g=i.coinbaseWalletConfig.preference)==null?void 0:g.options)!=="eoaOnly"||!Cr||f||L6e()?()=>{(!_U(window.navigator.userAgent)||event!=null&&event.isTrusted)&&(l(i,h),o(r?IU:_p))}:()=>{window.location.href=`https://go.cb-w.com/dapp?cb_url=${encodeURI(window.location.href)}`};let m=e||((y=u==null?void 0:u.metadata)==null?void 0:y.shortName)||(u==null?void 0:u.name)||i.walletClientType;return d.jsxs(YIt,{onClick:s,children:[d.jsx(m8e,{icon:n||((w=u==null?void 0:u.image_url)==null?void 0:w.md),name:m}),d.jsx("span",{children:m}),d.jsxs(QIt,{id:"chip-container",children:[(c==null?void 0:c.walletClientType)===h&&(c==null?void 0:c.chainType)===i.chainType?d.jsx(moe,{color:"gray",children:"Recent"}):d.jsx("span",{id:"connect-text",children:"Connect"}),i.chainType==="solana"&&d.jsx(moe,{color:"gray",children:"Solana"})]})]})};let YIt=Z(Gr).withConfig({displayName:"ConnectWalletButton",componentId:"sc-42d67b97-0"})(["> span{color:var(--privy-color-foreground);}> #chip-container > #connect-text{font-weight:500;color:var(--privy-color-accent);opacity:0;transition:opacity 0.1s ease-out;}:hover > #chip-container > #connect-text{opacity:1;}@media (max-width:440px){> #chip-container > #connect-text{display:none;}}"]),moe=Z(tf).withConfig({displayName:"StyledChip",componentId:"sc-42d67b97-1"})(["margin-left:auto;"]),QIt=Z.div.withConfig({displayName:"ChipContainer",componentId:"sc-42d67b97-2"})(["display:flex;flex-wrap:wrap;gap:8px;margin-left:auto;"]);const ZIt=["coinbase_wallet","base_account"];let JIt=["metamask","okx_wallet","rainbow","uniswap","bybit_wallet","ronin_wallet","haha_wallet","uniswap_extension","zerion","rabby_wallet","cryptocom","binance"];const XIt=["safe"],eTt=["phantom","backpack","solflare","universal_profile"],y8e=({walletList:t,walletChainType:e,connectors:n,connectOnly:r,ignore:i,walletConnectEnabled:s,forceWallet:o})=>{var f,p;let a=[],l=[],c=[],u=n.filter(m=>e==="ethereum-only"?m.chainType==="ethereum":e!=="solana-only"||m.chainType==="solana"),h=u.find(m=>m.connectorType==="wallet_connect_v2");for(let[m,g]of(o?[o.wallet]:t).entries()){if(g==="detected_ethereum_wallets")for(let[y,w]of u.filter(({chainType:v,connectorType:b,walletClientType:A})=>v!=="solana"&&(A==="uniswap_wallet_extension"||A==="uniswap_extension"?!i.includes("uniswap"):A==="crypto.com_wallet_extension"||A==="crypto.com_onchain"?!i.includes("cryptocom"):b==="injected"&&!i.includes(A))).entries()){let{walletClientType:v,walletBranding:b,chainType:A}=w;(v==="unknown"?l:a).push(d.jsx(Hd,{connectOnly:r,provider:v,logo:b.icon,displayName:b.name,connector:w},`${m}-${g}-${v}-${A}-${y}`))}if(g==="detected_solana_wallets")for(let[y,w]of u.filter(({chainType:v,walletClientType:b})=>{if(v==="solana")return e!=="ethereum-only"&&!i.includes(b)}).entries()){let{walletClientType:v,walletBranding:b,chainType:A}=w;(v==="unknown"?l:a).push(d.jsx(Hd,{connectOnly:r,provider:v,logo:b.icon,displayName:b.name,connector:w},`${m}-${g}-${v}-${A}-${y}`))}if(eTt.includes(g)){let y=u.find(w=>w.connectorType==="injected"&&w.walletClientType===g||w.connectorType===g);if(y&&a.push(d.jsx(Hd,{connectOnly:r,provider:g,connector:y},`${m}-${g}`)),e==="solana-only"||e==="ethereum-and-solana"){let w=u.find(({chainType:v,walletClientType:b})=>v==="solana"&&b===g);w&&a.push(d.jsx(Hd,{connectOnly:r,provider:g,connector:w},`${g}-solana`))}}else if(JIt.includes(g)){let y=u.find(w=>g==="uniswap"?w.walletClientType==="uniswap_wallet_extension"||w.walletClientType==="uniswap_extension":g==="cryptocom"?w.walletClientType==="crypto.com_wallet_extension"||w.walletClientType==="crypto.com_onchain":w.connectorType==="injected"&&w.walletClientType===g);if(s&&!y&&(y=h),y&&a.push(d.jsx(Hd,{connectOnly:r,provider:g,connector:y,logo:y.connectorType==="injected"?y.walletBranding.icon:void 0,displayName:y.connectorType==="injected"?y.walletBranding.name:void 0},`${m}-${g}`)),e==="solana-only"||e==="ethereum-and-solana"){let w=u.find(({chainType:v,walletClientType:b})=>v==="solana"&&b===g);w&&a.push(d.jsx(Hd,{connectOnly:r,provider:g,connector:w},`${g}-solana`))}}else if(ZIt.includes(g)){let y=u.find(({connectorType:w})=>w===g);y&&a.push(d.jsx(Hd,{connectOnly:r,provider:g,connector:y,displayName:y.walletClientType==="coinbase_wallet"?"Coinbase":"Base",logo:y.walletClientType==="coinbase_wallet"?H6e:V6e},`${m}-${g}`))}else if(XIt.includes(g))h&&c.push(d.jsx(Hd,{connectOnly:r,provider:g,connector:h},`${m}-${g}`));else if(g==="wallet_connect")h&&c.push(d.jsx(Hd,{connectOnly:r,provider:g,connector:h,logo:h.walletBranding.icon,displayName:"WalletConnect"},`${m}-${g}`));else if(g===(o==null?void 0:o.wallet)){let y=o.chainType==="ethereum"&&t.includes("detected_ethereum_wallets"),w=o.chainType==="solana"&&t.includes("detected_solana_wallets");if(y||w){let v=u.find(({walletClientType:b})=>b===g);v&&a.push(d.jsx(Hd,{connectOnly:r,provider:g,displayName:(f=v.walletBranding)==null?void 0:f.name,logo:(p=v.walletBranding)==null?void 0:p.icon,connector:v},`${m}-${g}`))}}}return[...l,...a,...c]},w8e=({connectOnly:t})=>{var V,B,k;let{closePrivyModal:e,connectors:n}=st(),{app:r,onUserCloseViaDialogOrKeybindRef:i,data:s}=lt(),{appearance:{palette:{colorScheme:o}}}=Fn(),{accountType:a,walletClientType:l,chainType:c}=Fg(),u=x.useMemo(()=>a&&a!=="guest"&&a!=="authorization_key"&&a!=="cross_app"?xN(a):null,[a]),h=((V=r.loginMethodsAndOrder)==null?void 0:V.primary)??[],f=((B=r.loginMethodsAndOrder)==null?void 0:B.overflow)??[],p=x.useMemo(()=>[...h,...f],[h,f]),m=r.loginMethods.passkey,g=s==null?void 0:s.login,y=[];l&&p.includes(l)?y.push(l):a&&p.includes(u==null?void 0:u.loginMethod)&&y.push(u==null?void 0:u.loginMethod);let[w,v]=x.useState("default"),[b,A]=x.useState(H7({mostRecentlyUsedAccountType:a,smsAvailable:p.includes("sms"),emailAvailable:p.includes("email"),prefilledType:(k=g==null?void 0:g.prefill)==null?void 0:k.type}));x.useEffect(()=>{var C;A(H7({mostRecentlyUsedAccountType:a,smsAvailable:p.includes("sms"),emailAvailable:p.includes("email"),prefilledType:(C=g==null?void 0:g.prefill)==null?void 0:C.type}))},[p,a]),x.useEffect(()=>{a==="phone"&&A("sms");let C=p.indexOf("sms"),S=p.indexOf("email");C>-1&&C<S&&A("sms")},[a,h,f]);let E=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{v("default")},150)};i.current=E;let $=C=>{var S,T;return C==="email"?d.jsx(p8e,{isEditable:b==="email",setIsEditable:()=>{A("email")},defaultValue:((S=g==null?void 0:g.prefill)==null?void 0:S.type)==="email"?g.prefill.value:void 0},C):C==="sms"?d.jsx(o8e,{isEditable:b==="sms",setIsEditable:()=>{A("sms")},defaultValue:((T=g==null?void 0:g.prefill)==null?void 0:T.type)==="phone"?g.prefill.value:void 0},C):C==="apple"?d.jsx(Fi,{provider:"apple"},C):C==="discord"?d.jsx(Fi,{provider:"discord"},C):C==="farcaster"?d.jsx(i8e,{},C):C==="github"?d.jsx(Fi,{provider:"github"},C):C==="google"?d.jsx(Fi,{provider:"google"},C):C==="linkedin"?d.jsx(Fi,{provider:"linkedin"},C):C==="spotify"?d.jsx(Fi,{provider:"spotify"},C):C==="instagram"?d.jsx(Fi,{provider:"instagram"},C):C==="tiktok"?d.jsx(Fi,{provider:"tiktok"},C):C==="line"?d.jsx(Fi,{provider:"line"},C):C==="twitter"?d.jsx(Fi,{provider:"twitter"},C):C==="telegram"?d.jsx(l8e,{},C):C.startsWith("privy:")?d.jsx(G_t,{appId:C.replace("privy:","")},C):y8e({walletList:r.appearance.walletList,walletChainType:(g==null?void 0:g.walletChainType)??r.appearance.walletChainType,connectors:n,connectOnly:t,ignore:p,walletConnectEnabled:r.externalWallets.walletConnect.enabled,forceWallet:{wallet:C,chainType:c??"ethereum"}})},N=y.flatMap($),R=h.filter(C=>C!==l&&C!==(u==null?void 0:u.loginMethod)).flatMap($),j=f.filter(C=>C!==l&&C!==(u==null?void 0:u.loginMethod)).flatMap($),[F,W]=((C,S)=>{let T=[],_=[];for(let[P,L]of C.entries())P<S?T.push(L):_.push(L);return[T,_]})([...N,...R,...j],tTt({primary:R.length+N.length,overflow:j.length}));return d.jsxs(d.Fragment,{children:[d.jsx(bn,{title:r.appearance.landingHeader,onClose:E,backFn:w==="default"?void 0:()=>{v("default")}}),w==="default"&&d.jsx(nTt,{}),w==="default"&&(typeof r.appearance.loginMessage=="string"?d.jsx(L9t,{children:r.appearance.loginMessage}):r.appearance.loginMessage),d.jsx(D9t,{style:{overflow:"hidden"},children:d.jsxs(o4e,{$colorScheme:o,children:[w==="default"&&d.jsxs(d.Fragment,{children:[F,W.length>0&&d.jsx(u8e,{text:"More options",icon:d.jsx(hht,{}),onClick:()=>v("overflow")})]}),w==="overflow"&&d.jsx(d.Fragment,{children:W}),m&&w==="default"&&d.jsx(s8e,{})]})}),r&&d.jsx(RG,{app:r}),d.jsx(er,{})]})};let tTt=({primary:t,overflow:e})=>t<5?t:t===5&&e===0?5:4,nTt=Z(H_t).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-ccb89604-0"})(["margin-bottom:16px;"]);const Lo={component:()=>{let{app:t}=lt();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?d.jsx(w8e,{connectOnly:!1}):d.jsx(d8e,{connectOnly:!1})},isCaptchaRequired:!0,isUnauthenticatedScreem:!0},b8e={component:()=>{let[t,e]=x.useState(null),[n,r]=x.useState(!1),[i,s]=x.useState(null),[o,a]=x.useState(""),{authenticated:l,user:c}=Sn(),{client:u,walletProxy:h,refreshSessionAndUser:f,closePrivyModal:p,createAnalyticsEvent:m}=st(),{app:g,navigate:y,data:w,onUserCloseViaDialogOrKeybindRef:v}=lt(),{onSuccess:b,onFailure:A}=w.setWalletPassword,E=Cd(c),$=(t==null?void 0:t.recoveryMethod)==="user-passcode",N=(E==null?void 0:E.recoveryMethod)==="user-passcode";x.useEffect(()=>{l||(y(Lo),A(new ost("User must be authenticated before setting a password on a Privy wallet")))},[l]);let R=()=>i?(A(i),void p({shouldCallAuthOnSuccess:!1})):$?(b(t),void p({shouldCallAuthOnSuccess:!1})):(A(new ng("Exited before password was added to wallet")),void p({shouldCallAuthOnSuccess:!1}));return v.current=R,d.jsx(M4e,{appName:(g==null?void 0:g.name)||"privy",config:{initiatedBy:"user",onCancel:R},error:i?"An error has occurred, please try again.":void 0,buttonLoading:n,buttonHideAnimations:!1,password:o,isResettingPassword:N,onPasswordGenerate:()=>a(O4e()),onPasswordChange:a,onSubmit:async()=>{$?(b(t),p({shouldCallAuthOnSuccess:!1})):(r(!0),s(null),await(async()=>{let j=await u.getAccessToken();if(j&&c&&(E!=null&&E.address)&&o&&h)try{m({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:E.address,existingRecoveryMethod:E.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:N}});let{entropyId:F,entropyIdVerifier:W}=Zu(c);if(!(await h.setRecovery({accessToken:j,entropyId:F,entropyIdVerifier:W,recoveryPassword:o,recoveryMethod:"user-passcode"})).entropyId)return s(new ng("Error setting password on privy wallet")),void m({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:E.address,existingRecoveryMethod:E.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:N,reason:"error setting password"}});let V=await f(),B=Cd(V);if(!B)return s(new ng("Error setting password on privy wallet")),void m({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:E.address,existingRecoveryMethod:E.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:N,reason:"wallet disconnected"}});e(B),m({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:E.address,existingRecoveryMethod:E.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:N}})}catch(F){console.warn(F),s(F instanceof Error?F:Error("Error setting password on privy wallet")),m({eventName:"embedded_wallet_set_password_failed",payload:{walletAddress:E.address,reason:F}})}})(),r(!1))},onClose:R})}},rTt=({onClose:t,onProceed:e})=>d.jsx(Rn,{title:"Secure Your Account",subtitle:d.jsxs(d.Fragment,{children:["Please set a password to secure your account.",d.jsx("br",{}),"Losing access to this password and this device will make your account inaccessible."]}),icon:Rq,primaryCta:{label:"Add password",onClick:e},onClose:t,watermark:!0}),iTt={component:()=>{let{closePrivyModal:t}=st(),{data:e,navigate:n,onUserCloseViaDialogOrKeybindRef:r}=lt(),{onFailure:i}=e.setWalletPassword,s=()=>{i(new ng("Exited before password was added to wallet")),t({shouldCallAuthOnSuccess:!1})};return r.current=s,d.jsx(rTt,{onClose:s,onProceed:()=>{n(b8e)}})}},sTt={component:()=>{let[t,e]=x.useState(!0),{authenticated:n,user:r}=Sn(),{walletProxy:i,closePrivyModal:s,createAnalyticsEvent:o,client:a}=st(),{navigate:l,data:c,onUserCloseViaDialogOrKeybindRef:u}=lt(),[h,f]=x.useState(void 0),[p,m]=x.useState(""),[g,y]=x.useState(!1),{entropyId:w,entropyIdVerifier:v,onCompleteNavigateTo:b,onSuccess:A,onFailure:E}=c.recoverWallet,$=(N="User exited before their wallet could be recovered")=>{s({shouldCallAuthOnSuccess:!1}),E(typeof N=="string"?new ng(N):N)};return u.current=$,x.useEffect(()=>{if(!n)return $("User must be authenticated and have a Privy wallet before it can be recovered")},[n]),d.jsxs(ar,{children:[d.jsx(ar.Header,{icon:rw,title:"Enter your password",subtitle:"Please provision your account on this new device. To continue, enter your recovery password.",showClose:!0,onClose:$}),d.jsx(ar.Body,{children:d.jsx(oTt,{children:d.jsxs("div",{children:[d.jsxs(gN,{children:[d.jsx(HG,{type:t?"password":"text",onChange:N=>(R=>{R&&f(R)})(N.target.value),disabled:g,style:{paddingRight:"2.3rem"}}),d.jsx(wN,{style:{right:"0.75rem"},children:t?d.jsx(bN,{onClick:()=>e(!1)}):d.jsx(vN,{onClick:()=>e(!0)})})]}),!!p&&d.jsx(aTt,{children:p})]})})}),d.jsxs(ar.Footer,{children:[d.jsx(ar.HelpText,{children:d.jsxs(USt,{children:[d.jsx("h4",{children:"Why is this necessary?"}),d.jsx("p",{children:"You previously set a password for this wallet. This helps ensure only you can access it"})]})}),d.jsx(ar.Actions,{children:d.jsx(lTt,{loading:g||!i,disabled:!h,onClick:async()=>{y(!0);let N=await a.getAccessToken(),R=Hf(r,w);if(!N||!R||h===null)return $("User must be authenticated and have a Privy wallet before it can be recovered");try{o({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:R.address}}),await(i==null?void 0:i.recover({accessToken:N,entropyId:w,entropyIdVerifier:v,recoveryPassword:h})),m(""),b?l(b):s({shouldCallAuthOnSuccess:!1}),A==null||A(R),o({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:R.address}})}catch(j){(function(F){return r5(F)&&(F.type==="invalid_recovery_pin"||F.type==="invalid_request_arguments")})(j)?m("Invalid recovery password, please try again."):m("An error has occurred, please try again.")}finally{y(!1)}},$hideAnimations:!w&&g,children:"Recover your account"})}),d.jsx(ar.Watermark,{})]})]})}};let oTt=Z.div.withConfig({displayName:"Content",componentId:"sc-f366413c-0"})(["display:flex;flex-direction:column;gap:1.5rem;"]),aTt=Z.div.withConfig({displayName:"ErrorMessage",componentId:"sc-f366413c-1"})(["line-height:20px;height:20px;font-size:13px;color:var(--privy-color-error);text-align:left;margin-top:0.5rem;"]),lTt=Z(pr).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-f366413c-2"})(["",""],({$hideAnimations:t})=>t&&ls(["&&{transition:none;}"]));const cTt={component:()=>{let{app:t,navigate:e,data:n,onUserCloseViaDialogOrKeybindRef:r}=lt(),[i,s]=x.useState(""),[o,a]=x.useState(!1),[l,c]=x.useState(),[u,h]=x.useState(null),{create:f}=zG(),{authenticated:p,user:m}=Sn(),{closePrivyModal:g,isNewUserThisSession:y,initializeWalletProxy:w}=st(),{onSuccess:v,onFailure:b,callAuthOnSuccessOnClose:A,shouldCreateEth:E,shouldCreateSol:$}=n.createWallet,[N,R]=x.useState(null),j=new ra(async()=>{try{let F;if(E&&$)F=await f({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"ethereum",walletIndex:0,latestUser:m}),F=await f({chainType:"solana",walletIndex:0,latestUser:F.user});else if($)F=await f({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"solana",walletIndex:0,latestUser:m});else{if(!E)throw Error("Invalid args to create wallet");F=await f({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"ethereum",walletIndex:0,latestUser:m})}R(F),y?e(WG):(v(F),g({shouldCallAuthOnSuccess:A}))}catch(F){s(F.message)}});return x.useEffect(()=>{u||w(3e4).then(F=>h(F))},[u]),x.useEffect(()=>{if(!p||!m)return e(Lo),void b(Error("User must be authenticated before creating a Privy wallet"))},[p]),r.current=()=>null,d.jsx(M4e,{config:{initiatedBy:"automatic"},appName:(t==null?void 0:t.name)||"privy",loading:!u,buttonLoading:o,buttonHideAnimations:!N&&o,isResettingPassword:!1,error:i,password:l||"",onClose:()=>{N&&N.account.recoveryMethod!=="user-passcode"?(b(new ng("User created a wallet but failed to set a password for it")),g({shouldCallAuthOnSuccess:!1})):N?(v(N),g({shouldCallAuthOnSuccess:A})):(b(new ng("User wallet creation failed")),g({shouldCallAuthOnSuccess:!1}))},onPasswordChange:c,onPasswordGenerate:()=>c(O4e()),onSubmit:async()=>(a(!0),j.execute().then(()=>new Promise(F=>setTimeout(F,250))).finally(()=>a(!1)))})}},uTt=Z.div.withConfig({displayName:"WithCircleBorder",componentId:"sc-e4fc5563-0"})(["&&{border-width:4px;}display:flex;justify-content:center;align-items:center;padding:1rem;aspect-ratio:1;border-style:solid;border-color:",";border-radius:50%;"],t=>t.$color??"var(--privy-color-accent)"),dw=Z.span.withConfig({displayName:"Subtitle",componentId:"sc-7a11f796-0"})(["margin-top:4px;color:var(--privy-color-foreground);text-align:center;font-size:0.875rem;font-weight:400;line-height:1.375rem;&& a{color:var(--privy-color-accent);}"]),xg=Z.span.withConfig({displayName:"Title",componentId:"sc-66de63c-0"})(["color:var(--privy-color-foreground);font-size:1.125rem;font-weight:600;line-height:1.875rem;text-align:center;"]),dTt={component:()=>{var y;let{user:t}=Sn(),{client:e,walletProxy:n,refreshSessionAndUser:r,closePrivyModal:i}=st(),s=lt(),{entropyId:o,entropyIdVerifier:a}=(y=s.data)==null?void 0:y.recoverWallet,[l,c]=x.useState(!1),[u,h]=x.useState(null),[f,p]=x.useState(null);function m(){var w,v,b,A;if(!l){if(f)return(v=(w=s.data)==null?void 0:w.setWalletPassword)==null||v.onFailure(f),void i();if(!u)return(A=(b=s.data)==null?void 0:b.setWalletPassword)==null||A.onFailure(Error("User exited set recovery flow")),void i()}}s.onUserCloseViaDialogOrKeybindRef.current=m;let g=!(!l&&!u);return d.jsxs(d.Fragment,f?{children:[d.jsx(bn,{onClose:m},"header"),d.jsx(uTt,{$color:"var(--privy-color-error)",style:{alignSelf:"center"},children:d.jsx(Bw,{height:38,width:38,stroke:"var(--privy-color-error)"})}),d.jsx(xg,{style:{marginTop:"0.5rem"},children:"Something went wrong"}),d.jsx(e3,{style:{minHeight:"2rem"}}),d.jsx(F7,{onClick:()=>p(null),children:"Try again"}),d.jsx(er,{})]}:{children:[d.jsx(bn,{onClose:m},"header"),d.jsx(y2e,{style:{width:"3rem",height:"3rem",alignSelf:"center"}}),d.jsx(xg,{style:{marginTop:"0.5rem"},children:"Automatically secure your account"}),d.jsx(dw,{style:{marginTop:"1rem"},children:"When you log into a new device, youll only need to authenticate to access your account. Never get logged out if you forget your password."}),d.jsx(e3,{style:{minHeight:"2rem"}}),d.jsx(F7,{loading:l,disabled:g,onClick:()=>async function(){c(!0);try{let w=await e.getAccessToken(),v=Hf(t,o);if(!w||!n||!v)return;if(!(await n.setRecovery({accessToken:w,entropyId:o,entropyIdVerifier:a,existingRecoveryMethod:v.recoveryMethod,recoveryMethod:"privy"})).entropyId)throw Error("Unable to set recovery on wallet");let b=await r();if(!b)throw Error("Unable to set recovery on wallet");let A=Hf(b,v.address);if(!A)throw Error("Unabled to set recovery on wallet");h(!!b),setTimeout(()=>{var E,$;($=(E=s.data)==null?void 0:E.setWalletPassword)==null||$.onSuccess(A),i()},Wr)}catch(w){p(w)}finally{c(!1)}}(),children:u?"Success":"Confirm"}),d.jsx(er,{})]})}};function v8e({isCreatingWallet:t,skipSplashScreen:e}){return t?cTt:e?b8e:iTt}function x8e({walletAction:t,availableRecoveryMethods:e,legacySetWalletPasswordFlow:n,isResettingPassword:r,showAutomaticRecovery:i}){return i?dTt:n||e.length===1?v8e({isCreatingWallet:t==="create",skipSplashScreen:r}):yU}function E8e(t){switch(t){case"user-passcode":return sTt;case"google-drive":case"icloud":return _4e;default:throw Error("Recovery method not supported")}}const A8e=({children:t,theme:e})=>d.jsxs(hTt,{$theme:e,children:[d.jsx(dot,{width:"20px",height:"20px",color:"var(--privy-color-icon-subtle)",strokeWidth:2,style:{flexShrink:0}}),d.jsx(fTt,{$theme:e,children:t})]});let hTt=Z.div.withConfig({displayName:"Container",componentId:"sc-1b5ed8dd-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-background-2);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),fTt=Z.div.withConfig({displayName:"Content",componentId:"sc-1b5ed8dd-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const C8e=ls(["&&{border-width:1px;padding:0.5rem 1rem;}width:100%;text-align:left;border:solid 1px var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);display:flex;justify-content:space-between;align-items:center;",""],t=>t.$state==="error"?`
        border-color: var(--privy-color-error);
        background: var(--privy-color-error-bg);
      `:""),SN=Z.div.withConfig({displayName:"Box",componentId:"sc-7252360a-0"})(["",""],C8e);let pTt=Z(SN).withConfig({displayName:"StyledBox",componentId:"sc-4010d8f3-0"})(["&&{padding:0.75rem;height:56px;}"]),mTt=Z.div.withConfig({displayName:"WalletContent",componentId:"sc-4010d8f3-1"})(["display:flex;align-items:center;justify-content:space-between;width:100%;"]),gTt=Z.div.withConfig({displayName:"AddressContainer",componentId:"sc-4010d8f3-2"})(["display:flex;flex-direction:column;gap:0;"]),yTt=Z.div.withConfig({displayName:"BalanceText",componentId:"sc-4010d8f3-3"})(["font-size:12px;line-height:1rem;color:var(--privy-color-foreground-3);"]),wTt=Z(QG).withConfig({displayName:"TitleLabel",componentId:"sc-4010d8f3-4"})(["text-align:left;margin-bottom:0.5rem;"]),bTt=Z(uw).withConfig({displayName:"StyledErrorMessage",componentId:"sc-4010d8f3-5"})(["margin-top:0.25rem;"]),vTt=Z(kd).withConfig({displayName:"CopyButton",componentId:"sc-4010d8f3-6"})(["&&{gap:0.375rem;font-size:14px;}"]);const _N=({errMsg:t,balance:e,address:n,className:r,title:i,showCopyButton:s=!1})=>{let[o,a]=x.useState(!1);return x.useEffect(()=>{if(o){let l=setTimeout(()=>a(!1),3e3);return()=>clearTimeout(l)}},[o]),d.jsxs("div",{children:[i&&d.jsx(wTt,{children:i}),d.jsx(pTt,{className:r,$state:t?"error":void 0,children:d.jsxs(mTt,{children:[d.jsxs(gTt,{children:[d.jsx(La,{address:n,showCopyIcon:!1}),e!==void 0&&d.jsx(yTt,{children:e})]}),s&&d.jsx(vTt,{onClick:function(l){l.stopPropagation(),navigator.clipboard.writeText(n).then(()=>a(!0)).catch(console.error)},size:"sm",children:d.jsxs(d.Fragment,o?{children:["Copied",d.jsx(eE,{size:14})]}:{children:["Copy",d.jsx(f7,{size:14})]})})]})}),t&&d.jsx(bTt,{children:t})]})};function k8e({rpcConfig:t,appId:e,address:n,chain:r}){let{chains:i}=st(),[s,o]=x.useState(0n),[a,l]=x.useState(!1),c=x.useMemo(()=>{let h=r||i[0];if(h)return Hp({chain:r,transport:Vp(Zp(h,t,e))})},[r,t,e]),u=x.useCallback(async()=>{if(!n||!c)return;l(!0);let h=await c.getBalance({address:n}).catch(console.error);return h?(o(h),l(!1),h):void 0},[c,n,o]);return x.useEffect(()=>{u().catch(console.error)},[]),{balance:s,isLoading:a,reloadBalance:u}}const nf="sdk_fiat_on_ramp_completed_with_status";async function ZG({rpc:t,address:e}){return(await t.getBalance(e,{commitment:"confirmed"}).send()).value??0n}function IN(t){switch(t){case"solana:mainnet":return"Solana";case"solana:devnet":return"Devnet";case"solana:testnet":return"Testnet"}}function BO(t){let[e]=Object.entries(RSt[t]).find(([n,r])=>r.symbol==="USDC")??[];return e}const JG=async({chain:t,address:e,appId:n,rpcConfig:r,erc20Address:i})=>({balance:await Hp({chain:t,transport:Vp(Zp(t,r,n))}).readContract({address:i,abi:xTt,functionName:"balanceOf",args:[e]}).catch(()=>0n),chain:t});let xTt=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];const S8e=({children:t,theme:e})=>d.jsxs(ETt,{$theme:e,children:[d.jsx(yq,{width:"20px",height:"20px",color:"var(--privy-color-icon-error)",strokeWidth:2,style:{flexShrink:0}}),d.jsx(ATt,{$theme:e,children:t})]});let ETt=Z.div.withConfig({displayName:"Container",componentId:"sc-34910fd1-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-error-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),ATt=Z.div.withConfig({displayName:"Content",componentId:"sc-34910fd1-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const CTt=t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 210.2",xmlSpace:"preserve",...t,children:d.jsx("path",{d:"M93.6,27.1C87.6,34.2,78,39.8,68.4,39c-1.2-9.6,3.5-19.8,9-26.1c6-7.3,16.5-12.5,25-12.9  C103.4,10,99.5,19.8,93.6,27.1 M102.3,40.9c-13.9-0.8-25.8,7.9-32.4,7.9c-6.7,0-16.8-7.5-27.8-7.3c-14.3,0.2-27.6,8.3-34.9,21.2  c-15,25.8-3.9,64,10.6,85c7.1,10.4,15.6,21.8,26.8,21.4c10.6-0.4,14.8-6.9,27.6-6.9c12.9,0,16.6,6.9,27.8,6.7  c11.6-0.2,18.9-10.4,26-20.8c8.1-11.8,11.4-23.3,11.6-23.9c-0.2-0.2-22.4-8.7-22.6-34.3c-0.2-21.4,17.5-31.6,18.3-32.2  C123.3,42.9,107.7,41.3,102.3,40.9 M182.6,11.9v155.9h24.2v-53.3h33.5c30.6,0,52.1-21,52.1-51.4c0-30.4-21.1-51.2-51.3-51.2H182.6z   M206.8,32.3h27.9c21,0,33,11.2,33,30.9c0,19.7-12,31-33.1,31h-27.8V32.3z M336.6,169c15.2,0,29.3-7.7,35.7-19.9h0.5v18.7h22.4V90.2  c0-22.5-18-37-45.7-37c-25.7,0-44.7,14.7-45.4,34.9h21.8c1.8-9.6,10.7-15.9,22.9-15.9c14.8,0,23.1,6.9,23.1,19.6v8.6l-30.2,1.8  c-28.1,1.7-43.3,13.2-43.3,33.2C298.4,155.6,314.1,169,336.6,169z M343.1,150.5c-12.9,0-21.1-6.2-21.1-15.7c0-9.8,7.9-15.5,23-16.4  l26.9-1.7v8.8C371.9,140.1,359.5,150.5,343.1,150.5z M425.1,210.2c23.6,0,34.7-9,44.4-36.3L512,54.7h-24.6l-28.5,92.1h-0.5  l-28.5-92.1h-25.3l41,113.5l-2.2,6.9c-3.7,11.7-9.7,16.2-20.4,16.2c-1.9,0-5.6-0.2-7.1-0.4v18.7C417.3,210,423.3,210.2,425.1,210.2z"})}),kTt=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 38.1",xmlSpace:"preserve",...t,children:[d.jsx("path",{style:{fill:"#5F6368"},d:"M37.8,19.7V29h-3V6h7.8c1.9,0,3.7,0.7,5.1,2c1.4,1.2,2.1,3,2.1,4.9c0,1.9-0.7,3.6-2.1,4.9c-1.4,1.3-3.1,2-5.1,2  L37.8,19.7L37.8,19.7z M37.8,8.8v8h5c1.1,0,2.2-0.4,2.9-1.2c1.6-1.5,1.6-4,0.1-5.5c0,0-0.1-0.1-0.1-0.1c-0.8-0.8-1.8-1.3-2.9-1.2  L37.8,8.8L37.8,8.8z"}),d.jsx("path",{style:{fill:"#5F6368"},d:"M56.7,12.8c2.2,0,3.9,0.6,5.2,1.8s1.9,2.8,1.9,4.8V29H61v-2.2h-0.1c-1.2,1.8-2.9,2.7-4.9,2.7  c-1.7,0-3.2-0.5-4.4-1.5c-1.1-1-1.8-2.4-1.8-3.9c0-1.6,0.6-2.9,1.8-3.9c1.2-1,2.9-1.4,4.9-1.4c1.8,0,3.2,0.3,4.3,1v-0.7  c0-1-0.4-2-1.2-2.6c-0.8-0.7-1.8-1.1-2.9-1.1c-1.7,0-3,0.7-3.9,2.1l-2.6-1.6C51.8,13.8,53.9,12.8,56.7,12.8z M52.9,24.2  c0,0.8,0.4,1.5,1,1.9c0.7,0.5,1.5,0.8,2.3,0.8c1.2,0,2.4-0.5,3.3-1.4c1-0.9,1.5-2,1.5-3.2c-0.9-0.7-2.2-1.1-3.9-1.1  c-1.2,0-2.2,0.3-3,0.9C53.3,22.6,52.9,23.3,52.9,24.2z"}),d.jsx("path",{style:{fill:"#5F6368"},d:"M80,13.3l-9.9,22.7h-3l3.7-7.9l-6.5-14.7h3.2l4.7,11.3h0.1l4.6-11.3H80z"}),d.jsx("path",{style:{fill:"#4285F4"},d:"M25.9,17.7c0-0.9-0.1-1.8-0.2-2.7H13.2v5.1h7.1c-0.3,1.6-1.2,3.1-2.6,4v3.3H22C24.5,25.1,25.9,21.7,25.9,17.7z"}),d.jsx("path",{style:{fill:"#34A853"},d:"M13.2,30.6c3.6,0,6.6-1.2,8.8-3.2l-4.3-3.3c-1.2,0.8-2.7,1.3-4.5,1.3c-3.4,0-6.4-2.3-7.4-5.5H1.4v3.4  C3.7,27.8,8.2,30.6,13.2,30.6z"}),d.jsx("path",{style:{fill:"#FBBC04"},d:"M5.8,19.9c-0.6-1.6-0.6-3.4,0-5.1v-3.4H1.4c-1.9,3.7-1.9,8.1,0,11.9L5.8,19.9z"}),d.jsx("path",{style:{fill:"#EA4335"},d:"M13.2,9.4c1.9,0,3.7,0.7,5.1,2l0,0l3.8-3.8c-2.4-2.2-5.6-3.5-8.8-3.4c-5,0-9.6,2.8-11.8,7.3l4.4,3.4  C6.8,11.7,9.8,9.4,13.2,9.4z"})]}),goe=t=>{let[e,n]=x.useState();return x.useEffect(()=>{t().then(r=>{n(r)}).catch(()=>{})},[]),e},_8e=async({address:t,chain:e,rpcConfig:n,privyAppId:r})=>{try{let i=Hp({chain:e,transport:Vp(Zp(e,n,r))}),[s,o]=await Promise.all([i.readContract({abi:yoe,address:t,functionName:"symbol"}),i.readContract({abi:yoe,address:t,functionName:"decimals"})]);return{decimals:o,symbol:s}}catch(i){return console.log(i),null}};let yoe=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];const TU=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}];let STt=2n**256n-1n;const V7=({amount:t,decimals:e})=>t===STt?"Maximum":Intl.NumberFormat(void 0,{maximumFractionDigits:e}).format(Number(t)/10**e),I8e=({chains:t,appId:e,address:n,rpcConfig:r,includeUsdc:i})=>Promise.all(t.map(async s=>{let o=Hp({chain:s,transport:Vp(Zp(s,r,e))}),a=await o.getBalance({address:n}).catch(()=>0n),l=null,c=rit[s.id];if(i&&c){let{balance:u}=await JG({address:n,chain:s,rpcConfig:r,appId:e,erc20Address:c});l=u}return{balance:a,erc20Balance:l,erc20Address:c,chain:s}})),XG=Z.span.withConfig({displayName:"Rows",componentId:"sc-b764aab6-0"})(["display:flex;flex-direction:column;gap:0.35rem;width:100%;"]),Ar=Z.span.withConfig({displayName:"Row",componentId:"sc-b764aab6-1"})(["display:flex;width:100%;justify-content:space-between;gap:0.5rem;"]),or=Z.span.withConfig({displayName:"LabelSm",componentId:"sc-6c002d6-0"})(["color:var(--privy-color-foreground-3);font-size:0.875rem;font-weight:400;line-height:1.375rem;"]),_Tt=Z(or).withConfig({displayName:"LabelSmPrimary",componentId:"sc-6c002d6-1"})(["color:var(--privy-color-accent);"]),ki=Z.span.withConfig({displayName:"Value",componentId:"sc-72aa026-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;",""],CN),ITt=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 397.7 311.7",enableBackground:"new 0 0 397.7 311.7",xmlSpace:"preserve",...t,children:[d.jsxs("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:"360.8791",y1:"351.4553",x2:"141.213",y2:"-69.2936",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[d.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),d.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),d.jsx("path",{d:"M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z",fill:"url(#SVGID_1_)"}),d.jsxs("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:"264.8291",y1:"401.6014",x2:"45.163",y2:"-19.1475",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[d.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),d.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),d.jsx("path",{d:"M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z",fill:"url(#SVGID_2_)"}),d.jsxs("linearGradient",{id:"SVGID_3_",gradientUnits:"userSpaceOnUse",x1:"312.5484",y1:"376.688",x2:"92.8822",y2:"-44.061",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[d.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),d.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),d.jsx("path",{d:"M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6,11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4  c5.8,0,8.7-7,4.6-11.1L333.1,120.1z",fill:"url(#SVGID_3_)"})]});let TTt={[cu.id]:t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 2500 2500",xmlSpace:"preserve",...t,children:d.jsx("g",{id:"Layer_x0020_1",children:d.jsxs("g",{id:"_2405588477232",children:[d.jsx("rect",{fill:"none",width:"2500",height:"2500"}),d.jsx("g",{children:d.jsxs("g",{children:[d.jsx("path",{fill:"#213147",d:"M226,760v980c0,63,33,120,88,152l849,490c54,31,121,31,175,0l849-490c54-31,88-89,88-152V760      c0-63-33-120-88-152l-849-490c-54-31-121-31-175,0L314,608c-54,31-87,89-87,152H226z"}),d.jsx("g",{children:d.jsxs("g",{children:[d.jsx("g",{children:d.jsx("path",{fill:"#12AAFF",d:"M1435,1440l-121,332c-3,9-3,19,0,29l208,571l241-139l-289-793C1467,1422,1442,1422,1435,1440z"})}),d.jsx("g",{children:d.jsx("path",{fill:"#12AAFF",d:"M1678,882c-7-18-32-18-39,0l-121,332c-3,9-3,19,0,29l341,935l241-139L1678,883V882z"})})]})}),d.jsx("g",{children:d.jsx("path",{fill:"#9DCCED",d:"M1250,155c6,0,12,2,17,5l918,530c11,6,17,18,17,30v1060c0,12-7,24-17,30l-918,530c-5,3-11,5-17,5       s-12-2-17-5l-918-530c-11-6-17-18-17-30V719c0-12,7-24,17-30l918-530c5-3,11-5,17-5l0,0V155z M1250,0c-33,0-65,8-95,25L237,555       c-59,34-95,96-95,164v1060c0,68,36,130,95,164l918,530c29,17,62,25,95,25s65-8,95-25l918-530c59-34,95-96,95-164V719       c0-68-36-130-95-164L1344,25c-29-17-62-25-95-25l0,0H1250z"})}),d.jsx("polygon",{fill:"#213147",points:"642,2179 727,1947 897,2088 738,2234     "}),d.jsxs("g",{children:[d.jsx("path",{fill:"#FFFFFF",d:"M1172,644H939c-17,0-33,11-39,27L401,2039l241,139l550-1507c5-14-5-28-19-28L1172,644z"}),d.jsx("path",{fill:"#FFFFFF",d:"M1580,644h-233c-17,0-33,11-39,27L738,2233l241,139l620-1701c5-14-5-28-19-28V644z"})]})]})})]})})}),[L3.id]:t=>d.jsxs("svg",{width:"1503",height:"1504",viewBox:"0 0 1503 1504",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"287",y:"258",width:"928",height:"844",fill:"white"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1502.5 752C1502.5 1166.77 1166.27 1503 751.5 1503C336.734 1503 0.5 1166.77 0.5 752C0.5 337.234 336.734 1 751.5 1C1166.27 1 1502.5 337.234 1502.5 752ZM538.688 1050.86H392.94C362.314 1050.86 347.186 1050.86 337.962 1044.96C327.999 1038.5 321.911 1027.8 321.173 1015.99C320.619 1005.11 328.184 991.822 343.312 965.255L703.182 330.935C718.495 303.999 726.243 290.531 736.021 285.55C746.537 280.2 759.083 280.2 769.599 285.55C779.377 290.531 787.126 303.999 802.438 330.935L876.42 460.079L876.797 460.738C893.336 489.635 901.723 504.289 905.385 519.669C909.443 536.458 909.443 554.169 905.385 570.958C901.695 586.455 893.393 601.215 876.604 630.549L687.573 964.702L687.084 965.558C670.436 994.693 661.999 1009.46 650.306 1020.6C637.576 1032.78 622.263 1041.63 605.474 1046.62C590.161 1050.86 573.004 1050.86 538.688 1050.86ZM906.75 1050.86H1115.59C1146.4 1050.86 1161.9 1050.86 1171.13 1044.78C1181.09 1038.32 1187.36 1027.43 1187.92 1015.63C1188.45 1005.1 1181.05 992.33 1166.55 967.307C1166.05 966.455 1165.55 965.588 1165.04 964.706L1060.43 785.75L1059.24 783.735C1044.54 758.877 1037.12 746.324 1027.59 741.472C1017.08 736.121 1004.71 736.121 994.199 741.472C984.605 746.453 976.857 759.552 961.544 785.934L857.306 964.891L856.949 965.507C841.69 991.847 834.064 1005.01 834.614 1015.81C835.352 1027.62 841.44 1038.5 851.402 1044.96C860.443 1050.86 875.94 1050.86 906.75 1050.86Z",fill:"#E84142"})]}),[uu.id]:t=>d.jsxs("svg",{width:"146",height:"146",viewBox:"0 0 146 146",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("circle",{cx:"73",cy:"73",r:"73",fill:"#0052FF"}),d.jsx("path",{d:"M73.323 123.729C101.617 123.729 124.553 100.832 124.553 72.5875C124.553 44.343 101.617 21.4463 73.323 21.4463C46.4795 21.4463 24.4581 42.0558 22.271 68.2887H89.9859V76.8864H22.271C24.4581 103.119 46.4795 123.729 73.323 123.729Z",fill:"white"})]}),[qT.id]:t=>d.jsxs("svg",{fill:"none",height:"400",viewBox:"0 0 400 400",width:"400",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("path",{d:"m0 0h400v400h-400z",fill:"#fcff52"}),d.jsx("path",{d:"m300 100h-200v200h199.996v-69.813h-33.191c-11.442 25.468-37.194 43.206-66.665 43.206-40.63 0-73.533-33.187-73.533-73.533s32.903-73.249 73.533-73.249c30.043 0 55.795 18.313 67.24 44.349h32.62z",fill:"#000"})]}),[T1e.id]:t=>d.jsxs("svg",{width:"200",height:"208",viewBox:"0 0 200 208",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{width:"199.4",height:"207.623",fill:"#121212"}),d.jsxs("g",{"clip-path":"url(#clip0_2303_643)",children:[d.jsx("path",{d:"M132.369 155.99H49.7001V68.8854H68.6148V139.109H132.369V155.981V155.99Z",fill:"white"}),d.jsx("path",{d:"M132.369 85.7575C141.687 85.7575 149.241 78.2036 149.241 68.8855C149.241 59.5673 141.687 52.0134 132.369 52.0134C123.05 52.0134 115.497 59.5673 115.497 68.8855C115.497 78.2036 123.05 85.7575 132.369 85.7575Z",fill:"white"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_2303_643",children:d.jsx("rect",{width:"99.5407",height:"103.977",fill:"white",transform:"translate(49.7001 52.0134)"})})})]}),[du.id]:t=>d.jsxs("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 327.5 533.3",enableBackground:"new 0 0 327.5 533.3;",xmlSpace:"preserve",...t,children:[d.jsx("path",{fill:"#8492B2",d:"M163.7,197.2V0L0,271.6L163.7,197.2z"}),d.jsx("path",{fill:"#62688F",d:"M163.7,368.4V197.2L0,271.6L163.7,368.4z M163.7,197.2l163.7,74.4L163.7,0V197.2z"}),d.jsx("path",{fill:"#454A75",d:"M163.7,197.2v171.2l163.7-96.8L163.7,197.2z"}),d.jsx("path",{fill:"#8492B2",d:"M163.7,399.4L0,302.7l163.7,230.7V399.4z"}),d.jsx("path",{fill:"#62688F",d:"M327.5,302.7l-163.8,96.7v134L327.5,302.7z"})]}),[lf.id]:t=>d.jsxs("svg",{width:"500",height:"500",viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("circle",{cx:"250",cy:"250",r:"250",fill:"#FF0420"}),d.jsx("path",{d:"M177.133 316.446C162.247 316.446 150.051 312.943 140.544 305.938C131.162 298.808 126.471 288.676 126.471 275.541C126.471 272.789 126.784 269.411 127.409 265.408C129.036 256.402 131.35 245.581 134.352 232.947C142.858 198.547 164.812 181.347 200.213 181.347C209.845 181.347 218.476 182.973 226.107 186.225C233.738 189.352 239.742 194.106 244.12 200.486C248.498 206.74 250.688 214.246 250.688 223.002C250.688 225.629 250.375 228.944 249.749 232.947C247.873 244.08 245.621 254.901 242.994 265.408C238.616 282.546 231.048 295.368 220.29 303.874C209.532 312.255 195.147 316.446 177.133 316.446ZM179.76 289.426C186.766 289.426 192.707 287.362 197.586 283.234C202.59 279.106 206.155 272.789 208.281 264.283C211.158 252.524 213.348 242.266 214.849 233.51C215.349 230.883 215.599 228.194 215.599 225.441C215.599 214.058 209.657 208.366 197.774 208.366C190.768 208.366 184.764 210.43 179.76 214.558C174.882 218.687 171.379 225.004 169.253 233.51C167.001 241.891 164.749 252.149 162.498 264.283C161.997 266.784 161.747 269.411 161.747 272.163C161.747 283.672 167.752 289.426 179.76 289.426Z",fill:"white"}),d.jsx("path",{d:"M259.303 314.57C257.927 314.57 256.863 314.132 256.113 313.256C255.487 312.255 255.3 311.13 255.55 309.879L281.444 187.914C281.694 186.538 282.382 185.412 283.508 184.536C284.634 183.661 285.822 183.223 287.073 183.223H336.985C350.87 183.223 362.003 186.1 370.384 191.854C378.891 197.609 383.144 205.927 383.144 216.81C383.144 219.937 382.769 223.19 382.018 226.567C378.891 240.953 372.574 251.586 363.067 258.466C353.685 265.346 340.8 268.786 324.413 268.786H299.082L290.451 309.879C290.2 311.255 289.512 312.38 288.387 313.256C287.261 314.132 286.072 314.57 284.822 314.57H259.303ZM325.727 242.892C330.98 242.892 335.546 241.453 339.424 238.576C343.427 235.699 346.054 231.571 347.305 226.192C347.68 224.065 347.868 222.189 347.868 220.563C347.868 216.935 346.805 214.183 344.678 212.307C342.551 210.305 338.924 209.305 333.795 209.305H311.278L304.148 242.892H325.727Z",fill:"white"})]}),[ll.id]:t=>d.jsxs("svg",{width:"360",height:"360",viewBox:"0 0 360 360",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{width:"360",height:"360",rx:"180",fill:"#6C00F6"}),d.jsx("path",{d:"M157.743 154.241L141.052 144.58L90.9766 173.561V231.519L141.052 260.5L191.13 231.519V141.359L218.948 125.26L246.77 141.359V173.561L218.948 189.66L202.257 180.002V205.759L218.948 215.42L269.024 186.439V128.481L218.948 99.5L168.873 128.481V218.641L141.052 234.74L113.233 218.641V186.439L141.052 170.34L157.743 179.998V154.241Z",fill:"white"})]}),[zV.id]:t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",...t,children:[d.jsx("g",{clipPath:"url(#clip0)",children:d.jsx("g",{clipPath:"url(#clip1)",children:d.jsx("path",{d:"M14.9188 29.8373C6.67944 29.8373 0.00012207 23.1581 0.00012207 14.9187C0.00012207 6.67931 6.67944 0 14.9188 0C23.1581 0 29.8373 6.67931 29.8373 14.9187C29.8373 23.1581 23.1581 29.8373 14.9188 29.8373Z",fill:"url(#paint0)"})})}),d.jsxs("defs",{children:[d.jsxs("radialGradient",{id:"paint0",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.6921 8.02215) rotate(180) scale(25.2008)",children:[d.jsx("stop",{offset:"0.00682297",stopColor:"#F2CEFE"}),d.jsx("stop",{offset:"0.1913",stopColor:"#AFBAF1"}),d.jsx("stop",{offset:"0.4982",stopColor:"#4281D3"}),d.jsx("stop",{offset:"0.666667",stopColor:"#2E427D"}),d.jsx("stop",{offset:"0.822917",stopColor:"#230101"}),d.jsx("stop",{offset:"1",stopColor:"#8F6B40"})]}),d.jsx("clipPath",{id:"clip0",children:d.jsx("rect",{width:"30",height:"30",fill:"white"})}),d.jsx("clipPath",{id:"clip1",children:d.jsx("rect",{width:"30",height:"30",fill:"white"})})]})]})};const T8e=({chainId:t,...e})=>{if(t==="solana")return d.jsx(ITt,{...e});let n=TTt[t];return d.jsx(n||Gbe,{...e})},$Tt=({balance:t,className:e,chain:n})=>d.jsx(SN,{className:e,$state:void 0,children:d.jsx($U,{balance:t,chain:n})}),$U=({balance:t,chain:e})=>d.jsxs(d.Fragment,{children:[d.jsxs(NTt,{children:[d.jsx(RTt,{chainId:typeof e=="object"?e.id:"solana"}),d.jsx(ki,{children:typeof e=="object"?e.name:IN(e)})]}),d.jsxs(tf,{isLoading:!1,isPulsing:!1,color:"gray",children:[d.jsx(PTt,{children:d.jsx(m$,{})}),t]})]});let NTt=Z.div.withConfig({displayName:"Container",componentId:"sc-63f80cee-0"})(["display:flex;align-items:center;"]),PTt=Z.div.withConfig({displayName:"IconContainer",componentId:"sc-63f80cee-1"})(["height:0.75rem;width:0.75rem;margin-right:0.2rem;"]),RTt=Z(T8e).withConfig({displayName:"StyledNetworkIcon",componentId:"sc-63f80cee-2"})(["height:1.25rem;width:1.25rem;display:inline-block;margin-right:0.5rem;border-radius:4px;"]);const jTt=({options:t,onSelect:e,selected:n,className:r})=>d.jsxs(mdt,{as:OTt,children:[d.jsxs(c2e,{as:BTt,children:[d.jsx($U,{balance:n.balance,chain:n.chain}),d.jsx(NU,{height:16})]}),d.jsx(u2e,{as:MTt,className:r,children:t.map((i,s)=>d.jsx(d2e,{as:DTt,onClick:()=>e(s),children:d.jsx($U,{balance:i.balance,chain:i.chain})},s))})]});let OTt=Z.div.withConfig({displayName:"Wrapper",componentId:"sc-31c00f79-0"})(["width:100%;position:relative;"]),MTt=Z.div.withConfig({displayName:"Popover",componentId:"sc-31c00f79-1"})(["width:100%;margin-top:0.5rem;position:absolute;background-color:var(--privy-color-background);border-radius:var(--privy-border-radius-md);overflow-x:hidden;overflow-y:auto;box-shadow:0px 1px 2px 0px rgba(16,24,40,0.05);max-height:11.75rem;&&{border:solid 1px var(--privy-color-foreground-4);}z-index:1;"]),DTt=Z.button.withConfig({displayName:"Button",componentId:"sc-31c00f79-2"})(["width:100%;display:flex;justify-content:space-between;&&{padding:1rem;}:not(:last-child){border-bottom:solid 1px var(--privy-color-foreground-4);}:hover{background:var(--privy-color-background-2);}"]),NU=Z(Nq).withConfig({displayName:"StyledChevronIcon",componentId:"sc-31c00f79-3"})(["height:1rem;margin-left:0.5rem;"]),BTt=Z.button.withConfig({displayName:"StyledMenuButton",componentId:"sc-31c00f79-4"})([""," span{margin-left:auto;}","{transition:rotate 100ms ease-in;}&[aria-expanded='true']{","{rotate:-180deg;}}"],C8e,NU,NU);const LTt=Z.div.withConfig({displayName:"FundingMethodContainer",componentId:"sc-eaaa12a-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),M6=Z.div.withConfig({displayName:"IconContainer",componentId:"sc-eaaa12a-1"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;svg{border-radius:var(--privy-border-radius-sm);}"]),$8e=Z.div.withConfig({displayName:"FundingQuantityWrapper",componentId:"sc-eaaa12a-2"})(["display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:8px;"]),N8e=Z.div.withConfig({displayName:"FundingQuantity",componentId:"sc-eaaa12a-3"})(["display:flex;align-items:center;gap:4px;width:100%;padding:0 16px;border-width:1px !important;border-radius:12px;cursor:text;&:focus-within{border-color:var(--privy-color-accent);}"]),P8e=Z.input.withConfig({displayName:"FundingAmountInput",componentId:"sc-eaaa12a-5"})(["background-color:var(--privy-color-background);width:100%;&:focus{outline:none !important;border:none !important;box-shadow:none !important;}&&{font-size:26px;}"]),FTt=Z(P8e).withConfig({displayName:"FundingAmountInputLarge",componentId:"sc-eaaa12a-6"})(["&&{font-size:42px;}"]),R8e=Z.div.withConfig({displayName:"FundingCurrency",componentId:"sc-eaaa12a-8"})(["font-size:18px;"]),j8e=Z.div.withConfig({displayName:"FundingDollars",componentId:"sc-eaaa12a-9"})(["font-size:12px;color:var(--privy-color-foreground-3);height:20px;"]),UTt=Z.div.withConfig({displayName:"InfoButtonText",componentId:"sc-eaaa12a-13"})([""]),zTt=Z.a.withConfig({displayName:"InfoButtonLink",componentId:"sc-eaaa12a-14"})(["&&{color:var(--privy-color-accent);}cursor:pointer;"]),O8e=({displayName:t,errorMessage:e,configuredFundingChain:n,formattedBalance:r,fundingAmount:i,fundingCurrency:s,fundingAmountInUsd:o,options:a,selectedOption:l,isPreparing:c,isSubmitting:u,addressToFund:h,fundingWalletAddress:f,onSubmit:p,onSelect:m,onAmountChange:g,erc20ContractInfo:y})=>{let w=x.useRef(null);return d.jsxs(d.Fragment,{children:[d.jsx(su,{}),d.jsx(hf,{}),d.jsx(xg,{children:"Transfer from another network"}),d.jsxs(dw,{children:["You need more funds on the"," ",typeof n=="object"?n.name:IN(n)," ","network. Bridge from another blockchain network."]}),d.jsxs($8e,{style:{marginTop:"2rem"},children:[d.jsxs(N8e,{onClick:()=>{var v;return(v=w.current)==null?void 0:v.focus()},children:[d.jsx(P8e,{ref:w,value:i,onChange:v=>{let b=v.target.value;if(/^[0-9.]*$/.test(b)&&b.split(".").length-1<=1){let A=/\.$/.test(b)?".":"",E=Number(b.replace(/\.$/,"")||"0");if(Number.isNaN(E))return void g("0");g(E.toString()+A)}}}),d.jsx(R8e,{children:s})]}),o&&d.jsx(j8e,{children:o})]}),d.jsxs(Ar,{style:{marginTop:"1.5rem"},children:[d.jsx(or,{children:"From"}),d.jsx(or,{children:Tte(f)})]}),d.jsx(jTt,{selected:{chain:l.chain,balance:l.isErc20Quote?V7({amount:l.erc20Balance??0n,decimals:(y==null?void 0:y.decimals)??6})+` ${(y==null?void 0:y.symbol)||""}`:cd(l.balance,l.chain.nativeCurrency.symbol,3,!0)},options:a.map(({chain:v,balance:b,isErc20Quote:A,erc20Balance:E})=>({chain:v,balance:A?V7({amount:E??0n,decimals:(y==null?void 0:y.decimals)??6})+` ${(y==null?void 0:y.symbol)||""}`:cd(b,v.nativeCurrency.symbol,3,!0)})),onSelect:m}),d.jsxs(Ar,{style:{marginTop:"1.5rem"},children:[d.jsx(or,{children:"To"}),d.jsx(or,{children:Tte(h)})]}),d.jsx($Tt,{chain:n,balance:r}),d.jsx(uw,{style:{marginTop:"1rem"},children:e}),d.jsxs(F7,{style:{marginTop:"1rem"},loading:u||c,disabled:c||u,onClick:p,children:["Confirm with ",t]}),d.jsx(Nd,{}),d.jsx(er,{})]})},eK=({walletClientType:t,displayName:e,addressToFund:n,chainId:r,chainName:i,isBridging:s,isErc20Flow:o,totalPriceInNativeCurrency:a,totalPriceInUsd:l,gasPriceInNativeCurrency:c,gasPriceInUsd:u})=>{var f;let h=Dg(t);return d.jsxs(d.Fragment,{children:[d.jsx(su,{}),d.jsx(n5,{}),d.jsx(DG,{style:{marginTop:"16px"},children:d.jsx(m8e,{icon:(f=h==null?void 0:h.image_url)==null?void 0:f.md,name:t})}),d.jsx(Sd,{style:{marginTop:"8px",marginBottom:"12px"},title:`${s?"Bridging":"Confirming"} with ${e}`}),!s&&!o&&d.jsxs(XG,{children:[d.jsxs(Ar,{children:[d.jsx(or,{children:"Total"}),d.jsx(ki,{children:l||a})]}),d.jsxs(Ar,{children:[d.jsx(or,{children:"To"}),d.jsx(ki,{children:d.jsx(La,{address:n,showCopyIcon:!1})})]}),d.jsxs(Ar,{children:[d.jsx(or,{children:"Network"}),d.jsx(ki,{children:d.jsxs(WTt,{children:[d.jsx(T8e,{chainId:r,height:16,width:16})," ",i]})})]}),c&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Estimated fee"}),d.jsx(ki,{children:u||c})]})]}),d.jsx(zSt,{height:24}),d.jsx(er,{})]})};let WTt=Z.div.withConfig({displayName:"NetworkColumn",componentId:"sc-f4ee4fc8-0"})(["display:flex;flex-direction:row;align-items:center;gap:4px;"]);const M8e={component:()=>{var U,z,X,ne,ie;let{rpcConfig:t,appId:e,closePrivyModal:n,createAnalyticsEvent:r}=st(),{navigate:i,setModalData:s,app:o,data:a}=lt(),{wallets:l}=Lg(),[c,u]=x.useState(!1),[h,f]=x.useState(0n),[p,m]=x.useState(!1),[g,y]=x.useState(null),[w,v]=x.useState(null),[b,A]=x.useState([]),[E,$]=x.useState(0),[N,R]=x.useState(!1),[j,F]=x.useState(!1),[W,V]=x.useState(!1),[B,k]=x.useState(!1),[C,S]=x.useState(),[T,_]=x.useState();if(!(a!=null&&a.funding)||a.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{erc20ContractInfo:P,chain:L,connectedWalletAddress:O}=a.funding,I=a.funding.address,D=a.funding.erc20Address,[Y,M]=x.useState(a.funding.amount);x.useEffect(()=>{D&&!P&&y(Error("Unable to fetch token details"))},[]);let Q=!!D&&!!P,ee=Q?BigInt(parseFloat(Y)*10**P.decimals):Nye(Y),J=O?l.find(({address:ce})=>ce===O):l[0],oe=Dg((J==null?void 0:J.walletClientType)||"unknown"),de=(oe==null?void 0:oe.name)||"wallet",[ae,he]=x.useState(null);x.useEffect(()=>{(async()=>{if(!J)return;let ce=await J.getEthereumProvider();he(A1e({account:J.address,transport:k1e(ce)}).extend(LV))})().catch(console.error)},[J]);let[be,fe]=x.useState(0n);x.useEffect(()=>{Hp({chain:L,transport:Vp(Zp(L,t,e))}).getBalance({address:I}).then(fe).catch(console.error)},[]);let[ke,we]=x.useState(0n);x.useEffect(()=>{Q&&JG({chain:L,address:I,appId:e,rpcConfig:t,erc20Address:D}).then(ce=>we(ce.balance)).catch(console.error)},[]);let{tokenPrice:Ue}=hC(L.id),[Me,_e]=x.useState({to:I,chain:L,value:ee,data:void 0});x.useEffect(()=>{(async()=>{let ce,Be;if(!ae||!J||N||W)return;R(!0);let Xe=Hp({chain:Me.chain,transport:Vp(Zp(Me.chain,t,e))});if(Q&&!Me.data)return await Xe.simulateContract({address:D,chain:Me.chain,abi:TU,functionName:"transfer",args:[I,ee],account:J.address}).catch(Ye=>{console.warn("Simulated token transfer failed with error, fetching bridge options.",Ye)})?(R(!1),void _e({to:D,chain:Me.chain,data:ol({abi:TU,functionName:"transfer",args:[I,ee]}),value:"0x0"})):(R(!1),void m(!0));try{ce=await Xe.prepareTransactionRequest({account:J.address,to:Me.to,chain:Me.chain,data:Me.data,value:BigInt(Me.value??0)})}catch(Ye){if(console.error(Ye),b.length>1)v(Ye.shortMessage??"Something went wrong");else if(j&&b.length===0)return void y(new ue(`Wallet ${Xo(J.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE))}if(!ce)return R(!1),void m(!0);R(!1),V(!0),u(!0),f(ce.gas);try{await ae.switchChain({id:Me.chain.id})}catch{await ae.addChain({chain:Me.chain}),await ae.switchChain({id:Me.chain.id})}try{Be=await ae.sendTransaction(ce)}catch(Ye){if(console.error(Ye),Ye.name==="TransactionExecutionError")if(b.length<1){let et=Ye.shortMessage;(Ye.shortMessage.includes("rejected the request")||Ye.details.includes("rejected the request"))&&(et="User rejected the request."),y(new ue(et,void 0,pe.TRANSACTION_FAILURE))}else v(Ye.shortMessage??"Something went wrong")}if(Be)return await ae.waitForTransactionReceipt({hash:Be}),V(!1),j?(S(Be),void _("pending")):(k(!0),void r({eventName:nf,payload:{provider:"external",status:"success",txHash:Be,address:J.address,chainId:Me.chain.id,chainType:"ethereum",value:Me.value?Wa(BigInt(Me.value),(P==null?void 0:P.decimals)??18):void 0,token:(P==null?void 0:P.symbol)??D??"ETH",destinationAddress:I,destinationChainId:L.id,destinationChainType:"ethereum",destinationValue:ee?Wa(ee,(P==null?void 0:P.decimals)??18):void 0,destinationToken:(P==null?void 0:P.symbol)??D??L.nativeCurrency.name}}));V(!1)})().catch(console.error)},[ae,Me]),x.useEffect(()=>{(async()=>{var Bt;if(!p||!ae||!J)return;let ce=WV(o.chains).filter(He=>He.id!==L.id&&!!He.testnet==!!L.testnet);Q&&ce.unshift(L);let Be=await I8e({chains:ce,address:J.address,appId:e,rpcConfig:t,includeUsdc:(Bt=a.funding)==null?void 0:Bt.isUSDC}),Xe=Q?Be.filter(He=>He.balance>0n):Be.filter(He=>He.balance>ee),Ye=Q&&Be.every(He=>He.balance===0n);if(Xe.length<1)return void y(new ue(Ye?`Wallet ${Xo(J.address)} doesn't have enough funds to cover gas fees. Top up your wallet and try again.`:`Wallet ${Xo(J.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE));Xe.sort((He,Ln)=>Number(Q?(Ln.erc20Balance??0n)-(He.erc20Balance??0n):Ln.balance-He.balance));let et=Xe.flatMap(He=>{let Ln=[{...He,isErc20Quote:!1,isTestnet:!!L.testnet,input:l2({amount:ee.toString(),user:J.address,recipient:I,destinationChainId:L.id,destinationCurrency:D,originChainId:He.chain.id})}];return Q&&D&&(He.erc20Balance??0n)>=ee&&Ln.push({...He,isErc20Quote:!0,isTestnet:!!L.testnet,input:l2({amount:ee.toString(),user:J.address,recipient:I,destinationChainId:L.id,destinationCurrency:D,originChainId:He.chain.id,originCurrency:He.erc20Address})}),Ln}),Pe=(await Promise.allSettled(et.map(async He=>({...He,quote:await mE(He)})))).filter(He=>He.status==="fulfilled").map(He=>He.value);if(Pe.length<1)return void y(new ue(`Wallet ${Xo(J.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE));let Tt=Pe.map(He=>({bridgeTx:z7(He.quote),balance:He.balance,chain:He.chain,erc20Balance:He.erc20Balance,isErc20Quote:He.isErc20Quote})).filter(He=>!!He.bridgeTx);if(Tt.length>1)return void A(Tt);let dn=Tt[0];dn?(F(!0),_e({data:dn.bridgeTx.data,to:dn.bridgeTx.to,value:dn.bridgeTx.value,chain:dn.chain})):y(new ue(`Wallet ${Xo(J.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE))})().catch(console.error)},[p]),KG({transactionHash:C,isTestnet:!!L.testnet,bridgingStatus:T,setBridgingStatus:_,onSuccess({transactionHash:ce}){F(!1),k(!0),r({eventName:nf,payload:{provider:"external",status:"success",txHash:ce,address:J==null?void 0:J.address,chainId:Me.chain.id,chainType:"ethereum",value:Me.value?Wa(BigInt(Me.value),(P==null?void 0:P.decimals)??18):void 0,token:(P==null?void 0:P.symbol)??D??"ETH",destinationAddress:I,destinationChainId:L.id,destinationChainType:"ethereum",destinationValue:ee?Wa(ee,(P==null?void 0:P.decimals)??18):void 0,destinationToken:(P==null?void 0:P.symbol)??D??L.nativeCurrency.name}})},onFailure({error:ce}){F(!1),y(ce)}}),x.useEffect(()=>{g&&(s({funding:a==null?void 0:a.funding,solanaFundingData:a==null?void 0:a.solanaFundingData,sendTransaction:a==null?void 0:a.sendTransaction,errorModalData:{error:g,previousScreen:gC}}),i(Yr,!1))},[g]);let xe=!Q&&Ue?c4e(Y??"0",Ue):void 0,Oe=Q?h:MG([h,ee]),Le=Oe&&Ue?_1(Oe,Ue):void 0,Ce=Oe?cd(Oe,(U=a==null?void 0:a.funding)!=null&&U.erc20Address?((X=(z=a==null?void 0:a.funding)==null?void 0:z.erc20ContractInfo)==null?void 0:X.symbol)||"ETH":((ne=a==null?void 0:a.funding)==null?void 0:ne.chain.nativeCurrency.symbol)||"ETH"):void 0,De=h&&Ue?_1(h,Ue):void 0,Ve=h?cd(h,((ie=L==null?void 0:L.nativeCurrency)==null?void 0:ie.symbol)||"ETH"):void 0;if(x.useEffect(()=>{if(!B)return;let ce=setTimeout(n,CG);return()=>clearTimeout(ce)},[B]),B)return d.jsxs(d.Fragment,{children:[d.jsx(su,{}),d.jsx(hf,{}),d.jsxs(uN,{children:[d.jsx(l$,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(Sd,{title:"Success!",description:`Youve successfully added ${Y} ${Q?P.symbol:L.nativeCurrency.symbol} to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(Nd,{}),d.jsx(er,{})]});let rt=Q?`${V7({amount:ke,decimals:P.decimals})}  ${P.symbol}`:cd(be,L.nativeCurrency.symbol,3,!0),G=b[E];return b.length>1&&G?d.jsx(O8e,{displayName:de,configuredFundingChain:L,erc20ContractInfo:P,formattedBalance:rt,fundingAmount:Y,fundingCurrency:Q?P.symbol:L.nativeCurrency.symbol,fundingAmountInUsd:xe,options:b,selectedOption:G,isPreparing:N,isSubmitting:W,addressToFund:I,fundingWalletAddress:(J==null?void 0:J.address)||"",errorMessage:w,onSubmit:()=>{var ce;((ce=a.funding)==null?void 0:ce.amount)!==Y?async function(){if(J&&G)try{let Be=await mE({isTestnet:!!L.testnet,input:l2({amount:ee.toString(),user:J.address,recipient:I,destinationChainId:L.id,destinationCurrency:D,originChainId:G.chain.id})}),Xe=z7(Be);if(!Xe)throw Error("Invalid transaction request");F(!0),_e({data:Xe.data,to:Xe.to,value:Xe.value,chain:G.chain})}catch(Be){console.error(Be),y(new ue("Unable to fetch quotes for bridging",Be,pe.INSUFFICIENT_BALANCE))}}().catch(console.error):_e({to:G.bridgeTx.to,data:G.bridgeTx.data,value:G.bridgeTx.value,chain:G.chain})},onSelect:ce=>{ce!==E&&(v(null),$(ce))},onAmountChange:M}):c&&h&&J&&(a!=null&&a.funding)?d.jsx(eK,{walletClientType:(J==null?void 0:J.walletClientType)||"unknown",displayName:de,addressToFund:I,isBridging:j,isErc20Flow:Q,totalPriceInUsd:Le,totalPriceInNativeCurrency:Ce,gasPriceInUsd:De,gasPriceInNativeCurrency:Ve,chainId:L.id,chainName:L.name}):d.jsxs(d.Fragment,{children:[d.jsx(su,{}),d.jsx(n5,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(er,{})]})}},PU=Symbol("solana-funding-plugin"),D8e={component:function(){let t=Fn(),{closePrivyModal:e,createAnalyticsEvent:n,connectors:r}=st(),{navigate:i,setModalData:s,app:o,data:a}=lt(),l=x.useRef(!1),c=YG(),[u,h]=x.useState(!1),[f,p]=x.useState(!1),[m,g]=x.useState(null),[y,w]=x.useState(),[v,b]=x.useState();if(!(a!=null&&a.funding)||a.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{amount:A,connectedWalletAddress:E,chain:$,solanaChain:N,isUSDC:R}=a.funding,j=a.funding.address,F=a.funding.erc20Address,W=a.funding.isUSDC?"USDC":$.nativeCurrency.symbol,V=x.useMemo(()=>function({connectors:S,connectedWalletAddress:T}){let _=S.find(L=>L.chainType==="solana"&&L.wallets.some(O=>O.address===T)),P=_==null?void 0:_.wallet.accounts.find(L=>L.address===T);if(!_||!P)throw new ue("Unable to find source wallet connector");return new abe({wallet:_.wallet,account:P})}({connectors:r,connectedWalletAddress:E||""}),[r,E]),B=x.useMemo(()=>{let S=c(PU);if(!S)throw new ue("Unable to load solana plugin");let T=t.solanaRpcs["solana:mainnet"];if(!T)throw new ue("Unable to load mainnet RPC");return S.getSolanaRpcClient({rpc:T.rpc,rpcSubscriptions:T.rpcSubscriptions,chain:"solana:mainnet",blockExplorerUrl:T.blockExplorerUrl??"https://explorer.solana.com"})},[]),k=Dg(pU((V==null?void 0:V.standardWallet.name)||"unknown")),C=(k==null?void 0:k.name)||"wallet";return x.useEffect(()=>{(async function(){if(!V||!$||l.current)return;let S=c(PU);if(!S)return void g(new ue("Unable to solana plugin"));l.current=!0,$!=null&&$.testnet&&console.warn("Solana testnets are not supported for bridging");let T=R?1e6*parseFloat(A):Nye(A),_=await mE({isTestnet:!!$.testnet,input:l2({amount:T.toString(),user:V.address,recipient:j,destinationChainId:$.id,originChainId:bU,originCurrency:R?"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v":vU,destinationCurrency:R?F:void 0})}).catch(console.error);if(!_)return void g(new ue(`Unable to fetch quotes for bridging. Wallet ${TO(V.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE));let P=await S.createTransactionFromRelayQuote({quote:_,source:V.address,solanaClient:B});if(P)try{h(!0);let L=await S.simulateTransaction({solanaClient:B,tx:P});if(L.hasError)return L.hasFunds?(console.error("Transaction failed:",L.error),void g(new ue("Something went wrong",void 0,pe.TRANSACTION_FAILURE))):void g(new ue(`Wallet ${TO(V==null?void 0:V.address)} does not have enough funds. ${_.details.currencyIn.amountFormatted} ${W} are needed to complete the transaction.`,void 0,pe.INSUFFICIENT_BALANCE));let{signature:O}=await V.signAndSendTransaction({chain:"solana:mainnet",transaction:P}),I=S.getAddressFromBuffer(O);w(I),b("pending")}catch(L){if(console.error(L),/user rejected the request/gi.test(L.message||""))return void g(new ue("Transaction was rejected by the user",void 0,pe.TRANSACTION_FAILURE));g(new ue("Something went wrong",void 0,pe.TRANSACTION_FAILURE))}else g(new ue(`Unable to select bridge option from quotes. Wallet ${TO(V.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE))})().catch(console.error)},[]),KG({transactionHash:y,isTestnet:!1,bridgingStatus:v,setBridgingStatus:b,onSuccess({transactionHash:S}){h(!1),p(!0),n({eventName:nf,payload:{provider:"external",status:"success",txHash:S,address:V.address,chainType:"solana",clusterName:N,token:"SOL",destinationAddress:j,destinationChainId:$.id,destinationChainType:"ethereum",destinationValue:A,destinationToken:R?"USDC":"ETH"}})},onFailure({error:S}){h(!1),g(S)}}),x.useEffect(()=>{if(!f)return;let S=setTimeout(e,CG);return()=>clearTimeout(S)},[f]),x.useEffect(()=>{m&&(s({funding:a==null?void 0:a.funding,solanaFundingData:a==null?void 0:a.solanaFundingData,sendTransaction:a==null?void 0:a.sendTransaction,errorModalData:{error:m,previousScreen:gC}}),i(Yr,!1))},[m]),f?d.jsxs(d.Fragment,{children:[d.jsx(su,{}),d.jsx(hf,{}),d.jsxs(uN,{children:[d.jsx(l$,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(Sd,{title:"Success!",description:`Youve successfully added ${A} ${W} to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(Nd,{}),d.jsx(er,{})]}):u&&V?d.jsx(eK,{walletClientType:pU((V==null?void 0:V.standardWallet.name)||"unknown"),displayName:C,addressToFund:j,isBridging:u,isErc20Flow:!1,chainId:$.id,chainName:$.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):d.jsxs(d.Fragment,{children:[d.jsx(su,{}),d.jsx(n5,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(er,{})]})}},woe={component:()=>{var f;let{data:t,setModalData:e}=lt(),n=t==null?void 0:t.funding,r=n.chainType==="solana",i=x.useRef(null),{tokenPrice:s}=hC(r?"solana":n.chain.id),o=r?void 0:n,a=!(!(o!=null&&o.erc20Address)||o!=null&&o.erc20ContractInfo),l=r?n.isUSDC?"USDC":"SOL":n.erc20Address?(f=n.erc20ContractInfo)==null?void 0:f.symbol:n.chain.nativeCurrency.symbol||"ETH",c=parseFloat(n.amount),u=!isNaN(c)&&c>0,h=s?c4e(n.amount,s):void 0;return d.jsxs(d.Fragment,{children:[d.jsx(su,{}),d.jsx(xg,{children:"Confirm or edit amount"}),d.jsxs(dN,{style:{marginTop:"32px"},children:[d.jsx($8e,{children:a?d.jsx(n5,{size:"50px"}):d.jsxs(d.Fragment,{children:[d.jsxs(N8e,{onClick:()=>{var p;return(p=i.current)==null?void 0:p.focus()},children:[d.jsx(FTt,{ref:i,value:n.amount,onChange:p=>{let m=p.target.value;/^[0-9.]*$/.test(m)&&m.split(".").length-1<=1&&e({...t,funding:{...n,amount:m},solanaFundingData:t!=null&&t.solanaFundingData?{...t.solanaFundingData,amount:m}:void 0})}}),d.jsx(R8e,{children:l})]}),!(o!=null&&o.erc20Address)&&d.jsx(j8e,{children:h&&u?`${h} USD`:""})]})}),d.jsx(F7,{style:{marginTop:"1rem"},disabled:!u,onClick:n.onContinueWithExternalWallet,children:"Continue"})]}),d.jsx(er,{})]})}},gC={component:()=>{var E,$,N,R;let t,{connectors:e}=st(),{app:n,setModalData:r,data:i,navigate:s}=lt(),{wallets:o}=Lg(),a=e.filter(oN).flatMap(j=>j.wallets),[l,c]=x.useState("default"),u=((E=i==null?void 0:i.funding)==null?void 0:E.chainType)==="solana",h=!!(($=i==null?void 0:i.funding)!=null&&$.crossChainBridgingEnabled);t=((N=i==null?void 0:i.funding)==null?void 0:N.chainType)==="ethereum"?i.funding.erc20Address&&!i.funding.isUSDC?"ethereum-only":h&&!i.funding.chain.testnet?"ethereum-and-solana":"ethereum-only":h&&!((R=i.funding)!=null&&R.isUSDC)?"ethereum-and-solana":"solana-only";let f=o.filter(j=>j.walletClientType!=="privy"),p=f.map(j=>j.walletClientType),m=a.filter(j=>j.walletClientType!=="privy"),g=m.map(j=>j.walletClientType),y=[],w={...i.funding};w.usingDefaultFundingMethod&&(w.usingDefaultFundingMethod=!1);let v=({address:j,walletChainType:F,walletClientType:W})=>{r({...i,funding:{...w,connectedWalletAddress:j,onContinueWithExternalWallet:()=>s(A({destChainType:u?"solana":"ethereum",sourceChainType:F}))},solanaFundingData:i!=null&&i.solanaFundingData?{...i.solanaFundingData,sourceWalletData:{address:j,walletClientType:W}}:void 0}),s(woe)};t!=="solana-only"&&y.push(...f.map((j,F)=>d.jsx(boe,{onClick:()=>v({address:j.address,walletChainType:"ethereum",walletClientType:j.walletClientType}),icon:j.meta.icon,name:j.meta.name,chainType:j.type},F))),t!=="ethereum-only"&&y.push(...m.map((j,F)=>d.jsx(boe,{onClick:()=>v({address:j.address,walletChainType:"solana",walletClientType:j.walletClientType}),icon:j.meta.icon,name:j.meta.name,chainType:j.type},F))),y.push(...y8e({walletList:n.appearance.walletList.filter(j=>!f.some(F=>F.walletClientType===j)&&!m.some(F=>F.walletClientType===j)),walletChainType:t,connectors:e,connectOnly:!0,ignore:[...n.appearance.walletList,...p,...g],walletConnectEnabled:n.externalWallets.walletConnect.enabled}));let b=d.jsx(c8e,{text:"More wallets",onClick:()=>c("overflow")}),A=({sourceChainType:j,destChainType:F})=>j==="ethereum"&&F==="solana"?V8e:j==="ethereum"&&F==="ethereum"?M8e:j==="solana"&&F==="ethereum"?D8e:w.externalSolanaFundingScreen;return x.useEffect(()=>{r({...i,externalConnectWallet:{onCompleteNavigateTo:({address:j,walletClientType:F,walletChainType:W})=>(r({...i,funding:{...w,onContinueWithExternalWallet:()=>{s(A({destChainType:u?"solana":"ethereum",sourceChainType:W??"ethereum"}))}},solanaFundingData:i!=null&&i.solanaFundingData?{...i.solanaFundingData,sourceWalletData:{address:j||"",walletClientType:F||""}}:void 0}),woe)}})},[]),d.jsxs(d.Fragment,l==="overflow"?{children:[d.jsx(bn,{backFn:()=>c("default")},"header"),d.jsxs(mU,{children:[d.jsx(dw,{style:{color:"var(--privy-color-foreground-3)",textAlign:"left"},children:"More wallets"}),y]}),d.jsx(er,{})]}:{children:[d.jsx(su,{}),d.jsx(Sd,{title:"Transfer from wallet",description:"Connect a wallet to deposit funds or send funds manually to your wallet address."}),d.jsxs(mU,{children:[y.length>4?y.slice(0,3):y,y.length>4&&b]}),d.jsx(er,{})]})}};let boe=({onClick:t,icon:e,name:n,chainType:r})=>d.jsxs(Gr,{onClick:t,children:[d.jsx(M6,{style:{width:20},children:d.jsx("img",{src:e})}),n,d.jsx(tf,{color:"gray",style:{marginLeft:"auto"},children:"Connected"}),r==="solana"&&d.jsx(tf,{color:"gray",children:"Solana"})]});const HTt={component:()=>{let{data:t,setModalData:e,navigate:n,navigateBack:r}=lt(),{closePrivyModal:i,createAnalyticsEvent:s,client:o}=st(),[a,l]=x.useState("pending-in-flow"),c=x.useRef(0),u={...t==null?void 0:t.funding,showAlternateFundingMethod:!0};u.usingDefaultFundingMethod&&(u.usingDefaultFundingMethod=!1);let{partnerUserId:h,popup:f}=(t==null?void 0:t.coinbaseOnrampStatus)??{};return x.useEffect(()=>{if(a==="pending-in-flow"||a==="pending-after-flow"){let p=setInterval(async()=>{if(h)try{let{status:m}=await o.getCoinbaseOnRampStatus({partnerUserId:h});if(m==="success")return void l("success");if(m==="failure")throw Error("There was an error completing Coinbase Onramp flow.");if(c.current>=3)return e({funding:u,solanaFundingData:t==null?void 0:t.solanaFundingData}),void n(ud);f!=null&&f.closed&&(c.current=c.current+1,l("pending-after-flow"))}catch(m){console.error(m),l("error"),s({eventName:nf,payload:{status:"failure",provider:"coinbase-onramp",error:m.message}}),e({funding:{...u,errorMessage:"Something went wrong adding funds. Please try again or use another method."},solanaFundingData:t==null?void 0:t.solanaFundingData}),n(ud)}},1500);return()=>clearInterval(p)}},[h,f,a]),d.jsxs(d.Fragment,{children:[d.jsx(bn,{title:"Fund account",backFn:()=>{e({funding:u,solanaFundingData:t==null?void 0:t.solanaFundingData}),r()}},"header"),d.jsx(VTt,{status:a,onClickCta:i}),d.jsx(er,{})]})}};let VTt=({status:t,onClickCta:e})=>{let{title:n,body:r,cta:i}=x.useMemo(()=>(s=>{switch(s){case"success":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"pending-after-flow":return{title:"In Progress",body:"Almost done. Retrieving transaction status from Coinbase",cta:""};case"error":case"pending-in-flow":return{title:"In Progress",body:"Go back to Coinbase Onramp to finish funding your account.",cta:""}}})(t),[t]);return d.jsxs(d.Fragment,{children:[d.jsxs(KTt,{children:[d.jsx(qTt,{isSucccess:t==="success"}),d.jsxs(BG,{children:[d.jsx("h3",{children:n}),d.jsx(GTt,{children:r})]})]}),i&&d.jsx(pr,{onClick:e,children:i})]})},qTt=({isSucccess:t})=>{if(!t){let r="var(--privy-color-foreground-4)";return d.jsxs("div",{style:{position:"relative"},children:[d.jsx(iu,{color:r,style:{position:"absolute"}}),d.jsx(jG,{color:r}),d.jsx(C9t,{style:{position:"absolute",width:"2.8rem",height:"2.8rem",top:"1.2rem",left:"1.2rem"}})]})}let e=(r=>r?X8:()=>d.jsx(gq,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}}))(t),n=(r=>r?"var(--privy-color-success)":"var(--privy-color-foreground-4)")(t);return d.jsx("div",{style:{borderColor:n,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&d.jsx(e,{width:"4rem",height:"4rem",color:n})})},GTt=Z.p.withConfig({displayName:"StatusBody",componentId:"sc-8428a551-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),KTt=Z.div.withConfig({displayName:"ConnectContainer",componentId:"sc-8428a551-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]),YTt={[du.id]:"ethereum",[uu.id]:"base",[lf.id]:"optimism",[ll.id]:"polygon",[cu.id]:"arbitrum"};const voe=(t,e,n,r,i,s)=>new Promise(async(o,a)=>{let l=fN();if(!l)return void a(Error("Unable to initialize flow"));let c=e.chainType==="ethereum"?function(m){let g=YTt[m];if(!g)throw new ue(`Unsupported chainId: ${m} for Coinbase Onramp`);return g}(e.chain.id):"solana",u=e.isUSDC?"USDC":e.chainType==="ethereum"?uit(e.chain.id):"SOL",h=await t.initCoinbaseOnRamp({addresses:[{address:e.address,blockchains:[c]}],assets:[u]}),{url:f}=lit({appId:t.getAppId(),input:h,amount:e.amount,blockchain:c,asset:u,experience:s});l.location=f.toString();let p={...i==null?void 0:i.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(p.usingDefaultFundingMethod=!1),n({funding:p,solanaFundingData:i==null?void 0:i.solanaFundingData,coinbaseOnrampStatus:{popup:l}}),r(HTt),t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"coinbase-onramp",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.chain}}),setTimeout(()=>{n({funding:p,solanaFundingData:i==null?void 0:i.solanaFundingData,coinbaseOnrampStatus:{partnerUserId:h.partner_user_id,popup:l}})},5e3),o()}),xoe="moonpay";function QTt(t){return parseFloat(t)}function ZTt(t,e=!1){let[n,r]=x.useState(null),{createAnalyticsEvent:i}=st(),{data:s,navigate:o,setModalData:a}=lt(),l=s==null?void 0:s.funding,c=x.useRef(0);return x.useEffect(()=>{let u=setInterval(async()=>{var h,f;if(t)try{let[p]=await async function(g,y){return fbe(`https://api.moonpay.com/v1/transactions/ext/${g}`,{query:{apiKey:y?"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI":"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"}})}(t,e),m=p.status==="waitingAuthorization"&&p.paymentMethod==="credit_debit_card"?"pending":p.status;if(["failed","completed","awaitingAuthorization"].includes(m)&&(i({eventName:nf,payload:{status:m,provider:xoe,paymentMethod:p.paymentMethod,cardPaymentType:p.cardPaymentType,currency:(h=p.currency)==null?void 0:h.code,baseCurrencyAmount:p.baseCurrencyAmount,quoteCurrencyAmount:p.quoteCurrencyAmount,feeAmount:p.feeAmount,extraFeeAmount:p.extraFeeAmount,networkFeeAmount:p.networkFeeAmount,isSandbox:e}}),clearInterval(u)),m==="failed"||m==="serviceFailure")return a({funding:{...l,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:s==null?void 0:s.solanaFundingData}),void o(ud);r(m)}catch(p){((f=p.response)==null?void 0:f.status)!==404&&(c.current+=1),c.current>=3&&(i({eventName:nf,payload:{status:"serviceFailure",provider:xoe}}),clearInterval(u),a({funding:{...l,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:s==null?void 0:s.solanaFundingData}),o(ud))}},3e3);return()=>clearInterval(u)},[t,c]),n}const JTt=({size:t=61,...e})=>d.jsx("svg",{width:t,height:t,viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:d.jsxs("g",{id:"moonpay_symbol_wht 2",children:[d.jsx("rect",{x:"1.3374",y:"1",width:"59",height:"59",rx:"11.5",fill:"#7715F5"}),d.jsx("path",{id:"Vector",d:"M43.8884 23.3258C45.0203 23.3258 46.1268 22.9901 47.068 22.3613C48.0091 21.7324 48.7427 20.8386 49.1759 19.7928C49.6091 18.747 49.7224 17.5962 49.5016 16.4861C49.2807 15.3759 48.7357 14.3561 47.9353 13.5557C47.1349 12.7553 46.1151 12.2102 45.0049 11.9893C43.8947 11.7685 42.7439 11.8819 41.6982 12.3151C40.6524 12.7482 39.7585 13.4818 39.1297 14.423C38.5008 15.3641 38.1651 16.4707 38.1651 17.6026C38.165 18.3542 38.3131 19.0985 38.6007 19.7929C38.8883 20.4873 39.3098 21.1182 39.8413 21.6496C40.3728 22.1811 41.0037 22.6027 41.6981 22.8903C42.3925 23.1778 43.1367 23.3259 43.8884 23.3258ZM26.3395 49.1017C23.5804 49.1017 20.8832 48.2836 18.5891 46.7507C16.295 45.2178 14.5069 43.039 13.4511 40.49C12.3952 37.9409 12.1189 35.1359 12.6572 32.4298C13.1955 29.7237 14.5241 27.238 16.4751 25.287C18.4262 23.336 20.9118 22.0074 23.6179 21.4691C26.324 20.9308 29.129 21.2071 31.6781 22.2629C34.2272 23.3189 36.406 25.1069 37.9389 27.401C39.4717 29.6952 40.2899 32.3923 40.2899 35.1514C40.2899 36.9835 39.9291 38.7975 39.2281 40.49C38.527 42.1826 37.4994 43.7205 36.204 45.0159C34.9086 46.3113 33.3707 47.3389 31.6781 48.04C29.9856 48.741 28.1715 49.1018 26.3395 49.1017Z",fill:"white"})]})}),B8e={component:()=>{let{app:t,data:e,setModalData:n,navigateBack:r}=lt(),{closePrivyModal:i}=st(),{externalTransactionId:s}=e==null?void 0:e.moonpayStatus,o=ZTt(s||null,t.fundingMethodConfig.moonpay.useSandbox??!1);return d.jsxs(d.Fragment,{children:[d.jsx(bn,{title:"Fund account",backFn:()=>{let a={...e==null?void 0:e.funding,showAlternateFundingMethod:!0};a.usingDefaultFundingMethod&&(a.usingDefaultFundingMethod=!1),n({funding:a,solanaFundingData:e==null?void 0:e.solanaFundingData}),r()}}),d.jsx(XTt,{status:o,onClickCta:i}),d.jsx(er,{})]})}};let XTt=({status:t,onClickCta:e})=>{let{title:n,body:r,cta:i}=x.useMemo(()=>(s=>{switch(s){case"completed":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"waitingAuthorization":return{title:"Processing payment",body:"This may take up to a few hours. You will receive an email when the purchase is complete.",cta:"Continue"};default:return{title:"In Progress",body:"Go back to MoonPay to finish funding your account.",cta:""}}})(t),[t]);return d.jsxs(d.Fragment,{children:[d.jsxs(n$t,{children:[d.jsx(e$t,{status:t}),d.jsxs(BG,{children:[d.jsx("h3",{children:n}),d.jsx(t$t,{children:r})]})]}),i&&d.jsx(pr,{onClick:e,children:i})]})},e$t=({status:t})=>{if(!t||t==="pending"){let r="var(--privy-color-foreground-4)";return d.jsxs("div",{style:{position:"relative"},children:[d.jsx(iu,{color:r,style:{position:"absolute"}}),d.jsx(jG,{color:r}),d.jsx(JTt,{size:"3rem",style:{position:"absolute",top:"1rem",left:"1rem"}})]})}let e=(r=>{switch(r){case"completed":return X8;case"waitingAuthorization":return()=>d.jsx(gq,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}});default:return}})(t),n=(r=>r?{completed:"var(--privy-color-success)",failed:"var(--privy-color-error)",serviceFailure:"var(--privy-color-error)",waitingAuthorization:"var(--privy-color-accent)",pending:"var(--privy-color-foreground-4)"}[r]:"var(--privy-color-foreground-4)")(t);return d.jsx("div",{style:{borderColor:n,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&d.jsx(e,{width:"4rem",height:"4rem",color:n})})},t$t=Z.p.withConfig({displayName:"StatusBody",componentId:"sc-75e2a891-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),n$t=Z.div.withConfig({displayName:"ConnectContainer",componentId:"sc-75e2a891-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]);const r$t=async(t,e,n,r,i,s,o,a)=>{let l=fN();if(!l)throw Error("Unable to initialize flow");let c=e.chainType==="ethereum"?Drt(e.chain.id,r):e.isUSDC?"USDC_SOL":"SOL",{signedUrl:u,externalTransactionId:h}=await t.signMoonpayOnRampUrl({address:e.address,useSandbox:n.fundingMethodConfig.moonpay.useSandbox??!1,config:{uiConfig:{accentColor:n.appearance.palette.accent,theme:n.appearance.palette.colorScheme},paymentMethod:a,currencyCode:c,quoteCurrencyAmount:QTt(e.amount)}});t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"moonpay",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.chain}}),l.location=u;let f={...o==null?void 0:o.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(f.usingDefaultFundingMethod=!1),i({moonpayStatus:{},funding:f,solanaFundingData:o==null?void 0:o.solanaFundingData}),s(B8e),setTimeout(()=>{i({moonpayStatus:{externalTransactionId:h},funding:f,solanaFundingData:o==null?void 0:o.solanaFundingData})},8e3)};let L8e=async t=>typeof window<"u"&&"PaymentRequest"in window&&await new window.PaymentRequest([{supportedMethods:t}],{id:"0",total:{label:"Item",amount:{currency:"USD",value:"1.00"}}}).canMakePayment();const i$t=()=>L8e("https://apple.com/apple-pay"),s$t=()=>L8e("https://google.com/pay"),ud={component:()=>{var A,E,$,N;let{wallets:t}=Lg(),{connectors:e}=st(),n=e.filter(oN).flatMap(R=>R.wallets),{navigate:r,data:i,setModalData:s}=lt(),{client:o}=st(),a=Fn(),l=i==null?void 0:i.funding,c=goe(i$t),u=goe(s$t),h=l.chainType==="solana",f=h?void 0:l,p=x.useMemo(()=>((R,j,F,W,V,B)=>{var I;let k,C,S=F.chainType==="solana",T=S?void 0:F,_=F.isUSDC?"USDC":T!=null&&T.erc20Address?void 0:"native-currency",P=!!S||_&&Mrt(Number(F.chain.id),_),L=!!S||_&&cit(Number(F.chain.id),_),O=[];for(let D of(F.preferredCardProvider&&F.supportedOptions.sort(Y=>Y.provider===F.preferredCardProvider?-1:1),F.supportedOptions))D.method==="card"&&D.provider==="coinbase"&&L&&O.push(()=>voe(j,F,W,V,B,"buy")),D.method==="card"&&D.provider==="moonpay"&&P&&_&&O.push(()=>r$t(j,F,R,_,W,V,B,"credit_debit_card"));for(let D of F.supportedOptions)D.method==="exchange"&&D.provider==="coinbase"&&L&&(k=()=>voe(j,F,W,V,B,"buy"));for(let D of((I=B==null?void 0:B.funding)==null?void 0:I.supportedOptions)??[])D.method==="wallets"&&(C=()=>V(gC));return{onFundWithCard:O,onFundWithExchange:k,onFundWithWallet:C}})(a,o,l,s,r,i),[a,o,l,i,s,r]),m=h?n.find(({address:R})=>R===l.address):t.find(({address:R})=>Bi(R)===Bi(l.address)),g=Dg((m==null?void 0:m.walletClientType)||"unknown"),y=(g==null?void 0:g.name)||"wallet",w=m&&m.walletClientType!=="privy"?y:a.name,v=x.useMemo(()=>{var R,j,F,W;return(j=(R=l.uiConfig)==null?void 0:R.landing)!=null&&j.title?(W=(F=l.uiConfig)==null?void 0:F.landing)==null?void 0:W.title:`Add funds to your ${w!=null&&w.toLowerCase().endsWith("wallet")?w:w+" wallet"}`},[(E=(A=l.uiConfig)==null?void 0:A.landing)==null?void 0:E.title,w]);x.useEffect(()=>{if(l!=null&&l.defaultFundingMethod&&l.usingDefaultFundingMethod)switch(s({funding:{...l,usingDefaultFundingMethod:!1},solanaFundingData:i==null?void 0:i.solanaFundingData}),l==null?void 0:l.defaultFundingMethod){case"card":p.onFundWithCard[0]&&p.onFundWithCard[0]();break;case"exchange":p.onFundWithExchange&&p.onFundWithExchange();break;case"wallet":p.onFundWithWallet&&p.onFundWithWallet();break;case"manual":r(q7)}},[]),x.useEffect(()=>{f!=null&&f.erc20Address&&!f.erc20ContractInfo&&_8e({address:f.erc20Address,chain:f.chain,rpcConfig:a.rpcConfig,privyAppId:a.id}).then(R=>{s({...i,funding:{...f,erc20ContractInfo:R?{symbol:R.symbol,decimals:R.decimals}:void 0}})}).catch(console.error)},[f==null?void 0:f.erc20Address,f==null?void 0:f.chain]);let b=!(!(f!=null&&f.erc20Address)||f!=null&&f.erc20ContractInfo);return d.jsxs(d.Fragment,{children:[d.jsx(su,{}),d.jsx("h3",{children:v}),d.jsxs(LTt,{children:[l.errorMessage&&d.jsx(S8e,{theme:a.appearance.palette.colorScheme,children:l.errorMessage}),(($=p.onFundWithCard)==null?void 0:$[0])&&d.jsxs(Gr,{disabled:b,onClick:p.onFundWithCard[0],children:[d.jsx(M6,{children:d.jsx(fat,{style:{width:24}})}),"Pay with card",c?d.jsx(CTt,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):u?d.jsx(kTt,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):null]}),p.onFundWithExchange&&d.jsxs(Gr,{disabled:b,onClick:p.onFundWithExchange,children:[d.jsx(M6,{children:d.jsx(gq,{style:{width:24}})}),"Transfer from an exchange"]}),p.onFundWithWallet&&d.jsxs(Gr,{disabled:b,onClick:p.onFundWithWallet,children:[d.jsx(M6,{children:d.jsx(Y4e,{style:{width:24}})}),"Transfer from wallet"]}),d.jsxs(Gr,{disabled:b,onClick:()=>r(q7),children:[d.jsx(M6,{children:d.jsx(mat,{style:{width:24}})}),"Receive funds"]}),(l==null?void 0:l.showAlternateFundingMethod)&&((N=p.onFundWithCard)==null?void 0:N[1])&&d.jsx(A8e,{theme:a.appearance.palette.colorScheme,children:d.jsxs(UTt,{children:["Having trouble or facing location restrictions?"," ",d.jsx(zTt,{onClick:p.onFundWithCard[1],children:"Try a different provider."})]})})]}),d.jsx(er,{})]})}},q7={component:()=>{var F,W,V;let{wallets:t}=Lg(),{connectors:e}=st(),n=e.filter(oN).flatMap(B=>B.wallets),{data:r,setModalData:i,navigate:s,lastScreen:o}=lt(),{rpcConfig:a,appId:l,createAnalyticsEvent:c,closePrivyModal:u}=st(),h=Fn(),[f,p]=x.useState(void 0),[m,g]=x.useState(!1),y=r==null?void 0:r.funding,{reloadBalance:w}=k8e({rpcConfig:a,appId:l,address:y.chainType==="ethereum"?y.address:void 0,chain:y.chainType==="ethereum"?y.chain:void 0}),v=y.chainType==="solana",b=v?y.isUSDC?"USDC":"SOL":y.erc20Address?(F=y.erc20ContractInfo)==null?void 0:F.symbol:y.chain.nativeCurrency.symbol,A=v?n.find(({address:B})=>B===y.address):t.find(({address:B})=>Xo(B)===Xo(y.address));if(!y)return i({errorModalData:{error:Error("Couldn't find funding config"),previousScreen:o||ud},funding:r==null?void 0:r.funding,solanaFundingData:r==null?void 0:r.solanaFundingData,sendTransaction:r==null?void 0:r.sendTransaction}),s(Yr),d.jsx(d.Fragment,{});x.useEffect(()=>{let B=v?async function(){if(y.chainType!=="solana")return;let C=h.solanaRpcs[y.chain];C?(y.isUSDC?async function({rpc:S,address:T,mintAddress:_}){var O;let P=await S.getTokenAccountsByOwner(T,{mint:_},{encoding:"jsonParsed",commitment:"confirmed"}).send(),L=(O=P.value[0])==null?void 0:O.account;return L?BigInt(L.data.parsed.info.tokenAmount.amount):0n}({rpc:C.rpc,address:y.address,mintAddress:BO(y.chain)}):ZG({rpc:C.rpc,address:y.address})).then(S=>{let T=BigInt(S);f&&T>f&&(g(!0),c({eventName:nf,payload:{provider:"manual",status:"success",chainType:"solana",address:A==null?void 0:A.address,value:y.isUSDC?Wa(T-f,6):Wa(T-f,9),token:y.isUSDC?"USDC":"SOL"}})),p(T)}):console.warn("Unable to load solana rpc, skipping balance")}:async function(){y.chainType==="ethereum"&&(async()=>{if(!y.erc20Address)return await w()??BigInt(0);{let{balance:C}=await JG({chain:y.chain,address:y.address,erc20Address:y.erc20Address,rpcConfig:a,appId:l});return C}})().then(C=>{var S,T;f&&C>f&&(g(!0),c({eventName:nf,payload:{provider:"manual",status:"success",chainType:"ethereum",address:A==null?void 0:A.address,chainId:y.chain.id,value:Wa(C-f,((S=y.erc20ContractInfo)==null?void 0:S.decimals)??18),token:((T=y.erc20ContractInfo)==null?void 0:T.symbol)??y.erc20Address??"ETH"}})),p(C)}).catch(()=>p(void 0))},k=setInterval(B,2e3);return B(),()=>clearInterval(k)},[f]);let E=x.useMemo(()=>{var B;return f==null?"":y.isUSDC?NL({amount:f,decimals:6}):v?uS(f,3,!0,!0):((B=y.erc20ContractInfo)==null?void 0:B.decimals)!=null?NL({amount:f,decimals:y.erc20ContractInfo.decimals}):dit({wei:f})},[f,v,y]),$=y.chainType==="ethereum"?y.chain.name:IN(y.chain),N=x.useMemo(()=>{var B,k;return((B=y.uiConfig)==null?void 0:B.receiveFundsTitle)===""?null:d.jsx(xg,{children:((k=y.uiConfig)==null?void 0:k.receiveFundsTitle)??`Receive ${y.amount} ${b??""}`.trim()})},[(W=y.uiConfig)==null?void 0:W.receiveFundsTitle,y.amount,b]),R=x.useMemo(()=>{var B,k;return((B=y.uiConfig)==null?void 0:B.receiveFundsSubtitle)===""?null:d.jsx(dw,{children:((k=y.uiConfig)==null?void 0:k.receiveFundsSubtitle)??`Scan this code or copy your wallet address to receive funds on ${$}.`})},[(V=y.uiConfig)==null?void 0:V.receiveFundsSubtitle,$]),j=y.chainType==="solana"&&y.isUSDC&&BO(y.chain)?`?spl-token=${BO(y.chain)}`:"";return d.jsxs(d.Fragment,{children:[d.jsx(su,{}),N,R,d.jsxs(dN,{style:{gap:"1rem",margin:N||R?"1rem 0":"0"},children:[d.jsx(pC,{url:`${y.chainType}:${y.address}${j}`,size:200,squareLogoElement:o$t}),d.jsxs(A8e,{theme:h.appearance.palette.colorScheme,children:["Make sure to send funds on ",$,"."]}),d.jsx(_N,{title:"Your wallet",errMsg:void 0,showCopyButton:!0,balance:`${E} ${b}`,address:y.address}),m&&d.jsx(pr,{onClick:()=>u({shouldCallAuthOnSuccess:!1,isSuccess:!0}),children:"Continue"})]}),d.jsx(er,{})]})}};let o$t=({...t})=>d.jsx(Y6e,{color:"black",...t}),a$t=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],l$t=({data:t})=>{let e=n=>typeof n=="object"&&n!==null?d.jsx(c$t,{children:Object.entries(n).map(([r,i])=>d.jsxs("li",{children:[d.jsxs("strong",{children:[r,":"]})," ",e(i)]},r))}):d.jsx("span",{children:String(n)});return d.jsx("div",{children:e(t)})};const F8e=Z.div.withConfig({displayName:"Message",componentId:"sc-70ec2a4f-0"})(["margin-top:1.5rem;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);padding:12px;text-align:left;max-height:310px;overflow:scroll;white-space:pre-wrap;width:100%;font-size:0.875rem;font-weight:400;color:var(--privy-color-foreground);line-height:1.5;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]);let c$t=Z.ul.withConfig({displayName:"MessageList",componentId:"sc-70ec2a4f-1"})(["margin-left:12px !important;white-space:nowrap;&:first-child{margin-left:0 !important;}strong{font-weight:500 !important;}"]);const U8e=({data:t,className:e})=>d.jsx(F8e,{className:e,children:d.jsx(l$t,{data:t})});let u$t=Z.div.withConfig({displayName:"Container",componentId:"sc-b3a607dd-0"})(["display:flex;flex-direction:column;min-height:72px;"]);var d$t=({onBack:t,details:e})=>d.jsxs(u$t,{children:[d.jsx(bn,{backFn:t}),d.jsx(U8e,{data:e}),d.jsx(er,{})]});const h$t=Z(or).withConfig({displayName:"InteractiveLabel",componentId:"sc-b57d0824-0"})(["cursor:pointer;display:inline-flex;gap:8px;align-items:center;color:var(--privy-color-accent);svg{fill:var(--privy-color-accent);}"]);var Eoe=({iconUrl:t,value:e,symbol:n,usdValue:r,nftName:i,nftCount:s,decimals:o,$isLoading:a})=>{if(a)return d.jsx(Aoe,{$isLoading:a});let l=e&&r&&o?function(c,u,h){let f=parseFloat(c),p=parseFloat(h);if(f===0||p===0||Number.isNaN(f)||Number.isNaN(p))return c;let m=Math.ceil(-Math.log10(.01/(p/f))),g=Math.pow(10,m=Math.max(m=Math.min(m,u),1)),y=+(Math.floor(f*g)/g).toFixed(m).replace(/\.?0+$/,"");return Intl.NumberFormat(void 0,{maximumFractionDigits:u}).format(y)}(e,o,r):e;return d.jsxs("div",{children:[d.jsxs(Aoe,{$isLoading:a,children:[t&&d.jsx(p$t,{src:t,alt:"Token icon"}),s&&s>1?s+"x":void 0," ",i,l," ",n]}),r&&d.jsxs(f$t,{$isLoading:a,children:["$",r]})]})};let Aoe=Z.span.withConfig({displayName:"Value",componentId:"sc-991db279-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],CN);const f$t=Z.span.withConfig({displayName:"Subvalue",componentId:"sc-991db279-1"})(["color:var(--privy-color-foreground-2);font-size:12px;font-weight:400;line-height:18px;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],CN);let p$t=Z.img.withConfig({displayName:"TokenIcon",componentId:"sc-991db279-2"})(["height:14px;width:14px;margin-right:4px;object-fit:contain;"]);const m$t=t=>{var a,l,c,u,h,f,p,m;let{chain:e,transactionDetails:n,isTokenContractInfoLoading:r,symbol:i}=t,{action:s,functionName:o}=n;return d.jsx(SN,{children:d.jsxs(XG,{children:[s!=="transaction"&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Action"}),d.jsx(ki,{children:o})]}),o==="mint"&&"args"in n&&n.args.filter(g=>g).map((g,y)=>{var w,v;return d.jsxs(Ar,{children:[d.jsx(or,{children:`Param ${y}`}),d.jsx(ki,{children:typeof g=="string"&&nl(g)?d.jsx(La,{address:g,url:(v=(w=e==null?void 0:e.blockExplorers)==null?void 0:w.default)==null?void 0:v.url,showCopyIcon:!1}):g==null?void 0:g.toString()})]},y)}),o==="setApprovalForAll"&&n.operator&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Operator"}),d.jsx(ki,{children:d.jsx(La,{address:n.operator,url:(l=(a=e==null?void 0:e.blockExplorers)==null?void 0:a.default)==null?void 0:l.url,showCopyIcon:!1})})]}),o==="setApprovalForAll"&&n.approved!==void 0&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Set approval to"}),d.jsx(ki,{children:n.approved?"true":"false"})]}),o==="transfer"||o==="transferFrom"||o==="safeTransferFrom"||o==="approve"?d.jsxs(d.Fragment,{children:["formattedAmount"in n&&n.formattedAmount&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Amount"}),d.jsxs(ki,{$isLoading:r,children:[n.formattedAmount," ",i]})]}),"tokenId"in n&&n.tokenId&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Token ID"}),d.jsx(ki,{children:n.tokenId.toString()})]})]}):null,o==="safeBatchTransferFrom"&&d.jsxs(d.Fragment,{children:["amounts"in n&&n.amounts&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Amounts"}),d.jsx(ki,{children:n.amounts.join(", ")})]}),"tokenIds"in n&&n.tokenIds&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Token IDs"}),d.jsx(ki,{children:n.tokenIds.join(", ")})]})]}),o==="approve"&&n.spender&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Spender"}),d.jsx(ki,{children:d.jsx(La,{address:n.spender,url:(u=(c=e==null?void 0:e.blockExplorers)==null?void 0:c.default)==null?void 0:u.url,showCopyIcon:!1})})]}),(o==="transferFrom"||o==="safeTransferFrom"||o==="safeBatchTransferFrom")&&n.transferFrom&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Transferring from"}),d.jsx(ki,{children:d.jsx(La,{address:n.transferFrom,url:(f=(h=e==null?void 0:e.blockExplorers)==null?void 0:h.default)==null?void 0:f.url,showCopyIcon:!1})})]}),(o==="transferFrom"||o==="safeTransferFrom"||o==="safeBatchTransferFrom")&&n.transferTo&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Transferring to"}),d.jsx(ki,{children:d.jsx(La,{address:n.transferTo,url:(m=(p=e==null?void 0:e.blockExplorers)==null?void 0:p.default)==null?void 0:m.url,showCopyIcon:!1})})]})]})})},z8e=({children:t,theme:e})=>d.jsxs(g$t,{$theme:e,children:[d.jsx(Bw,{width:"20px",height:"20px",color:"var(--privy-color-icon-warning)",strokeWidth:2,style:{flexShrink:0}}),d.jsx(y$t,{$theme:e,children:t})]});let g$t=Z.div.withConfig({displayName:"Container",componentId:"sc-a77c2854-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-warn-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),y$t=Z.div.withConfig({displayName:"Content",componentId:"sc-a77c2854-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const w$t=({variant:t,setPreventMaliciousTransaction:e,colorScheme:n="light",preventMaliciousTransaction:r})=>t==="warn"?d.jsx(Coe,{children:d.jsxs(z8e,{theme:n,children:[d.jsx("span",{style:{fontWeight:"500"},children:"Warning: Suspicious transaction"}),d.jsx("br",{}),"This has been flagged as a potentially deceptive request. Approving could put your assets or funds at risk."]})}):t==="error"?d.jsx(d.Fragment,{children:d.jsxs(Coe,{children:[d.jsx(S8e,{theme:n,children:d.jsxs("div",{children:[d.jsx("strong",{children:"This is a malicious transaction"}),d.jsx("br",{}),"This transaction transfers tokens to a known malicious address. Proceeding may result in the loss of valuable assets."]})}),d.jsxs(b$t,{children:[d.jsx($4e,{color:"var(--privy-color-error)",checked:!r,readOnly:!0,onClick:()=>e(!r)}),d.jsx("span",{children:"I understand and want to proceed anyways."})]})]})}):null;let Coe=Z.div.withConfig({displayName:"BannerContainer",componentId:"sc-ab8a5a0b-0"})(["margin-top:1.5rem;"]),b$t=Z.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-ab8a5a0b-1"})(["display:flex;align-items:center;gap:0.5rem;margin-top:0.75rem;"]);const v$t=({transactionIndex:t,maxIndex:e})=>typeof t!="number"||e===0?"":` (${t+1} / ${e+1})`,x$t=({img:t,submitError:e,prepareError:n,onClose:r,action:i,title:s,subtitle:o,to:a,tokenAddress:l,network:c,missingFunds:u,fee:h,from:f,cta:p,disabled:m,chain:g,isSubmitting:y,isPreparing:w,isTokenPriceLoading:v,isTokenContractInfoLoading:b,isSponsored:A,symbol:E,balance:$,onClick:N,transactionDetails:R,transactionIndex:j,maxIndex:F,onBack:W,chainName:V,validation:B,hasScanDetails:k,setIsScanDetailsOpen:C,preventMaliciousTransaction:S,setPreventMaliciousTransaction:T,tokensSent:_,tokensReceived:P,isScanning:L,isCancellable:O,functionName:I})=>{var oe,de,ae,he,be,fe;let{showTransactionDetails:D,setShowTransactionDetails:Y,hasMoreDetails:M,isErc20Ish:Q}=(ke=>{let[we,Ue]=x.useState(!1),Me=!0,_e=!1;return(!ke||ke.isErc20Ish||ke.action==="transaction")&&(Me=!1),Me&&(_e=Object.entries(ke||{}).some(([xe,Oe])=>Oe&&!["action","isErc20Ish","isNFTIsh"].includes(xe))),{showTransactionDetails:we,setShowTransactionDetails:Ue,hasMoreDetails:Me&&_e,isErc20Ish:ke==null?void 0:ke.isErc20Ish}})(R),ee=Fn(),J=Q&&b||w||v||L;return d.jsxs(d.Fragment,{children:[d.jsx(bn,{onClose:r,backFn:W}),t&&d.jsx(C$t,{children:t}),d.jsxs(xg,{style:{marginTop:t?"1.5rem":0},children:[s,d.jsx(v$t,{maxIndex:F,transactionIndex:j})]}),d.jsx(dw,{children:o}),d.jsxs(XG,{style:{marginTop:"2rem"},children:[(!!_[0]||J)&&d.jsxs(Ar,{children:[P.length>0?d.jsx(or,{children:"Send"}):d.jsx(or,{children:i==="approve"?"Approval amount":"Amount"}),d.jsx("div",{className:"flex flex-col",children:_.map((ke,we)=>d.jsx(Eoe,{iconUrl:ke.iconUrl,value:I==="setApprovalForAll"?"All":ke.value,usdValue:ke.usdValue,symbol:ke.symbol,nftName:ke.nftName,nftCount:ke.nftCount,decimals:ke.decimals},we))})]}),P.length>0&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Receive"}),d.jsx("div",{className:"flex flex-col",children:P.map((ke,we)=>d.jsx(Eoe,{iconUrl:ke.iconUrl,value:ke.value,usdValue:ke.usdValue,symbol:ke.symbol,nftName:ke.nftName,nftCount:ke.nftCount,decimals:ke.decimals},we))})]}),R&&"spender"in R&&(R!=null&&R.spender)?d.jsxs(Ar,{children:[d.jsx(or,{children:"Spender"}),d.jsx(ki,{children:d.jsx(La,{address:R.spender,url:(de=(oe=g==null?void 0:g.blockExplorers)==null?void 0:oe.default)==null?void 0:de.url})})]}):null,a&&d.jsxs(Ar,{children:[d.jsx(or,{children:"To"}),d.jsx(ki,{children:d.jsx(La,{address:a,url:(he=(ae=g==null?void 0:g.blockExplorers)==null?void 0:ae.default)==null?void 0:he.url,showCopyIcon:!0})})]}),l&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Token address"}),d.jsx(ki,{children:d.jsx(La,{address:l,url:(fe=(be=g==null?void 0:g.blockExplorers)==null?void 0:be.default)==null?void 0:fe.url})})]}),d.jsxs(Ar,{children:[d.jsx(or,{children:"Network"}),d.jsx(ki,{children:c})]}),d.jsxs(Ar,{children:[d.jsx(or,{children:"Estimated fee"}),d.jsx(ki,{$isLoading:w||v||A===void 0,children:A?d.jsxs(k$t,{children:[d.jsxs(S$t,{children:["Sponsored by ",ee.name]}),d.jsx($dt,{height:16,width:16})]}):h})]}),M&&!k&&d.jsxs(d.Fragment,{children:[d.jsx(Ar,{className:"cursor-pointer",onClick:()=>Y(!D),children:d.jsxs(_Tt,{className:"flex items-center gap-x-1",children:["Details"," ",d.jsx(Nq,{style:{width:"0.75rem",marginLeft:"0.25rem",transform:D?"rotate(180deg)":void 0}})]})}),D&&R&&d.jsx(m$t,{action:i,chain:g,transactionDetails:R,isTokenContractInfoLoading:b,symbol:E})]}),k&&d.jsx(Ar,{children:d.jsxs(h$t,{onClick:()=>C(!0),children:[d.jsx("span",{className:"text-color-primary",children:"Details"}),d.jsx(Idt,{height:"14px",width:"14px",strokeWidth:"2"})]})})]}),d.jsx(e3,{}),e?d.jsx(uw,{style:{marginTop:"2rem"},children:e.message}):n&&j===0?d.jsx(uw,{style:{marginTop:"2rem"},children:n.shortMessage??A$t}):null,d.jsx(w$t,{variant:B,preventMaliciousTransaction:S,setPreventMaliciousTransaction:T}),d.jsx(E$t,{$useSmallMargins:!(!n&&!e&&B!=="warn"&&B!=="error"),address:f,balance:$,errMsg:w||n||e||!u?void 0:`Add funds on ${(g==null?void 0:g.name)??V} to complete transaction.`}),d.jsx(pr,{style:{marginTop:"1rem"},loading:y,disabled:m||w,onClick:N,children:p}),O&&d.jsx(cN,{style:{marginTop:"1rem"},onClick:r,isSubmitting:!1,children:"Not now"}),d.jsx(er,{})]})};let E$t=Z(_N).withConfig({displayName:"StyledWalletInfoCard",componentId:"sc-4e16a794-0"})(["",""],t=>t.$useSmallMargins?"margin-top: 0.5rem;":"margin-top: 2rem;"),A$t="There was an error preparing your transaction. Your transaction request will likely fail.",C$t=Z.div.withConfig({displayName:"ImageContainer",componentId:"sc-4e16a794-2"})(["display:flex;width:100%;justify-content:center;max-height:40px;> img{object-fit:contain;border-radius:var(--privy-border-radius-sm);}"]),k$t=Z.span.withConfig({displayName:"SponsoredRow",componentId:"sc-4e16a794-3"})(["display:inline-flex;align-items:center;gap:0.3rem;"]),S$t=Z.span.withConfig({displayName:"SponsoredText",componentId:"sc-4e16a794-4"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),_$t=()=>d.jsxs(P$t,{children:[d.jsx(j$t,{}),d.jsx(R$t,{})]});const I$t=({transactionError:t,chainId:e,onClose:n,onRetry:r,chainType:i,transactionHash:s})=>{let{chains:o}=st(),[a,l]=x.useState(!1),{errorCode:c,errorMessage:u}=((f,p)=>{if(p==="ethereum")return{errorCode:f.details??f.message,errorMessage:f.shortMessage};let m=f.txSignature,g=(f==null?void 0:f.transactionMessage)||"Something went wrong.";if(Array.isArray(f.logs)){let y=f.logs.find(w=>/insufficient (lamports|funds)/gi.test(w));y&&(g=y)}return{transactionHash:m,errorMessage:g}})(t,i),h=(({chains:f,chainId:p,chainType:m,transactionHash:g})=>{var y,w;return m==="ethereum"?((w=(y=f.find(v=>v.id===p))==null?void 0:y.blockExplorers)==null?void 0:w.default.url)??"https://etherscan.io":function(v,b){return`https://explorer.solana.com/tx/${v}?chain=${b}`}(g||"",p)})({chains:o,chainId:e,chainType:i,transactionHash:s});return d.jsxs(d.Fragment,{children:[d.jsx(bn,{onClose:n}),d.jsxs(T$t,{children:[d.jsx(_$t,{}),d.jsx($$t,{children:c}),d.jsx(N$t,{children:"Please try again."}),d.jsxs(Soe,{children:[d.jsx(koe,{children:"Error message"}),d.jsx(_oe,{$clickable:!1,children:u})]}),s&&d.jsxs(Soe,{children:[d.jsx(koe,{children:"Transaction hash"}),d.jsxs(M$t,{children:["Copy this hash to view details about the transaction on a"," ",d.jsx("u",{children:d.jsx("a",{href:h,children:"block explorer"})}),"."]}),d.jsxs(_oe,{$clickable:!0,onClick:async()=>{await navigator.clipboard.writeText(s),l(!0)},children:[s,d.jsx(L$t,{clicked:a})]})]}),d.jsx(O$t,{onClick:()=>r({resetNonce:!!s}),children:"Retry transaction"})]}),d.jsx(Ri,{})]})};let T$t=Z.div.withConfig({displayName:"TransactionErrorScreenContainer",componentId:"sc-d58f10e6-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;"]),$$t=Z.span.withConfig({displayName:"ErrorCode",componentId:"sc-d58f10e6-1"})(["color:var(--privy-color-foreground);text-align:center;font-size:1.125rem;font-weight:500;line-height:1.25rem;text-align:center;margin:10px;"]),N$t=Z.span.withConfig({displayName:"Subtitle",componentId:"sc-d58f10e6-2"})(["margin-top:4px;margin-bottom:10px;color:var(--privy-color-foreground-3);text-align:center;font-size:0.875rem;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;"]),P$t=Z.div.withConfig({displayName:"CircleContainer",componentId:"sc-d58f10e6-3"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]),R$t=Z(yq).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-d58f10e6-4"})(["position:absolute;width:35px;height:35px;color:var(--privy-color-error);"]),j$t=Z.div.withConfig({displayName:"StyledRedCircle",componentId:"sc-d58f10e6-5"})(["position:absolute;width:60px;height:60px;border-radius:50%;background-color:var(--privy-color-error);opacity:0.1;"]),O$t=Z(pr).withConfig({displayName:"RetryButton",componentId:"sc-d58f10e6-6"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]),koe=Z.span.withConfig({displayName:"TextBoxTitle",componentId:"sc-d58f10e6-7"})(["width:100%;text-align:left;font-size:0.825rem;color:var(--privy-color-foreground);padding:4px;"]),Soe=Z.div.withConfig({displayName:"TextBoxContainer",componentId:"sc-d58f10e6-8"})(["width:100%;margin:5px;display:flex;flex-direction:column;justify-content:center;align-items:center;"]),M$t=Z.text.withConfig({displayName:"HelperText",componentId:"sc-d58f10e6-9"})(["position:relative;width:100%;padding:5px;font-size:0.8rem;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;"]),_oe=Z.span.withConfig({displayName:"TextBox",componentId:"sc-d58f10e6-10"})(["position:relative;width:100%;background-color:var(--privy-color-background-2);padding:8px 12px;border-radius:10px;margin-top:5px;font-size:14px;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;",""],t=>t.$clickable&&`cursor: pointer;
  transition: background-color 0.3s;
  padding-right: 45px;

  &:hover {
    background-color: var(--privy-color-foreground-4);
  }`),D$t=Z(Ldt).withConfig({displayName:"StyledClipboardIcon",componentId:"sc-d58f10e6-11"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),B$t=Z(g2e).withConfig({displayName:"StyledClipboardCheckIcon",componentId:"sc-d58f10e6-12"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),L$t=({clicked:t})=>d.jsx(t?B$t:D$t,{}),F$t=({gasUsed:t,effectiveGasPrice:e})=>{if(t&&e)try{return _i(t*e)}catch{return}};const U$t=({txn:t,receipt:e,transactionInfo:n,onClose:r,tokenPrice:i,tokenSymbol:s,receiptHeader:o,receiptDescription:a})=>d.jsxs(d.Fragment,{children:[d.jsx(bn,{onClose:r}),d.jsx(d_t,{title:o??"Transaction complete!",description:a??"You're all set."}),d.jsx(w4e,{tokenPrice:i,from:e.from,to:e.to,gas:F$t(e),txn:t,transactionInfo:n,tokenSymbol:s}),d.jsx(e3,{}),d.jsx(z$t,{loading:!1,onClick:r,children:"All Done"}),d.jsx(Nd,{}),d.jsx(er,{})]});let z$t=Z(pr).withConfig({displayName:"SubmitButton",componentId:"sc-f70d0f7a-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);const W$t=[{constant:!1,inputs:[{name:"_salt",type:"bytes32"},{name:"_initializer",type:"bytes"}],name:"deployAccount",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],H$t=[{name:"from",type:"address"},{name:"param2",type:"address"},{name:"param3",type:"bytes"},{name:"param4",type:"tuple",components:[]},{type:"tuple",components:[{name:"param5",type:"address"},{name:"param6",type:"uint256"},{name:"param7",type:"uint256"},{name:"encodedInitData",type:"bytes"}]}],V$t=[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],q$t=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"payable",type:"function"}],G$t=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],K$t=[{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Y$t=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Q$t=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenIds",type:"uint256[]"},{name:"_amounts",type:"uint256[]"},{name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Z$t=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],W8e=(t,e)=>{let n=If(V$t,t);if(n)return{action:"approve",functionName:"approve",isErc20Ish:!0,isNFTIsh:!1,spender:n.args[0],amount:n.args[1]};let r=If(TU,t);if(r)return{action:"transfer",functionName:"transfer",isErc20Ish:!0,isNFTIsh:!1,transferTo:r.args[0],amount:r.args[1]};if(!e)return{action:"transaction",functionName:"",isErc20Ish:!1,isNFTIsh:!1};let i=If(W$t,t);if(i&&typeof i.args[1]=="string"){let h=J$t(i.args[1]);if(h&&h[4].encodedInitData)return W8e(h[4].encodedInitData,e)}let s=If(K$t,t);if(s)return{action:"approve",functionName:"setApprovalForAll",isNFTIsh:!0,isErc20Ish:!1,operator:s.args[0],approved:s.args[1]};let o=If(Y$t,t);if(o)return{action:"transfer",functionName:"transferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:o.args[0],transferTo:o.args[1],tokenId:o.args[2]};let a=If(G$t,t);if(a)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:a.args[0],transferTo:a.args[1],tokenId:a.args[2]};let l=If(Z$t,t);if(l)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:l.args[0],transferTo:l.args[1],tokenId:l.args[2],amount:l.args[3]};let c=If(Q$t,t);if(c)return{action:"batch transfer",functionName:"safeBatchTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:c.args[0],transferTo:c.args[1],tokenIds:c.args[2],amounts:c.args[3]};let u=If(q$t,t);return u?{action:"mint",functionName:u.functionName,isNFTIsh:!0,isErc20Ish:!1,args:u.args}:{action:"transaction",isErc20Ish:!1,isNFTIsh:!1}};let If=(t,e)=>{try{let n=oge({abi:t,data:e});return{functionName:n.functionName,args:n.args||[]}}catch{return null}},J$t=t=>{try{if(typeof t=="string")return j3(H$t,`0x${t.slice(10)}`)}catch{return null}},LO=t=>`${parseFloat(t).toFixed(2)}`;function X$t(t,e){var i,s,o,a,l;let n=[],r=new Map;if(t){for(let c of t)if(c.in[0]){let u;u=c.asset.type==="ERC721"||c.in[0].value==="approve_for_all"?{id:`nft:${c.asset.name}`,nftName:c.asset.name,nftCount:c.in.length}:{id:`token:${c.asset.type}:${c.asset.symbol}:${c.asset.name}`,iconUrl:c.asset.logo_url,value:c.in[0].value,symbol:c.asset.symbol,usdValue:c.in[0].usd_price?LO(c.in[0].usd_price):void 0,decimals:c.asset.decimals},n.push(u)}else if((i=c.out[0])!=null&&i.value){let u;u=c.asset.type==="ERC721"||c.out[0].value==="approve_for_all"?{id:`nft:${c.asset.name}`,nftName:c.asset.name}:{id:`token:${c.asset.type}:${c.asset.symbol}:${c.asset.name}`,iconUrl:c.asset.logo_url,value:c.out[0].value,symbol:c.asset.symbol,usdValue:c.out[0].usd_price?LO(c.out[0].usd_price):void 0,decimals:c.asset.decimals},r.has(u.id)||r.set(u.id,u)}}for(let c of e)for(let u of Object.keys(c.spenders)){let h;h=c.asset.type==="ERC721"||((s=c.spenders[u])==null?void 0:s.value)==="approve_for_all"?{id:`nft:${c.asset.name}`,nftName:c.asset.name}:{id:`token:${c.asset.type}:${c.asset.symbol}:${c.asset.name}`,iconUrl:c.asset.logo_url,value:(o=c.spenders[u])==null?void 0:o.value,symbol:c.asset.symbol,usdValue:(a=c.spenders[u])!=null&&a.usd_price?LO((l=c.spenders[u])==null?void 0:l.usd_price):void 0,decimals:c.asset.decimals},r.has(h.id)||r.set(h.id,h)}return{assetsIn:n,assetsOut:Array.from(r.values())}}const eNt=(t,e,n,r)=>{let[i,s]=x.useState(null),{walletProxy:o}=st();return x.useEffect(()=>{i&&s(null),(async()=>{if(!o||!e)return null;let a=[],l=!0,c=await U7(t,n,e,r).catch(u=>(u.message&&u.message.includes("Insufficient balance for transaction")||u.details&&u.details.includes("insufficient funds")?l=!1:a.push(u),t));return{tx:c,totalGasEstimate:c.gas,hasFunds:l,errors:a}})().then(s)},[t]),i};let Ioe=new xo(new o2("There was an issue preparing your transaction",Xu.E32603_DEFAULT_INTERNAL_ERROR.eipCode)),Toe=(t,e)=>t!=null&&t.sendTransaction?"transactionRequest"in t.sendTransaction?t.sendTransaction.transactionRequest:t.sendTransaction.transactionRequests[e]:void 0;const H8e={component:()=>{var Bt,He,Ln,En,ot,Qt,q,K,se,re,le,ge,$e,je,Mt,bt,St,rn;let{data:t,onUserCloseViaDialogOrKeybindRef:e,setModalData:n,navigate:r}=lt(),{client:i,rpcConfig:s,chains:o,closePrivyModal:a,walletProxy:l,showFiatPrices:c}=st(),{user:u}=Sn(),h=Fn(),[f,p]=x.useState(0),[m,g]=x.useState(0),[y,w]=x.useState(Toe(t,f)),[v,b]=x.useState(null),[A,E]=x.useState(),[$,N]=x.useState(!1),[R,j]=x.useState(null),[F,W]=x.useState(null),[V,B]=x.useState(null),[k,C]=x.useState(void 0),[S,T]=x.useState(void 0),[_,P]=x.useState(!1),[L,O]=x.useState(!1),[I,D]=x.useState([]),[Y,M]=x.useState([]),[Q,ee]=x.useState("uninitiated"),[J,oe]=x.useState(void 0);if(!y||!(t!=null&&t.sendTransaction)||!(t!=null&&t.sendTransaction))return d.jsx(EN,{error:Error("Invalid transaction request"),allowlistConfig:h.allowlistConfig,onRetry:()=>{var Qe;(Qe=t==null?void 0:t.sendTransaction)==null||Qe.onFailure(Ioe),a({shouldCallAuthOnSuccess:!1})}});let{transactingWalletAddress:de}=t.sendTransaction,ae=x.useMemo(()=>o.find(Qe=>Number(Qe.id)===Number(y.chainId)),[y.chainId]),he=(ae==null?void 0:ae.nativeCurrency.symbol)??"ETH",be=x.useMemo(()=>W8e(y.data,!!h.embeddedWallets.extendedCalldataDecoding),[y.data]),{action:fe,isErc20Ish:ke,isNFTIsh:we,functionName:Ue}=be,{toAddress:Me,tokenAddress:_e}=x.useMemo(()=>({toAddress:be.isErc20Ish?be.transferTo:y.to??void 0,tokenAddress:be.isErc20Ish?y.to:void 0}),[be]);x.useEffect(()=>{y.to&&ae&&ke&&_8e({address:y.to,chain:ae,rpcConfig:h.rpcConfig,privyAppId:h.id}).then(b).catch(console.error)},[y.to,ae]);let{tokenPrice:xe,isTokenPriceLoading:Oe}=hC(y.chainId),{balance:Le}=k8e({rpcConfig:h.rpcConfig,appId:h.id,address:de,chain:ae}),Ce=function({rpcConfig:Qe,appId:ut,address:at,chain:ct,tokenInfo:ht}){let{chains:an}=st(),[zn,Ht]=x.useState(null),[Ft,An]=x.useState(!1),oi=x.useMemo(()=>{let qt=ct||an[0];if(qt)return Hp({chain:ct,transport:Vp(_nt(qt,Qe,ut))})},[ct,Qe,ut]),uc=x.useCallback(async()=>{if(at&&oi&&ht.address)try{return An(!0),await oi.readContract({address:ht.address,abi:a$t,functionName:"balanceOf",args:[at]})}catch(qt){console.error(qt)}finally{An(!1)}},[oi,at,ht==null?void 0:ht.address,ct]);return x.useEffect(()=>{uc().then(qt=>qt!=null&&Ht(qt))},[uc]),{balance:zn,isLoading:Ft&&zn==null,formattedBalance:NL({amount:zn??BigInt(0),decimals:ht.decimals})}}({rpcConfig:h.rpcConfig,appId:h.id,address:de,tokenInfo:{address:_e||"",decimals:(v==null?void 0:v.decimals)??18},chain:ae}),De=x.useMemo(()=>Xx(Number(y.chainId),o,s,{appId:h.id}),[y.chainId,s]),Ve=eNt(y,de,De,(Bt=t==null?void 0:t.sendTransaction)==null?void 0:Bt.prepareTransactionRequest);x.useEffect(()=>{w(Toe(t,f))},[f]),x.useEffect(()=>{var Qe;(Qe=t.sendTransaction)!=null&&Qe.getIsSponsored?t.sendTransaction.getIsSponsored().then(E).catch(console.error):E(!1)},[t.sendTransaction.getIsSponsored]);let rt=()=>{var Qe,ut,at;if(!$)return R?(Qe=t==null?void 0:t.sendTransaction)==null||Qe.onSuccess({hash:R}):V||Ve!=null&&Ve.errors[0]?(ut=t==null?void 0:t.sendTransaction)==null||ut.onFailure(V??(Ve==null?void 0:Ve.errors[0])??Ioe):(at=t==null?void 0:t.sendTransaction)==null||at.onFailure(new xo(new o2("The user rejected the request",Xu.E4001_USER_REJECTED_REQUEST.eipCode))),a({shouldCallAuthOnSuccess:!1})};e.current=rt;let G=!!(t.funding&&t.funding.supportedOptions.length>0),U=cd(BigInt((Ve==null?void 0:Ve.totalGasEstimate)??0n),he),z=c&&xe?_1(BigInt((Ve==null?void 0:Ve.totalGasEstimate)??0n),xe):void 0,X=cd(Le??0n,he,void 0,!0),ne=c&&xe?_1(Le??0n,xe):void 0,ie=v&&!Ce.isLoading&&ke&&fe!=="approve"?`${Ce.formattedBalance} ${v.symbol}`:void 0,ce=(En=(Ln=(He=t.sendTransaction)==null?void 0:He.uiOptions)==null?void 0:Ln.transactionInfo)==null?void 0:En.title;ce||(ce=fe==="approve"?ke?"Confirm address":"Confirm action":`Approve ${fe}`);let Be=x.useMemo(()=>{var Qe,ut,at,ct,ht,an,zn,Ht;if((ut=(Qe=t.sendTransaction)==null?void 0:Qe.uiOptions)!=null&&ut.description)return(ct=(at=t.sendTransaction)==null?void 0:at.uiOptions)==null?void 0:ct.description;if(fe==="approve"&&Ue==="setApprovalForAll"&&be.approved){let Ft=d.jsx(La,{address:be.operator||"",url:(an=(ht=ae==null?void 0:ae.blockExplorers)==null?void 0:ht.default)==null?void 0:an.url});return d.jsxs(d.Fragment,{children:[h.name," would like your permission for ",Ft," to transfer tokens on your behalf."]})}if(fe==="approve"&&Ue==="setApprovalForAll"&&!be.approved){let Ft=d.jsx(La,{address:be.operator||"",url:(Ht=(zn=ae==null?void 0:ae.blockExplorers)==null?void 0:zn.default)==null?void 0:Ht.url});return d.jsxs(d.Fragment,{children:[h.name," would like your permission to revoke permissions of ",Ft," from transferring tokens on your behalf."]})}return ke&&fe==="approve"||ke&&fe==="approve"?`${h.name} would like your permission for ${Xo(be.spender)} to spend tokens on your behalf.`:`${h.name} wants your permission to approve the following transaction.`},[h.name,ke,be,(ot=t.sendTransaction)==null?void 0:ot.uiOptions.description,Ue]),Xe=(se=(K=(q=(Qt=t.sendTransaction)==null?void 0:Qt.uiOptions)==null?void 0:q.transactionInfo)==null?void 0:K.contractInfo)!=null&&se.imgUrl?d.jsx("img",{src:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,Ye=!(!Ve||Ve.errors[0]||Ve.hasFunds||A!==!1),et=Ye&&G,Pe=et?"Add funds":((le=(re=t.sendTransaction)==null?void 0:re.uiOptions)==null?void 0:le.buttonText)||(f<m?"Continue":"Approve"),Tt=Qe=>{if(!Qe)throw Error("Transaction scan failed");if(Qe.validation.status==="Success"&&(Qe.validation.result_type==="Benign"?T("safe"):Qe.validation.result_type==="Warning"?T("warn"):Qe.validation.result_type==="Malicious"&&(T("error"),O(!0))),Qe.simulation.status!=="Success")throw Error("Simulation failed");{C(Qe.simulation.params);let{assetsIn:ut,assetsOut:at}=X$t(Qe.simulation.assets_diffs,Qe.simulation.exposures);if(at.length===0&&ut.length===0)throw Error("No tokens found");D(at),M(ut)}};if(x.useEffect(()=>{var Qe;(Qe=t.sendTransaction)!=null&&Qe.scanTransaction&&h.embeddedWallets.transactionScanning.enabled&&Q==="uninitiated"&&(ee("in progress"),t.sendTransaction.scanTransaction().then(ut=>{Tt(ut),ee("completed")}).catch(()=>ee("failed")))},[!!((ge=t.sendTransaction)!=null&&ge.scanTransaction)]),x.useEffect(()=>{var Qe;(Qe=t.sendTransaction)!=null&&Qe.scanTransaction&&Q!=="failed"||((ut,at,ct)=>{if(g((ht=>ht!=null&&ht.sendTransaction?"transactionRequest"in ht.sendTransaction?0:ht.sendTransaction.transactionRequests.length-1:0)(t)),at.isErc20Ish&&at.amount&&ct){let ht=V7({amount:at.amount,decimals:ct.decimals});oe(ht),D([{value:ht,symbol:ct==null?void 0:ct.symbol,decimals:ct==null?void 0:ct.decimals}])}else if(ut.value){let ht=BigInt(ut.value),an=xe?_1(ht,xe):void 0;D(c&&an?[{value:an}]:[{value:u4e(ht),symbol:he,decimals:18,usdValue:an}])}else D(c?[{value:"$0"}]:[{value:"0",symbol:he,decimals:18}])})((Ve==null?void 0:Ve.tx)??y,be,v)},[y,Ve==null?void 0:Ve.tx,be,v,Q]),F)return d.jsx(U$t,{txn:(Ve==null?void 0:Ve.tx)??y,onClose:rt,receipt:F,transactionInfo:($e=t.sendTransaction)==null?void 0:$e.uiOptions.transactionInfo,tokenPrice:xe,tokenSymbol:he,receiptHeader:(je=t.sendTransaction)==null?void 0:je.uiOptions.successHeader,receiptDescription:(Mt=t.sendTransaction)==null?void 0:Mt.uiOptions.successDescription});if(V)return d.jsx(I$t,{transactionError:V,transactionHash:R??void 0,chainType:"ethereum",chainId:(Ve==null?void 0:Ve.tx.chainId)??y.chainId,onClose:rt,onRetry:({resetNonce:Qe})=>{B(null);let ut={...(Ve==null?void 0:Ve.tx)??y};Qe&&(ut.nonce=void 0),w(ut)}});let dn=m!==0&&typeof f=="number"&&f!==0?()=>{p(f-1)}:void 0;return _&&k?d.jsx(d$t,{details:k,onBack:()=>P(!1)}):d.jsx(x$t,{transactionIndex:f,onBack:dn,maxIndex:m,disabled:Ye&&!G||L,isSubmitting:$,submitError:V,isPreparing:!Ve,isTokenPriceLoading:Oe,isTokenContractInfoLoading:!we&&!v,prepareError:Ve==null?void 0:Ve.errors[0],symbol:v==null?void 0:v.symbol,chain:ae,img:Xe,title:ce,subtitle:Be,txValue:y.value,fee:z??U,isSponsored:A,from:de??"",to:Me,tokenAddress:_e??void 0,network:((bt=h.chains.find(Qe=>Qe.id===y.chainId))==null?void 0:bt.name)??"",transactionDetails:{...be,formattedAmount:J},cta:Pe,missingFunds:Ye,action:fe,balance:ie??ne??X,onClose:rt,onClick:et?async()=>{var Qe;if(de){if(!G)throw Error("Funding wallet is not enabled");n({...t,funding:{...t.funding,methodScreen:ud,chainType:"ethereum",amount:Nw(BigInt((Ve==null?void 0:Ve.tx.value)??0)+BigInt(((Qe=Ve==null?void 0:Ve.totalGasEstimate)==null?void 0:Qe.toString())??0)),chain:ae},solanaFundingData:t==null?void 0:t.solanaFundingData}),r(ud)}}:async()=>{var Qe,ut;if(f<m)p(f+1);else{N(!0);try{let at=await i.getAccessToken();if($||!at||!l||!u)return;let ct=await t.sendTransaction.onConfirm({transactionRequest:(Ve==null?void 0:Ve.tx)??y});if(j(ct),(Qe=t.sendTransaction)==null?void 0:Qe.signOnly)return await new Promise(an=>setTimeout(an,Wr)),(ut=t==null?void 0:t.sendTransaction)==null||ut.onSuccess({hash:ct}),a({shouldCallAuthOnSuccess:!1});let ht=await De.waitForTransactionReceipt({hash:ct});if(ht.status==="reverted")throw Error("Transaction failed");W(ht)}catch(at){console.warn({transaction:(Ve==null?void 0:Ve.tx)??y,error:at}),B(at)}finally{N(!1)}}},validation:S,hasScanDetails:!!k,setIsScanDetailsOpen:P,preventMaliciousTransaction:L,setPreventMaliciousTransaction:O,tokensSent:I,tokensReceived:Y,isScanning:Q==="in progress",isCancellable:((rn=(St=t.sendTransaction)==null?void 0:St.uiOptions)==null?void 0:rn.isCancellable)??!1,functionName:Ue})}};function su({title:t}){var o,a;let{currentScreen:e,navigateBack:n,navigate:r,data:i,setModalData:s}=lt();return d.jsx(bn,{title:t,backFn:e===q7?n:e===((o=i==null?void 0:i.funding)==null?void 0:o.methodScreen)?i.funding.comingFromSendTransactionScreen?()=>r(H8e):void 0:(a=i==null?void 0:i.funding)!=null&&a.methodScreen?()=>{let l=i.funding;l.usingDefaultFundingMethod&&(l.usingDefaultFundingMethod=!1),s({funding:l,solanaFundingData:i==null?void 0:i.solanaFundingData}),r(l.methodScreen)}:void 0})}const V8e={component:()=>{let t=Fn(),{rpcConfig:e,appId:n,closePrivyModal:r,createAnalyticsEvent:i}=st(),{navigate:s,setModalData:o,app:a,data:l}=lt(),{wallets:c}=Lg(),[u,h]=x.useState(null),[f,p]=x.useState(null),[m,g]=x.useState([]),[y,w]=x.useState(0),[v,b]=x.useState(!1),[A,E]=x.useState(!1),[$,N]=x.useState(!1),[R,j]=x.useState(!1),[F,W]=x.useState(),[V,B]=x.useState();if(!(l!=null&&l.funding)||l.funding.chainType!=="solana")throw Error("Invalid funding data");let{address:k,chain:C,connectedWalletAddress:S}=l.funding,[T,_]=x.useState(l.funding.amount),P=S?c.find(({address:be})=>be===S):c[0],L=Dg((P==null?void 0:P.walletClientType)||"unknown"),O=(L==null?void 0:L.name)||"wallet",[I,D]=x.useState(null);x.useEffect(()=>{(async()=>{if(!P)return;let be=await P.getEthereumProvider();D(A1e({account:P.address,transport:k1e(be)}).extend(LV))})().catch(console.error)},[P]);let[Y,M]=x.useState(0n),Q=uS(Y);x.useEffect(()=>{let be=t.solanaRpcs[C];be?ZG({rpc:be.rpc,address:k}).then(fe=>M(BigInt(fe))).catch(console.error):console.warn("Unable to load solana rpc, skipping balance")},[]);let[ee,J]=x.useState(),{tokenPrice:oe}=hC("solana"),{fundingAmountInBaseUnit:de,fundingAmountInUsd:ae}=function({amount:be,fee:fe,tokenPrice:ke,isUsdc:we}){let Ue=BigInt(Math.floor(parseFloat(be)*10**(we?6:9))),Me=we?Ue:Ue+fe;return{fundingAmountInBaseUnit:Ue,fundingAmountInUsd:ke?RO(Ue,ke):void 0,totalPriceInUsd:ke?RO(Me,ke):void 0,totalPriceInNativeCurrency:uS(Me),feePriceInNativeCurrency:uS(fe),feePriceInUsd:ke?RO(fe,ke):void 0}}({amount:T,fee:0n,tokenPrice:oe,isUsdc:l.funding.isUSDC});if(x.useEffect(()=>{(async()=>{if(!I||!P)return;let be=["solana:testnet","solana:devnet"].includes(C);be&&console.warn("Solana testnets are not supported for bridging");let fe=WV(a.chains).filter(({testnet:_e})=>!!_e===be),ke=(await I8e({chains:fe,address:P.address,appId:n,rpcConfig:e})).filter(_e=>_e.balance>0n);if(ke.length<1)return void h(new ue(`Wallet ${Xo(P.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE));ke.sort((_e,xe)=>Number(xe.balance-_e.balance));let we=(await Promise.allSettled(ke.map(async _e=>({..._e,quote:await mE({isTestnet:!1,input:l2({amount:de.toString(),user:P.address,recipient:k,destinationChainId:bU,destinationCurrency:vU,originChainId:_e.chain.id})})})))).filter(_e=>_e.status==="fulfilled").map(_e=>_e.value);if(we.length<1)return void h(new ue(`Unable to fetch quotes for bridging. Wallet ${Xo(P.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE));let Ue=we.map(({quote:_e,balance:xe,chain:Oe})=>({bridgeTx:z7(_e),balance:xe,chain:Oe,isErc20Quote:!1})).filter(({bridgeTx:_e})=>!!_e);if(Ue.length>1)return void g(Ue);let Me=Ue.at(0);Me?(E(!0),J({data:Me.bridgeTx.data,to:Me.bridgeTx.to,value:Me.bridgeTx.value,chain:Me.chain})):h(new ue(`Unable to select bridge option from quotes. Wallet ${Xo(P.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE))})().catch(console.error)},[I]),x.useEffect(()=>{(async()=>{let be,fe;if(!I||!P||v||$||!ee)return;b(!0);let ke=Hp({chain:ee.chain,transport:Vp(Zp(ee.chain,e,n))});try{be=await ke.prepareTransactionRequest({account:P.address,to:ee.to,chain:ee.chain,data:ee.data,value:BigInt(ee.value??0)})}catch(we){console.error(we),m.length>1&&p(we.shortMessage??"Something went wrong")}if(be){b(!1),N(!0);try{await I.switchChain({id:ee.chain.id})}catch{await I.addChain({chain:ee.chain}),await I.switchChain({id:ee.chain.id})}try{fe=await I.sendTransaction(be)}catch(we){console.error(we),we.name==="TransactionExecutionError"&&(m.length<1?h(new ue(we.shortMessage,void 0,pe.TRANSACTION_FAILURE)):p(we.shortMessage??"Something went wrong"))}if(fe)return await I.waitForTransactionReceipt({hash:fe}),A?(B("pending"),void W(fe)):(N(!1),j(!0),void i({eventName:nf,payload:{provider:"external",status:"success",txHash:fe,address:P.address,chainId:ee.chain.id,chainType:"ethereum",value:ee.value?Wa(BigInt(ee.value),18):void 0,token:"ETH",destination:k,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:Wa(de,9),destinationToken:"SOL"}}));N(!1)}else b(!1)})().catch(console.error)},[I,ee]),KG({transactionHash:F,isTestnet:!1,bridgingStatus:V,setBridgingStatus:B,onSuccess({transactionHash:be}){E(!1),j(!0),i({eventName:nf,payload:{provider:"external",status:"success",txHash:be,address:P==null?void 0:P.address,chainId:ee==null?void 0:ee.chain.id,chainType:"ethereum",value:ee!=null&&ee.value?Wa(BigInt(ee.value),18):void 0,token:"ETH",destination:k,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:Wa(de,9),destinationToken:"SOL"}})},onFailure({error:be}){E(!1),h(be)}}),x.useEffect(()=>{u&&(o({funding:l==null?void 0:l.funding,solanaFundingData:l==null?void 0:l.solanaFundingData,sendTransaction:l==null?void 0:l.sendTransaction,errorModalData:{error:u,previousScreen:gC}}),s(Yr,!1))},[u]),x.useEffect(()=>{if(!R)return;let be=setTimeout(r,CG);return()=>clearTimeout(be)},[R]),R)return d.jsxs(d.Fragment,{children:[d.jsx(su,{}),d.jsx(hf,{}),d.jsxs(uN,{children:[d.jsx(l$,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(Sd,{title:"Success!",description:`Youve successfully added ${T} SOL to your ${a.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(Nd,{}),d.jsx(er,{})]});let he=m[y];return m.length>1&&he?d.jsx(O8e,{displayName:O,configuredFundingChain:C,formattedBalance:Q,fundingAmount:T,fundingCurrency:"SOL",fundingAmountInUsd:ae,options:m,selectedOption:he,isPreparing:v,isSubmitting:$,addressToFund:k,fundingWalletAddress:(P==null?void 0:P.address)||"",errorMessage:f,onSubmit:()=>{var be;((be=l.funding)==null?void 0:be.amount)!==T?async function(){if(P&&he)try{let fe=await mE({isTestnet:!1,input:l2({amount:de.toString(),user:P.address,recipient:k,destinationChainId:bU,destinationCurrency:vU,originChainId:he.chain.id})}),ke=z7(fe);if(!ke)throw Error("Invalid transaction request");E(!0),J({data:ke.data,to:ke.to,value:ke.value,chain:he.chain})}catch(fe){console.error(fe),h(new ue("Unable to fetch quotes for bridging",fe,pe.INSUFFICIENT_BALANCE))}}().catch(console.error):J({to:he.bridgeTx.to,data:he.bridgeTx.data,value:he.bridgeTx.value,chain:he.chain})},onSelect:be=>{be!==y&&(p(null),w(be))},onAmountChange:_}):$&&P?d.jsx(eK,{walletClientType:(P==null?void 0:P.walletClientType)||"unknown",displayName:O,addressToFund:k,isBridging:A,isErc20Flow:!1,chainId:"solana",chainName:IN(C),totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):d.jsxs(d.Fragment,{children:[d.jsx(su,{}),d.jsx(n5,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(er,{})]})}},tNt=({address:t,accessToken:e,appConfigTheme:n,onClose:r,isLoading:i=!1,exportButtonProps:s})=>d.jsx(Rn,{title:"Export wallet",subtitle:d.jsxs(d.Fragment,{children:["Copy either your private key or seed phrase to export your wallet."," ",d.jsx("a",{href:"https://privy-io.notion.site/Transferring-your-account-9dab9e16c6034a7ab1ff7fa479b02828",target:"blank",rel:"noopener noreferrer",children:"Learn more"})]}),onClose:r,watermark:!0,children:d.jsxs(nNt,{children:[d.jsx(z8e,{theme:n,children:"Never share your private key or seed phrase with anyone."}),d.jsx(_N,{title:"Your wallet",address:t,showCopyButton:!0}),d.jsx("div",{style:{width:"100%"},children:i?d.jsx(rNt,{}):e&&s&&d.jsx(oNt,{accessToken:e,dimensions:{height:"44px"},...s})})]})});let nNt=Z.div.withConfig({displayName:"ContentContainer",componentId:"sc-e0132ced-0"})(["display:flex;flex-direction:column;gap:1.25rem;text-align:left;"]),rNt=()=>d.jsx(iNt,{children:d.jsx(sNt,{children:"Loading..."})}),iNt=Z.div.withConfig({displayName:"PlaceholderContainer",componentId:"sc-e0132ced-1"})(["display:flex;gap:12px;height:44px;"]),sNt=Z.div.withConfig({displayName:"PlaceholderButton",componentId:"sc-e0132ced-2"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);function oNt(t){let[e,n]=x.useState(t.dimensions.width),[r,i]=x.useState(void 0),s=x.useRef(null);x.useEffect(()=>{if(s.current&&e===void 0){let{width:l}=s.current.getBoundingClientRect();n(l)}let a=getComputedStyle(document.documentElement);i({background:a.getPropertyValue("--privy-color-background"),background2:a.getPropertyValue("--privy-color-background-2"),foreground3:a.getPropertyValue("--privy-color-foreground-3"),foregroundAccent:a.getPropertyValue("--privy-color-foreground-accent"),accent:a.getPropertyValue("--privy-color-accent"),accentDark:a.getPropertyValue("--privy-color-accent-dark"),success:a.getPropertyValue("--privy-color-success"),colorScheme:a.getPropertyValue("color-scheme")})},[]);let o=t.chainType==="ethereum"&&!t.imported&&!t.isUnifiedWallet;return d.jsx("div",{ref:s,children:e&&d.jsxs(aNt,{children:[d.jsx("iframe",{style:{position:"absolute",zIndex:1},width:e,height:t.dimensions.height,allow:"clipboard-write self *",src:U6e(t.origin,`/apps/${t.appId}/embedded-wallets/export`,t.isUnifiedWallet?{v:"1-unified",wallet_id:t.walletId,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:o,...r}:{v:"1",entropy_id:t.entropyId,entropy_id_verifier:t.entropyIdVerifier,hd_wallet_index:t.hdWalletIndex,chain_type:t.chainType,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:o,...r},{token:t.accessToken})}),d.jsx($oe,{children:"Loading..."}),o&&d.jsx($oe,{children:"Loading..."})]})})}const q8e={component:()=>{let[t,e]=x.useState(null),{authenticated:n,user:r}=Sn(),{closePrivyModal:i,createAnalyticsEvent:s,clientAnalyticsId:o,client:a}=st(),l=Fn(),{data:c,onUserCloseViaDialogOrKeybindRef:u}=lt(),{onFailure:h,onSuccess:f,origin:p,appId:m,appClientId:g,entropyId:y,entropyIdVerifier:w,walletId:v,hdWalletIndex:b,chainType:A,address:E,isUnifiedWallet:$,imported:N}=c.keyExport,R=F=>{i({shouldCallAuthOnSuccess:!1}),h(typeof F=="string"?Error(F):F)},j=()=>{i({shouldCallAuthOnSuccess:!1}),f(),s({eventName:"embedded_wallet_key_export_completed",payload:{walletAddress:E}})};return x.useEffect(()=>{if(!n)return R("User must be authenticated before exporting their wallet");a.getAccessToken().then(e).catch(R)},[n,r]),u.current=j,d.jsx(tNt,{address:E,accessToken:t,appConfigTheme:l.appearance.palette.colorScheme,onClose:j,isLoading:!t,exportButtonProps:t?{origin:p,appId:m,appClientId:g,clientAnalyticsId:o,entropyId:y,entropyIdVerifier:w,walletId:v,hdWalletIndex:b,isUnifiedWallet:$,imported:N,chainType:A}:void 0})}};let aNt=Z.div.withConfig({displayName:"ButtonContainer",componentId:"sc-e0132ced-3"})(["overflow:visible;position:relative;overflow:none;height:44px;display:flex;gap:12px;"]),$oe=Z.div.withConfig({displayName:"LoadingButton",componentId:"sc-e0132ced-4"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);const lNt=({connectionFailed:t,onClose:e})=>d.jsx(Rn,t?{title:"Something went wrong",subtitle:"We're on it. Please try again later.",icon:I$,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Connecting to your wallet",subtitle:"Please wait...",iconVariant:"loading",showClose:!0,onClose:e,watermark:!1}),s6={component:()=>{let{authenticated:t,user:e}=Sn(),{client:n,closePrivyModal:r,createAnalyticsEvent:i,walletProxy:s}=st(),{navigate:o,data:a,setModalData:l,onUserCloseViaDialogOrKeybindRef:c}=lt(),u=x.useMemo(()=>Date.now(),[]),[h,f]=x.useState(!1),{onCompleteNavigateTo:p,onFailure:m,shouldForceMFA:g,entropyId:y,entropyIdVerifier:w,recoveryMethod:v,connectingWalletAddress:b,isUnifiedWallet:A=!1}=a==null?void 0:a.connectWallet,E=$=>{h||(f(!0),m(typeof $=="string"?Error($):$))};return x.useEffect(()=>{let $;return t?s?((async()=>{let N=await n.getAccessToken();if(!N)return E("User must be authenticated and have a Privy wallet before it can be connected");try{A||await s.connect({accessToken:N,entropyId:y,entropyIdVerifier:w}),g&&await s.verifyMfa({accessToken:N});let R=(Date.now()-u)/1e3;p===q8e&&R<1?$=setTimeout(()=>{o(p,!1)},1e3*(1-R)):o(p,!1)}catch(R){if(pE(R)&&v==="privy"){let j=await n.getAccessToken();if(!j)return E("User must be authenticated and have a Privy wallet before it can be recovered");try{i({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:b}});let F=await(s==null?void 0:s.recover({accessToken:j,entropyId:y,entropyIdVerifier:w}));F!=null&&F.entropyId||E(Error("Unable to recover wallet")),p?o(p):r({shouldCallAuthOnSuccess:!1}),i({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:b}}),o(p)}catch{E("An error has occurred, please try again.")}}else pE(R)&&v!=="privy"&&v!=="privy-v2"?(l({...a,recoverWallet:{entropyId:y,entropyIdVerifier:w,onCompleteNavigateTo:p,onFailure:m},recoveryOAuthStatus:{provider:v,action:"recover",isInAccountCreateFlow:!1,shouldCreateEth:!1,shouldCreateSol:!1}}),o(E8e(v))):E(R)}})(),()=>clearTimeout($)):void 0:E("User must be authenticated and have a Privy wallet before it can be connected")},[t,e,s]),c.current=()=>{E("User exited before wallet could be connected"),r({shouldCallAuthOnSuccess:!1})},d.jsx(lNt,{connectionFailed:h,onClose:()=>r({shouldCallAuthOnSuccess:!1})})}},cNt=({style:t,color:e,...n})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:e||"currentColor",style:{height:"1.5rem",width:"1.5rem",...t},...n,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),tK=t=>{let[e,n]=x.useState(!1);return d.jsxs(uNt,{color:t.color,onClick:()=>{n(!0),navigator.clipboard.writeText(t.text),setTimeout(()=>n(!1),1500)},$justCopied:e,children:[e?d.jsx(cNt,{style:{height:"14px",width:"14px"},strokeWidth:"2"}):d.jsx(V4e,{style:{height:"14px",width:"14px"}}),e?"Copied":"Copy"," ",t.itemName?t.itemName:"to Clipboard"]})};let uNt=Z.button.withConfig({displayName:"StyledCopytoClipboardButton",componentId:"sc-46f4187f-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],t=>t.$justCopied?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)",t=>t.$justCopied?"medium":"normal",t=>t.$justCopied?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)");const dNt=Z.img.withConfig({displayName:"StyledLogo",componentId:"sc-68c1b1ea-0"})(["&&{height:",";width:",";border-radius:16px;margin-bottom:12px;}"],t=>t.size==="sm"?"65px":"140px",t=>t.size==="sm"?"65px":"140px");let hNt=t=>{if(!Ro(t))return t;try{let e=vFe(t);return e.includes("")?t:e}catch{return t}},fNt=t=>{try{let e=Z9.decode(t),n=new TextDecoder().decode(e);return n.includes("")?t:n}catch{return t}},pNt=t=>JSON.stringify(t,null,2),mNt=t=>{let{types:e,primaryType:n,...r}=t.typedData;return d.jsxs(d.Fragment,{children:[d.jsx(bNt,{data:r}),d.jsx(tK,{text:pNt(t.typedData),itemName:"full payload to clipboard"})," "]})};const gNt=({method:t,messageData:e,copy:n,iconUrl:r,isLoading:i,success:s,walletProxyIsLoading:o,errorMessage:a,isCancellable:l,onSign:c,onCancel:u,onClose:h})=>d.jsx(Rn,{title:n.title,subtitle:n.description,showClose:!0,onClose:h,icon:Sht,iconVariant:"subtle",helpText:a?d.jsx(wNt,{children:a}):void 0,primaryCta:{label:n.buttonText,onClick:c,disabled:i||s||o,loading:i},secondaryCta:l?{label:"Not now",onClick:u,disabled:i||s||o}:void 0,watermark:!0,children:d.jsxs(BG,{children:[r?d.jsx(dNt,{style:{alignSelf:"center"},size:"sm",src:r,alt:"app image"}):null,d.jsxs(yNt,{children:[t==="personal_sign"&&d.jsx(Poe,{children:hNt(e)}),t==="eth_signTypedData_v4"&&d.jsx(mNt,{typedData:e}),t==="solana_signMessage"&&d.jsx(Poe,{children:fNt(e)})]})]})}),Noe={component:()=>{let{authenticated:t}=Sn(),{initializeWalletProxy:e,closePrivyModal:n}=st(),{navigate:r,data:i,onUserCloseViaDialogOrKeybindRef:s}=lt(),[o,a]=x.useState(!0),[l,c]=x.useState(""),[u,h]=x.useState(),[f,p]=x.useState(null),[m,g]=x.useState(!1);x.useEffect(()=>{t||r(Lo)},[t]),x.useEffect(()=>{e(3e4).then(R=>{a(!1),R||(c("An error has occurred, please try again."),h(new xo(new o2(l,Xu.E32603_DEFAULT_INTERNAL_ERROR.eipCode))))})},[]);let{method:y,data:w,confirmAndSign:v,onSuccess:b,onFailure:A,uiOptions:E}=i.signMessage,$={title:(E==null?void 0:E.title)||"Sign message",description:(E==null?void 0:E.description)||"Signing this message will not cost you any fees.",buttonText:(E==null?void 0:E.buttonText)||"Sign and continue"},N=R=>{R?b(R):A(u||new xo(new o2("The user rejected the request.",Xu.E4001_USER_REJECTED_REQUEST.eipCode))),n({shouldCallAuthOnSuccess:!1}),setTimeout(()=>{p(null),c(""),h(void 0)},200)};return s.current=()=>{N(f)},d.jsx(gNt,{method:y,messageData:w,copy:$,iconUrl:E!=null&&E.iconUrl&&typeof E.iconUrl=="string"?E.iconUrl:void 0,isLoading:m,success:f!==null,walletProxyIsLoading:o,errorMessage:l,isCancellable:E==null?void 0:E.isCancellable,onSign:async()=>{g(!0),c("");try{let R=await v();p(R),g(!1),setTimeout(()=>{N(R)},Wr)}catch(R){console.error(R),c("An error has occurred, please try again."),h(new xo(new o2(l,Xu.E32603_DEFAULT_INTERNAL_ERROR.eipCode))),g(!1)}},onCancel:()=>N(null),onClose:()=>N(f)})}};let yNt=Z.div.withConfig({displayName:"MessageContainer",componentId:"sc-e01d451f-0"})(["flex:1;display:flex;flex-direction:column;gap:16px;"]),wNt=Z.p.withConfig({displayName:"ErrorText",componentId:"sc-e01d451f-1"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-error-dark);font-size:14px;line-height:22px;}"]),bNt=Z(U8e).withConfig({displayName:"StyledDisplayJsonTree",componentId:"sc-e01d451f-2"})(["margin-top:0;"]),Poe=Z(F8e).withConfig({displayName:"StyledMessage",componentId:"sc-e01d451f-3"})(["margin-top:0;"]);class rf{constructor(e,n){this.scope=e,this.module=n}storeObject(e,n){this.setItem(e,JSON.stringify(n))}loadObject(e){const n=this.getItem(e);return n?JSON.parse(n):void 0}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(e)&&n.push(i)}n.forEach(r=>localStorage.removeItem(r))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new rf("CBWSDK").clear(),new rf("walletlink").clear()}}const Ei={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},RU={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},G8e="Unspecified error message.",vNt="Unspecified server error.";function nK(t,e=G8e){if(t&&Number.isInteger(t)){const n=t.toString();if(jU(RU,n))return RU[n].message;if(K8e(t))return vNt}return e}function xNt(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(RU[e]||K8e(t))}function ENt(t,{shouldIncludeStack:e=!1}={}){const n={};if(t&&typeof t=="object"&&!Array.isArray(t)&&jU(t,"code")&&xNt(t.code)){const r=t;n.code=r.code,r.message&&typeof r.message=="string"?(n.message=r.message,jU(r,"data")&&(n.data=r.data)):(n.message=nK(n.code),n.data={originalError:Roe(t)})}else n.code=Ei.rpc.internal,n.message=joe(t,"message")?t.message:G8e,n.data={originalError:Roe(t)};return e&&(n.stack=joe(t,"stack")?t.stack:void 0),n}function K8e(t){return t>=-32099&&t<=-32e3}function Roe(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function jU(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function joe(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const Wn={rpc:{parse:t=>bc(Ei.rpc.parse,t),invalidRequest:t=>bc(Ei.rpc.invalidRequest,t),invalidParams:t=>bc(Ei.rpc.invalidParams,t),methodNotFound:t=>bc(Ei.rpc.methodNotFound,t),internal:t=>bc(Ei.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return bc(e,t)},invalidInput:t=>bc(Ei.rpc.invalidInput,t),resourceNotFound:t=>bc(Ei.rpc.resourceNotFound,t),resourceUnavailable:t=>bc(Ei.rpc.resourceUnavailable,t),transactionRejected:t=>bc(Ei.rpc.transactionRejected,t),methodNotSupported:t=>bc(Ei.rpc.methodNotSupported,t),limitExceeded:t=>bc(Ei.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Ob(Ei.provider.userRejectedRequest,t),unauthorized:t=>Ob(Ei.provider.unauthorized,t),unsupportedMethod:t=>Ob(Ei.provider.unsupportedMethod,t),disconnected:t=>Ob(Ei.provider.disconnected,t),chainDisconnected:t=>Ob(Ei.provider.chainDisconnected,t),unsupportedChain:t=>Ob(Ei.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new Z8e(e,n,r)}}};function bc(t,e){const[n,r]=Y8e(e);return new Q8e(t,n||nK(t),r)}function Ob(t,e){const[n,r]=Y8e(e);return new Z8e(t,n||nK(t),r)}function Y8e(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}class Q8e extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}}class Z8e extends Q8e{constructor(e,n,r){if(!ANt(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}function ANt(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function rK(){return t=>t}const gE=rK(),CNt=rK(),kNt=rK();function qf(t){return Math.floor(t)}const J8e=/^[0-9]*$/,X8e=/^[a-f0-9]*$/;function py(t){return iK(crypto.getRandomValues(new Uint8Array(t)))}function iK(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function mS(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function k4(t,e=!1){const n=t.toString("hex");return gE(e?`0x${n}`:n)}function FO(t){return k4(OU(t),!0)}function Vd(t){return kNt(t.toString(10))}function Wm(t){return gE(`0x${BigInt(t).toString(16)}`)}function eEe(t){return t.startsWith("0x")||t.startsWith("0X")}function sK(t){return eEe(t)?t.slice(2):t}function tEe(t){return eEe(t)?`0x${t.slice(2)}`:`0x${t}`}function TN(t){if(typeof t!="string")return!1;const e=sK(t).toLowerCase();return X8e.test(e)}function SNt(t,e=!1){if(typeof t=="string"){const n=sK(t).toLowerCase();if(X8e.test(n))return gE(e?`0x${n}`:n)}throw Wn.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function oK(t,e=!1){let n=SNt(t,!1);return n.length%2===1&&(n=gE(`0${n}`)),e?gE(`0x${n}`):n}function P0(t){if(typeof t=="string"){const e=sK(t).toLowerCase();if(TN(e)&&e.length===40)return CNt(tEe(e))}throw Wn.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}function OU(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(TN(t)){const e=oK(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw Wn.rpc.invalidParams(`Not binary data: ${String(t)}`)}function S4(t){if(typeof t=="number"&&Number.isInteger(t))return qf(t);if(typeof t=="string"){if(J8e.test(t))return qf(Number(t));if(TN(t))return qf(Number(BigInt(oK(t,!0))))}throw Wn.rpc.invalidParams(`Not an integer: ${String(t)}`)}function o6(t){if(t!==null&&(typeof t=="bigint"||INt(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(S4(t));if(typeof t=="string"){if(J8e.test(t))return BigInt(t);if(TN(t))return BigInt(oK(t,!0))}throw Wn.rpc.invalidParams(`Not an integer: ${String(t)}`)}function _Nt(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw Wn.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}function INt(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}async function TNt(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function $Nt(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function NNt(t,e){const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,new TextEncoder().encode(e));return{iv:n,cipherText:r}}async function PNt(t,{iv:e,cipherText:n}){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(r)}function nEe(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function rEe(t,e){const n=nEe(t),r=await crypto.subtle.exportKey(n,e);return iK(new Uint8Array(r))}async function iEe(t,e){const n=nEe(t),r=mS(e).buffer;return await crypto.subtle.importKey(n,new Uint8Array(r),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function RNt(t,e){const n=JSON.stringify(t,(r,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return NNt(e,n)}async function jNt(t,e){return JSON.parse(await PNt(e,t))}const UO={storageKey:"ownPrivateKey",keyType:"private"},zO={storageKey:"ownPublicKey",keyType:"public"},WO={storageKey:"peerPublicKey",keyType:"public"};class ONt{constructor(){this.storage=new rf("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(WO,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(zO.storageKey),this.storage.removeItem(UO.storageKey),this.storage.removeItem(WO.storageKey)}async generateKeyPair(){const e=await TNt();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(UO,e.privateKey),await this.storeKey(zO,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(UO)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(zO)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(WO)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await $Nt(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const n=this.storage.getItem(e.storageKey);return n?iEe(e.keyType,n):null}async storeKey(e,n){const r=await rEe(e.keyType,n);this.storage.setItem(e.storageKey,r)}}const yC="4.3.2",sEe="@coinbase/wallet-sdk";async function aK(t,e){const n=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),r=await window.fetch(e,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":yC,"X-Cbw-Sdk-Platform":sEe}}),{result:i,error:s}=await r.json();if(s)throw s;return i}function MNt(){return globalThis.coinbaseWalletExtension}function DNt(){var t,e;try{const n=globalThis;return(t=n.ethereum)!==null&&t!==void 0?t:(e=n.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function BNt({metadata:t,preference:e}){var n,r;const{appName:i,appLogoUrl:s,appChainIds:o}=t;if(e.options!=="smartWalletOnly"){const l=MNt();if(l)return(n=l.setAppInfo)===null||n===void 0||n.call(l,i,s,o,e),l}const a=DNt();if(a!=null&&a.isCoinbaseBrowser)return(r=a.setAppInfo)===null||r===void 0||r.call(a,i,s,o,e),a}function LNt(t){if(!t||typeof t!="object"||Array.isArray(t))throw Wn.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:n}=t;if(typeof e!="string"||e.length===0)throw Wn.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Wn.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw Wn.provider.unsupportedMethod()}}const Ooe="accounts",Moe="activeChain",Doe="availableChains",Boe="walletCapabilities";class FNt{constructor(e){var n,r,i;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new ONt,this.storage=new rf("CBWSDK","SCWStateManager"),this.accounts=(n=this.storage.loadObject(Ooe))!==null&&n!==void 0?n:[],this.chain=this.storage.loadObject(Moe)||{id:(i=(r=e.metadata.appChainIds)===null||r===void 0?void 0:r[0])!==null&&i!==void 0?i:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var n,r,i,s;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const o=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(i=e.params)!==null&&i!==void 0?i:{})}}),a=await this.communicator.postRequestAndWaitForResponse(o);if("failure"in a.content)throw a.content.failure;const l=await iEe("public",a.sender);await this.keyManager.setPeerPublicKey(l);const u=(await this.decryptResponseMessage(a)).result;if("error"in u)throw u.error;switch(e.method){case"eth_requestAccounts":{const h=u.value;this.accounts=h,this.storage.storeObject(Ooe,h),(s=this.callback)===null||s===void 0||s.call(this,"accountsChanged",h);break}}}async request(e){var n;if(this.accounts.length===0)switch(e.method){case"wallet_sendCalls":return this.sendRequestToPopup(e);default:throw Wn.provider.unauthorized()}switch(e.method){case"eth_requestAccounts":return(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Wm(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return Wm(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(Boe);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw Wn.rpc.internal("No RPC URL set for chain");return aK(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var n,r;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const i=await this.sendEncryptedRequest(e),o=(await this.decryptResponseMessage(i)).result;if("error"in o)throw o.error;return o.value}async cleanup(){var e,n;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(n=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&n!==void 0?n:1}}async handleSwitchChainRequest(e){var n;const r=e.params;if(!r||!(!((n=r[0])===null||n===void 0)&&n.chainId))throw Wn.rpc.invalidParams();const i=S4(r[0].chainId);if(this.updateChain(i))return null;const o=await this.sendRequestToPopup(e);return o===null&&this.updateChain(i),o}async sendEncryptedRequest(e){const n=await this.keyManager.getSharedSecret();if(!n)throw Wn.provider.unauthorized("No valid session found, try requestAccounts before other methods");const r=await RNt({action:e,chainId:this.chain.id},n),i=await this.createRequestMessage({encrypted:r});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const n=await rEe("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:n,content:e,timestamp:new Date}}async decryptResponseMessage(e){var n,r;const i=e.content;if("failure"in i)throw i.failure;const s=await this.keyManager.getSharedSecret();if(!s)throw Wn.provider.unauthorized("Invalid session");const o=await jNt(i.encrypted,s),a=(n=o.data)===null||n===void 0?void 0:n.chains;if(a){const c=Object.entries(a).map(([u,h])=>({id:Number(u),rpcUrl:h}));this.storage.storeObject(Doe,c),this.updateChain(this.chain.id,c)}const l=(r=o.data)===null||r===void 0?void 0:r.capabilities;return l&&this.storage.storeObject(Boe,l),o}updateChain(e,n){var r;const i=n??this.storage.loadObject(Doe),s=i==null?void 0:i.find(o=>o.id===e);return s?(s!==this.chain&&(this.chain=s,this.storage.storeObject(Moe,s),(r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Wm(s.id))),!0):!1}}const UNt=w3(fmt),{keccak_256:zNt}=UNt;function oEe(t){return Buffer.allocUnsafe(t).fill(0)}function WNt(t){return t.toString(2).length}function aEe(t,e){let n=t.toString(16);n.length%2!==0&&(n="0"+n);const r=n.match(/.{1,2}/g).map(i=>parseInt(i,16));for(;r.length<e;)r.unshift(0);return Buffer.from(r)}function HNt(t,e){const n=t<0n;let r;if(n){const i=(1n<<BigInt(e))-1n;r=(~t&i)+1n}else r=t;return r&=(1n<<BigInt(e))-1n,r}function lEe(t,e,n){const r=oEe(e);return t=$N(t),n?t.length<e?(t.copy(r),r):t.slice(0,e):t.length<e?(t.copy(r,e-t.length),r):t.slice(-e)}function VNt(t,e){return lEe(t,e,!0)}function $N(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")cEe(t)?t=Buffer.from(KNt(uEe(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(typeof t=="bigint")t=aEe(t);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function qNt(t){return t=$N(t),"0x"+t.toString("hex")}function GNt(t,e){if(t=$N(t),e||(e=256),e!==256)throw new Error("unsupported");return Buffer.from(zNt(new Uint8Array(t)))}function KNt(t){return t.length%2?"0"+t:t}function cEe(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function uEe(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var dEe={zeros:oEe,setLength:lEe,setLengthRight:VNt,isHexString:cEe,stripHexPrefix:uEe,toBuffer:$N,bufferToHex:qNt,keccak:GNt,bitLengthFromBigInt:WNt,bufferBEFromBigInt:aEe,twosFromBigInt:HNt};const Ko=dEe;function hEe(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function u2(t){return Number.parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Loe(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[Number.parseInt(e[1],10),Number.parseInt(e[2],10)]}function fEe(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":Number.parseInt(e[2],10):null}function my(t){var e=typeof t;if(e==="string"||e==="number")return BigInt(t);if(e==="bigint")return t;throw new Error("Argument is not a number")}function ih(t,e){var n,r,i,s;if(t==="address")return ih("uint160",my(e));if(t==="bool")return ih("uint8",e?1:0);if(t==="string")return ih("bytes",new Buffer(e,"utf8"));if(QNt(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(n=fEe(t),n!=="dynamic"&&n!==0&&e.length>n)throw new Error("Elements exceed array size: "+n);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(ih(t,e[s]));if(n==="dynamic"){var o=ih("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([ih("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Ko.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(n=u2(t),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return Ko.setLengthRight(e,32)}else if(t.startsWith("uint")){if(n=u2(t),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);r=my(e);const a=Ko.bitLengthFromBigInt(r);if(a>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+a);if(r<0)throw new Error("Supplied uint is negative");return Ko.bufferBEFromBigInt(r,32)}else if(t.startsWith("int")){if(n=u2(t),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);r=my(e);const a=Ko.bitLengthFromBigInt(r);if(a>n)throw new Error("Supplied int exceeds width: "+n+" vs "+a);const l=Ko.twosFromBigInt(r,256);return Ko.bufferBEFromBigInt(l,32)}else if(t.startsWith("ufixed")){if(n=Loe(t),r=my(e),r<0)throw new Error("Supplied ufixed is negative");return ih("uint256",r*BigInt(2)**BigInt(n[1]))}else if(t.startsWith("fixed"))return n=Loe(t),ih("int256",my(e)*BigInt(2)**BigInt(n[1]))}throw new Error("Unsupported or invalid type: "+t)}function YNt(t){return t==="string"||t==="bytes"||fEe(t)==="dynamic"}function QNt(t){return t.lastIndexOf("]")===t.length-1}function ZNt(t,e){var n=[],r=[],i=32*t.length;for(var s in t){var o=hEe(t[s]),a=e[s],l=ih(o,a);YNt(o)?(n.push(ih("uint256",i)),r.push(l),i+=l.length):n.push(l)}return Buffer.concat(n.concat(r))}function pEe(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var n,r,i=[],s=0;s<t.length;s++){var o=hEe(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Ko.setLength(a,20));else if(o.startsWith("bytes")){if(n=u2(o),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);i.push(Ko.setLengthRight(a,n))}else if(o.startsWith("uint")){if(n=u2(o),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);r=my(a);const l=Ko.bitLengthFromBigInt(r);if(l>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+l);i.push(Ko.bufferBEFromBigInt(r,n/8))}else if(o.startsWith("int")){if(n=u2(o),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);r=my(a);const l=Ko.bitLengthFromBigInt(r);if(l>n)throw new Error("Supplied int exceeds width: "+n+" vs "+l);const c=Ko.twosFromBigInt(r,n);i.push(Ko.bufferBEFromBigInt(c,n/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function JNt(t,e){return Ko.keccak(pEe(t,e))}var XNt={rawEncode:ZNt,solidityPack:pEe,soliditySHA3:JNt};const Tu=dEe,_4=XNt,mEe={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},HO={encodeData(t,e,n,r=!0){const i=["bytes32"],s=[this.hashType(t,n)];if(r){const o=(a,l,c)=>{if(n[l]!==void 0)return["bytes32",c==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Tu.keccak(this.encodeData(l,c,n,r))];if(c===void 0)throw new Error(`missing value for field ${a} of type ${l}`);if(l==="bytes")return["bytes32",Tu.keccak(c)];if(l==="string")return typeof c=="string"&&(c=Buffer.from(c,"utf8")),["bytes32",Tu.keccak(c)];if(l.lastIndexOf("]")===l.length-1){const u=l.slice(0,l.lastIndexOf("[")),h=c.map(f=>o(a,u,f));return["bytes32",Tu.keccak(_4.rawEncode(h.map(([f])=>f),h.map(([,f])=>f)))]}return[l,c]};for(const a of n[t]){const[l,c]=o(a.name,a.type,e[a.name]);i.push(l),s.push(c)}}else for(const o of n[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Tu.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Tu.keccak(a),s.push(a);else if(n[o.type]!==void 0)i.push("bytes32"),a=Tu.keccak(this.encodeData(o.type,a,n,r)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return _4.rawEncode(i,s)},encodeType(t,e){let n="",r=this.findTypeDependencies(t,e).filter(i=>i!==t);r=[t].concat(r.sort());for(const i of r){if(!e[i])throw new Error("No type definition specified: "+i);n+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return n},findTypeDependencies(t,e,n=[]){if(t=t.match(/^\w*/)[0],n.includes(t)||e[t]===void 0)return n;n.push(t);for(const r of e[t])for(const i of this.findTypeDependencies(r.type,e,n))!n.includes(i)&&n.push(i);return n},hashStruct(t,e,n,r=!0){return Tu.keccak(this.encodeData(t,e,n,r))},hashType(t,e){return Tu.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const n in mEe.properties)t[n]&&(e[n]=t[n]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const n=this.sanitizeData(t),r=[Buffer.from("1901","hex")];return r.push(this.hashStruct("EIP712Domain",n.domain,n.types,e)),n.primaryType!=="EIP712Domain"&&r.push(this.hashStruct(n.primaryType,n.message,n.types,e)),Tu.keccak(Buffer.concat(r))}};var ePt={TYPED_MESSAGE_SCHEMA:mEe,TypedDataUtils:HO,hashForSignTypedDataLegacy:function(t){return tPt(t.data)},hashForSignTypedData_v3:function(t){return HO.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return HO.hash(t.data)}};function tPt(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const n=t.map(function(s){return s.type==="bytes"?Tu.toBuffer(s.value):s.value}),r=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return _4.soliditySHA3(["bytes32","bytes32"],[_4.soliditySHA3(new Array(t.length).fill("string"),i),_4.soliditySHA3(r,n)])}const Zk=Ks(ePt),nPt="walletUsername",MU="Addresses",rPt="AppVersion";function Bs(t){return t.errorMessage!==void 0}class iPt{constructor(e){this.secret=e}async encrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",mS(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,s.encode(e)),a=16,l=o.slice(o.byteLength-a),c=o.slice(0,o.byteLength-a),u=new Uint8Array(l),h=new Uint8Array(c),f=new Uint8Array([...r,...u,...h]);return iK(f)}async decrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");return new Promise((r,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",mS(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=mS(e),a=o.slice(0,12),l=o.slice(12,28),c=o.slice(28),u=new Uint8Array([...c,...l]),h={name:"AES-GCM",iv:new Uint8Array(a)};try{const f=await window.crypto.subtle.decrypt(h,s,u),p=new TextDecoder;r(p.decode(f))}catch(f){i(f)}})()})}}class sPt{constructor(e,n,r){this.linkAPIUrl=e,this.sessionId=n;const i=`${n}:${r}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(n=>fetch(`${this.linkAPIUrl}/events/${n.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(n=>console.error("Unabled to mark event as failed:",n))}async fetchUnseenEvents(){var e;const n=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(n.ok){const{events:r,error:i}=await n.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=r==null?void 0:r.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${n.status}`)}}var mp;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(mp||(mp={}));class oPt{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,n=WebSocket){this.WebSocketClass=n,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,n)=>{var r;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){n(s);return}(r=this.connectionStateListener)===null||r===void 0||r.call(this,mp.CONNECTING),i.onclose=s=>{var o;this.clearWebSocket(),n(new Error(`websocket error ${s.code}: ${s.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,mp.DISCONNECTED)},i.onopen=s=>{var o;e(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,mp.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(l=>this.sendData(l)),this.pendingData=[])},i.onmessage=s=>{var o,a;if(s.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{const l=JSON.parse(s.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,l)}catch{}}})}disconnect(){var e;const{webSocket:n}=this;if(n){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,mp.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{n.close()}catch{}}}sendData(e){const{webSocket:n}=this;if(!n){this.pendingData.push(e),this.connect();return}n.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}const Foe=1e4,aPt=6e4;class lPt{constructor({session:e,linkAPIUrl:n,listener:r}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=qf(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=s=>{if(!s)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",a=>s.JsonRpcUrl&&this.handleChainUpdated(a,s.JsonRpcUrl)]]).forEach((a,l)=>{const c=s[l];c!==void 0&&a(c)})},this.handleDestroyed=s=>{var o;s==="1"&&((o=this.listener)===null||o===void 0||o.resetAndReload())},this.handleAccountUpdated=async s=>{var o;const a=await this.cipher.decrypt(s);(o=this.listener)===null||o===void 0||o.accountUpdated(a)},this.handleMetadataUpdated=async(s,o)=>{var a;const l=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.metadataUpdated(s,l)},this.handleWalletUsernameUpdated=async s=>{this.handleMetadataUpdated(nPt,s)},this.handleAppVersionUpdated=async s=>{this.handleMetadataUpdated(rPt,s)},this.handleChainUpdated=async(s,o)=>{var a;const l=await this.cipher.decrypt(s),c=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.chainUpdated(l,c)},this.session=e,this.cipher=new iPt(e.secret),this.listener=r;const i=new oPt(`${n}/rpc`,WebSocket);i.setConnectionStateListener(async s=>{let o=!1;switch(s){case mp.DISCONNECTED:if(!this.destroyed){const a=async()=>{await new Promise(l=>setTimeout(l,5e3)),this.destroyed||i.connect().catch(()=>{a()})};a()}break;case mp.CONNECTED:o=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},Foe),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case mp.CONNECTING:break}this.connected!==o&&(this.connected=o)}),i.setIncomingDataListener(s=>{var o;switch(s.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const a=s.type==="IsLinkedOK"?s.linked:void 0;this.linked=a||s.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(s.metadata);break}case"Event":{this.handleIncomingEvent(s);break}}s.id!==void 0&&((o=this.requestResolutions.get(s.id))===null||o===void 0||o(s))}),this.ws=i,this.http=new sPt(n,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:qf(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var n,r;this._linked=e,e&&((n=this.onceLinked)===null||n===void 0||n.call(this)),(r=this.listener)===null||r===void 0||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(n=>{this.linked?e().then(n):this.onceLinked=()=>{e().then(n),this.onceLinked=void 0}})}async handleIncomingEvent(e){var n;if(e.type!=="Event"||e.event!=="Web3Response")return;const r=await this.cipher.decrypt(e.data),i=JSON.parse(r);if(i.type!=="WEB3_RESPONSE")return;const{id:s,response:o}=i;(n=this.listener)===null||n===void 0||n.handleWeb3ResponseMessage(s,o)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(n=>this.handleIncomingEvent(n))}async publishEvent(e,n,r=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:qf(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:r};return this.setOnceLinked(async()=>{const o=await this.makeRequest(s);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Foe*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,n={timeout:aPt}){const r=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,o)=>{i=window.setTimeout(()=>{o(new Error(`request ${r} timed out`))},n.timeout)}),new Promise(s=>{this.requestResolutions.set(r,o=>{clearTimeout(i),s(o),this.requestResolutions.delete(r)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:qf(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:qf(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:qf(this.nextReqId++),sessionId:this.session.id}),!0)}}class cPt{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=tEe(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}}const Uoe="session:id",zoe="session:secret",Woe="session:linked";class d2{constructor(e,n,r,i=!1){this.storage=e,this.id=n,this.secret=r,this.key=K0t(Smt(`${n}, ${r} WalletLink`)),this._linked=!!i}static create(e){const n=py(16),r=py(32);return new d2(e,n,r).save()}static load(e){const n=e.getItem(Uoe),r=e.getItem(Woe),i=e.getItem(zoe);return n&&i?new d2(e,n,i,r==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(Uoe,this.id),this.storage.setItem(zoe,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(Woe,this._linked?"1":"0")}}function uPt(){try{return window.frameElement!==null}catch{return!1}}function dPt(){try{return uPt()&&window.top?window.top.location:window.location}catch{return window.location}}function hPt(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window==null?void 0:window.navigator)===null||t===void 0?void 0:t.userAgent)}function gEe(){var t,e;return(e=(t=window==null?void 0:window.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const fPt='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function yEe(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(fPt)),document.documentElement.appendChild(t)}function wEe(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=wEe(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function I4(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=wEe(t))&&(r&&(r+=" "),r+=e);return r}var NN,Fr,bEe,gy,Hoe,vEe,DU,lK,BU,LU,yE={},xEe=[],pPt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,cK=Array.isArray;function Hm(t,e){for(var n in e)t[n]=e[n];return t}function EEe(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function hr(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?NN.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return gS(t,o,r,i,null)}function gS(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++bEe,__i:-1,__u:0};return i==null&&Fr.vnode!=null&&Fr.vnode(s),s}function PN(t){return t.children}function yS(t,e){this.props=t,this.context=e}function r3(t,e){if(e==null)return t.__?r3(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?r3(t):null}function AEe(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return AEe(t)}}function Voe(t){(!t.__d&&(t.__d=!0)&&gy.push(t)&&!G7.__r++||Hoe!==Fr.debounceRendering)&&((Hoe=Fr.debounceRendering)||vEe)(G7)}function G7(){var t,e,n,r,i,s,o,a;for(gy.sort(DU);t=gy.shift();)t.__d&&(e=gy.length,r=void 0,s=(i=(n=t).__v).__e,o=[],a=[],n.__P&&((r=Hm({},i)).__v=i.__v+1,Fr.vnode&&Fr.vnode(r),uK(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[s]:null,o,s??r3(i),!!(32&i.__u),a),r.__v=i.__v,r.__.__k[r.__i]=r,SEe(o,r,a),r.__e!=s&&AEe(r)),gy.length>e&&gy.sort(DU));G7.__r=0}function CEe(t,e,n,r,i,s,o,a,l,c,u){var h,f,p,m,g,y=r&&r.__k||xEe,w=e.length;for(n.__d=l,mPt(n,e,y),l=n.__d,h=0;h<w;h++)(p=n.__k[h])!=null&&(f=p.__i===-1?yE:y[p.__i]||yE,p.__i=h,uK(t,p,f,i,s,o,a,l,c,u),m=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&dK(f.ref,null,p),u.push(p.ref,p.__c||m,p)),g==null&&m!=null&&(g=m),65536&p.__u||f.__k===p.__k?l=kEe(p,l,t):typeof p.type=="function"&&p.__d!==void 0?l=p.__d:m&&(l=m.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=l,n.__e=g}function mPt(t,e,n){var r,i,s,o,a,l=e.length,c=n.length,u=c,h=0;for(t.__k=[],r=0;r<l;r++)(i=e[r])!=null&&typeof i!="boolean"&&typeof i!="function"?(o=r+h,(i=t.__k[r]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?gS(null,i,null,null,null):cK(i)?gS(PN,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?gS(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=t,i.__b=t.__b+1,s=null,(a=i.__i=gPt(i,n,o,u))!==-1&&(u--,(s=n[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&h--,typeof i.type!="function"&&(i.__u|=65536)):a!==o&&(a==o-1?h--:a==o+1?h++:(a>o?h--:h++,i.__u|=65536))):i=t.__k[r]=null;if(u)for(r=0;r<c;r++)(s=n[r])!=null&&!(131072&s.__u)&&(s.__e==t.__d&&(t.__d=r3(s)),_Ee(s,s))}function kEe(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=kEe(r[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=r3(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function gPt(t,e,n,r){var i=t.key,s=t.type,o=n-1,a=n+1,l=e[n];if(l===null||l&&i==l.key&&s===l.type&&!(131072&l.__u))return n;if(r>(l!=null&&!(131072&l.__u)?1:0))for(;o>=0||a<e.length;){if(o>=0){if((l=e[o])&&!(131072&l.__u)&&i==l.key&&s===l.type)return o;o--}if(a<e.length){if((l=e[a])&&!(131072&l.__u)&&i==l.key&&s===l.type)return a;a++}}return-1}function qoe(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||pPt.test(e)?n:n+"px"}function Jk(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||qoe(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||qoe(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=lK,t.addEventListener(e,s?LU:BU,s)):t.removeEventListener(e,s?LU:BU,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function Goe(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=lK++;else if(e.t<n.u)return;return n(Fr.event?Fr.event(e):e)}}}function uK(t,e,n,r,i,s,o,a,l,c){var u,h,f,p,m,g,y,w,v,b,A,E,$,N,R,j,F=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),s=[a=e.__e=n.__e]),(u=Fr.__b)&&u(e);e:if(typeof F=="function")try{if(w=e.props,v="prototype"in F&&F.prototype.render,b=(u=F.contextType)&&r[u.__c],A=u?b?b.props.value:u.__:r,n.__c?y=(h=e.__c=n.__c).__=h.__E:(v?e.__c=h=new F(w,A):(e.__c=h=new yS(w,A),h.constructor=F,h.render=wPt),b&&b.sub(h),h.props=w,h.state||(h.state={}),h.context=A,h.__n=r,f=h.__d=!0,h.__h=[],h._sb=[]),v&&h.__s==null&&(h.__s=h.state),v&&F.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Hm({},h.__s)),Hm(h.__s,F.getDerivedStateFromProps(w,h.__s))),p=h.props,m=h.state,h.__v=e,f)v&&F.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),v&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(v&&F.getDerivedStateFromProps==null&&w!==p&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(w,A),!h.__e&&(h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(w,h.__s,A)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(h.props=w,h.state=h.__s,h.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(W){W&&(W.__=e)}),E=0;E<h._sb.length;E++)h.__h.push(h._sb[E]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(w,h.__s,A),v&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(p,m,g)})}if(h.context=A,h.props=w,h.__P=t,h.__e=!1,$=Fr.__r,N=0,v){for(h.state=h.__s,h.__d=!1,$&&$(e),u=h.render(h.props,h.state,h.context),R=0;R<h._sb.length;R++)h.__h.push(h._sb[R]);h._sb=[]}else do h.__d=!1,$&&$(e),u=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++N<25);h.state=h.__s,h.getChildContext!=null&&(r=Hm(Hm({},r),h.getChildContext())),v&&!f&&h.getSnapshotBeforeUpdate!=null&&(g=h.getSnapshotBeforeUpdate(p,m)),CEe(t,cK(j=u!=null&&u.type===PN&&u.key==null?u.props.children:u)?j:[j],e,n,r,i,s,o,a,l,c),h.base=e.__e,e.__u&=-161,h.__h.length&&o.push(h),y&&(h.__E=h.__=null)}catch(W){if(e.__v=null,l||s!=null){for(e.__u|=l?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;Fr.__e(W,e,n)}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=yPt(n.__e,e,n,r,i,s,o,l,c);(u=Fr.diffed)&&u(e)}function SEe(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)dK(n[r],n[++r],n[++r]);Fr.__c&&Fr.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){Fr.__e(s,i.__v)}})}function yPt(t,e,n,r,i,s,o,a,l){var c,u,h,f,p,m,g,y=n.props,w=e.props,v=e.type;if(v==="svg"?i="http://www.w3.org/2000/svg":v==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(c=0;c<s.length;c++)if((p=s[c])&&"setAttribute"in p==!!v&&(v?p.localName===v:p.nodeType===3)){t=p,s[c]=null;break}}if(t==null){if(v===null)return document.createTextNode(w);t=document.createElementNS(i,v,w.is&&w),a&&(Fr.__m&&Fr.__m(e,s),a=!1),s=null}if(v===null)y===w||a&&t.data===w||(t.data=w);else{if(s=s&&NN.call(t.childNodes),y=n.props||yE,!a&&s!=null)for(y={},c=0;c<t.attributes.length;c++)y[(p=t.attributes[c]).name]=p.value;for(c in y)if(p=y[c],c!="children"){if(c=="dangerouslySetInnerHTML")h=p;else if(!(c in w)){if(c=="value"&&"defaultValue"in w||c=="checked"&&"defaultChecked"in w)continue;Jk(t,c,null,p,i)}}for(c in w)p=w[c],c=="children"?f=p:c=="dangerouslySetInnerHTML"?u=p:c=="value"?m=p:c=="checked"?g=p:a&&typeof p!="function"||y[c]===p||Jk(t,c,p,y[c],i);if(u)a||h&&(u.__html===h.__html||u.__html===t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(h&&(t.innerHTML=""),CEe(t,cK(f)?f:[f],e,n,r,v==="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,o,s?s[0]:n.__k&&r3(n,0),a,l),s!=null)for(c=s.length;c--;)EEe(s[c]);a||(c="value",v==="progress"&&m==null?t.removeAttribute("value"):m!==void 0&&(m!==t[c]||v==="progress"&&!m||v==="option"&&m!==y[c])&&Jk(t,c,m,y[c],i),c="checked",g!==void 0&&g!==t[c]&&Jk(t,c,g,y[c],i))}return t}function dK(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){Fr.__e(i,n)}}function _Ee(t,e,n){var r,i;if(Fr.unmount&&Fr.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||dK(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){Fr.__e(s,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&_Ee(r[i],e,n||typeof t.type!="function");n||EEe(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function wPt(t,e,n){return this.constructor(t,n)}function FU(t,e,n){var r,i,s,o;Fr.__&&Fr.__(t,e),i=(r=typeof n=="function")?null:e.__k,s=[],o=[],uK(e,t=(!r&&n||e).__k=hr(PN,null,[t]),i||yE,yE,e.namespaceURI,!r&&n?[n]:i?null:e.firstChild?NN.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r,o),SEe(s,t,o)}NN=xEe.slice,Fr={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},bEe=0,yS.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Hm({},this.state),typeof t=="function"&&(t=t(Hm({},n),this.props)),t&&Hm(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Voe(this))},yS.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Voe(this))},yS.prototype.render=PN,gy=[],vEe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,DU=function(t,e){return t.__v.__b-e.__v.__b},G7.__r=0,lK=0,BU=Goe(!1),LU=Goe(!0);var wE,Ii,VO,Koe,UU=0,IEe=[],Ui=Fr,Yoe=Ui.__b,Qoe=Ui.__r,Zoe=Ui.diffed,Joe=Ui.__c,Xoe=Ui.unmount,eae=Ui.__;function hK(t,e){Ui.__h&&Ui.__h(Ii,t,UU||e),UU=0;var n=Ii.__H||(Ii.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function tae(t){return UU=1,bPt($Ee,t)}function bPt(t,e,n){var r=hK(wE++,2);if(r.t=t,!r.__c&&(r.__=[$Ee(void 0,e),function(a){var l=r.__N?r.__N[0]:r.__[0],c=r.t(l,a);l!==c&&(r.__N=[c,r.__[1]],r.__c.setState({}))}],r.__c=Ii,!Ii.u)){var i=function(a,l,c){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(f){return!!f.__c});if(u.every(function(f){return!f.__N}))return!s||s.call(this,a,l,c);var h=!1;return u.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(h=!0)}}),!(!h&&r.__c.props===a)&&(!s||s.call(this,a,l,c))};Ii.u=!0;var s=Ii.shouldComponentUpdate,o=Ii.componentWillUpdate;Ii.componentWillUpdate=function(a,l,c){if(this.__e){var u=s;s=void 0,i(a,l,c),s=u}o&&o.call(this,a,l,c)},Ii.shouldComponentUpdate=i}return r.__N||r.__}function vPt(t,e){var n=hK(wE++,3);!Ui.__s&&TEe(n.__H,e)&&(n.__=t,n.i=e,Ii.__H.__h.push(n))}function WZt(t,e){var n=hK(wE++,7);return TEe(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function xPt(){for(var t;t=IEe.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(wS),t.__H.__h.forEach(zU),t.__H.__h=[]}catch(e){t.__H.__h=[],Ui.__e(e,t.__v)}}Ui.__b=function(t){Ii=null,Yoe&&Yoe(t)},Ui.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),eae&&eae(t,e)},Ui.__r=function(t){Qoe&&Qoe(t),wE=0;var e=(Ii=t.__c).__H;e&&(VO===Ii?(e.__h=[],Ii.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(wS),e.__h.forEach(zU),e.__h=[],wE=0)),VO=Ii},Ui.diffed=function(t){Zoe&&Zoe(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(IEe.push(e)!==1&&Koe===Ui.requestAnimationFrame||((Koe=Ui.requestAnimationFrame)||EPt)(xPt)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),VO=Ii=null},Ui.__c=function(t,e){e.some(function(n){try{n.__h.forEach(wS),n.__h=n.__h.filter(function(r){return!r.__||zU(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Ui.__e(r,n.__v)}}),Joe&&Joe(t,e)},Ui.unmount=function(t){Xoe&&Xoe(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{wS(r)}catch(i){e=i}}),n.__H=void 0,e&&Ui.__e(e,n.__v))};var nae=typeof requestAnimationFrame=="function";function EPt(t){var e,n=function(){clearTimeout(r),nae&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);nae&&(e=requestAnimationFrame(n))}function wS(t){var e=Ii,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Ii=e}function zU(t){var e=Ii;t.__c=t.__(),Ii=e}function TEe(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function $Ee(t,e){return typeof e=="function"?e(t):e}const APt=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",CPt="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",kPt="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class NEe{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=gEe()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const n=this.nextItemKey++;return this.items.set(n,e),this.render(),()=>{this.items.delete(n),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&FU(hr("div",null,hr(PEe,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,n])=>hr(SPt,Object.assign({},n,{key:e}))))),this.root)}}const PEe=t=>hr("div",{class:I4("-cbwsdk-snackbar-container")},hr("style",null,APt),hr("div",{class:"-cbwsdk-snackbar"},t.children)),SPt=({autoExpand:t,message:e,menuItems:n})=>{const[r,i]=tae(!0),[s,o]=tae(t??!1);vPt(()=>{const l=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{o(!0)},1e4)];return()=>{l.forEach(window.clearTimeout)}});const a=()=>{o(!s)};return hr("div",{class:I4("-cbwsdk-snackbar-instance",r&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},hr("div",{class:"-cbwsdk-snackbar-instance-header",onClick:a},hr("img",{src:CPt,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",hr("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),hr("div",{class:"-gear-container"},!s&&hr("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},hr("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),hr("img",{src:kPt,class:"-gear-icon",title:"Expand"}))),n&&n.length>0&&hr("div",{class:"-cbwsdk-snackbar-instance-menu"},n.map((l,c)=>hr("div",{class:I4("-cbwsdk-snackbar-instance-menu-item",l.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:l.onClick,key:c},hr("svg",{width:l.svgWidth,height:l.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},hr("path",{"fill-rule":l.defaultFillRule,"clip-rule":l.defaultClipRule,d:l.path,fill:"#AAAAAA"})),hr("span",{class:I4("-cbwsdk-snackbar-instance-menu-item-info",l.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},l.info)))))},REe="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class _Pt{constructor(){this.attached=!1,this.snackbar=new NEe}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.snackbar.attach(n),this.attached=!0,yEe()}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:REe,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}}const IPt=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class TPt{constructor(){this.root=null,this.darkMode=gEe()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),yEe()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(FU(null,this.root),e&&FU(hr($Pt,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const $Pt=({title:t,buttonText:e,darkMode:n,onButtonClick:r,onDismiss:i})=>{const s=n?"dark":"light";return hr(PEe,{darkMode:n},hr("div",{class:"-cbwsdk-redirect-dialog"},hr("style",null,IPt),hr("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),hr("div",{class:I4("-cbwsdk-redirect-dialog-box",s)},hr("p",null,t),hr("button",{onClick:r},e))))},NPt="https://keys.coinbase.com/connect",PPt="https://rpc.wallet.coinbase.com",rae="https://www.walletlink.org",RPt="https://go.cb-w.com/walletlink";class iae{constructor(){this.attached=!1,this.redirectDialog=new TPt}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const n=new URL(RPt);n.searchParams.append("redirect_url",dPt().href),e&&n.searchParams.append("wl_url",e);const r=document.createElement("a");r.target="cbw-opener",r.href=n.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class Gf{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=hPt(),this.linkedUpdated=s=>{this.isLinked=s;const o=this.storage.getItem(MU);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),l=this.storage.getItem("IsStandaloneSigning")==="true";a[0]!==""&&!s&&this._session.linked&&!l&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,o)=>{this.storage.setItem(s,o)},this.chainUpdated=(s,o)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===o||(this.chainCallbackParams={chainId:s,jsonRpcUrl:o},this.chainCallback&&this.chainCallback(o,Number.parseInt(s,10)))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),Gf.accountRequestCallbackIds.size>0&&(Array.from(Gf.accountRequestCallbackIds.values()).forEach(o=>{this.invokeCallback(o,{method:"requestEthereumAccounts",result:[s]})}),Gf.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:n,ui:r,connection:i}=this.subscribe();this._session=n,this.connection=i,this.relayEventManager=new cPt,this.ui=r,this.ui.attach()}subscribe(){const e=d2.load(this.storage)||d2.create(this.storage),{linkAPIUrl:n}=this,r=new lPt({session:e,linkAPIUrl:n,listener:this}),i=this.isMobileWeb?new iae:new _Pt;return r.connect(),{session:e,ui:i,connection:r}}resetAndReload(){this.connection.destroy().then(()=>{const e=d2.load(this.storage);(e==null?void 0:e.id)===this._session.id&&rf.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:Vd(e.weiValue),data:k4(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?Vd(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?Vd(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?Vd(e.gasPriceInWei):null,gasLimit:e.gasLimit?Vd(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:Vd(e.weiValue),data:k4(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?Vd(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?Vd(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?Vd(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?Vd(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:k4(e,!0),chainId:n}})}getWalletLinkSession(){return this._session}sendRequest(e){let n=null;const r=py(8),i=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s),n==null||n()};return new Promise((s,o)=>{n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(r,a=>{if(n==null||n(),Bs(a))return o(new Error(a.errorMessage));s(a)}),this.publishWeb3RequestEvent(r,e)})}publishWeb3RequestEvent(e,n){const r={type:"WEB3_REQUEST",id:e,request:n};this.publishEvent("Web3Request",r,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage(r.id,{method:n.method,errorMessage:i.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(n.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof iae)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const n={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",n,!1).then()}publishEvent(e,n,r){return this.connection.publishEvent(e,n,r)}handleWeb3ResponseMessage(e,n){if(n.method==="requestEthereumAccounts"){Gf.accountRequestCallbackIds.forEach(r=>this.invokeCallback(r,n)),Gf.accountRequestCallbackIds.clear();return}this.invokeCallback(e,n)}handleErrorResponse(e,n,r){var i;const s=(i=r==null?void 0:r.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:n,errorMessage:s})}invokeCallback(e,n){const r=this.relayEventManager.callbacks.get(e);r&&(r(n),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:n}=this.metadata,r={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:n}},i=py(8);return new Promise((s,o)=>{this.relayEventManager.callbacks.set(i,a=>{if(Bs(a))return o(new Error(a.errorMessage));s(a)}),Gf.accountRequestCallbackIds.add(i),this.publishWeb3RequestEvent(i,r)})}watchAsset(e,n,r,i,s,o){const a={method:"watchAsset",params:{type:e,options:{address:n,symbol:r,decimals:i,image:s},chainId:o}};let l=null;const c=py(8),u=h=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,h),l==null||l()};return l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((h,f)=>{this.relayEventManager.callbacks.set(c,p=>{if(l==null||l(),Bs(p))return f(new Error(p.errorMessage));h(p)}),this.publishWeb3RequestEvent(c,a)})}addEthereumChain(e,n,r,i,s,o){const a={method:"addEthereumChain",params:{chainId:e,rpcUrls:n,blockExplorerUrls:i,chainName:s,iconUrls:r,nativeCurrency:o}};let l=null;const c=py(8),u=h=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,h),l==null||l()};return l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((h,f)=>{this.relayEventManager.callbacks.set(c,p=>{if(l==null||l(),Bs(p))return f(new Error(p.errorMessage));h(p)}),this.publishWeb3RequestEvent(c,a)})}switchEthereumChain(e,n){const r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:n})};let i=null;const s=py(8),o=a=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,r.method,a),i==null||i()};return i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:o,onResetConnection:this.resetAndReload}),new Promise((a,l)=>{this.relayEventManager.callbacks.set(s,c=>{if(i==null||i(),Bs(c)&&c.errorCode)return l(Wn.provider.custom({code:c.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(Bs(c))return l(new Error(c.errorMessage));a(c)}),this.publishWeb3RequestEvent(s,r)})}}Gf.accountRequestCallbackIds=new Set;const sae="DefaultChainId",oae="DefaultJsonRpcUrl";class jEe{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new rf("walletlink",rae),this.callback=e.callback||null;const n=this._storage.getItem(MU);if(n){const r=n.split(" ");r[0]!==""&&(this._addresses=r.map(i=>P0(i)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:n,secret:r}=e.getWalletLinkSession();return{id:n,secret:r}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(oae))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem(oae,e)}updateProviderInfo(e,n){var r;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(sae,n.toString(10)),S4(n)!==i&&((r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Wm(n)))}async watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw Wn.rpc.invalidParams("Type is required");if((n==null?void 0:n.type)!=="ERC20")throw Wn.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!(n!=null&&n.options))throw Wn.rpc.invalidParams("Options are required");if(!(n!=null&&n.options.address))throw Wn.rpc.invalidParams("Address is required");const r=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=n.options,c=await this.initializeRelay().watchAsset(n.type,i,s,a,o,r==null?void 0:r.toString());return Bs(c)?!1:!!c.result}async addEthereumChain(e){var n,r;const i=e[0];if(((n=i.rpcUrls)===null||n===void 0?void 0:n.length)===0)throw Wn.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!i.chainName||i.chainName.trim()==="")throw Wn.rpc.invalidParams("chainName is a required field");if(!i.nativeCurrency)throw Wn.rpc.invalidParams("nativeCurrency is a required field");const s=Number.parseInt(i.chainId,16);if(s===this.getChainId())return!1;const o=this.initializeRelay(),{rpcUrls:a=[],blockExplorerUrls:l=[],chainName:c,iconUrls:u=[],nativeCurrency:h}=i,f=await o.addEthereumChain(s.toString(),a,u,l,c,h);if(Bs(f))return!1;if(((r=f.result)===null||r===void 0?void 0:r.isApproved)===!0)return this.updateProviderInfo(a[0],s),null;throw Wn.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const n=e[0],r=Number.parseInt(n.chainId,16),s=await this.initializeRelay().switchEthereumChain(r.toString(10),this.selectedAddress||void 0);if(Bs(s))throw s;const o=s.result;return o.isApproved&&o.rpcUrl.length>0&&this.updateProviderInfo(o.rpcUrl,r),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,n){var r;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(s=>P0(s));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(r=this.callback)===null||r===void 0||r.call(this,"accountsChanged",i),this._storage.setItem(MU,i.join(" ")))}async request(e){const n=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return Wm(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(n);case"wallet_switchEthereumChain":return this.switchEthereumChain(n);case"wallet_watchAsset":return this.watchAsset(n);default:if(!this.jsonRpcUrl)throw Wn.rpc.internal("No RPC URL set for chain");return aK(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const n=P0(e);if(!this._addresses.map(i=>P0(i)).includes(n))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?P0(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const r=e.to?P0(e.to):null,i=e.value!=null?o6(e.value):BigInt(0),s=e.data?OU(e.data):Buffer.alloc(0),o=e.nonce!=null?S4(e.nonce):null,a=e.gasPrice!=null?o6(e.gasPrice):null,l=e.maxFeePerGas!=null?o6(e.maxFeePerGas):null,c=e.maxPriorityFeePerGas!=null?o6(e.maxPriorityFeePerGas):null,u=e.gas!=null?o6(e.gas):null,h=e.chainId?S4(e.chainId):this.getChainId();return{fromAddress:n,toAddress:r,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:l,maxPriorityFeePerGas:c,gasLimit:u,chainId:h}}async ecRecover(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw Wn.rpc.invalidParams();const s=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:FO(r[0]),signature:FO(r[1]),addPrefix:n==="personal_ecRecover"}});if(Bs(s))throw s;return s.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(sae))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,n;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:Wm(this.getChainId())}),this._addresses;const i=await this.initializeRelay().requestEthereumAccounts();if(Bs(i))throw i;if(!i.result)throw new Error("accounts received is empty");return this._setAddresses(i.result),(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Wm(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw Wn.rpc.invalidParams();const n=e[1],r=e[0];this._ensureKnownAddress(n);const s=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:P0(n),message:FO(r),addPrefix:!0,typedDataJson:null}});if(Bs(s))throw s;return s.result}async _eth_signTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signEthereumTransaction(n);if(Bs(i))throw i;return i.result}async _eth_sendRawTransaction(e){const n=OU(e[0]),i=await this.initializeRelay().submitEthereumTransaction(n,this.getChainId());if(Bs(i))throw i;return i.result}async _eth_sendTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signAndSubmitEthereumTransaction(n);if(Bs(i))throw i;return i.result}async signTypedData(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw Wn.rpc.invalidParams();const i=c=>{const u={eth_signTypedData_v1:Zk.hashForSignTypedDataLegacy,eth_signTypedData_v3:Zk.hashForSignTypedData_v3,eth_signTypedData_v4:Zk.hashForSignTypedData_v4,eth_signTypedData:Zk.hashForSignTypedData_v4};return k4(u[n]({data:_Nt(c)}),!0)},s=r[n==="eth_signTypedData_v1"?1:0],o=r[n==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(s);const l=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:P0(s),message:i(o),typedDataJson:JSON.stringify(o,null,2),addPrefix:!1}});if(Bs(l))throw l;return l.result}initializeRelay(){return this._relay||(this._relay=new Gf({linkAPIUrl:rae,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const OEe="SignerType",MEe=new rf("CBWSDK","SignerConfigurator");function jPt(){return MEe.getItem(OEe)}function OPt(t){MEe.setItem(OEe,t)}async function MPt(t){const{communicator:e,metadata:n,handshakeRequest:r,callback:i}=t;BPt(e,n,i).catch(()=>{});const s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},t.preference),{handshakeRequest:r})},{data:o}=await e.postRequestAndWaitForResponse(s);return o}function DPt(t){const{signerType:e,metadata:n,communicator:r,callback:i}=t;switch(e){case"scw":return new FNt({metadata:n,callback:i,communicator:r});case"walletlink":return new jEe({metadata:n,callback:i})}}async function BPt(t,e,n){await t.onMessage(({event:i})=>i==="WalletLinkSessionRequest");const r=new jEe({metadata:e,callback:n});t.postMessage({event:"WalletLinkUpdate",data:{session:r.getSession()}}),await r.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const LPt=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,FPt=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,n=await fetch(e,{method:"HEAD"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=n.headers.get("Cross-Origin-Opener-Policy");t=r??"null",t==="same-origin"&&console.error(LPt)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:UPt,getCrossOriginOpenerPolicy:zPt}=FPt(),aae=420,lae=540,WPt={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:REe,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},HPt="Popup was blocked. Try again.";let Xk=null;function VPt(t){const e=(window.innerWidth-aae)/2+window.screenX,n=(window.innerHeight-lae)/2+window.screenY;GPt(t);function r(){const s=`wallet_${crypto.randomUUID()}`,o=window.open(t,s,`width=${aae}, height=${lae}, left=${e}, top=${n}`);return o==null||o.focus(),o||null}let i=r();if(!i){const s=KPt();return new Promise((o,a)=>{s.presentItem({autoExpand:!0,message:HPt,menuItems:[Object.assign(Object.assign({},WPt),{onClick:()=>{i=r(),i?o(i):a(Wn.rpc.internal("Popup window was blocked")),s.clear()}})]})})}return Promise.resolve(i)}function qPt(t){t&&!t.closed&&t.close()}function GPt(t){const e={sdkName:sEe,sdkVersion:yC,origin:window.location.origin,coop:zPt()};for(const[n,r]of Object.entries(e))t.searchParams.append(n,r.toString())}function KPt(){if(!Xk){const t=document.createElement("div");t.className="-cbwsdk-css-reset",document.body.appendChild(t),Xk=new NEe,Xk.attach(t)}return Xk}class YPt{constructor({url:e=NPt,metadata:n,preference:r}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const s=this.onMessage(({requestId:o})=>o===i.id);return this.postMessage(i),await s},this.onMessage=async i=>new Promise((s,o)=>{const a=l=>{if(l.origin!==this.url.origin)return;const c=l.data;i(c)&&(s(c),window.removeEventListener("message",a),this.listeners.delete(a))};window.addEventListener("message",a),this.listeners.set(a,{reject:o})}),this.disconnect=()=>{qPt(this.popup),this.popup=null,this.listeners.forEach(({reject:i},s)=>{i(Wn.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",s)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await VPt(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:yC,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw Wn.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=n,this.preference=r}}function QPt(t){const e=ENt(ZPt(t),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return n.searchParams.set("version",yC),n.searchParams.set("code",e.code.toString()),n.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:n.href})}function ZPt(t){var e;if(typeof t=="string")return{message:t,code:Ei.rpc.internal};if(Bs(t)){const n=t.errorMessage,r=(e=t.errorCode)!==null&&e!==void 0?e:n.match(/(denied|rejected)/i)?Ei.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:n,code:r,data:{method:t.method}})}return t}class JPt extends j${}var XPt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class eRt extends JPt{constructor(e){var{metadata:n}=e,r=e.preference,{keysUrl:i}=r,s=XPt(r,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=n,this.preference=s,this.communicator=new YPt({url:i,metadata:n,preference:s});const o=jPt();o&&(this.signer=this.initSigner(o))}async request(e){try{if(LNt(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const n=await this.requestSignerSelection(e),r=this.initSigner(n);await r.handshake(e),this.signer=r,OPt(n);break}case"wallet_sendCalls":{const n=this.initSigner("scw");await n.handshake({method:"handshake"});const r=await n.request(e);return await n.cleanup(),r}case"wallet_getCallsStatus":return aK(e,PPt);case"net_version":return 1;case"eth_chainId":return Wm(1);default:throw Wn.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(n){const{code:r}=n;return r===Ei.provider.unauthorized&&this.disconnect(),Promise.reject(QPt(n))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,rf.clearAll(),this.emit("disconnect",Wn.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return MPt({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return DPt({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function tRt(t){if(t){if(!["all","smartWalletOnly","eoaOnly"].includes(t.options))throw new Error(`Invalid options: ${t.options}`);if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}function nRt(t){var e;const n={metadata:t.metadata,preference:t.preference};return(e=BNt(n))!==null&&e!==void 0?e:new eRt(n)}const rRt={options:"all"};function cae(t){var e;new rf("CBWSDK").setItem("VERSION",yC),UPt();const r={metadata:{appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:Object.assign(rRt,(e=t.preference)!==null&&e!==void 0?e:{})};tRt(r.preference);let i=null;return{getProvider:()=>(i||(i=nRt(r)),i)}}const iRt=({as:t="div",...e},n)=>d.jsx(t,{...e,ref:n}),sRt=x.forwardRef(iRt),oRt="https://challenges.cloudflare.com/turnstile/v0/api.js",K7="cf-turnstile-script",aRt="cf-turnstile",DEe="onloadTurnstileCallback",Y7=t=>!!document.getElementById(t),lRt=({render:t="explicit",onLoadCallbackName:e=DEe,scriptOptions:{nonce:n="",defer:r=!0,async:i=!0,id:s="",appendTo:o,onError:a,crossOrigin:l=""}={}})=>{const c=s||K7;if(Y7(c))return;const u=document.createElement("script");if(u.id=c,u.src=`${oRt}?onload=${e}&render=${t}`,document.querySelector(`script[src="${u.src}"]`))return;u.defer=!!r,u.async=!!i,n&&(u.nonce=n),l&&(u.crossOrigin=l),a&&(u.onerror=a),(o==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(u)},qd={normal:{width:300,height:65},compact:{width:130,height:120},invisible:{width:0,height:0,overflow:"hidden"},interactionOnly:{width:"fit-content",height:"auto"}};function cRt(t){let e;return t!=="invisible"&&(e=t),e}function uRt(t=K7){const[e,n]=x.useState(!1);return x.useEffect(()=>{const r=()=>{Y7(t)&&n(!0)},i=new MutationObserver(r);return i.observe(document,{childList:!0,subtree:!0}),r(),()=>{i.disconnect()}},[t]),e}const BEe=x.forwardRef((t,e)=>{const{scriptOptions:n,options:r={},siteKey:i,onWidgetLoad:s,onSuccess:o,onExpire:a,onError:l,onBeforeInteractive:c,onAfterInteractive:u,onUnsupported:h,onLoadScript:f,id:p,style:m,as:g="div",injectScript:y=!0,...w}=t,v=r.size??"normal",[b,A]=x.useState(r.execution==="execute"?qd.invisible:r.appearance==="interaction-only"?qd.interactionOnly:qd[v]),E=x.useRef(null),$=x.useRef(!1),[N,R]=x.useState(),[j,F]=x.useState(!1),W=p??aRt,V=y?(n==null?void 0:n.id)||`${K7}__${W}`:(n==null?void 0:n.id)||K7,B=uRt(V),k=n!=null&&n.onLoadCallbackName?`${n.onLoadCallbackName}__${W}`:`${DEe}__${W}`,C=x.useMemo(()=>({sitekey:i,action:r.action,cData:r.cData,callback:o,"error-callback":l,"expired-callback":a,"before-interactive-callback":c,"after-interactive-callback":u,"unsupported-callback":h,theme:r.theme??"auto",language:r.language??"auto",tabindex:r.tabIndex,"response-field":r.responseField,"response-field-name":r.responseFieldName,size:cRt(v),retry:r.retry??"auto","retry-interval":r.retryInterval??8e3,"refresh-expired":r.refreshExpired??"auto",execution:r.execution??"render",appearance:r.appearance??"always"}),[i,r,o,l,a,v,c,u,h]),S=x.useMemo(()=>JSON.stringify(C),[C]);return x.useImperativeHandle(e,()=>{if(typeof window>"u"||!B)return;const{turnstile:T}=window;return{getResponse(){if(!(T!=null&&T.getResponse)||!N){console.warn("Turnstile has not been loaded");return}return T.getResponse(N)},reset(){if(!(T!=null&&T.reset)||!N){console.warn("Turnstile has not been loaded");return}r.execution==="execute"&&A(qd.invisible);try{T.reset(N)}catch(_){console.warn(`Failed to reset Turnstile widget ${N}`,_)}},remove(){if(!(T!=null&&T.remove)||!N){console.warn("Turnstile has not been loaded");return}R(""),A(qd.invisible),T.remove(N)},render(){if(!(T!=null&&T.render)||!E.current||N){console.warn("Turnstile has not been loaded or widget already rendered");return}const _=T.render(E.current,C);return R(_),r.execution!=="execute"&&A(qd[v]),_},execute(){if(r.execution==="execute"){if(!(T!=null&&T.execute)||!E.current||!N){console.warn("Turnstile has not been loaded or widget has not been rendered");return}T.execute(E.current,C),A(qd[v])}},isExpired(){if(!(T!=null&&T.isExpired)||!N){console.warn("Turnstile has not been loaded");return}return T.isExpired(N)}}},[B,N,r.execution,v,C,E]),x.useEffect(()=>(window[k]=()=>F(!0),()=>{delete window[k]}),[k]),x.useEffect(()=>{y&&!j&&lRt({onLoadCallbackName:k,scriptOptions:{...n,id:V}})},[y,j,k,n,V]),x.useEffect(()=>{B&&!j&&window.turnstile&&F(!0)},[j,B]),x.useEffect(()=>{if(!i){console.warn("sitekey was not provided");return}if(!B||!E.current||!j||$.current)return;const T=window.turnstile.render(E.current,C);R(T),$.current=!0},[B,i,C,$,j]),x.useEffect(()=>{if(window.turnstile&&E.current&&N){Y7(N)&&window.turnstile.remove(N);const T=window.turnstile.render(E.current,C);R(T),$.current=!0}},[S,i]),x.useEffect(()=>{if(window.turnstile&&N&&Y7(N))return s==null||s(N),()=>{window.turnstile.remove(N)}},[N,s]),x.useEffect(()=>{A(r.execution==="execute"?qd.invisible:C.appearance==="interaction-only"?qd.interactionOnly:qd[v])},[r.execution,v,C.appearance]),x.useEffect(()=>{!B||typeof f!="function"||f()},[B,f]),d.jsx(sRt,{ref:E,as:g,id:W,style:{...b,...m},...w})});BEe.displayName="Turnstile";const dRt=t=>{let[e,n]=x.useState("auto");return x.useEffect(()=>{let r=new ResizeObserver(i=>{var s;n(((s=i[0])==null?void 0:s.contentRect.height)??"auto")});return t.current&&r.observe(t.current),()=>{t.current&&r.unobserve(t.current)}},[t.current]),e};function hRt(t){let{logout:e}=x.useContext(G3);return aN("logout",t),{logout:e}}const fRt=Z.div.withConfig({displayName:"Column",componentId:"sc-cfc52180-0"})(["display:flex;flex-direction:column;"]);function bE(t){return["ethereum","solana"].includes(t.chainType)}function LEe(t){let e=t.replace("eip155:","");if(e)return parseInt(e);throw Error("Chain ID not compatible with CAIP-2 format.")}const FEe=t=>t.filter(e=>e.method==="wallets"||(e.method==="exchange"?e.provider==="coinbase":e.method==="card"||e.method==="payment-request"?e.provider==="coinbase"||e.provider==="moonpay":(e.method,!1))),uae={[du.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[UV.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[lf.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[GT.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[ll.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[FA.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[uu.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[VT.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[L3.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[FV.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[cu.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[HT.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},dae=({address:t,appConfig:e,fundWalletConfig:n,methodScreen:r,chainIdOverride:i,comingFromSendTransactionScreen:s=!1})=>{var g;let o,a;if(!e.fundingConfig)throw Error("Wallet funding is not enabled");let l=FEe(e.fundingConfig.options);if(l.length<1)throw Error("Wallet funding is not enabled");o=i||(n!=null&&n.chain?n.chain.id:LEe(e.fundingConfig.defaultRecommendedCurrency.chain));let c=e.chains.find(y=>y.id===o);if(!c)throw new ue(`Funding chain ${o} is not in PrivyProvider chains list`);let u=(n==null?void 0:n.amount)??e.fundingConfig.defaultRecommendedAmount,h=!1;function f(){if(!o)return;let y=uae[o];l.find(w=>w.method==="wallets")&&!y&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),a=y,h=!0}var p;n&&"asset"in n?n.asset==="USDC"?f():typeof n.asset!="string"&&"erc20"in n.asset&&(p=a=n.asset.erc20,h=p===uae[c.id]):e.fundingConfig.defaultRecommendedCurrency.asset==="USDC"&&f();let m=n==null?void 0:n.defaultFundingMethod;return{chainType:"ethereum",address:t,amount:u,chain:c,erc20Address:a,erc20ContractInfo:h?{symbol:"USDC",decimals:6}:void 0,isUSDC:h,methodScreen:r,supportedOptions:l,comingFromSendTransactionScreen:s,defaultFundingMethod:m,usingDefaultFundingMethod:!!m,preferredCardProvider:(g=n==null?void 0:n.card)==null?void 0:g.preferredProvider,crossChainBridgingEnabled:e.fundingConfig.crossChainBridgingEnabled??!1,solanaChain:"solana:mainnet",uiConfig:n&&"uiConfig"in n?n.uiConfig:void 0,externalSolanaFundingScreen:null}},pRt=t=>t.reduce((e,n)=>!e||e.walletIndex<n.walletIndex?n:e,null),mRt=async({appConfig:t,getAccessToken:e,initializeWalletProxy:n,user:r,privy:i,emitPrivyEvent:s,recoverEmbeddedWallet:o,setModalData:a,openModal:l,setUser:c,options:u,timeoutDuration:h,refreshSessionAndUser:f,chainType:p})=>{var v,b;let[m,g]=await Promise.all([n(h),e()]);if(!g||!r)throw s("createWallet","onError",pe.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!m&&((v=t.customAuth)!=null&&v.enabled))throw s("createWallet","onError",pe.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(u&&"walletIndex"in u&&typeof u.walletIndex=="number"){if(t.embeddedWallets.mode==="user-controlled-server-wallets-only")throw s("createWallet","onError",pe.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return hae({accessToken:g,appConfig:t,privy:i,emitPrivyEvent:s,openModal:l,proxy:m,refreshSessionAndUser:f,recoverEmbeddedWallet:o,setModalData:a,user:r,walletIndex:u.walletIndex,chainType:p,setUser:c})}let y=u&&"createAdditional"in u&&u.createAdditional,w=UG(r,{chainType:p});if(w[0]&&!y)throw s("createWallet","onError",pe.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return hae({accessToken:g,appConfig:t,privy:i,emitPrivyEvent:s,openModal:l,proxy:m,recoverEmbeddedWallet:o,setModalData:a,user:r,walletIndex:(((b=pRt(w))==null?void 0:b.walletIndex)??-1)+1,chainType:p,refreshSessionAndUser:f,setUser:c})};let hae=async({accessToken:t,appConfig:e,privy:n,emitPrivyEvent:r,proxy:i,refreshSessionAndUser:s,recoverEmbeddedWallet:o,user:a,walletIndex:l,setModalData:c,openModal:u,chainType:h,setUser:f})=>{if(l<0)throw r("createWallet","onError",pe.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${l}) is invalid.`);let p=Cd(a);if(l>0&&!p)throw r("createWallet","onError",pe.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(e.embeddedWallets.requireUserOwnedRecoveryOnCreate&&e.embeddedWallets.mode==="user-controlled-server-wallets-only")throw r("createWallet","onError",pe.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!p&&e.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await fae({emitPrivyEvent:r,setModalData:c,openModal:u,chainType:h});let m=UG(a,{chainType:h,walletIndex:l})[0];if(m)return{user:a,account:m};if(l===0&&!i)return fae({emitPrivyEvent:r,setModalData:c,openModal:u,chainType:h});if(!i)throw r("createWallet","onError",pe.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return S4e({appConfig:e,walletIndex:l,chainType:h,user:a,accessToken:t,proxy:i,refreshSessionAndUser:s,privy:n,recoverEmbeddedWallet:o,setUser:f})},fae=async({emitPrivyEvent:t,setModalData:e,openModal:n,chainType:r})=>new Promise((i,s)=>{e({createWallet:{onSuccess:({user:o,account:a})=>{t("createWallet","onSuccess",{wallet:a}),i({user:o,account:a})},onFailure:o=>{t("createWallet","onError",pe.UNKNOWN_EMBEDDED_WALLET_ERROR),s(o)},callAuthOnSuccessOnClose:!1,shouldCreateEth:r==="ethereum",shouldCreateSol:r==="solana"}}),n(o0)});const gRt=()=>{let t=Fn(),e=Kw(),{setModalData:n}=lt(),{initializeWalletProxy:r,recoverEmbeddedWallet:i,setUser:s,openModal:o,refreshSessionAndUser:a,privy:l,client:c}=st();return{create:async({chainType:u,options:h,latestUser:f})=>{let p=f;if(p||(p=await a()),!p)throw e("createWallet","onError",pe.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await mRt({appConfig:t,privy:l,getAccessToken:()=>c.getAccessToken(),refreshSessionAndUser:a,initializeWalletProxy:r,user:p,emitPrivyEvent:e,recoverEmbeddedWallet:i,setModalData:n,openModal:o,setUser:s,options:h,timeoutDuration:m9t,chainType:u})}}};function yRt(t){let{create:e}=gRt();return aN("createWallet",t),{createWallet:async n=>{n&&"target"in n&&n&&(n=void 0);let{account:r}=await e({chainType:"ethereum",options:n});return r}}}const wRt=async({emitPrivyEvent:t,getAccessToken:e,initializeWalletProxy:n,refreshSessionAndUser:r,user:i,appConfig:s},{privateKey:o,chainType:a})=>{if(!i)throw t("linkAccount","onError",pe.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new ue("User must be authenticated before linking an account.");let[l,c]=await Promise.all([e(),n(15e3)]);if(!c||!l)throw t("linkAccount","onError",pe.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new ue("User must be authenticated before linking an account.");await c.importWallet({privateKey:o,accessToken:l,chainType:a,mode:s.embeddedWallets.mode==="user-controlled-server-wallets-only"?"tee":"on-device"});let u=await r(),h=a==="solana"?p2e(u):XL(u);if(!h)throw t("createWallet","onError",pe.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return t("createWallet","onSuccess",{wallet:h}),h},bRt=()=>{let{user:t}=Sn(),{client:e,refreshSessionAndUser:n,initializeWalletProxy:r}=st(),i=Kw(),s=Fn();return{importWallet:x.useCallback(({privateKey:o})=>wRt({getAccessToken:()=>e.getAccessToken(),user:t,initializeWalletProxy:r,refreshSessionAndUser:n,emitPrivyEvent:i,appConfig:s},{privateKey:o,chainType:"ethereum"}),[t,e,n,r,i])}},eo=()=>{let{importWallet:t}=bRt(),{createWallet:e}=yRt();return{...x.useContext(G3),importWallet:t,createWallet:e}};function vRt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const xRt=x.forwardRef(vRt);function ERt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z",clipRule:"evenodd"}))}const ARt=x.forwardRef(ERt);function CRt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const kRt=x.forwardRef(CRt);function vE(t){return t?{"privy-ui":"t"}:void 0}class Tv{async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new ue("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(kst,{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Nn(e)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new ue("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(Sst,{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw Nn(e)}}async sendCodeEmail({email:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new ue("Auth flow has no API instance");if(e&&(this.meta.email=e),n&&(this.meta.captchaToken=n),!this.meta.email)throw new ue("Email must be set when initialzing authentication.");let i=vE(r);try{return await this.api.post(Cst,{email:this.meta.email,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw Nn(s)}}constructor({email:e,captchaToken:n,disableSignup:r}){this.meta={email:e,captchaToken:n,disableSignup:r??!1}}}class SRt extends Tv{async link(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new ue("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post(Ist,{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw Nn(e)}}constructor(e,n,r){super({email:n,captchaToken:r}),this.meta={email:n,captchaToken:r,oldAddress:e,disableSignup:!1}}}class pae{get meta(){return this._meta}async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.channelToken)throw new ue("Auth flow must be initialized first");try{let e=await this.api.post(bst,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new ue("No response from authentication");return e}catch(e){throw Nn(e)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(vst,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw Nn(e)}}async _startChannelOnce(){if(!this.api)throw new ue("Auth flow has no API instance");let e=await this.api.post(wst,{token:this.captchaToken});Cr&&!VH&&e.connect_uri&&E6e(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new ue("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.channelToken)throw new ue("Auth flow must be initialized first");let e=await this.api.get(xst,{headers:{"farcaster-channel-token":this.meta.channelToken}});return e.state==="completed"&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,n=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new ra(this._startChannelOnce.bind(this)),this.pollForReady=new ra(this._pollForReady.bind(this)),this._meta.disableSignup=n}}function fK(){return typeof window<"u"&&window.location.protocol==="chrome-extension:"&&"chrome"in window}function UEe(){var e;if(!fK())return;let t=window.chrome;return(e=t==null?void 0:t.runtime)==null?void 0:e.id}function WU(){var e;if(!fK())return!1;let t=window.chrome;return typeof((e=t==null?void 0:t.identity)==null?void 0:e.launchWebAuthFlow)=="function"}async function mae(t){return new Promise((e,n)=>{WU()?window.chrome.identity.launchWebAuthFlow({url:t,interactive:!0},async r=>{try{let i=function(){var u,h;if(!fK())return;let c=window.chrome;return(h=(u=c==null?void 0:c.runtime)==null?void 0:u.lastError)==null?void 0:h.message}();if(i||!r){let c=`WebAuthFlow failed: ${i||"Response URI missing"}`;throw Error(c)}let s=new URL(r),o=UEe();if(!o)throw Error("Invalid extension context");if(s.protocol==="chrome-extension:"){if(s.hostname!==o)throw Error("Invalid responseUri origin")}else{if(s.protocol!=="https:")throw Error("Invalid responseUri protocol");{let c=s.hostname.split(".");if(c.length!==3||c[1]!=="chromiumapp"||c[2]!=="org"||c[0]!==o)throw Error("Invalid responseUri origin")}}let a=s.searchParams.get("privy_oauth_state"),l=s.searchParams.get("privy_oauth_code");if(!a||!l)throw Error("Invalid responseUri - missing required parameters");e({privyOAuthState:a,privyOAuthCode:l})}catch(i){n(i)}}):n(Error("Chrome identity API not available"))})}class Gb{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new ue("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if(this.meta.authorizationCode==="undefined")throw new ue("User denied confirmation during OAuth flow");let e=y9t();try{let n=await this.api.post(ybe,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return Nt.del(O6),Nt.del(M7),Nt.del(E4),n}catch(n){let r=Nn(n);throw r.privyErrorCode?new ue(r.message||"Invalid code during OAuth flow.",void 0,r.privyErrorCode):r.message==="User denied confirmation during OAuth flow"?new ue("Invalid code during oauth flow.",void 0,pe.OAUTH_USER_DENIED):new ue("Invalid code during OAuth flow.",void 0,pe.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new ue("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if(this.meta.authorizationCode==="undefined")throw new ue("User denied confirmation during OAuth flow");let e=Nt.get(O6);if(!e)throw new ue("Authentication error.");try{let n=await this.api.post(wbe,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return Nt.del(O6),n}catch(n){throw Nn(n)}}async getAuthorizationUrl(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.provider)throw new ue("Provider must be set when initializing OAuth authentication.");let e=iN();Nt.put(O6,e);let n=kG();Nt.put(O7,n);let r=await SG(e);this.meta.withPrivyUi||Nt.put(M7,!0),this.meta.disableSignup?Nt.put(E4,!0):Nt.del(E4);let i=vE(this.meta.withPrivyUi),s=window.location.href,o=function(){let a=UEe();if(a)return`https://${a}.chromiumapp.org`}();o&&(s=o);try{return await this.api.post(gbe,{provider:this.meta.provider,redirect_to:this.meta.customOAuthRedirectUrl||s,token:this.meta.captchaToken,code_challenge:r,state_code:n},{headers:{...i}})}catch(a){throw Nn(a)}}constructor(e){this.meta=e}}const _Rt=({style:t})=>d.jsx(Gbe,{style:{color:"var(--privy-color-error)",...t}});let gae={google:{name:"Google",component:$6e},discord:{name:"Discord",component:I6e},github:{name:"Github",component:T6e},linkedin:{name:"LinkedIn",component:R6e},twitter:{name:"Twitter",component:M6e},spotify:{name:"Spotify",component:j6e},instagram:{name:"Instagram",component:N6e},tiktok:{name:"Tiktok",component:O6e},line:{name:"LINE",component:P6e},apple:{name:"Apple",component:_6e}};const qO=t=>t in gae?gae[t]:{name:"Unknown",component:_Rt};function IRt(){let t=new URLSearchParams(window.location.search),e=t.get("privy_oauth_code"),n=t.get("privy_oauth_state"),r=t.get("privy_oauth_provider");if(!e||!n||!r)return{inProgress:!1};let i=!1;try{i=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:e,stateCode:n,provider:r,withPrivyUi:!Nt.get(M7),popupFlow:window.opener!==null&&i,disableSignup:!!Nt.get(E4)}}class Mb{async initRegisterFlow(e){if(!this.api)throw new ue("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new ue("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new ue("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){var n,r;let e=await Mh(()=>import("./index-CFBQExMV.js"),[]);if(!this.api)throw new ue("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ue("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let i=this.meta.initRegisterResponse.options,s=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(i));return(r=(n=this.meta).setPasskeyAuthState)==null||r.call(n,{status:"submitting-response"}),await this.api.post(qst,{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(s)})}catch(i){throw i.name==="NotAllowedError"?new ue("Passkey request timed out or rejected by user.",void 0,pe.PASSKEY_NOT_ALLOWED):Nn(i)}}async authenticate(){var r,i,s;if(this.authenticateForRegistration)return this.register();let e=await Mh(()=>import("./index-CFBQExMV.js"),[]);if(!this.api)throw new ue("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ue("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());let n=((r=this.meta.allowedCredentialsIds)==null?void 0:r.map(o=>({type:"public-key",id:o})))??this.meta.initAuthenticateResponse.options.allow_credentials;try{let o=await e.startAuthentication(this._transformInitAuthenticateOptionsToCamelCase({...this.meta.initAuthenticateResponse.options,allow_credentials:n}));return(s=(i=this.meta).setPasskeyAuthState)==null||s.call(i,{status:"submitting-response"}),await this.api.post(Vst,{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(o)})}catch(o){throw o.name==="NotAllowedError"?new ue("Passkey request timed out or rejected by user.",void 0,pe.PASSKEY_NOT_ALLOWED):Nn(o)}}async link(){var n,r;let e=await Mh(()=>import("./index-CFBQExMV.js"),[]);if(!this.api)throw new ue("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ue("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let i=this.meta.initLinkResponse.options,s=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(i));return(r=(n=this.meta).setPasskeyAuthState)==null||r.call(n,{status:"submitting-response"}),await this.api.post(Hst,{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(s)})}catch(i){throw i.name==="NotAllowedError"?new ue("Passkey request timed out or rejected by user.",void 0,pe.PASSKEY_NOT_ALLOWED):Nn(i)}}async _initRegisterOnce(e){if(!this.api)throw new ue("Auth flow has no API instance");let n=vE(e);return await this.api.post(Wst,{token:this.meta.captchaToken},{headers:{...n}})}async _initAuthenticateOnce(e){if(!this.api)throw new ue("Auth flow has no API instance");let n=vE(e);return await this.api.post(zst,{token:this.meta.captchaToken},{headers:{...n}})}async _initLinkOnce(){if(!this.api)throw new ue("Auth flow has no API instance");return await this.api.post(Ust,{})}_transformInitLinkOptionsToCamelCase(e){var n,r,i,s,o,a,l,c,u;return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map(h=>({type:h.type,alg:h.alg})),timeout:e.timeout,excludeCredentials:(n=e.exclude_credentials)==null?void 0:n.map(h=>({id:h.id,type:h.type,transports:h.transports})),authenticatorSelection:{authenticatorAttachment:(r=e.authenticator_selection)==null?void 0:r.authenticator_attachment,requireResidentKey:(i=e.authenticator_selection)==null?void 0:i.require_resident_key,residentKey:(s=e.authenticator_selection)==null?void 0:s.resident_key,userVerification:(o=e.authenticator_selection)==null?void 0:o.user_verification},attestation:e.attestation,extensions:{appid:(a=e.extensions)==null?void 0:a.app_id,credProps:(c=(l=e.extensions)==null?void 0:l.cred_props)==null?void 0:c.rk,hmacCreateSecret:(u=e.extensions)==null?void 0:u.hmac_create_secret}}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){var n,r,i,s;return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:((n=e.allow_credentials)==null?void 0:n.map(o=>({id:o.id,type:o.type,transports:o.transports})))||[],timeout:e.timeout,extensions:{appid:(r=e.extensions)==null?void 0:r.app_id,credProps:(i=e.extensions)==null?void 0:i.cred_props,hmacCreateSecret:(s=e.extensions)==null?void 0:s.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:n}){this.authenticateForRegistration=!1,this.initRegisterOnce=new ra(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new ra(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new ra(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:n}}}class $v{async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new ue("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(Rst,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Nn(e)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new ue("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(Nst,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw Nn(e)}}async sendSmsCode({phoneNumber:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new ue("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),n&&(this.meta.captchaToken=n),!this.meta.phoneNumber)throw new ue("phone nNumber must be set when initialzing authentication.");let i=vE(r);try{return await this.api.post($st,{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw Nn(s)}}constructor({phoneNumber:e,captchaToken:n,disableSignup:r}){this.meta={phoneNumber:e,captchaToken:n,disableSignup:r??!1}}}class TRt extends $v{async link(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new ue("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post(jst,{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw Nn(e)}}constructor(e,n,r){super({phoneNumber:n,captchaToken:r}),this.meta={phoneNumber:n,captchaToken:r,oldPhoneNumber:e,disableSignup:!1}}}class dm{static parse(e){try{return new dm(e)}catch{return null}}static throwIfNotWellFormedJwt(e){return gL(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=gL(e)}}class pK extends dm{static parse(e){try{return new pK(e)}catch{return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}}let Db,a6;class $Rt extends qw{async initialize(){await this.importPromise,await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:V6e,id:"com.coinbase.wallet"}}async promptConnection(){try{await this.importPromise;let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new kr("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw Mg(e)}}constructor(e,n,r,i,s){super("base_account",e,n,r),this.connectorType="base_account",this.walletClientType="base_account",this.displayName="Base",this.setBaseAccountSdk=s,this.proxyProvider=new Gw(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.baseAccountConfig={...i,appChainIds:[n.id].concat(e.map(o=>o.id))},Db?(this.proxyProvider.setWalletProvider(Db.getProvider()),this.setBaseAccountSdk(Db),console.log("Base Account SDK Initialized")):this.importPromise=Mh(()=>import("./index-DOB-CHyV.js"),[]).then(({createBaseAccountSDK:o})=>{Db=o(this.baseAccountConfig),this.proxyProvider.setWalletProvider(Db.getProvider()),this.setBaseAccountSdk(Db),console.log("Base Account SDK Initialized")}).catch(console.error)}}let NRt=[1,11155111,137,10,8453,84532,42161,7777777,43114,56];class PRt extends qw{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:H6e,id:"com.coinbase.wallet"}}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new kr("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw Mg(e)}}updateConnectionPreference(e){this.coinbaseWalletConfig={...this.coinbaseWalletConfig,preference:{...this.coinbaseWalletConfig.preference,options:e}},this.walletClientType=e==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",a6=cae({...this.coinbaseWalletConfig}),this.proxyProvider.setWalletProvider(a6.getProvider())}constructor(e,n,r,i){var s,o;if(super("coinbase_wallet",e,n,r),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new Gw(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.coinbaseWalletConfig={...i,appChainIds:[n.id].concat(e.map(a=>a.id))},this.walletClientType=((s=this.coinbaseWalletConfig.preference)==null?void 0:s.options)==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",this.walletClientType==="coinbase_smart_wallet"&&(this.displayName="Coinbase Smart Wallet"),!a6){let a=((o=this.coinbaseWalletConfig.preference)==null?void 0:o.options)!=="eoaOnly"?(this.coinbaseWalletConfig.appChainIds??[]).filter(l=>!NRt.includes(l)):[];a.length>0&&!a.every(l=>P1e.has(l))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${a.join(", ")}`),a6=cae(this.coinbaseWalletConfig)}this.proxyProvider.setWalletProvider(a6.getProvider())}}class yae extends qw{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[hU((e==null?void 0:e.chainId)||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:Y6e,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:n,defaultChain:r,rpcConfig:i,imported:s,walletIndex:o}){super("privy",n,r,i),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=o,s&&(this.connectorType="embedded_imported"),this.subscribeListeners()}}const RRt=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];class Au extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}}class wae extends j${async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Au(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await yr()||!this.address)throw new Au("Disconnected",4900);let{hash:r}=await jOt(n,{address:this.address});return r}async handleSignTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Au(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await yr()||!this.address)throw new Au("Disconnected",4900);let{signature:r}=await ROt(n,{address:this.address});return r}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new Au(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new Au(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.chainId=Number(n),this.publicClient=Xx(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",n)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let n=e.params[0],r=e.params[1],{signature:i}=await NOt({message:n},{address:r});return i}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let n=e.params[0],r=typeof e.params[1]=="string"?JSON.parse(e.params[1]):e.params[1],{signature:i}=await POt(lS(r),{address:n});return i}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let n={...e.params[0],chainId:hU(this.chainId)};return await this.publicClient.estimateGas({account:n.from??this.address,...w2e(n)})}async request(e){switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return hU(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"eth_signTransaction":return this.handleSignTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(!(n=>RRt.includes(n))(e.method))return this.publicClient.request({method:e.method,params:e.params});{let n=await yr();if(await OOt({address:this.address}),!n||!this.address)throw new Au("Disconnected",4900);try{let r={method:e.method,params:e.params},i=this.walletAccount;return i&&vl(i)?this.handleWalletApiRequest(r,i,n):(await this.walletProxy.rpc({accessToken:n,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:r})).response.data}catch(r){throw console.error(r),new Au("Disconnected",4900)}}}async handleWalletApiRequest(e,n,r){let i=this.privyClient;if(!i)throw new Au("Disconnected",4900);if(e.method==="secp256k1_sign"){let s=await Qu(i,async({message:o})=>this.walletProxy.signWithUserSigner({accessToken:r,message:o}),{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:n.id,params:{hash:e.params[0]}});if(s.method!=="secp256k1_sign")throw new Au(`Invalid params for ${e.method}`,4200);return s.data.signature}throw new Au(`Method not supported: ${e.method}`,4200)}constructor({walletProxy:e,address:n,entropyId:r,entropyIdVerifier:i,rpcConfig:s,chains:o,appId:a,chainId:l=1,walletIndex:c,privyClient:u,walletAccount:h}){super(),this.walletProxy=e,this.address=n,this.entropyId=r,this.entropyIdVerifier=i,this.chainId=l,this.rpcConfig=s,this.chains=o,this.publicClient=Xx(l,this.chains,s,{appId:a}),this.rpcTimeoutDuration=_G(s,"privy"),this.appId=a,this.walletIndex=c,this.privyClient=u,this.walletAccount=h}}function GO(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var jRt=0;class zEe extends qw{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new kr("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Mg(e)}}constructor(e,n,r,i,s){super(s||"unknown",e,n,r),this.connectorType="injected",this.proxyProvider=new Gw(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=i;let o=i.provider;this.proxyProvider.setWalletProvider(o)}}var Qg="__private_"+jRt+++"__walletBranding";class KO extends qw{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return GO(this,Qg)[Qg]??{name:"Browser Extension",icon:TG,id:"extension"}}disconnect(){console.warn("Programmatic disconnect with browser wallets is not yet supported.")}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new kr("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Mg(e)}}constructor(e,n,r,i,s){super(s??"unknown",e,n,r),Object.defineProperty(this,Qg,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new Gw(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(i),s==="metamask"?GO(this,Qg)[Qg]={name:"MetaMask",icon:fU,id:"io.metamask"}:s==="phantom"&&(GO(this,Qg)[Qg]={name:"Phantom",icon:Q6e,id:"phantom"})}}class ORt extends zEe{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){try{Cr||await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new kr("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Mg(e)}}}class MRt extends j${get wallets(){let e=new Set;return this.walletConnectors.flatMap(n=>n.wallets).sort((n,r)=>n.connectedAt&&r.connectedAt?r.connectedAt-n.connectedAt:0).filter(n=>{let r=`${n.address}${n.walletClientType}${n.connectorType}${n.meta.id}`;return!e.has(r)&&(e.add(r),!0)})}async initialize(e){var r,i,s;if(this.initialized&&!e||(e&&this.removeAllConnectors(),this.externalWalletConfig.disableAllExternalWallets))return;let n=v9t({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then(o=>{o.forEach(({type:a,eip6963InjectedProvider:l,legacyInjectedProvider:c})=>{this.createEthereumWalletConnector({connectorType:"injected",walletClientType:a,providers:{eip6963InjectedProvider:l,legacyInjectedProvider:c}})})});for(let o of(this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector({connectorType:"coinbase_wallet",walletClientType:"coinbase_wallet"}),this.walletList.includes("base_account")&&this.createEthereumWalletConnector({connectorType:"base_account",walletClientType:"base_account"}),Object.values($G)))!o.isInstalled&&this.walletList.includes(o.client)&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&o.chainTypes.includes("ethereum")&&this.createEthereumWalletConnector({connectorType:"null",walletClientType:o.client,walletConfig:o}),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&o.chainTypes.includes("solana")&&this.addSolanaWalletConnector(new NG({id:o.client,name:o.name})));this.externalWalletConfig.walletConnect.enabled&&this.createEthereumWalletConnector({connectorType:"wallet_connect_v2",walletClientType:"unknown"}),(r=this.externalWalletConfig.solana.connectors)==null||r.get().forEach(this.addSolanaWalletConnector),(s=(i=this.externalWalletConfig.solana.connectors)==null?void 0:i._setOnConnectorsUpdated)==null||s.call(i,o=>{o==null||o.forEach(this.addSolanaWalletConnector)}),await n,this.initialized=!0}findWalletConnector(e,n){return e==="wallet_connect_v2"?this.walletConnectors.filter(t6).find(r=>r.connectorType===e)??null:this.walletConnectors.filter(t6).find(r=>r.connectorType===e&&r.walletClientType===n)??null}findSolanaWalletConnector(e){return this.walletConnectors.filter(oN).find(n=>n.walletClientType==="unknown"?n.walletBranding.id===e:n.walletClientType===e)??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter(e=>e.connectorType==="embedded")}onInitialized(e){e.wallets.forEach(n=>{let r=this.storedConnections.find(i=>i.address===n.address&&i.connectorType===n.connectorType&&(n.type==="solana"&&i.walletClientType==="unknown"&&n.walletClientType==="unknown"?n.meta.id===i.id:i.walletClientType===n.walletClientType));r&&(n.connectedAt=r.connectedAt)}),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&this.emit("walletsUpdated")}addEmbeddedWalletConnectors({walletProxy:e,user:n,embeddedWallets:r,defaultChain:i,appId:s,privyClient:o}){let{entropyId:a,entropyIdVerifier:l}=Zu(n);for(let c of r){let u=this.findEmbeddedWalletConnectors().find(h=>h.walletIndex===c.walletIndex);if(u&&t6(u))u.proxyProvider.walletProxy=e;else{let h=new yae({provider:new wae({walletProxy:e,address:c.address,entropyId:a,entropyIdVerifier:l,rpcConfig:this.rpcConfig,chains:this.chains,appId:s,chainId:i.id,walletIndex:c.walletIndex,privyClient:o,walletAccount:c}),chains:this.chains,defaultChain:i,rpcConfig:this.rpcConfig,imported:!1,walletIndex:c.walletIndex});this.addWalletConnector(h)}}}addImportedWalletConnector(e,n,r,i){let s=this.findWalletConnector("embedded_imported","privy");if(s&&t6(s))s.proxyProvider.walletProxy=e;else{let o=new yae({provider:new wae({walletProxy:e,address:n,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:i,chainId:r.id}),chains:this.chains,walletIndex:0,defaultChain:r,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(o)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter(e=>e.connectorType!=="embedded"),this.storedConnections=cS(),this.emit("walletsUpdated")}removeImportedWalletConnector(){let e=this.findWalletConnector("embedded_imported","privy");if(e){let n=this.walletConnectors.indexOf(e);this.walletConnectors.splice(n,1),this.storedConnections=cS(),this.emit("walletsUpdated")}}async createEthereumWalletConnector({connectorType:e,walletClientType:n,providers:r,walletConfig:i}){let s=this.findWalletConnector(e,n);if(s&&t6(s))return s instanceof a2&&s.resetConnection(n),s;let o=e!=="injected"?e==="coinbase_wallet"?new PRt(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.coinbaseWallet.config):e==="base_account"?new $Rt(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.baseAccount.config,this.setBaseAccountSdk):e!=="null"?new a2({walletConnectCloudProjectId:this.walletConnectCloudProjectId,rpcConfig:this.rpcConfig,chains:this.chains,defaultChain:this.defaultChain,shouldEnforceDefaultChainOnConnect:this.shouldEnforceDefaultChainOnConnect,privyAppId:this.privyAppId,privyAppName:this.privyAppName,walletClientType:n}):i?new IG({id:i.client,name:i.name,defaultChain:this.defaultChain,walletClientType:i.client}):null:n==="metamask"&&(r!=null&&r.eip6963InjectedProvider)?new ORt(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.eip6963InjectedProvider,"metamask"):n==="metamask"&&(r!=null&&r.legacyInjectedProvider)?new KO(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.legacyInjectedProvider,"metamask"):n==="phantom"&&(r!=null&&r.legacyInjectedProvider)?new KO(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.legacyInjectedProvider,"phantom"):r!=null&&r.legacyInjectedProvider&&n==="unknown_browser_extension"?new KO(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.legacyInjectedProvider):r!=null&&r.eip6963InjectedProvider?new zEe(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.eip6963InjectedProvider,n):void 0;return o&&this.addWalletConnector(o),o||null}addWalletConnector(e){this.walletConnectors.push(e),e.on("initialized",()=>this.onInitialized(e)),e.on("walletsUpdated",()=>this.onWalletsUpdated(e)),e.initialize().catch(n=>{console.debug("Failed to initialize connector",n)})}setWalletList(e){this.walletList=e,this.initialized&&this.initialize(!0).catch(console.error)}removeAllConnectors(){for(let e of this.walletConnectors)e.removeAllListeners();this.walletConnectors=[]}constructor(e,n,r,i,s,o,a,l,c,u,h,f){super(),this.addSolanaWalletConnector=async p=>{let m=this.findSolanaWalletConnector(p.walletClientType);if(!m||m.connectorType==="null"){if((m==null?void 0:m.connectorType)==="null"){let g=this.walletConnectors.indexOf(m);this.walletConnectors.splice(g,1)}this.addWalletConnector(p)}},this.privyAppId=e,this.walletConnectCloudProjectId=n,this.rpcConfig=r,this.chains=i,this.defaultChain=s,this.walletConnectors=[],this.initialized=!1,this.store=o,this.walletList=a,this.shouldEnforceDefaultChainOnConnect=l,this.externalWalletConfig=c,this.privyAppName=u,this.walletChainType=f||"ethereum-only",this.setBaseAccountSdk=h,this.storedConnections=cS()}}let DRt=[pbe,mbe,bbe];class BRt{async get(e,n){try{return await this.baseFetch(e,n)}catch(r){throw Nn(r)}}async post(e,n,r){try{return await this.baseFetch(e,{method:"POST",...n?{body:n}:{},...r})}catch(i){throw Nn(i)}}async delete(e,n){try{return await this.baseFetch(e,{method:"DELETE",...n})}catch(r){throw Nn(r)}}constructor({appId:e,appClientId:n,client:r,defaults:i}){this.appId=e,this.appClientId=n,this.clientAnalyticsId=r.clientAnalyticsId,this.sdkVersion=f9t,this.client=r,this.defaults=i,this.fallbackApiUrl=r.fallbackApiUrl,this.baseFetch=fbe.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:s,options:o})=>{let a=new Headers(o.headers);a.set("privy-app-id",this.appId),this.appClientId&&a.set("privy-client-id",this.appClientId),a.set("privy-ca-id",this.clientAnalyticsId||""),a.set("privy-client",`react-auth:${this.sdkVersion}`);let l=DRt.includes(s.toString());if(!a.has("authorization")){let c=await this.client.getAccessToken({disableAutoRefresh:l});c!==null&&a.set("authorization",`Bearer ${c}`)}o.headers=a,o.retryDelay&&typeof o.retryDelay=="number"&&(o.retryDelay=3*o.retryDelay)},onRequestError:({error:s})=>{if(s instanceof DOMException&&s.name==="AbortError")throw new sst}})}}let LRt=/paymaster\.biconomy\.io\/api/i,FRt={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}};const URt=(t,e)=>t&&LRt.test(t)?FRt:e&&e.policy_id?{policyId:e.policy_id}:void 0,zRt=t=>{var e,n,r,i;return{rpId:t.rp_id,challenge:t.challenge,allowCredentials:((e=t.allow_credentials)==null?void 0:e.map(s=>({id:s.id,type:s.type,transports:s.transports})))||[],timeout:t.timeout,extensions:{appid:(n=t.extensions)==null?void 0:n.app_id,credProps:(r=t.extensions)==null?void 0:r.cred_props,hmacCreateSecret:(i=t.extensions)==null?void 0:i.hmac_create_secret},userVerification:t.user_verification}};class WEe{async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(eot,{token:this.meta.token})}catch(e){throw Nn(e)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(tot,{token:this.meta.token})}catch(e){throw Nn(e)}}constructor(e){this.meta={token:e}}}class WRt{getOrCreateGuestCredential(e){let n=C6e(e);if(sU()){if(Nt.get(n))return Nt.get(n);{let r=X1(lU(32));return Nt.put(n,r),r}}return X1(lU(32))}async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(not,{guest_credential:this.meta.guestCredential})}catch(e){throw Nn(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}}function YO(){return!(_Le&&window.location.origin.startsWith("http://localhost"))}const bae=Lw(()=>({identityToken:null}));var QO,vae=((QO={}).PRIVY="privy_access_token",QO.CUSTOMER="customer_access_token",QO);class HRt{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return e==="privy_access_token"?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken(j6)}get privyAccessToken(){return this._getToken(aS)}_getToken(e){try{let n=Nt.get(e);return typeof n=="string"?dm.throwIfNotWellFormedJwt(n):null}catch(n){return console.error(n),this.destroyLocalState(),null}}get refreshToken(){try{let e=Nt.get(SO);return typeof e=="string"?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let n=Nt.get(Gk(e));if(typeof n!="string")return null;{let r=new dm(n);return r.isExpired()?(Nt.del(Gk(e)),null):r.value}}catch(n){return console.error(n),null}}get mightHaveServerCookies(){try{let e=Ci.get(_O);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let n=typeof this.getToken(e)=="string",r=typeof this.refreshToken=="string"&&this.refreshToken!==g9t;return this.mightHaveServerCookies||n&&r}hasActiveAccessToken(e){let n=dm.parse(this.getToken(e));return n!==null&&!n.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,n){typeof n=="string"?Nt.put(Gk(e),n):Nt.del(Gk(e))}updateIdentityToken(e){typeof e=="string"?this.storeIdentityToken(e):this.clearIdentityToken()}async _authenticate(e){try{let n=await e.authenticate(),{user:r,is_new_user:i,oauth_tokens:s}=n;this.handleTokenResponse(n);let o=s?{provider:s.provider,accessToken:s.access_token,accessTokenExpiresInSeconds:s.access_token_expires_in_seconds,refreshToken:s.refresh_token,refreshTokenExpiresInSeconds:s.refresh_token_expires_in_seconds,scopes:s.scopes}:void 0;return this._trackAuthenticateEvents(e,i),{user:Ps(r),isNewUser:i,oAuthTokens:o}}catch(n){throw console.warn("Error authenticating session"),Or(n)}}_trackAuthenticateEvents(e,n){let r=function(i){return i instanceof Tv?"email":i instanceof $v?"sms":i instanceof s2?"siwe":i instanceof WRt?"guest":i instanceof WEe?"custom_auth":i instanceof Gb?i.meta.provider:null}(e);r&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:r,isNewUser:n}}),r==="siwe"&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let n=await e.link(),r=n.oauth_tokens,i=r?{provider:r.provider,accessToken:r.access_token,accessTokenExpiresInSeconds:r.access_token_expires_in_seconds,refreshToken:r.refresh_token,refreshTokenExpiresInSeconds:r.refresh_token_expires_in_seconds,scopes:r.scopes}:void 0;return{user:Ps(n),oAuthTokens:i}}catch(n){throw console.warn("Error linking account"),Or(n)}}async _refresh(){if(!this.api)throw new ue("Session has no API instance");if(!this.client)throw new ue("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,n=this.refreshToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let r;if(!(e&&n||this.mightHaveServerCookies))return null;{let i={};e&&(i.authorization=`Bearer ${e}`),r=await this.api.post(pbe,n?{refresh_token:n}:{},{headers:i})}return this.handleTokenResponse(r),Ps(r.user)}catch(r){if(r instanceof Rl&&r.privyErrorCode===pe.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw Or(r)}}handleTokenResponse(e){e.session_update_action&&e.session_update_action!=="set"?e.session_update_action==="clear"?this.destroyLocalState():e.session_update_action==="ignore"&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){var e;try{await((e=this.api)==null?void 0:e.post(mbe,{refresh_token:this.refreshToken}))}catch{console.warn("Error destroying session")}this.destroyLocalState()}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken()}storeCustomerAccessToken(e){var n,r,i,s,o,a;if(typeof e=="string"){let l=Nt.get(j6);if(Nt.put(j6,e),!((n=this.client)!=null&&n.useServerCookies)){let c=(r=dm.parse(e))==null?void 0:r.expiration;Ci.set(Vse,e,{sameSite:"Strict",secure:YO(),expires:c?new Date(1e3*c):void 0})}l!==e&&((s=(i=this.client)==null?void 0:i.onStoreCustomerAccessToken)==null||s.call(i,e))}else Nt.del(j6),Ci.remove(Vse),(a=(o=this.client)==null?void 0:o.onDeleteCustomerAccessToken)==null||a.call(o)}storeRefreshToken(e){var n;typeof e=="string"?(Nt.put(SO,e),(n=this.client)!=null&&n.useServerCookies||Ci.set(_O,"t",{sameSite:"Strict",secure:YO(),expires:30})):(Nt.del(SO),Ci.remove(p9t),Ci.remove(_O))}storePrivyAccessToken(e){typeof e=="string"?Nt.put(aS,e):Nt.del(aS)}storeIdentityToken(e){var r,i;if(bae.setState({identityToken:e}),(r=this.client)==null?void 0:r.useServerCookies)return;Nt.put(qse,e);let n=(i=dm.parse(e))==null?void 0:i.expiration;Ci.set(Gse,e,{sameSite:"Strict",secure:YO(),expires:n?new Date(1e3*n):void 0})}clearIdentityToken(){Nt.del(qse),bae.setState({identityToken:null}),Ci.remove(Gse)}constructor(){this.authenticateOnce=new ra(async e=>this._authenticate(e)),this.linkOnce=new ra(async e=>this._link(e)),this.refreshOnce=new ra(this._refresh.bind(this)),this.destroyOnce=new ra(this._destroy.bind(this))}}let ZO;var VRt=0,JO="__private_"+VRt+++"__getOrGenerateClientAnalyticsId";class qRt{getAppId(){return this.appId}initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,store:s,walletList:o,shouldEnforceDefaultChainOnConnect:a,externalWalletConfig:l,appName:c,walletChainType:u,setBaseAccountSdk:h}){this.connectors||(this.connectors=new MRt(this.appId,e,n,r,i,s,o,a,l,c,h,u))}generateApi(){let e=new BRt({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new ue("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new ue("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,n){this.session.storeProviderAccessToken(e,n)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter(n=>n.type==="cross_app").forEach(n=>{this.storeProviderAccessToken(n.providerApp.id,null)})}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post(Zst,{action:"verify"})}catch(e){throw Nn(e)}}async initMfaPasskeyVerification(){try{let e=await this.api.post(Jst,{});return zRt(e.options)}catch(e){throw Nn(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(n){console.error("Error fetching cross app provider details",n)}}async acceptTerms(){try{let e=await this.api.post(Xst,{});return Ps(e)}catch(e){throw Or(e)}}async unlinkEmail(e){try{let n=await this.api.post(_st,{address:e});return await this.getAuthenticatedUser()??Ps(n)}catch(n){throw Or(n)}}async unlinkPhone(e){try{let n=await this.api.post(Pst,{phoneNumber:e});return await this.getAuthenticatedUser()??Ps(n)}catch(n){throw Or(n)}}async unlinkEthereumWallet(e){try{let n=await this.api.post(dst,{address:e});return await this.getAuthenticatedUser()??Ps(n)}catch(n){throw Or(n)}}async unlinkSolanaWallet(e){try{let n=await this.api.post(gst,{address:e});return await this.getAuthenticatedUser()??Ps(n)}catch(n){throw Or(n)}}async unlinkOAuth(e,n){try{let r=await this.api.post(Mst,{provider:e,subject:n});return await this.getAuthenticatedUser()??Ps(r)}catch(r){throw Or(r)}}async unlinkFarcaster(e){try{let n=await this.api.post(Est,{fid:e});return await this.getAuthenticatedUser()??Ps(n)}catch(n){throw Or(n)}}async unlinkTelegram(e){try{let n=await this.api.post(Yst,{telegram_user_id:e});return await this.getAuthenticatedUser()??Ps(n)}catch(n){throw Or(n)}}async revokeDelegatedWallet(){try{await this.api.post(oot,{})}catch(e){throw Or(e)}}async createAnalyticsEvent({eventName:e,payload:n,timestamp:r,options:i}){if(typeof window<"u")try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(bbe,{event_name:e,client_id:this.clientAnalyticsId,payload:{...n||{},clientTimestamp:r?r.toISOString():new Date().toISOString()}},{retry:-1,keepalive:(i==null?void 0:i.keepAlive)??!1})}catch{console.log("Unable to submit event. This is not an issue.")}}async signMoonpayOnRampUrl(e){try{return this.api.post(rot,e)}catch(n){throw Or(n)}}async initCoinbaseOnRamp(e){try{return this.api.post(iot,e)}catch(n){throw Or(n)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`${sot}?partnerUserId=${e}`)}catch(n){throw Or(n)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken(vae.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken(vae.PRIVY,e)}async _getToken(e,n){var r;return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?((r=pK.parse(this.session.getToken(e)))==null?void 0:r.appId)!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!(n!=null&&n.disableAutoRefresh)&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getSmartWalletsConfig(){try{let e={},n=this.session.token;n&&(e.authorization=`Bearer ${n}`);let r=await this.api.get(`/api/v1/apps/${this.appId}/smart_wallets`,{baseURL:this.fallbackApiUrl,headers:e});return r.enabled?{enabled:r.enabled,smartWalletVersion:r.smart_wallet_version,smartWalletType:r.smart_wallet_type,configuredNetworks:r.configured_networks.map(i=>({chainId:i.chain_id,bundlerUrl:i.bundler_url,paymasterUrl:i.paymaster_url,paymasterContext:URt(i.paymaster_url,i.paymaster_context)}))}:{enabled:r.enabled}}catch(e){throw Or(e)}}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch{return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch{return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:n}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${n}`)}catch{return void console.error(`Unable to fetch token metadata for ${n}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(n){throw console.error("Unable to fetch Farcaster signer status"),n}}async generateSiweNonce({address:e,captchaToken:n}){try{return(await this.api.post(ast,{address:e,token:n})).nonce}catch(r){throw Or(r)}}async authenticateWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:o}){return await this.api.post(lst,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:o})}async linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){return await this.api.post(cst,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s})}async linkSmartWallet({message:e,signature:n,smartWalletType:r,smartWalletVersion:i}){try{let s=await this.api.post(ust,{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i});return Ps(s)}catch(s){throw Or(s)}}async linkWithSiwe({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){try{let o=await this.linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s});return Ps(o)}catch(o){throw Or(o)}}async generateSiwsNonce({address:e,captchaToken:n}){try{return(await this.api.post(fst,{address:e,token:n})).nonce}catch(r){throw Or(r)}}async authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:o="plain"}){return await this.api.post(pst,{message:e,signature:n,walletClientType:r,connectorType:i,mode:s,message_type:o})}async authenticateWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:o="plain"}){let a=await this.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:o});this.session.handleTokenResponse(a);let l=Ps(a.user);if(!l)throw Error("Authentication failed - no user returned");return{user:l,isNewUser:a.is_new_user||!1}}async sendAccountTransferRequest({nonce:e,account:n,accountType:r,externalWalletMetadata:i,telegramAuthResult:s,telegramWebAppData:o,farcasterEmbeddedAddress:a,oAuthUserInfo:l}){try{let c,u;switch(r){case"email":c=Tst,u={nonce:e,email:n};break;case"sms":c=Ost,u={nonce:e,phoneNumber:n};break;case"siwe":if(c=hst,!i)throw Error("Wallet parameters must be defined");u={nonce:e,address:n,...i};break;case"farcaster":c=Ast,u={nonce:e,farcaster_id:n,farcaster_embedded_address:a};break;case"telegram":c=Qst,u={nonce:e,telegram_auth_result:s,telegram_web_app_data:o};break;case"siws":c=yst,u={nonce:e,address:n,...i};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:c=Dst,u={nonce:e,userInfo:l}}let h=await this.api.post(c,u);return await this.getAuthenticatedUser()??Ps(h)}catch(c){throw Or(c)}}async linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){return await this.api.post(mst,{message:e,signature:n,walletClientType:r,connectorType:i,message_type:s})}async linkWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){try{let o=await this.linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s});return Ps(o)}catch(o){throw Or(o)}}async updateUserAndIdToken(){try{let e=await this.api.get(aot);return this.session.updateIdentityToken(e.identity_token),Ps(e.user)}catch(e){throw Or(e)}}async scanTransaction(e){try{return await this.api.post(lot,e)}catch(n){throw Or(n)}}constructor({apiUrl:e=oU,appId:n,appClientId:r,timeout:i=h9t}){Object.defineProperty(this,JO,{value:GRt}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==oU&&e.startsWith("https://privy."),this.timeout=i,this.appId=n,this.appClientId=r,this.clientAnalyticsId=function(s,o){if(!Object.prototype.hasOwnProperty.call(s,o))throw TypeError("attempted to use private field on non-instance");return s}(this,JO)[JO](),ZO||(ZO=new HRt),this.session=ZO,this.api=this.generateApi(),this.session.client=this}}function GRt(){if(typeof window>"u")return null;try{let e=Nt.get(aU);if(typeof e=="string"&&e.length>0)return e}catch{}let t=t7();try{return Nt.put(aU,t),t}catch{return t}}const KRt=({delayedExecution:t,...e})=>{let{enabled:n,siteKey:r,appId:i,setError:s,setToken:o,setExecuting:a,ref:l}=dl(),[,c]=x.useMemo(()=>(r==null?void 0:r.split("t:"))||[],[r]);if(x.useEffect(()=>{var u;return(u=l.current)==null?void 0:u.remove},[]),!n)return null;if(!c)throw Error("Unsupported captcha site key");return d.jsx("div",{className:"hidden h-0 w-0",children:d.jsx(BEe,{...e,ref:l,siteKey:c,options:{action:i,size:"invisible",...t?{appearance:"execute",execution:"execute"}:{appearance:"always",execution:"render"}},onUnsupported:()=>{var u;(u=e.onUnsupported)==null||u.call(e),console.warn("Browser does not support Turnstile.")},onError:()=>{var u;(u=e.onError)==null||u.call(e),s("Captcha failed"),a(!1)},onSuccess:u=>{var h;(h=e.onSuccess)==null||h.call(e,u),o(u),a(!1)},onExpire:()=>{var u,h;(u=e.onExpire)==null||u.call(e);try{(h=l.current)==null||h.reset(),s(void 0),o(void 0)}catch{s("expired_and_failed_reset")}}})})};function YRt(t){aN("configureMfa",t)}const mK=Z.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-ba98f772-0"})(["display:flex;flex-direction:column;align-items:center;padding:0px 0px 30px;@media (max-width:440px){padding:10px 10px 20px;}"]),Fa=Z.div.withConfig({displayName:"Title",componentId:"sc-ba98f772-1"})(["font-size:18px;line-height:30px;text-align:center;font-weight:600;margin-bottom:10px;"]),Wc=Z.div.withConfig({displayName:"SubTitle",componentId:"sc-ba98f772-2"})(["font-size:0.875rem;text-align:center;"]),hw=Z.div.withConfig({displayName:"Container",componentId:"sc-ba98f772-3"})(["display:flex;flex-direction:column;align-items:center;gap:10px;flex-grow:1;padding:20px 0;@media (max-width:440px){padding:10px 10px 20px;}"]),RN=Z.div.withConfig({displayName:"List",componentId:"sc-ba98f772-4"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.75rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),T1=Z.div.withConfig({displayName:"ListItemIcon",componentId:"sc-ba98f772-5"})(["width:25px;display:flex;align-items:center;justify-content:flex-start;> svg{z-index:2;height:25px !important;width:25px !important;color:var(--privy-color-accent);}"]),$1=Z.div.withConfig({displayName:"ListItem",componentId:"sc-ba98f772-6"})(["display:flex;align-items:center;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;"]),Kb=Z.div.withConfig({displayName:"BottomSection",componentId:"sc-ba98f772-7"})(["display:flex;flex-direction:column;gap:10px;padding-top:20px;"]),HEe=Z.div.withConfig({displayName:"MethodList",componentId:"sc-ba98f772-8"})(["display:flex;flex-direction:column;align-items:stretch;gap:1rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),XO=Z.div.withConfig({displayName:"MethodListItem",componentId:"sc-ba98f772-9"})(["display:flex;gap:5px;width:100%;position:relative;"]),eM=Z.button.withConfig({displayName:"RemoveMethodButton",componentId:"sc-ba98f772-10"})(["&&{background-color:transparent;color:var(--privy-color-foreground-3);padding:0 0.75rem;display:flex;align-items:center;height:100%;> svg{z-index:2;height:20px !important;width:20px !important;}}&&:hover{color:var(--privy-color-error);}"]),tM=Z.div.withConfig({displayName:"MethodText",componentId:"sc-ba98f772-11"})(["display:flex;align-items:center;gap:0.5rem;> svg{z-index:2;height:20px !important;width:20px !important;}"]),xae=Z.div.withConfig({displayName:"ExtraText",componentId:"sc-ba98f772-12"})(["display:flex;align-items:center;gap:6px;font-weight:400 !important;color:",";> svg{z-index:2;height:18px !important;width:18px !important;display:flex !important;align-items:flex-end;}"],t=>t.$isAccent?"var(--privy-color-accent)":"var(--privy-color-foreground-3)"),nM=Z.div.withConfig({displayName:"SmsInsecureText",componentId:"sc-ba98f772-13"})(["width:100%;display:flex;justify-content:space-between;"]),VEe=Z.p.withConfig({displayName:"TermsText",componentId:"sc-ba98f772-14"})(["text-align:left;width:100%;color:var(--privy-color-foreground-3) !important;"]),HU=Z.button.withConfig({displayName:"PrimaryTextButton",componentId:"sc-ba98f772-15"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:100%;cursor:pointer;border-radius:var(--privy-border-radius-md);font-size:0.875rem;line-height:1rem;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{color:",";background-color:transparent;padding:0.5rem 0px;}&:hover{text-decoration:underline;}"],t=>t.theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-accent)"),Hc=Z.div.withConfig({displayName:"IconWrapper",componentId:"sc-ba98f772-16"})(["display:flex;align-items:center;justify-content:center;color:var(--privy-color-accent);width:100%;> svg{z-index:2;width:3rem;height:3rem;}"]),qEe=Z.div.withConfig({displayName:"ErrorMessage",componentId:"sc-ba98f772-17"})(["color:var(--privy-color-error);"]),GEe=({handleClose:t,user:e,onSelect:n})=>d.jsxs(Rn,{title:"Verify your identity",subtitle:"Choose a verification method",icon:rw,iconVariant:"subtle",onClose:t,showClose:!0,watermark:!0,children:[d.jsxs(HEe,{children:[e.mfaMethods.includes("totp")&&d.jsxs(Gr,{onClick:()=>n("totp"),children:[d.jsx(Gh,{children:d.jsx(S$,{})}),"Authenticator app"]},"totp"),e.mfaMethods.includes("sms")&&d.jsxs(Gr,{onClick:()=>n("sms"),children:[d.jsx(Gh,{children:d.jsx(bg,{})}),"SMS"]},"sms"),e.mfaMethods.includes("passkey")&&d.jsxs(Gr,{onClick:()=>n("passkey"),children:[d.jsx(Gh,{children:d.jsx(Pq,{})}),"Passkey"]},"passkey")]}),d.jsx(Ri,{})]}),VU=({pendingTransaction:t})=>{let{wallets:e}=Lg(),{walletProxy:n,rpcConfig:r,chains:i,appId:s,nativeTokenSymbolForChainId:o}=st(),[a,l]=x.useState(null),[c,u]=x.useState(t),{tokenPrice:h}=hC(c.chainId),f=o(t.chainId)||"ETH",p=x.useMemo(()=>e.find(m=>m.walletClientType==="privy"),[e]);return x.useEffect(()=>{(async function(){if(!n||!p)return c;let m=Xx(c.chainId,i,r,{appId:s}),g=await U7(c,m,p.address);return l(_i(BigInt(g.gas??0))),g})().then(u).catch(console.error)},[n]),p?d.jsx(QRt,{children:d.jsx(w4e,{from:p.address,to:c.to,txn:c,gas:a??void 0,tokenPrice:h,tokenSymbol:f})}):null};let QRt=Z.div.withConfig({displayName:"TransactionInfoWrapper",componentId:"sc-8d9a2f57-0"})(["width:100%;padding:1rem 0;"]);const gK=({style:t,...e})=>d.jsx("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.71369 17.5625V10.375C3.71369 6.44625 6.85845 3.25 10.7238 3.25H17.7953C18.6783 3.25 19.3941 2.52244 19.3941 1.625C19.3941 0.727562 18.6783 0 17.7953 0H10.7238C5.09529 0 0.516113 4.65419 0.516113 10.375V17.5625C0.516113 18.4599 1.23194 19.1875 2.1149 19.1875C2.99787 19.1875 3.71369 18.4599 3.71369 17.5625ZM17.7953 60.7501C18.6783 60.7501 19.3941 61.4777 19.3941 62.3751C19.3941 63.2726 18.6783 64.0001 17.7953 64.0001H10.7238C5.09529 64.0001 0.516113 59.3459 0.516113 53.6251V46.4376C0.516113 45.5402 1.23194 44.8126 2.1149 44.8126C2.99787 44.8126 3.71369 45.5402 3.71369 46.4376V53.6251C3.71369 57.5538 6.85845 60.7501 10.7238 60.7501H17.7953ZM63.4839 46.4376V53.6251C63.4839 59.3459 58.9048 64.0001 53.2763 64.0001H46.2047C45.3217 64.0001 44.6059 63.2726 44.6059 62.3751C44.6059 61.4777 45.3217 60.7501 46.2047 60.7501H53.2763C57.1416 60.7501 60.2864 57.5538 60.2864 53.6251V46.4376C60.2864 45.5402 61.0022 44.8126 61.8851 44.8126C62.7681 44.8126 63.4839 45.5402 63.4839 46.4376ZM63.4839 10.375V17.5625C63.4839 18.4599 62.7681 19.1875 61.8851 19.1875C61.0022 19.1875 60.2864 18.4599 60.2864 17.5625V10.375C60.2864 6.44625 57.1416 3.25 53.2763 3.25H46.2047C45.3217 3.25 44.6059 2.52244 44.6059 1.625C44.6059 0.727562 45.3217 0 46.2047 0H53.2763C58.9048 0 63.4839 4.65419 63.4839 10.375ZM43.0331 47.3022C43.7067 46.6698 43.7483 45.6022 43.1262 44.9176C42.5039 44.233 41.4536 44.1906 40.78 44.823C38.3832 47.0732 35.265 48.3125 31.9997 48.3125C28.7344 48.3125 25.6162 47.0732 23.2194 44.823C22.5457 44.1906 21.4955 44.233 20.8732 44.9176C20.251 45.6022 20.2927 46.6698 20.9663 47.3022C23.9784 50.1301 27.8968 51.6875 31.9997 51.6875C36.1026 51.6875 40.021 50.1301 43.0331 47.3022ZM35.3207 24.1249V36.1249C35.3207 38.5029 33.4173 40.4374 31.0777 40.4374H29.7249C28.8079 40.4374 28.0646 39.6819 28.0646 38.7499C28.0646 37.8179 28.8079 37.0624 29.7249 37.0624H31.0777C31.5863 37.0624 32.0001 36.6419 32.0001 36.1249V24.1249C32.0001 23.1929 32.7434 22.4374 33.6604 22.4374C34.5774 22.4374 35.3207 23.1929 35.3207 24.1249ZM46.7581 28.8437V24.0312C46.7581 23.151 46.056 22.4374 45.19 22.4374C44.324 22.4374 43.622 23.151 43.622 24.0312V28.8437C43.622 29.7239 44.324 30.4374 45.19 30.4374C46.056 30.4374 46.7581 29.7239 46.7581 28.8437ZM17.6109 28.8437C17.6109 29.7239 18.313 30.4374 19.1789 30.4374C20.0449 30.4374 20.747 29.7239 20.747 28.8437V24.0312C20.747 23.151 20.0449 22.4374 19.1789 22.4374C18.313 22.4374 17.6109 23.151 17.6109 24.0312V28.8437Z"})}),KEe=({hasBlockingError:t,error:e,onClose:n,onBack:r,handleSubmit:i,account:s,submitSuccess:o})=>{var l;let{pendingTransaction:a}=st();return d.jsxs(d.Fragment,{children:[d.jsx(bn,{onClose:n},"header"),d.jsx(v4e,{children:d.jsxs("div",{children:[d.jsx(a4e,{success:o,fail:!!e}),d.jsx(e?Bw:gK,{style:{width:"38px",height:"38px"}})]})}),d.jsx(Fa,{style:{marginTop:"1rem"},children:"Verifying with passkey"}),d.jsxs(RN,{children:[d.jsxs($1,{children:[d.jsx(T1,{children:d.jsx(rw,{})}),"Approve this action using your touch, face, PIN, or hardware key."]}),d.jsxs($1,{children:[d.jsx(T1,{children:d.jsx(Pdt,{})}),"You last added a passkey on"," ",(l=s==null?void 0:s.firstVerifiedAt)==null?void 0:l.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),"."]})]}),a&&d.jsx(hw,{children:d.jsx(VU,{pendingTransaction:a})}),e&&d.jsxs(d.Fragment,{children:[d.jsx(qEe,{style:{marginTop:"1.25rem"},children:e.message}),d.jsx(pr,{disabled:t,onClick:i,style:{marginTop:"1.25rem"},children:"Try again"})]}),r&&d.jsx(HU,{style:{marginTop:"1rem"},onClick:r,children:"Choose another method"}),d.jsx(Ri,{})]})};let ZRt=Array(6).fill("");var l6,JRt=((l6=JRt||{})[l6.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",l6[l6.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",l6);function qU(t){return/^[0-9]{1}$/.test(t)}function Eae(t){return t.length===6&&t.every(qU)}const Q7=({onChange:t,disabled:e,errorReasonOverride:n,success:r})=>{let[i,s]=x.useState(ZRt),[o,a]=x.useState(null),[l,c]=x.useState(null),u=async f=>{var N;f.preventDefault();let p=f.currentTarget.value.replace(/\s+/g,"");if(p==="")return;let m=i.reduce((R,j)=>R+Number(qU(j)),0),g=p.split(""),y=!g.every(qU),w=g.length+m>6;if(y)return a("Passcode can only be numbers"),void c(1);if(w)return a("Passcode must be exactly 6 numbers"),void c(1);a(null),c(null);let v=Number((N=f.currentTarget.name)==null?void 0:N.charAt(4)),b=[...p||[""]].slice(0,6-v),A=[...i.slice(0,v),...b,...i.slice(v+b.length)];s(A);let E=Math.min(Math.max(v+b.length,0),5),$=document.querySelector(`input[name=pin-${E}]`);if($==null||$.focus(),Eae(A))try{await t(A.join(""));let R=document.querySelector(`input[name=pin-${E}]`);R==null||R.blur()}catch(R){c(1),a(R.message)}else try{await t(null)}catch(R){c(1),a(R.message)}},h=r?"success":!n&&!o?"":"fail";return d.jsx(d.Fragment,{children:d.jsxs(XRt,{children:[d.jsx("div",{children:i.map((f,p)=>d.jsx("input",{name:`pin-${p}`,type:"text",value:i[p],onChange:u,onKeyUp:m=>{m.key==="Backspace"&&(g=>{l===1&&(a(null),c(null));let y=[...i.slice(0,g),"",...i.slice(g+1)];if(s(y),g>0){let w=document.querySelector(`input[name=pin-${g-1}]`);w==null||w.focus()}Eae(y)?t(y.join("")):t(null)})(p)},inputMode:"numeric",autoFocus:p===0,pattern:"[0-9]",className:h,autoComplete:Cr?"one-time-code":"off",disabled:e},p))}),d.jsx("div",{children:d.jsx(ejt,{$fail:!!n||!!o,children:n||o})})]})})};let XRt=Z.div.withConfig({displayName:"PinInputContainer",componentId:"sc-7a171f6-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;@media (max-width:440px){margin-top:8px;margin-bottom:8px;}> div:nth-child(1){display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-md);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);padding:8px 10px;height:58px;width:46px;text-align:center;font-size:18px;}> input:disabled{background:var(--privy-color-background-2);}> input:focus{border:1px solid var(--privy-color-accent);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-success);}> input.fail{border:1px solid var(--privy-color-error);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),ejt=Z.div.withConfig({displayName:"InputHelp",componentId:"sc-7a171f6-1"})(["line-height:20px;font-size:13px;display:flex;justify-content:flex-start;width:100%;color:",";"],t=>t.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)");const YEe=({selectedMethod:t,submitSuccess:e,hasBlockingError:n,onClose:r,onBack:i,handleSubmitCode:s})=>{let{app:o}=lt(),{pendingTransaction:a}=st();switch(t){case"sms":return d.jsxs(d.Fragment,{children:[d.jsx(bn,{onClose:r},"header"),d.jsx(Hc,{style:{marginBottom:"1.5rem"},children:d.jsx(bg,{})}),d.jsx(Fa,{children:"Enter verification code"}),d.jsxs(hw,{children:[d.jsx(Q7,{success:e,disabled:n,onChange:s}),d.jsxs(Wc,{children:["To continue, please enter the 6-digit code sent to your ",d.jsx("strong",{children:"mobile device"})]}),a&&d.jsx(VU,{pendingTransaction:a})]}),i&&d.jsx(HU,{theme:o==null?void 0:o.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),d.jsx(kd,{onClick:r,children:"Cancel"}),d.jsx(Ri,{})]});case"totp":return d.jsxs(d.Fragment,{children:[d.jsx(bn,{onClose:r},"header"),d.jsx(Hc,{style:{marginBottom:"1.5rem"},children:d.jsx(S$,{})}),d.jsx(Fa,{children:"Enter verification code"}),d.jsxs(hw,{children:[d.jsx(Q7,{success:e,disabled:n,onChange:s}),d.jsxs(Wc,{children:["To continue, please enter the 6-digit code generated from your"," ",d.jsx("strong",{children:"authenticator app"})]}),a&&d.jsx(VU,{pendingTransaction:a})]}),i&&d.jsx(HU,{theme:o==null?void 0:o.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),d.jsx(kd,{onClick:r,children:"Cancel"}),d.jsx(Ri,{})]});default:return null}},Z7=t=>c_t(t)?{isBlocking:!0,error:Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds.")}:FG(t)?{isBlocking:!1,error:Error("The code you entered is not valid")}:LG(t)?{isBlocking:!0,error:Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.")}:(console.error(t),{isBlocking:!1,error:Error("Something went wrong.")}),tjt={component:()=>{let{user:t}=Sn(),{data:e}=lt(),[n,r]=x.useState(t==null?void 0:t.mfaMethods[0]),[i,s]=x.useState(!1),[o,a]=x.useState(),[l,c]=x.useState();if(x.useEffect(()=>{r(t==null?void 0:t.mfaMethods[0])},[t==null?void 0:t.mfaMethods]),!(e!=null&&e.mfaVerify))throw Error("Missing modal data for MFA verification screen.");let{onFailure:u,onSuccess:h,generateOptions:f,verifyTotpCode:p,verifyPasskey:m,verifySmsCode:g,sendSmsCode:y}=e.mfaVerify,w=async E=>{if(E!=="passkey")try{r(E),E==="sms"&&(r(E),await y()),E==="totp"&&r(E)}catch($){console.error($)}else try{r(E);let $=await f();if(!$)throw Error("something went wrong");a($),await m($),s(!0),c(void 0),h()}catch($){c(Z7($))}},v=async E=>{c(void 0);try{if(!E||!n)return;if(n==="passkey"){if(!o)throw Error("Missing passkey challenge");await m(o)}else n==="sms"?await g(E):n==="totp"&&await p(E);c(void 0),s(!0),h()}catch($){throw Z7($).error}},b=()=>{l||!i?u((l==null?void 0:l.error)??Error("Canceled MFA verification.")):h()},A=x.useRef(!1);return x.useEffect(()=>{!A.current&&n&&(A.current=!0,w(n).finally(()=>{A.current=!1}))},[open]),t?n==="passkey"?d.jsx(KEe,{account:t.linkedAccounts.filter(E=>E.type==="passkey"&&E.enrolledInMfa).sort((E,$)=>$.firstVerifiedAt.valueOf()-E.firstVerifiedAt.valueOf())[0],submitSuccess:i,hasBlockingError:(l==null?void 0:l.isBlocking)??!1,error:l==null?void 0:l.error,onClose:b,onBack:()=>{r(void 0),c(void 0)},handleSubmit:()=>v(o).catch(c)}):n==="sms"||n==="totp"?d.jsx(YEe,{selectedMethod:n,submitSuccess:i,hasBlockingError:(l==null?void 0:l.isBlocking)??!1,handleSubmitCode:v,onClose:b,onBack:t.mfaMethods.length>1?()=>r(void 0):void 0}):d.jsx(GEe,{user:t,onSelect:w,handleClose:b}):null}};function QEe(){let{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}=x.useContext(G3);return{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}}const Aae=({onClose:t})=>{let{user:e}=Sn(),[n,r]=x.useState((e==null?void 0:e.mfaMethods[0])??null),{init:i,cancel:s,submit:o}=QEe(),[a,l]=x.useState(!1),[c,u]=x.useState(null),[h,f]=x.useState();x.useEffect(()=>{r((e==null?void 0:e.mfaMethods[0])??null)},[e==null?void 0:e.mfaMethods]);let p=x.useRef(!1);async function m(w){f(void 0);try{if(!w||!n)return;await o(n,w),l(!0),f(void 0),t()}catch(v){throw Z7(v).error}}async function g(w){if(w!=="passkey")try{r(w),await i(w)}catch(v){console.error(v)}else try{r(w);let v=await i(w);if(!v)throw Error("something went wrong");u(v),await o(w,v),l(!0),f(void 0),t()}catch(v){f(Z7(v))}}x.useEffect(()=>{!p.current&&n&&(p.current=!0,g(n).finally(()=>{p.current=!1}))},[]);let y=()=>{r(null),f(void 0),s(),t()};return e?n==="passkey"?d.jsx(KEe,{account:e.linkedAccounts.filter(w=>w.type==="passkey"&&w.enrolledInMfa).sort((w,v)=>v.firstVerifiedAt.valueOf()-w.firstVerifiedAt.valueOf())[0],submitSuccess:a,hasBlockingError:(h==null?void 0:h.isBlocking)??!1,error:h==null?void 0:h.error,onClose:y,onBack:()=>{r(null),f(void 0)},handleSubmit:()=>m(c).catch(f)}):n?d.jsx(YEe,{submitSuccess:a,hasBlockingError:(h==null?void 0:h.isBlocking)??!1,handleSubmitCode:m,selectedMethod:n,onClose:y,onBack:e.mfaMethods.length>1?()=>r(null):void 0}):d.jsx(GEe,{user:e,onSelect:g,handleClose:y}):null},xE=Lw(()=>({inProgressMfaFlow:void 0})),njt=dat([":root{","};"],t=>rjt(t.palette)),rjt=t=>ls(["",""],Object.entries(function(e){return{"--privy-color-background":e.background,"--privy-color-background-2":e.background2,"--privy-color-background-3":e.background3,"--privy-color-foreground":e.foreground,"--privy-color-foreground-2":e.foreground2,"--privy-color-foreground-3":e.foreground3,"--privy-color-foreground-4":e.foreground4,"--privy-color-foreground-accent":e.foregroundAccent,"--privy-color-accent":e.accent,"--privy-color-accent-light":e.accentLight,"--privy-color-accent-hover":e.accentHover,"--privy-color-accent-dark":e.accentDark,"--privy-color-accent-darkest":e.accentDarkest,"--privy-color-success":e.success,"--privy-color-success-dark":e.successDark,"--privy-color-success-light":e.successLight,"--privy-color-success-bg":e.successBg,"--privy-color-error":e.error,"--privy-color-error-light":e.errorLight,"--privy-color-error-bg":e.errorBg,"--privy-color-error-bg-hover":e.errorBgHover,"--privy-color-warn":e.warn,"--privy-color-warn-light":e.warnLight,"--privy-color-warn-bg":e.warnBg,"--privy-color-warning-dark":e.warningDark,"--privy-color-error-dark":e.errorDark,"--privy-color-info-bg":e.infoBg,"--privy-color-info-bg-hover":e.infoBgHover,"--privy-color-border-default":e.borderDefault,"--privy-color-border-hover":e.borderHover,"--privy-color-border-focus":e.borderFocus,"--privy-color-border-error":e.borderError,"--privy-color-border-success":e.borderSuccess,"--privy-color-border-warning":e.borderWarning,"--privy-color-border-info":e.borderInfo,"--privy-color-border-interactive":e.borderInteractive,"--privy-color-border-interactive-hover":e.borderInteractiveHover,"--privy-color-background-hover":e.backgroundHover,"--privy-color-background-clicked":e.backgroundClicked,"--privy-color-background-disabled":e.backgroundDisabled,"--privy-color-background-interactive":e.backgroundInteractive,"--privy-color-background-interactive-hover":e.backgroundInteractiveHover,"--privy-color-background-interactive-clicked":e.backgroundInteractiveClicked,"--privy-color-background-interactive-disabled":e.backgroundInteractiveDisabled,"--privy-color-foreground-hover":e.foregroundHover,"--privy-color-foreground-clicked":e.foregroundClicked,"--privy-color-foreground-disabled":e.foregroundDisabled,"--privy-color-foreground-interactive":e.foregroundInteractive,"--privy-color-foreground-interactive-hover":e.foregroundInteractiveHover,"--privy-link-navigation-color":e.linkNavigationColor,"--privy-link-navigation-decoration":e.linkNavigationDecoration,"--privy-accent-has-good-contrast":e.accentHasGoodContrast,"--privy-color-icon-default":e.iconDefault,"--privy-color-icon-muted":e.iconMuted,"--privy-color-icon-subtle":e.iconSubtle,"--privy-color-icon-inverse":e.iconInverse,"--privy-color-icon-success":e.iconSuccess,"--privy-color-icon-warning":e.iconWarning,"--privy-color-icon-error":e.iconError,"--privy-color-icon-interactive":e.iconInteractive,"--privy-color-icon-default-hover":e.iconDefaultHover,"--privy-color-icon-muted-hover":e.iconMutedHover,"--privy-color-icon-subtle-hover":e.iconSubtleHover,"--privy-color-icon-default-clicked":e.iconDefaultClicked,"--privy-color-icon-muted-clicked":e.iconMutedClicked,"--privy-color-icon-subtle-clicked":e.iconSubtleClicked,"--privy-color-icon-default-disabled":e.iconDefaultDisabled,"--privy-color-icon-muted-disabled":e.iconMutedDisabled,"--privy-color-icon-subtle-disabled":e.iconSubtleDisabled,"--privy-color-icon-error-hover":e.iconErrorHover,"--privy-color-icon-interactive-hover":e.iconInteractiveHover,"--privy-color-icon-error-clicked":e.iconErrorClicked,"--privy-color-icon-interactive-clicked":e.iconInteractiveClicked,"--privy-color-icon-muted-disabled-alt":e.iconMutedDisabledAlt,"--privy-color-icon-subtle-disabled-alt":e.iconSubtleDisabledAlt,"--privy-border-radius-xs":"6px","--privy-border-radius-sm":"8px","--privy-border-radius-md":"12px","--privy-border-radius-mdlg":"16px","--privy-border-radius-lg":"24px","--privy-border-radius-full":"9999px","--privy-height-modal-full":"620px","--privy-height-modal-compact":"480px"}}(t)).map(([e,n])=>`${e}: ${n};`).join(`
`)),Cae=Z.div.withConfig({displayName:"StylesWrapper",componentId:"sc-188229e4-0"})([""," color:var(--privy-color-foreground-2);h3{font-size:16px;line-height:24px;font-weight:500;color:var(--privy-color-foreground-2);}h4{font-size:14px;line-height:20px;font-weight:500;color:var(--privy-color-foreground);}p{font-size:13px;line-height:20px;color:var(--privy-color-foreground-2);}button:focus,input:focus,optgroup:focus,select:focus,textarea:focus{outline:none;border-color:var(--privy-color-accent-light);box-shadow:0 0 0 3px var(--privy-color-border-focus);}.mobile-only{@media (min-width:441px){display:none;}}@keyframes fadein{0%{opacity:0;}100%{opacity:1;}}"],`
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
  }

  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-feature-settings: normal;

  margin: 0;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  abbr:where([title]) {
    text-decoration: underline dotted;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';
    display: inline;
  }

  a {
    color: inherit;
    text-decoration: inherit;
  }

  b,
  strong {
    font-weight: bolder;
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 1em;
  }

  small {
    font-size: 80%;
  }

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sub {
    bottom: -0.25em;
  }

  sup {
    top: -0.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
    padding: 0;
  }

  button,
  select {
    text-transform: none;
  }

  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
  }

  ::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }

  :-moz-focusring {
    outline: 1px dotted ButtonText;
  }

  :-moz-ui-invalid {
    box-shadow: none;
  }

  legend {
    padding: 0;
  }

  progress {
    vertical-align: baseline;
  }

  ::-webkit-inner-spin-button,
  ::-webkit-outer-spin-button {
    height: auto;
  }

  [type='search'] {
    -webkit-appearance: textfield;
    outline-offset: -2px;
  }

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-file-upload-button {
    -webkit-appearance: button;
    font: inherit;
  }

  summary {
    display: list-item;
  }

  blockquote,
  dl,
  dd,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  hr,
  figure,
  p,
  pre {
    margin: 0;
  }

  fieldset {
    margin: 0;
    padding: 0;
  }

  legend {
    padding: 0;
  }

  ol,
  ul,
  menu {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  textarea {
    resize: vertical;
  }

  input::placeholder,
  textarea::placeholder {
    opacity: 1;
    color: #9ca3af;
  }

  button,
  [role='button'] {
    cursor: pointer;
  }

  :disabled {
    cursor: default;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }

  [hidden] {
    display: none;
  }
`),ijt=({children:t,open:e,onClick:n,...r})=>d.jsx(i2e,{show:e,as:Ae.Fragment,children:d.jsxs(Wut,{onClose:n,...r,as:ojt,children:[d.jsx(J8,{as:Ae.Fragment,enterFrom:"entering",leaveTo:"leaving",children:d.jsx(sjt,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),d.jsx(ajt,{children:d.jsx(J8,{as:Ae.Fragment,enterFrom:"entering",leaveTo:"leaving",children:d.jsx(s2e,{as:ljt,children:t})})})]})});let sjt=Z.div.withConfig({displayName:"Backdrop",componentId:"sc-3cfde0b5-0"})(["position:fixed;inset:0;transition:backdrop-filter 100ms ease;backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);&.entering,&.leaving{backdrop-filter:unset;-webkit-backdrop-filter:unset;}"]),ojt=Z.div.withConfig({displayName:"DialogWrapper",componentId:"sc-3cfde0b5-1"})(["position:relative;z-index:999999;"]),ajt=Z.div.withConfig({displayName:"DialogContainer",componentId:"sc-3cfde0b5-2"})(["position:fixed;inset:0;display:flex;align-items:center;justify-content:center;width:100vw;min-height:100vh;"]);const ljt=Z.div.withConfig({displayName:"Panel",componentId:"sc-3cfde0b5-3"})(["padding:0;background:transparent;border:none;width:100%;pointer-events:auto;outline:none;display:block;@media (max-width:440px){opacity:1;transform:translate3d(0,0,0);transition:transform 200ms ease-in;position:fixed;bottom:0;&.entering,&.leaving{opacity:0;transform:translate3d(0,100%,0);transition:transform 150ms ease-in 0ms,opacity 0ms ease 150ms;}}@media (min-width:441px){opacity:1;transition:opacity 100ms ease-in;&.entering,&.leaving{opacity:0;transition-delay:5ms;}margin:auto;width:360px;box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]),cjt=Z.div.withConfig({displayName:"CenterItem",componentId:"sc-3cfde0b5-4"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;"]);let ZEe=()=>{let{ready:t,isModalOpen:e}=Sn(),{headless:n}=Fn(),{currentScreen:r}=lt(),{status:i,execute:s,reset:o,enabled:a}=dl(),l=xE(h=>h.inProgressMfaFlow),c=()=>xE.setState({inProgressMfaFlow:void 0}),u=e&&r&&r.isCaptchaRequired&&!n&&i==="ready";return x.useEffect(()=>{u&&s()},[u]),x.useEffect(()=>{!e&&a&&o()},[e,a]),r&&!t&&r.isShownBeforeReady?d.jsxs(d.Fragment,{children:[d.jsx(bn,{}),d.jsx(hf,{}),d.jsx(cjt,{children:d.jsx(iu,{})}),d.jsx(Nd,{}),d.jsx(Ri,{})]}):r||l!=="txn"?r?d.jsxs(d.Fragment,{children:[d.jsx(t3,{$if:!!l,children:d.jsx(r.component,{})}),l==="txn"&&d.jsx(Aae,{onClose:c}),l==="auth"&&d.jsx(tjt.component,{})]}):null:d.jsx(Aae,{onClose:c})},ujt=()=>{let t=x.useRef(null);return d.jsx(hjt,{style:{height:dRt(t)},id:"privy-modal-content",children:d.jsx("div",{ref:t,children:d.jsx(ZEe,{})})})};const djt=({open:t})=>{let e=Fn(),{gracefulClosePrivyModal:n}=(()=>{let{closePrivyModal:i}=st(),{onUserCloseViaDialogOrKeybindRef:s}=lt();return{gracefulClosePrivyModal:x.useCallback(()=>{if(!(s!=null&&s.current))return i({shouldCallAuthOnSuccess:!1});s.current()},[i])}})(),r=xE(i=>i.inProgressMfaFlow);return YRt({onMfaRequired:()=>{e.mfa.noPromptOnMfaRequired||xE.setState({inProgressMfaFlow:"txn"})}}),e.render.standalone?d.jsx(Cae,{children:d.jsx(JEe,{id:"privy-modal-content",children:d.jsx(ZEe,{})})}):d.jsx(ijt,{open:!(!t&&!r),id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>n(),children:d.jsx(Cae,{children:d.jsx(ujt,{})})})};let JEe=Z.div.withConfig({displayName:"ContentWrapper",componentId:"sc-b220e1ee-0"})(["display:flex;flex-direction:column;text-align:center;font-size:14px;line-height:20px;width:100%;background:var(--privy-color-background);padding:0 16px;"]),hjt=Z(JEe).withConfig({displayName:"BaseModal",componentId:"sc-b220e1ee-1"})(["transition:height 150ms ease-out;overflow-x:hidden;overflow-y:auto;scrollbar-width:none;max-height:calc(100svh - 32px);border-radius:var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;box-shadow:0px 0px 36px rgba(55,65,81,0.15);@media (min-width:441px){box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]);function fjt(t){let e=x.useRef(null),n=x.useRef();return x.useEffect(()=>{var r,i;(r=n.current)==null||r.remove(),n.current=function({botUsername:s,scriptHost:o}){let a=document.createElement("script"),{origin:l}=new URL(o);return a.async=!0,a.src=`${l}/js/telegram-login.js`,a.setAttribute("data-telegram-login",s),a.setAttribute("data-request-access","write"),a.setAttribute("data-lang","en"),a}(t),(i=e.current)==null||i.after(n.current)},[t]),d.jsx("div",{ref:e,hidden:!0})}const pjt=()=>{let{ready:t}=Lg(),{client:e}=st();return x.useEffect(()=>{var r;let n=()=>{if(!e.connectors||!t)return;let i=e.connectors.wallets.map(s=>({address:s.address,connectorType:s.connectorType,walletClientType:s.walletClientType,connectedAt:s.connectedAt,id:s.meta.id}));Nt.put(k6e,i)};return(r=e.connectors)==null||r.on("walletsUpdated",n),()=>{var i;(i=e.connectors)==null||i.off("walletsUpdated",n)}},[t,e.connectors]),null};async function vc(t,e,n,r,i,s=!1){var c,u,h;let o=s,a=async f=>{var p;if(o&&e&&e.length>0){f===(s?0:1)?i("configureMfa","onMfaRequired",{mfaMethods:e}):(p=r.current)==null||p.reject(new Qr("missing_or_invalid_mfa","MFA verification failed, retry."));let m=await new Promise((g,y)=>{n.current={resolve:g,reject:y},setTimeout(()=>{var v;let w=new Qr("mfa_timeout","Timed out waiting for MFA code");(v=r.current)==null||v.reject(w),y(w)},3e5)});return await t(m)}return await t()},l=null;for(let f=0;f<4;f++)try{l=await a(f),(c=r.current)==null||c.resolve(void 0);break}catch(p){if(p.type!=="missing_or_invalid_mfa")throw(u=r.current)==null||u.resolve(void 0),p;o=!0}if(l===null){let f=new Qr("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw(h=r.current)==null||h.reject(f),f}return l}var kae;let mjt=(kae=0,()=>"id-"+kae++);function Zi(t){return t.error!==void 0}let Di=new class{enqueue(t,e){this.callbacks[t]=e}dequeue(t,e){let n=this.callbacks[e];if(!n)throw Error(`cannot dequeue ${t} event: no event found for id ${e}`);switch(delete this.callbacks[e],t){case"privy:iframe:ready":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:auth:unlink-passkey":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return n;default:throw Error(`invalid wallet event type ${t}`)}}constructor(){this.callbacks={}}},rM=new Map,gjt=(t,e)=>typeof e=="bigint"?e.toString():e;function Ji(t,e,n,r){let i=n.contentWindow;if(!i)throw Error("iframe not initialized");let s=((a,l)=>`${a}${JSON.stringify(l,gjt)}`)(t,e);if(t==="privy:wallet:create"){let a=rM.get(s);if(a)return a}let o=new Promise((a,l)=>{let c=mjt();Di.enqueue(c,{resolve:a,reject:l}),i.postMessage({id:c,event:t,data:e},r)}).finally(()=>{rM.delete(s)});return rM.set(s,o),o}function yjt(t){let e=t4e(),n=x.useRef(null),r=x.useRef(t.mfaMethods),i=Kw(),[s,o]=x.useState(!1);return x.useEffect(()=>{r.current=t.mfaMethods},[t.mfaMethods]),x.useEffect(()=>{if(!s)return;let a=n.current;if(!a)return;function l(h){var f;h&&h.origin===t.origin&&typeof(f=h.data).event=="string"&&/^privy:.+/.test(f.event)&&function(p){switch(p.event){case"privy:iframe:ready":let m=Di.dequeue(p.event,p.id);return Zi(p)?m.reject(new Qr(p.error.type,p.error.message)):m.resolve(p.data);case"privy:user-signer:sign":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Qr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:wallets:add":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Qr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:wallets:set-recovery":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Qr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:wallets:connect":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Qr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:wallets:recover":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Qr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:wallets:rpc":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Qr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:wallet:create":let g=Di.dequeue(p.event,p.id);return Zi(p)?g.reject(new Qr(p.error.type,p.error.message)):g.resolve(p.data);case"privy:wallets:import":let y=Di.dequeue(p.event,p.id);return Zi(p)?y.reject(new Qr(p.error.type,p.error.message)):y.resolve(p.data);case"privy:mfa:verify":let w=Di.dequeue(p.event,p.id);return Zi(p)?w.reject(new Qr(p.error.type,p.error.message)):w.resolve(p.data);case"privy:mfa:init-enrollment":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Qr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:mfa:submit-enrollment":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Qr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:mfa:unenroll":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Qr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:mfa:clear":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Qr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:auth:unlink-passkey":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Qr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:solana-wallet:create":let v=Di.dequeue(p.event,p.id);return Zi(p)?v.reject(new Qr(p.error.type,p.error.message)):v.resolve(p.data);case"privy:farcaster:init-signer":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Qr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:farcaster:sign":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Qr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:delegated-actions:consent":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Qr(p.error.type,p.error.message)):b.resolve(p.data)}default:console.warn("Unsupported wallet proxy method:",p)}}(h.data)}let c={signWithUserSigner:h=>vc(f=>Ji("privy:user-signer:sign",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),addWallet:h=>vc(f=>Ji("privy:wallets:add",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),setRecovery:h=>vc(f=>Ji("privy:wallets:set-recovery",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),connect:h=>vc(f=>Ji("privy:wallets:connect",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),recover:h=>vc(f=>Ji("privy:wallets:recover",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!h.recoveryAccessToken&&!h.recoveryPassword&&!h.recoverySecretOverride),rpc:h=>vc(f=>Ji("privy:wallets:rpc",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),create:h=>Ji("privy:wallet:create",h,a,t.origin),importWallet:h=>Ji("privy:wallets:import",h,a,t.origin),createSolana:h=>vc(f=>Ji("privy:solana-wallet:create",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),createDelegatedAction:h=>Ji("privy:delegated-actions:consent",h,a,t.origin),verifyMfa:h=>vc(f=>Ji("privy:mfa:verify",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!0),initEnrollMfa:h=>vc(f=>Ji("privy:mfa:init-enrollment",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),submitEnrollMfa:h=>vc(f=>Ji("privy:mfa:submit-enrollment",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),unenrollMfa:h=>vc(f=>Ji("privy:mfa:unenroll",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),clearMfa:h=>Ji("privy:mfa:clear",h,a,t.origin),unlinkPasskeyAccount:h=>vc(f=>Ji("privy:auth:unlink-passkey",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),initFarcasterSigner:h=>Ji("privy:farcaster:init-signer",h,a,t.origin),signFarcasterMessage:h=>Ji("privy:farcaster:sign",h,a,t.origin)};window.addEventListener("message",l);let u=new AbortController;return dU(()=>Ji("privy:iframe:ready",{},a,t.origin),{abortSignal:u.signal}).then(()=>t.onLoad(c),(...h)=>{console.warn("Privy iframe failed to load: ",...h),t.onLoadFailed()}),()=>{window.removeEventListener("message",l),u.abort()}},[s]),e?d.jsx("iframe",{ref:n,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>o(!0),src:U6e(t.origin,`/apps/${t.appId}/embedded-wallets`,{caid:t.clientAnalyticsId,client_id:t.appClientId})}):null}const wjt=({address:t,user:e})=>{let n=e.linkedAccounts.find(r=>r.type==="wallet"&&r.walletClientType==="privy"&&r.address===t);if(!n)throw new ue("Address to delegate is not associated with current user.");if(!bE(n))throw new ue(`useDelegatedActions is not supported for ${n.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:n.address,chainType:n.chainType,walletIndex:n.walletIndex??0}},bjt=({address:t,user:e})=>{let n=e.linkedAccounts.find(i=>i.type==="wallet"&&i.walletClientType==="privy"&&i.address===t);if(!n)throw new ue("Address to delegate is not associated with current user.");let r=n.imported?n:Cd(e);if(!r)throw new ue("Unable to determine root address for delegated address.");if(!bE(r))throw new ue(`useDelegatedActions is not supported for ${r.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:r.address,chainType:r.chainType,imported:r.imported}},Sae=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.delegated),vjt=()=>{let t=Fn();x.useEffect(()=>{(async e=>{let n=new URL("v3/wallets","https://explorer-api.walletconnect.com");n.searchParams.append("projectId",e);let r=await fetch(n);return r.ok?Object.values((await r.json()).listings).sort(({slug:i},{slug:s})=>i==="rainbow"&&s==="metamask"?1:i==="metamask"||i==="rainbow"?-1:1):(console.debug(`Failed to fetch WalletConnect listings: ${await r.text().catch(()=>"No response.")}`),[])})(t.walletConnectCloudProjectId).then(e=>T9t({listings:e})).catch(console.error)},[t.walletConnectCloudProjectId])},_ae="popup-privy-oauth",Iae="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";class xjt{async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(ybe,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw Nn(e)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(wbe,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw Nn(e)}}constructor({authorizationCode:e,stateCode:n,codeVerifier:r,provider:i}){this.meta={authorizationCode:e,stateCode:n,codeVerifier:r,provider:i}}}async function XEe({api:t,requesterAppId:e,providerAppId:n}){let r=(await t.get(`/api/v1/apps/${e}/cross-app/connections`)).connections.find(i=>i.provider_app_id===n);if(!r)throw new ue("Invalid connected app");return{name:r.provider_app_name,logoUrl:r.provider_app_icon_url||void 0,apiUrl:r.provider_app_custom_api_url,readOnly:r.read_only,customAuthAuthorizeUrl:r.provider_app_custom_auth_authorize_url,customAuthTransactUrl:r.provider_app_custom_auth_transact_url}}const e9=async({user:t,address:e,client:n,request:r,requesterAppId:i,reconnect:s})=>{n.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:e,method:r.method}});let o=t==null?void 0:t.linkedAccounts.find(h=>h.type==="cross_app"&&(h.embeddedWallets.some(f=>f.address===e)||h.smartWallets.some(f=>f.address===e)));if(!t||!o)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:e}}),new ue("Cannot request a signature with this wallet address");let a=n.getProviderAccessToken(o.providerApp.id),l=await XEe({api:n.api,requesterAppId:i,providerAppId:o.providerApp.id});if(!a){if(l.readOnly)throw console.error("cannot transact against a read-only provider app"),new ue("Cannot transact against a read-only provider app");await s({appId:o.providerApp.id,action:"link"})&&(a=n.getProviderAccessToken(o.providerApp.id))}if(!a)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:e}}),new ue("Transactions require a valid token");let c=fN();if(!c)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:e}}),new ue("Failed to initialize signature request");let u=new URL(l.customAuthTransactUrl||`${l.apiUrl}/oauth/transact`);return u.searchParams.set("token",a||""),u.searchParams.set("request",Ejt(r)),c.location=u.href,new Promise((h,f)=>{let p=setTimeout(()=>{y(),f(new ue("Request timeout")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:e}})},12e4),m=setInterval(()=>{c.closed&&(y(),f(new ue("User rejected request")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:e}}))},300),g=w=>{var v,b,A;w.data&&(((v=w.data.token)==null?void 0:v.action)==="set"&&((b=w.data.token)==null?void 0:b.value)!==void 0?n.storeProviderAccessToken(o.providerApp.id,w.data.token.value):((A=w.data.token)==null?void 0:A.action)==="clear"&&n.storeProviderAccessToken(o.providerApp.id,null),w.data.type==="PRIVY_CROSS_APP_ACTION_RESPONSE"&&w.data.result&&(y(),h(w.data.result),n.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:e,method:r.method}})),w.data.type==="PRIVY_CROSS_APP_ACTION_ERROR"&&w.data.error&&(y(),f(w.data.error),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:w.data.error,address:e}})))};window.addEventListener("message",g);let y=()=>{c.close(),clearInterval(m),clearTimeout(p),window.removeEventListener("message",g)}})};let Ejt=t=>JSON.stringify({content:{request:{request:GU(t,_i)}},timestamp:Date.now(),callbackUrl:window.origin});const GU=(t,e)=>typeof t=="bigint"?e(t):Array.isArray(t)?t.map(n=>GU(n,e)):t&&typeof t=="object"?Object.fromEntries(Object.entries(t).map(([n,r])=>[n,GU(r,e)])):t,Ajt=({passkeys:t,isLoading:e,errorReason:n,success:r,expanded:i,onLinkPasskey:s,onUnlinkPasskey:o,onExpand:a,onBack:l,onClose:c})=>d.jsx(Rn,r?{title:"Passkeys updated",icon:QA,iconVariant:"success",primaryCta:{label:"Done",onClick:c},onClose:c,watermark:!0}:i?{icon:p7,title:"Your passkeys",onBack:l,onClose:c,watermark:!0,children:d.jsx(Tae,{passkeys:t,expanded:i,onUnlink:o,onExpand:a})}:{icon:p7,title:"Set up passkey verification",subtitle:"Verify with passkey",primaryCta:{label:"Add new passkey",onClick:s,loading:e},onClose:c,watermark:!0,helpText:n||void 0,children:t.length===0?d.jsx(kjt,{}):d.jsx(Cjt,{children:d.jsx(Tae,{passkeys:t,expanded:i,onUnlink:o,onExpand:a})})});let Cjt=Z.div.withConfig({displayName:"ContentContainer",componentId:"sc-d4c46a0c-0"})(["margin-bottom:12px;"]),Tae=({passkeys:t,expanded:e,onUnlink:n,onExpand:r})=>{let[i,s]=x.useState([]),o=e?t.length:2,a=l=>l.authenticatorName?l.createdWithBrowser?`${l.authenticatorName} on ${l.createdWithBrowser}`:l.authenticatorName:l.createdWithBrowser?l.createdWithOs?`${l.createdWithBrowser} on ${l.createdWithOs}`:`${l.createdWithBrowser}`:"Unknown device";return d.jsxs("div",{children:[d.jsx($jt,{children:"Your passkeys"}),d.jsxs(Tjt,{children:[t.slice(0,o).map(l=>{var c;return d.jsxs(Rjt,{children:[d.jsxs("div",{children:[d.jsx(Njt,{children:a(l)}),d.jsxs(Pjt,{children:["Last used:"," ",((c=l.latestVerifiedAt??l.firstVerifiedAt)==null?void 0:c.toLocaleString())??"N/A"]})]}),d.jsx(Ojt,{disabled:i.includes(l.credentialId),onClick:()=>(async u=>{s(h=>h.concat([u])),await n(u),s(h=>h.filter(f=>f!==u))})(l.credentialId),children:i.includes(l.credentialId)?d.jsx(Bg,{}):d.jsx(_ht,{size:16})})]},l.credentialId)}),t.length>2&&!e&&d.jsx(Ijt,{onClick:r,children:"View all"})]})]})},kjt=()=>d.jsxs(g8e,{style:{color:"var(--privy-color-foreground)"},children:[d.jsx(c2,{children:"Verify with Touch ID, Face ID, PIN, or hardware key"}),d.jsx(c2,{children:"Takes seconds to set up and use"}),d.jsx(c2,{children:"Use your passkey to verify transactions and login to your account"})]});const Sjt={component:()=>{let{user:t,unlinkPasskey:e}=Sn(),{linkWithPasskey:n,closePrivyModal:r}=st(),i=t==null?void 0:t.linkedAccounts.filter(p=>p.type==="passkey"),[s,o]=x.useState(!1),[a,l]=x.useState(""),[c,u]=x.useState(!1),[h,f]=x.useState(!1);return x.useEffect(()=>{i.length===0&&f(!1)},[i.length]),d.jsx(Ajt,{passkeys:i,isLoading:s,errorReason:a,success:c,expanded:h,onLinkPasskey:()=>{o(!0),n().then(()=>u(!0)).catch(p=>{if(p instanceof Do){if(p.privyErrorCode===pe.CANNOT_LINK_MORE_OF_TYPE)return void l("Cannot link more passkeys to account.");if(p.privyErrorCode===pe.PASSKEY_NOT_ALLOWED)return void l("Passkey request timed out or rejected by user.")}l("Unknown error occurred.")}).finally(()=>{o(!1)})},onUnlinkPasskey:async p=>(o(!0),await e(p).then(()=>u(!0)).catch(m=>{m instanceof Do&&m.privyErrorCode===pe.MISSING_MFA_CREDENTIALS?l("Cannot unlink a passkey enrolled in MFA"):l("Unknown error occurred.")}).finally(()=>{o(!1)})),onExpand:()=>f(!0),onBack:()=>f(!1),onClose:()=>r()})}},eAe=Z.div.withConfig({displayName:"DoubleIconWrapper",componentId:"sc-d4c46a0c-1"})(["display:flex;align-items:center;justify-content:center;width:180px;height:90px;border-radius:50%;svg + svg{margin-left:12px;}> svg{z-index:2;color:var(--privy-color-accent) !important;stroke:var(--privy-color-accent) !important;fill:var(--privy-color-accent) !important;}"]);let _jt=ls(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:6px 8px;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent) !important;:focus{outline:none;box-shadow:none;}}"]);const Ijt=Z.button.withConfig({displayName:"LinkButton",componentId:"sc-d4c46a0c-2"})(["",""],_jt);let Tjt=Z.div.withConfig({displayName:"List",componentId:"sc-d4c46a0c-3"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.8rem;padding:0.5rem 0rem 0rem;flex-grow:1;width:100%;"]),$jt=Z.div.withConfig({displayName:"PasskeyListTitle",componentId:"sc-d4c46a0c-4"})(["line-height:20px;height:20px;font-size:1em;font-weight:450;display:flex;justify-content:flex-beginning;width:100%;"]),Njt=Z.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-d4c46a0c-5"})(["font-size:1em;line-height:1.3em;font-weight:500;color:var(--privy-color-foreground-2);padding:0.2em 0;"]),Pjt=Z.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-d4c46a0c-6"})(["font-size:0.875rem;line-height:1rem;color:#64668b;padding:0.2em 0;"]),Rjt=Z.div.withConfig({displayName:"PasskeyListItem",componentId:"sc-d4c46a0c-7"})(["display:flex;align-items:center;justify-content:space-between;padding:1em;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;border-radius:8px;border:1px solid #e2e3f0 !important;width:100%;height:5em;"]),jjt=ls([":focus,:hover,:active{outline:none;}display:flex;width:2em;height:2em;justify-content:center;align-items:center;svg{color:var(--privy-color-error);}svg:hover{color:var(--privy-color-foreground-3);}"]),Ojt=Z.button.withConfig({displayName:"PasskeyItemUnlinkButton",componentId:"sc-d4c46a0c-8"})(["",""],jjt);const iM=new Map([[ud,null],[gC,"external"],[M8e,"external"],[V8e,"external"],[D8e,"external"],[q7,"manual"],[B8e,"moonpay"]]),Mjt=()=>{let t=Fn(),{user:e}=Sn(),{client:n,refreshSessionAndUser:r,walletProxy:i}=st();return{migrate:x.useCallback(async()=>{if(t.embeddedWallets.mode==="legacy-embedded-wallets-only")return{success:!0};if(!e)throw new ue("User must be authenticated before migrating wallets",pe.MUST_BE_AUTHENTICATED);let s=Cd(e);if(!s||vl(s)||!bE(s))return{success:!0};if(!i)throw new ue("Cannot connect to wallet proxy");let o=await n.getAccessToken();if(!o)throw new ue("User must be authenticated before migrating wallets",pe.MUST_BE_AUTHENTICATED);let a=s.imported?[s]:e.linkedAccounts.filter(u=>u.type==="wallet"&&u.walletClientType==="privy"&&!u.imported).filter(bE),{entropyId:l,entropyIdVerifier:c}=Zu(e,s);try{await i.connect({accessToken:o,entropyId:l,entropyIdVerifier:c})}catch(u){if(!pE(u)||s.recoveryMethod!=="privy")throw u;await i.recover({accessToken:o,entropyId:l,entropyIdVerifier:c})}return await i.createDelegatedAction({accessToken:o,rootWallet:{address:s.address,chainType:s.chainType,imported:s.imported},delegatedWallets:a}),await r(),{success:!0}},[t.embeddedWallets.mode,e,i,n,r])}},Djt=({disabled:t})=>{let{migrate:e}=Mjt(),{user:n}=Sn(),{walletProxy:r}=st();return x.useEffect(()=>{!t&&n&&r&&e().catch(i=>{console.debug("Unable to migrate wallets: ",i)})},[n,r,t,e]),null},Bjt=t=>({id:t.id,raw_id:t.rawId,response:{client_data_json:t.response.clientDataJSON,authenticator_data:t.response.authenticatorData,signature:t.response.signature,user_handle:t.response.userHandle},authenticator_attachment:t.authenticatorAttachment,client_extension_results:{app_id:t.clientExtensionResults.appid,cred_props:t.clientExtensionResults.credProps,hmac_create_secret:t.clientExtensionResults.hmacCreateSecret},type:t.type}),Ljt=({providerApp:t,success:e,error:n,onClose:r})=>{let{title:i,subtitle:s}=x.useMemo(()=>e?{title:`Successfully connected with ${t.name}`,subtitle:"You're good to go!"}:n?{title:"Authentication failed",subtitle:n.message}:{title:`Connecting to ${t.name}`,subtitle:`Please check the pop-up from ${t.name} to continue`},[e,n,t.name]);return d.jsx(Rn,{title:i,subtitle:s,icon:t.logoUrl,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!n},onBack:r,watermark:!0})},Fjt={component:()=>{let t=Fn(),{data:e,navigate:n,setModalData:r,onUserCloseViaDialogOrKeybindRef:i}=lt(),{crossAppAuthFlow:s,updateWallets:o,closePrivyModal:a,createAnalyticsEvent:l}=st(),{logout:c}=hRt(),[u,h]=x.useState({}),f=e==null?void 0:e.crossAppAuth,p={id:f.appId,name:f.name,logoUrl:f.logoUrl},m=new ue(`There was an issue connecting your ${p.name} account. Please try again.`),g=new ra(async w=>{var v,b,A,E,$,N,R,j,F,W,V,B,k,C,S;if(f.popup)try{let T=await s({appId:w,popup:f.popup,action:f.action});h({data:T})}catch(T){if(T instanceof ue)h({error:T});else if(T instanceof Rl){if(T.privyErrorCode===pe.ACCOUNT_TRANSFER_REQUIRED&&((b=(v=T.data)==null?void 0:v.data)!=null&&b.nonce))return r({accountTransfer:{nonce:(E=(A=T.data)==null?void 0:A.data)==null?void 0:E.nonce,account:(N=($=T.data)==null?void 0:$.data)==null?void 0:N.subject,displayName:(F=(j=(R=T.data)==null?void 0:R.data)==null?void 0:j.account)==null?void 0:F.displayName,linkMethod:`privy:${p.id}`,embeddedWalletAddress:(B=(V=(W=T.data)==null?void 0:W.data)==null?void 0:V.otherUser)==null?void 0:B.embeddedWalletAddress,oAuthUserInfo:(S=(C=(k=T.data)==null?void 0:k.data)==null?void 0:C.otherUser)==null?void 0:S.oAuthUserInfo}}),void n(Yw);f.popup&&f.popup.close(),h({error:m})}else h({error:m})}else h({error:m})}),y=()=>{u.data&&(o(),f.onSuccess(u.data),a({shouldCallAuthOnSuccess:!0,isSuccess:!0})),f.onError(u.error??new ue("User canceled flow")),a({shouldCallAuthOnSuccess:!1,isSuccess:!1})};return i.current=y,x.useEffect(()=>{p.id.length&&g.execute(p.id)},[p.id]),x.useEffect(()=>{if(!u.data)return;let w=u.data;if(t.legal.requireUsersAcceptTerms&&!w.hasAcceptedTerms){let b=setTimeout(()=>{n(Qw)},Wr);return()=>clearTimeout(b)}if(Ug(w,t.embeddedWallets)){let b=setTimeout(()=>{r({createWallet:{onSuccess:()=>{},onFailure:A=>{console.error(A),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:A,provider:`privy:${p.id}`,screen:"CrossAppAuthScreen"}}),c()},callAuthOnSuccessOnClose:!0}}),n(o0)},Wr);return()=>clearTimeout(b)}let v=setTimeout(y,Wr);return()=>clearTimeout(v)},[u.data]),d.jsx(Ljt,{providerApp:p,success:!!u.data,error:u.error,onClose:y})}},Ujt=({appName:t,address:e,success:n,error:r,onAccept:i,onDecline:s,onClose:o})=>d.jsx(Rn,n||r?{title:r?"Something went wrong":"Success!",subtitle:r?"Please try again.":`You've successfully granted delegated action permissions to ${t}.`,icon:r?v2e:QA,iconVariant:r?"error":"success",onBack:o,watermark:!0}:{title:"Enable offline access",subtitle:`By confirming, ${t} will be able to use your wallet for you even when you're not around. You can revoke this later.`,icon:Aht,primaryCta:{label:"Accept",onClick:i},secondaryCta:{label:"Not now",onClick:s},onBack:o,watermark:!0,children:d.jsx(_N,{address:e,title:"Wallet"})}),zjt={component:()=>{let{app:t,data:e}=lt(),{closePrivyModal:n}=st(),[r,i]=x.useState(!1),[s,o]=x.useState(),{address:a,onDelegate:l,onSuccess:c,onError:u}=e.delegatedActions.consent,h=async()=>{r?c():u(s??new ue("User declined delegating actions.")),n({shouldCallAuthOnSuccess:!1})};return x.useEffect(()=>{if(!r&&!s)return;let f=setTimeout(h,A6e);return()=>clearTimeout(f)},[r,s]),d.jsx(Ujt,{appName:t.name,address:a,success:r,error:s,onAccept:async()=>{try{await l(),i(!0)}catch(f){o(f)}},onDecline:()=>{h()},onClose:h})}},Wjt=({appName:t,success:e,error:n,onRevoke:r,onDeny:i,onClose:s})=>d.jsx(Rn,e||n?{title:n?"Something went wrong":"Success!",subtitle:n?"Please try again.":"You've successfully revoked permissions.",icon:n?v2e:QA,iconVariant:n?"error":"success",onBack:s,watermark:!0}:{title:"Revoke offline access to wallet",subtitle:`By confirming, ${t} will no longer be able to use this wallet on your behalf when you are not online.`,icon:vht,primaryCta:{label:"Confirm",onClick:r},secondaryCta:{label:"Deny",onClick:i},onBack:s,watermark:!0}),Hjt={component:()=>{let{app:t,data:e}=lt(),{closePrivyModal:n}=st(),[r,i]=x.useState(!1),[s,o]=x.useState(),{onRevoke:a,onSuccess:l,onError:c}=e.delegatedActions.revoke,u=async()=>{r?l():c(s??new ue("User declined revoking access to their delegated wallet.")),n({shouldCallAuthOnSuccess:!1})};return x.useEffect(()=>{if(!r&&!s)return;let h=setTimeout(u,A6e);return()=>clearTimeout(h)},[r,s]),d.jsx(Wjt,{appName:t.name,success:r,error:s,onRevoke:async()=>{try{await a(),i(!0)}catch(h){o(h)}},onDeny:()=>{u()},onClose:u})}};let $ae="#8a63d2";const Vjt=({appName:t,loading:e,success:n,errorMessage:r,connectUri:i,onBack:s,onClose:o,onOpenFarcaster:a})=>d.jsx(Rn,Cr||e?VH?{title:r?r.message:"Add a signer to Farcaster",subtitle:r?r.detail:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,icon:I1,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},primaryCta:i&&a?{label:"Open Farcaster app",onClick:a}:void 0,onBack:s,onClose:o,watermark:!0}:{title:r?r.message:"Requesting signer from Farcaster",subtitle:r?r.detail:"This should only take a moment",icon:I1,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},onBack:s,onClose:o,watermark:!0,children:i&&Cr&&d.jsx(qjt,{children:d.jsx(n8e,{text:"Take me to Farcaster",url:i,color:$ae})})}:{title:"Add a signer to Farcaster",subtitle:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,onBack:s,onClose:o,watermark:!0,children:d.jsxs(Gjt,{children:[d.jsx(Kjt,{children:i?d.jsx(pC,{url:i,size:275,squareLogoElement:I1}):d.jsx(Zjt,{children:d.jsx(iu,{})})}),d.jsxs(Yjt,{children:[d.jsx(Qjt,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),i&&d.jsx(tK,{text:i,itemName:"link",color:$ae})]})]})});let qjt=Z.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-da518e1f-0"})(["margin-top:24px;"]),Gjt=Z.div.withConfig({displayName:"ContentContainer",componentId:"sc-da518e1f-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),Kjt=Z.div.withConfig({displayName:"QrContainer",componentId:"sc-da518e1f-2"})(["padding:24px;position:relative;display:flex;align-items:center;justify-content:center;min-height:275px;"]),Yjt=Z.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-da518e1f-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),Qjt=Z.div.withConfig({displayName:"InstructionText",componentId:"sc-da518e1f-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),Zjt=Z.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-da518e1f-5"})(["position:relative;width:82px;height:82px;"]);const Jjt={component:()=>{let{lastScreen:t,navigateBack:e,data:n,app:r}=lt(),{requestFarcasterSignerStatus:i,closePrivyModal:s}=st(),[o,a]=x.useState(void 0),[l,c]=x.useState(!1),[u,h]=x.useState(!1),f=x.useRef([]),p=n==null?void 0:n.farcasterSigner;x.useEffect(()=>{let g=Date.now(),y=setInterval(async()=>{if(!(p!=null&&p.public_key))return clearInterval(y),void a({retryable:!0,message:"Connect failed",detail:"Something went wrong. Please try again."});p.status==="approved"&&(clearInterval(y),c(!1),h(!0),f.current.push(setTimeout(()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0}),Wr)));let w=await i(p==null?void 0:p.public_key),v=Date.now()-g;w.status==="approved"?(clearInterval(y),c(!1),h(!0),f.current.push(setTimeout(()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0}),Wr))):v>3e5?(clearInterval(y),a({retryable:!0,message:"Connect failed",detail:"The request timed out. Try again."})):w.status==="revoked"&&(clearInterval(y),a({retryable:!0,message:"Request rejected",detail:"The request was rejected. Please try again."}))},2e3);return()=>{clearInterval(y),f.current.forEach(w=>clearTimeout(w))}},[]);let m=(p==null?void 0:p.status)==="pending_approval"?p.signer_approval_url:void 0;return d.jsx(Vjt,{appName:r.name,loading:l,success:u,errorMessage:o,connectUri:m,onBack:t?e:void 0,onClose:s,onOpenFarcaster:()=>{m&&(window.location.href=m)}})}},Xjt=({onClose:t})=>d.jsx(Rn,{title:"Could not log in with provider",subtitle:"It looks like you're using an in-app browser. To log in, please try again using an external browser.",icon:eF,primaryCta:{label:"Close",onClick:t},watermark:!0}),Nae={component:()=>{let{closePrivyModal:t}=st();return d.jsx(Xjt,{onClose:()=>t()})}},eOt=({title:t="Connect your email",subtitle:e="Add your email to your account"})=>d.jsx(Rn,{title:t,subtitle:e,icon:_$,watermark:!0,children:d.jsx(f4e,{children:d.jsx(f8e,{stacked:!0})})}),tOt={component:()=>{let{app:t}=lt();return d.jsx(eOt,{subtitle:`Add your email to your ${t==null?void 0:t.name} account`})}},nOt=({title:t="Connect your phone",subtitle:e="Add your number to your account",onSubmit:n,isSubmitting:r=!1})=>{let[i,s]=x.useState(null),o=async()=>{i!=null&&i.qualifiedPhoneNumber&&await n(i)};return d.jsx(Rn,{title:t,subtitle:e,icon:bg,primaryCta:{label:r?"Submitting":"Submit",onClick:o,disabled:!(i!=null&&i.isValid)||r},watermark:!0,children:d.jsx(kN,{onChange:a=>{s(a)},onSubmit:o,noIncludeSubmitButton:!0,hideRecent:!0})})},yK={component:()=>{let{app:t,currentScreen:e,data:n,navigate:r,setModalData:i}=lt(),{initLoginWithSms:s}=st(),[o,a]=x.useState(!1);return d.jsx(nOt,{subtitle:`Add your number to your ${t==null?void 0:t.name} account`,onSubmit:async l=>{var c;a(!0);try{await s({phoneNumber:l.qualifiedPhoneNumber,withPrivyUi:!0}),r(Jp)}catch(u){i({errorModalData:{error:u,previousScreen:((c=n==null?void 0:n.errorModalData)==null?void 0:c.previousScreen)||e||yK}}),r(Yr)}finally{a(!1)}},isSubmitting:o})}},rOt=({title:t="Could not connect with wallet",subtitle:e="Please check that Phantom multichain is enabled and try again.",primaryCtaText:n="Try again",secondaryCtaText:r="Cancel",onTryAgain:i,onCancel:s})=>d.jsx(Rn,{title:t,subtitle:e,icon:I$,iconVariant:"error",primaryCta:{label:n,onClick:i},secondaryCta:{label:r,onClick:s},watermark:!0}),iOt={component:()=>{let{closePrivyModal:t}=st(),{navigate:e}=lt();return d.jsx(rOt,{onTryAgain:()=>{e(Lo)},onCancel:async()=>{await t()}})}};function tAe(){let{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenroll:o,enrollInMfa:a}=x.useContext(G3);return{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenrollWithSms:()=>o("sms"),unenrollWithTotp:()=>o("totp"),unenrollWithPasskey:l=>o("passkey",l),showMfaEnrollmentModal:()=>a(!0),closeMfaEnrollmentModal:()=>a(!1)}}const sOt=t=>d.jsxs(oOt,{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"88",height:"89",viewBox:"0 0 88 89",...t,children:[d.jsx("rect",{y:"0.666016",width:"88",height:"88",rx:"44"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.2463 20.9106C44.5473 20.2486 43.4527 20.2486 42.7537 20.9106C37.8798 25.5263 31.3034 28.3546 24.0625 28.3546C23.9473 28.3546 23.8323 28.3539 23.7174 28.3525C22.9263 28.3427 22.2202 28.8471 21.9731 29.5987C20.9761 32.6311 20.4375 35.8693 20.4375 39.2297C20.4375 53.5896 30.259 65.651 43.5482 69.0714C43.8446 69.1477 44.1554 69.1477 44.4518 69.0714C57.741 65.651 67.5625 53.5896 67.5625 39.2297C67.5625 35.8693 67.0239 32.6311 66.0269 29.5987C65.7798 28.8471 65.0737 28.3427 64.2826 28.3525C64.1677 28.3539 64.0527 28.3546 63.9375 28.3546C56.6966 28.3546 50.1202 25.5263 45.2463 20.9106ZM52.7249 40.2829C53.3067 39.4683 53.1181 38.3363 52.3035 37.7545C51.4889 37.1726 50.3569 37.3613 49.7751 38.1759L41.9562 49.1223L38.0316 45.1977C37.3238 44.4899 36.1762 44.4899 35.4684 45.1977C34.7605 45.9056 34.7605 47.0532 35.4684 47.761L40.9059 53.1985C41.2826 53.5752 41.806 53.7671 42.337 53.7232C42.868 53.6792 43.3527 53.4039 43.6624 52.9704L52.7249 40.2829Z"})]});let oOt=Z.svg.withConfig({displayName:"StyledSvg",componentId:"sc-59fa943f-0"})(["height:90px;width:90px;> rect{","}> path{fill:white;}"],t=>t.color==="success"?"fill: var(--privy-color-success);":"fill: var(--privy-color-accent);");const aOt=({showIntro:t,userMfaMethods:e,appMfaMethods:n,userHasAuthSms:r,isTotpLoading:i,isPasskeyLoading:s,error:o,onClose:a,onBackToIntro:l,handleSelectMethod:c,setRemovingMfaMethod:u})=>{let h=e.reduce((p,m)=>({...p,[m]:!0}),{}),f=n.reduce((p,m)=>({...p,[m]:!0}),{});return d.jsxs(d.Fragment,{children:[d.jsx(bn,{backFn:t?l:void 0,onClose:a},"header"),d.jsx(Hc,{style:{marginBottom:"1.5rem"},children:d.jsx(rw,{})}),d.jsx(Fa,{children:"Choose a verification method"}),e.length>0?d.jsx(Wc,{children:"To add or delete verification methods, verification is required."}):d.jsx(Wc,{children:"How would you like to verify your identity?"}),o&&d.jsx(qEe,{style:{marginTop:"1.25rem"},children:o.message}),d.jsxs(HEe,{children:[(f.passkey||h.passkey)&&d.jsxs(XO,{children:[d.jsx(Gr,{style:{justifyContent:"center"},onClick:()=>c("passkey"),disabled:h.passkey||s,children:s?d.jsx(iu,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):d.jsxs(nM,{children:[d.jsxs(tM,{children:[d.jsx(Pq,{}),"Passkey"]}),h.passkey?d.jsx(sM,{color:"green",children:"Enabled"}):d.jsx(xae,{$isAccent:!0,children:d.jsx(Mdt,{})})]})}),h.passkey&&d.jsx(eM,{style:{position:"absolute",right:0},onClick:()=>u("passkey"),children:d.jsx(Pj,{})})]},"passkey"),(f.totp||h.totp)&&d.jsxs(XO,{children:[d.jsx(Gr,{style:{justifyContent:"center"},disabled:h.totp||i,onClick:()=>c("totp"),children:i?d.jsx(iu,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):d.jsxs(nM,{children:[d.jsxs(tM,{children:[d.jsx(S$,{}),"Authenticator app"]}),h.totp&&d.jsx(sM,{color:"green",children:"Enabled"})]})}),h.totp&&d.jsx(eM,{style:{position:"absolute",right:0},onClick:()=>u("totp"),children:d.jsx(Pj,{})})]},"totp"),(f.sms||h.sms)&&d.jsxs(XO,{children:[d.jsx(Gr,{disabled:h.sms||r,onClick:()=>c("sms"),children:d.jsxs(nM,{children:[d.jsxs(tM,{children:[d.jsx(bg,{}),"SMS"]}),h.sms&&d.jsx(sM,{color:"green",children:"Enabled"}),r&&d.jsx(xae,{children:"Disabled"})]})}),h.sms&&d.jsx(eM,{style:{position:"absolute",right:0},onClick:()=>u("sms"),children:d.jsx(Pj,{})})]},"sms")]}),d.jsx(lOt,{children:"You can always change your selection later"}),d.jsx(Ri,{})]})};let sM=Z(tf).withConfig({displayName:"StyledChip",componentId:"sc-24f8b314-0"})(["margin-right:1.5rem;"]),lOt=Z(VEe).withConfig({displayName:"StyledTerms",componentId:"sc-24f8b314-1"})(["&&{margin-top:1rem;}text-align:center;"]);const nAe=({style:t,...e})=>d.jsxs("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},xmlns:"http://www.w3.org/2000/svg",...e,children:[d.jsxs("g",{clipPath:"url(#clip0_113_33841)",children:[d.jsx("path",{d:"M39.1193 0.943398C34.636 -0.174912 29.9185 -0.334713 25.328 0.656273C24.9732 0.732859 24.7477 1.08253 24.8243 1.43729C24.9009 1.79205 25.2506 2.01756 25.6053 1.94097C30.0015 0.991934 34.53 1.14842 38.8375 2.22802C49.1385 4.80983 57.7129 12.5548 60.9786 22.6718C62.2416 26.5843 62.7781 30.7505 62.8855 35.1167C62.8945 35.4795 63.1958 35.7664 63.5586 35.7575C63.9215 35.7485 64.2083 35.4472 64.1994 35.0843C64.0905 30.6582 63.5477 26.3849 62.2536 22.3432C58.8621 11.7515 49.9005 3.63265 39.1193 0.943398Z"}),d.jsx("path",{d:"M21.9931 2.93163C22.343 2.83511 22.5484 2.47325 22.4518 2.12339C22.3553 1.77352 21.9935 1.56815 21.6436 1.66466C16.8429 2.98903 10.0898 7.56519 5.91628 13.6786C5.91465 13.681 5.91304 13.6834 5.91145 13.6858C2.24684 19.2083 -0.0503572 26.1484 0.591012 32.8828C0.591623 32.8892 0.592328 32.8956 0.593127 32.902C0.746837 34.1317 1.00488 35.3591 1.26323 36.5879C1.80735 39.1761 2.35282 41.7706 1.92765 44.4064C1.86986 44.7647 2.11347 45.102 2.47177 45.1598C2.83007 45.2176 3.16738 44.974 3.22518 44.6157C3.66961 41.8605 3.11776 39.173 2.56581 36.4851C2.31054 35.2419 2.05525 33.9987 1.89847 32.7486C1.29525 26.3851 3.46802 19.7466 7.00418 14.416C11.0189 8.5373 17.5201 4.16562 21.9931 2.93163Z"}),d.jsx("path",{d:"M30.6166 4.39985C38.8671 3.89603 47.1159 7.26314 52.6556 13.7139C52.8921 13.9893 52.8605 14.4042 52.5852 14.6406C52.3099 14.8771 51.895 14.8455 51.6585 14.5702C46.3904 8.43576 38.541 5.23144 30.6927 5.71195C30.6899 5.71212 30.6871 5.71227 30.6843 5.71241C20.7592 6.19265 11.4643 12.9257 8.04547 22.3603C7.92183 22.7016 7.54498 22.8779 7.20375 22.7543C6.86253 22.6306 6.68616 22.2538 6.80981 21.9126C10.4114 11.9735 20.1717 4.90702 30.6166 4.39985Z"}),d.jsx("path",{d:"M54.6576 16.5848C54.4553 16.2836 54.047 16.2033 53.7457 16.4057C53.4444 16.608 53.3642 17.0163 53.5665 17.3176C56.6376 21.8904 57.9074 26.8665 58.4094 32.7717C58.4401 33.1333 58.7582 33.4016 59.1199 33.3708C59.4815 33.3401 59.7497 33.022 59.719 32.6604C59.206 26.6261 57.8965 21.4076 54.6576 16.5848Z"}),d.jsx("path",{d:"M59.2796 35.4504C59.6419 35.4277 59.9539 35.703 59.9765 36.0653C60.2242 40.0279 60.2265 44.5112 59.7881 47.8243C59.7405 48.1841 59.4102 48.4372 59.0504 48.3896C58.6906 48.342 58.4376 48.0117 58.4852 47.6519C58.9077 44.4586 58.91 40.0704 58.6648 36.1473C58.6421 35.785 58.9174 35.473 59.2796 35.4504Z"}),d.jsx("path",{d:"M7.05311 25.5432C7.13829 25.1904 6.92135 24.8354 6.56855 24.7502C6.21576 24.665 5.86071 24.882 5.77553 25.2348C5.2932 27.2325 5.0428 29.2847 5.03288 31.3388C5.02266 33.4559 5.41742 35.5225 5.81234 37.5899C6.1354 39.2811 6.45855 40.9728 6.5602 42.6932C6.69373 44.9531 6.21839 47.2163 5.39698 49.3703C5.26766 49.7094 5.43774 50.0891 5.77685 50.2184C6.11596 50.3477 6.4957 50.1777 6.62502 49.8386C7.49325 47.5617 8.01954 45.1092 7.87221 42.6157C7.77126 40.9071 7.44813 39.2252 7.12512 37.5439C6.73099 35.4925 6.33704 33.442 6.34716 31.3451C6.35659 29.3933 6.59455 27.4425 7.05311 25.5432Z"}),d.jsx("path",{d:"M24.2964 10.94C24.4317 11.2768 24.2683 11.6595 23.9315 11.7947C17.1187 14.5307 12.0027 20.7047 10.959 27.9852C10.523 31.0269 10.9941 34.0398 11.465 37.052C11.7303 38.7483 11.9954 40.4443 12.0985 42.1451C12.3221 45.833 11.902 49.8839 9.50192 53.5696C9.30387 53.8737 8.89677 53.9597 8.59264 53.7617C8.28851 53.5636 8.20251 53.1565 8.40056 52.8524C10.5873 49.4944 11.0012 45.7644 10.7867 42.2246C10.6821 40.499 10.4185 38.7833 10.1552 37.0686C9.68265 33.9923 9.21067 30.9195 9.65804 27.7987C10.7724 20.025 16.221 13.4748 23.4417 10.5751C23.7785 10.4399 24.1612 10.6032 24.2964 10.94Z"}),d.jsx("path",{d:"M47.3662 14.6814C41.9915 9.64741 34.2017 7.89046 27.122 9.4433C26.7675 9.52105 26.5432 9.87147 26.6209 10.226C26.6987 10.5805 27.0491 10.8048 27.4036 10.7271C34.1075 9.25665 41.4426 10.934 46.4677 15.6406C50.7033 19.6077 53.1628 25.38 53.8066 31.6779C53.8435 32.0389 54.1661 32.3017 54.5272 32.2648C54.8883 32.2279 55.151 31.9053 55.1141 31.5442C54.4456 25.0047 51.8822 18.9111 47.3662 14.6814Z"}),d.jsx("path",{d:"M54.9766 34.6738C55.3376 34.6368 55.6604 34.8994 55.6975 35.2604C56.3216 41.337 56.0526 47.9003 55.1104 54.2496C55.0571 54.6086 54.7229 54.8565 54.3639 54.8032C54.0049 54.7499 53.7571 54.4157 53.8103 54.0567C54.7394 47.7957 55.001 41.3439 54.39 35.3947C54.353 35.0336 54.6156 34.7109 54.9766 34.6738Z"}),d.jsx("path",{d:"M32.0659 13.3553C21.9959 13.3553 13.814 21.3892 13.814 31.3219C13.814 32.3829 13.9081 33.4225 14.0876 34.4334C14.1511 34.7907 14.4922 35.029 14.8495 34.9655C15.2069 34.9021 15.4451 34.561 15.3817 34.2036C15.2155 33.2677 15.1283 32.305 15.1283 31.3219C15.1283 22.1352 22.7014 14.6696 32.0659 14.6696C36.2978 14.6696 40.1642 16.1949 43.1319 18.7152C43.4086 18.9501 43.8233 18.9163 44.0582 18.6396C44.2931 18.363 44.2593 17.9483 43.9827 17.7134C40.7847 14.9975 36.6188 13.3553 32.0659 13.3553Z"}),d.jsx("path",{d:"M45.455 20.1635C45.717 19.9123 46.133 19.921 46.3842 20.183C49.2843 23.2072 50.2126 27.9605 50.8269 31.9494C51.5188 36.4426 51.6244 40.826 51.6244 42.8585C51.6244 43.2214 51.3302 43.5156 50.9673 43.5156C50.6044 43.5156 50.3101 43.2214 50.3101 42.8585C50.3101 40.8589 50.2055 36.5497 49.5279 32.1494C48.9577 28.4462 48.1356 23.9082 45.4356 21.0927C45.1844 20.8307 45.1931 20.4147 45.455 20.1635Z"}),d.jsx("path",{d:"M51.4576 46.6219C51.4864 46.2601 51.2165 45.9435 50.8547 45.9146C50.493 45.8858 50.1763 46.1557 50.1474 46.5175C49.8247 50.5654 49.403 54.6088 48.5474 58.3439C48.4663 58.6977 48.6874 59.0502 49.0412 59.1312C49.3949 59.2123 49.7474 58.9912 49.8285 58.6374C50.7067 54.8039 51.134 50.6806 51.4576 46.6219Z"}),d.jsx("path",{d:"M15.1454 36.852C15.5015 36.7819 15.847 37.0137 15.9171 37.3698C17.3066 44.4257 16.3467 50.8355 12.6672 56.4502C12.4682 56.7537 12.0609 56.8385 11.7573 56.6396C11.4538 56.4407 11.369 56.0333 11.5679 55.7298C15.0299 50.4469 15.9617 44.3985 14.6276 37.6238C14.5575 37.2677 14.7893 36.9221 15.1454 36.852Z"}),d.jsx("path",{d:"M32.0659 17.631C25.5291 17.631 19.1165 22.691 18.462 29.0504C18.1754 31.8345 18.578 34.5769 18.9807 37.3204C19.3323 39.7159 19.684 42.1124 19.5772 44.5381C19.3328 50.0898 17.7039 54.6726 14.905 58.4471C14.6888 58.7386 14.7499 59.1502 15.0414 59.3663C15.333 59.5825 15.7445 59.5214 15.9607 59.2299C18.9293 55.2266 20.6354 50.386 20.8903 44.5959C20.9966 42.1811 20.6438 39.7923 20.2912 37.4051C19.888 34.6752 19.4851 31.9473 19.7694 29.1849C20.3444 23.5983 26.0946 18.9453 32.0659 18.9453C34.851 18.9453 42.057 20.4534 44.3492 27.9205C45.7856 32.5998 46.1774 38.9326 45.8295 45.0849C45.4816 51.2364 44.3994 57.12 42.9442 60.8928C42.8136 61.2314 42.9822 61.6118 43.3208 61.7424C43.6594 61.873 44.0398 61.7044 44.1704 61.3658C45.6929 57.4186 46.7895 51.386 47.1417 45.1591C47.4938 38.9329 47.1068 32.4249 45.6056 27.5348C43.0612 19.2461 35.0851 17.631 32.0659 17.631Z"}),d.jsx("path",{d:"M21.9529 56.4512C22.2569 56.6494 22.3426 57.0566 22.1444 57.3606C21.7369 57.9854 21.3784 58.6391 21.0199 59.2928C20.6614 59.9465 20.3028 60.6004 19.8953 61.2253C19.697 61.5293 19.2898 61.615 18.9858 61.4167C18.6819 61.2184 18.5962 60.8113 18.7944 60.5073C19.2019 59.8825 19.5604 59.2288 19.9189 58.5751C20.2774 57.9213 20.636 57.2675 21.0435 56.6426C21.2418 56.3386 21.649 56.2529 21.9529 56.4512Z"}),d.jsx("path",{d:"M27.5799 24.4525C27.8816 24.2508 27.9625 23.8426 27.7608 23.541C27.559 23.2393 27.1509 23.1583 26.8492 23.3601C24.247 25.1006 22.6505 27.494 22.6505 31.0002C22.6505 33.088 23.0203 34.7946 23.3997 36.5449C23.9674 39.1641 24.3524 41.7777 24.2832 44.468C24.1992 47.7349 23.56 50.7201 22.3313 53.564C22.1873 53.8971 22.3407 54.2839 22.6739 54.4278C23.0071 54.5718 23.3938 54.4184 23.5378 54.0852C24.8369 51.0784 25.509 47.9266 25.5971 44.5018C25.6689 41.7062 25.2732 38.9892 24.6845 36.267C24.3042 34.509 23.9648 32.9394 23.9648 31.0002C23.9648 27.9961 25.2863 25.9866 27.5799 24.4525Z"}),d.jsx("path",{d:"M30.1447 22.1436C32.8717 21.5877 35.8061 22.2746 37.966 24.0228C41.8241 27.1455 42.3372 32.8403 42.753 37.4549L42.7742 37.69C43.3115 43.6385 42.6964 49.4163 41.4575 55.2186C41.3817 55.5736 41.0326 55.7999 40.6776 55.7241C40.3227 55.6483 40.0964 55.2991 40.1722 54.9442C41.3926 49.2288 41.9873 43.5885 41.4652 37.8082C41.4479 37.6169 41.4307 37.4228 41.4133 37.2264L41.4131 37.2235C41.0438 33.0534 40.5812 27.8304 37.1392 25.0444C35.2926 23.5498 32.7599 22.9518 30.4073 23.4314C30.0517 23.5039 29.7046 23.2744 29.6321 22.9188C29.5596 22.5632 29.7891 22.2161 30.1447 22.1436Z"}),d.jsx("path",{d:"M40.5287 58.4885C40.6183 58.1368 40.4057 57.7791 40.054 57.6896C39.7023 57.6 39.3446 57.8126 39.2551 58.1643C38.8578 59.7247 38.2456 61.1333 37.4695 62.4301C37.2831 62.7415 37.3844 63.145 37.6958 63.3314C38.0072 63.5178 38.4108 63.4165 38.5972 63.1051C39.4336 61.7075 40.0977 60.1816 40.5287 58.4885Z"}),d.jsx("path",{d:"M37.3152 48.9521C37.6756 48.9948 37.9332 49.3215 37.8906 49.682C37.2699 54.9267 35.8688 59.6042 33.6205 63.6613C33.4446 63.9787 33.0446 64.0934 32.7272 63.9175C32.4097 63.7416 32.295 63.3417 32.4709 63.0242C34.6226 59.1416 35.9811 54.6339 36.5854 49.5275C36.6281 49.1671 36.9548 48.9095 37.3152 48.9521Z"}),d.jsx("path",{d:"M37.1798 30.6556C36.7242 28.2212 34.6349 26.3591 32.0985 26.3591C28.6638 26.3591 26.254 29.8212 27.1032 33.0422C28.54 38.7279 28.7759 44.2077 27.8032 49.4855L27.8025 49.4893C26.9584 54.228 25.3374 58.4908 23.1263 62.1031C22.9368 62.4127 23.0342 62.8172 23.3437 63.0067C23.6533 63.1962 24.0578 63.0988 24.2473 62.7893C26.5488 59.0292 28.2249 54.6109 29.0961 49.7218C30.106 44.2403 29.8558 38.5684 28.3765 32.7168L28.3748 32.7099C27.7378 30.3005 29.5133 27.6734 32.0985 27.6734C33.9641 27.6734 35.5393 29.0459 35.8871 30.8929C36.8436 36.4411 37.3418 41.5862 36.9871 46.016C36.9581 46.3778 37.2279 46.6945 37.5897 46.7235C37.9515 46.7525 38.2682 46.4827 38.2972 46.1209C38.6649 41.5294 38.1459 36.2576 37.1815 30.6648C37.1809 30.6617 37.1804 30.6586 37.1798 30.6556Z"}),d.jsx("path",{d:"M30.1376 59.1171C30.4604 59.283 30.5876 59.6792 30.4217 60.002L28.6804 63.3906C28.5145 63.7134 28.1184 63.8406 27.7956 63.6747C27.4728 63.5088 27.3456 63.1127 27.5114 62.7899L29.2527 59.4013C29.4186 59.0785 29.8147 58.9513 30.1376 59.1171Z"}),d.jsx("path",{d:"M32.5872 31.2892C32.5042 30.9359 32.1505 30.7168 31.7972 30.7998C31.4439 30.8828 31.2247 31.2365 31.3077 31.5898C33.5238 41.0232 33.2194 49.3066 30.5201 56.363C30.3905 56.702 30.5602 57.0819 30.8991 57.2115C31.2381 57.3412 31.618 57.1715 31.7477 56.8326C34.5622 49.475 34.8483 40.9141 32.5872 31.2892Z"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_113_33841",children:d.jsx("rect",{width:"64",height:"64",fill:"white",transform:"translate(0.483887)"})})})]}),cOt=({onClose:t,onReset:e,submitEnrollmentWithPasskey:n})=>{let{user:r}=Sn(),{initLinkWithPasskey:i,linkWithPasskey:s}=st(),{app:o}=lt(),[a,l]=x.useState(!1),[c,u]=x.useState(!1),[h,f]=x.useState(null),p=x.useMemo(()=>(r==null?void 0:r.linkedAccounts.filter(y=>y.type==="passkey"))??[],[r]),m=async y=>{l(!0);try{await n(y)}catch(w){f(w)}finally{l(!1)}},g=async()=>{u(!0),f(null);try{await i();let y=await s(),w=(y==null?void 0:y.linkedAccounts.filter(v=>v.type==="passkey").map(v=>v.credentialId))??[];await m(w)}catch(y){f(y)}finally{u(!1)}};return p.length===0||c?d.jsx(uOt,{onReset:e,onClose:t,onClick:g,isCreating:c}):h?d.jsx(EN,{allowlistConfig:o.allowlistConfig,error:h,onBack:()=>f(null),onRetry:()=>f(null)}):d.jsx(dOt,{passkeys:p,isSubmitting:a,isCreating:c,onReset:e,onClose:t,onSubmitEnrollment:()=>m(p.map(y=>y.credentialId)),onAddPasskey:g})};let uOt=({onReset:t,onClose:e,onClick:n,isCreating:r})=>d.jsxs(d.Fragment,{children:[d.jsx(bn,{backFn:t,onClose:e},"header"),d.jsx(mK,{children:d.jsxs(eAe,{children:[d.jsx(gK,{}),d.jsx(nAe,{})]})}),d.jsx(Fa,{children:"Set up passkey verification"}),d.jsxs(RN,{children:[d.jsxs($1,{children:[d.jsx(T1,{children:d.jsx(rw,{})}),"Verify with Touch ID, Face ID, PIN, or hardware key"]}),d.jsxs($1,{children:[d.jsx(T1,{children:d.jsx(Udt,{})}),"Takes seconds to set up and use"]}),d.jsxs($1,{children:[d.jsx(T1,{children:d.jsx(Sdt,{})}),"Use your passkey to verify transactions and login to your account"]})]}),d.jsx(pr,{style:{marginTop:"2.25rem"},onClick:n,loading:r,children:"Add a new passkey"}),d.jsx(Ri,{})]}),dOt=({onReset:t,onClose:e,onAddPasskey:n,onSubmitEnrollment:r,passkeys:i,isSubmitting:s,isCreating:o})=>{let[a,l]=x.useState(!1),c=a?i.length:i.length>3?2:3;return d.jsxs(d.Fragment,{children:[d.jsx(bn,{backFn:a?()=>l(!1):t,onClose:e},"header"),!a&&d.jsx(mK,{children:d.jsxs(eAe,{children:[d.jsx(gK,{}),d.jsx(nAe,{})]})}),d.jsx(Fa,{children:"Enable your passkeys for verification"}),d.jsxs(RN,{children:[i.slice(0,c).map(u=>{var h;return d.jsxs(hOt,{children:[d.jsx(fOt,{children:mOt(u)}),d.jsxs(pOt,{children:["Last used: ",(h=u.latestVerifiedAt)==null?void 0:h.toLocaleString()]})]},u.credentialId)}),!a&&i.length>3&&d.jsx(Pae,{onClick:()=>l(!0),children:"View All"})]}),d.jsx(pr,{style:{marginTop:"1.5rem"},onClick:r,loading:s,children:"Enable passkeys"}),i.length<5&&d.jsx(Pae,{style:{marginTop:"0.5rem"},onClick:n,disabled:o,children:o?d.jsx(iu,{style:{height:"1rem",width:"1rem",borderWidth:2}}):"Add new passkey"}),d.jsx(Ri,{})]})},hOt=Z.div.withConfig({displayName:"PasskeyItem",componentId:"sc-9b5fbdd5-0"})(["&&{padding:0.75rem 1rem;text-align:left;border-radius:0.5rem;border:1px solid var(--privy-color-foreground-4);width:100%;}"]),fOt=Z.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-9b5fbdd5-1"})(["font-size:0.875rem;line-height:1.375rem;font-weight:500;color:var(--privy-color-foreground-1);"]),pOt=Z.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-9b5fbdd5-2"})(["font-size:0.75rem;font-weight:400;line-height:1.125rem;color:var(--privy-color-foreground-2);"]),mOt=t=>t.authenticatorName?t.createdWithBrowser?`${t.authenticatorName} on ${t.createdWithBrowser}`:t.authenticatorName:t.createdWithBrowser?t.createdWithOs?`${t.createdWithBrowser} on ${t.createdWithOs}`:`${t.createdWithBrowser}`:"Unknown device";const Pae=Z.button.withConfig({displayName:"StyledLink",componentId:"sc-9b5fbdd5-3"})(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:0.75rem 1rem;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent);:focus{outline:none;box-shadow:none;}}"]),gOt=({appName:t,onComplete:e,onReset:n,onClose:r})=>{let[i,s]=x.useState(""),[o,a]=x.useState(!1),[l,c]=x.useState(null),[u,h]=x.useState("enroll"),{initEnrollmentWithSms:f,submitEnrollmentWithSms:p}=tAe(),{app:m,data:g}=lt();function y(){var w;(w=g==null?void 0:g.mfaEnrollmentFlow)==null||w.onSuccess(),e()}return l?d.jsx(EN,{allowlistConfig:m.allowlistConfig,error:l,onBack:()=>c(null),onRetry:()=>c(null)}):d.jsxs(d.Fragment,u==="enroll"?{children:[d.jsx(bn,{backFn:n,onClose:r},"header"),d.jsx(Hc,{style:{marginBottom:"1.5rem"},children:d.jsx(bg,{})}),d.jsx(Fa,{children:"Set up SMS verification"}),d.jsxs(Wc,{children:["We'll text a verification code to this mobile device whenever you use your ",t," ","wallet."]}),d.jsxs(hw,{children:[d.jsx(kN,{onSubmit:async function({qualifiedPhoneNumber:w}){try{await f({phoneNumber:w}),s(w),h("verify")}catch(v){c(v)}},hideRecent:!0}),d.jsxs(VEe,{children:["By providing your mobile number, you agree to receive text messages from ",m==null?void 0:m.name,". Some carrier charges may apply"]})]}),d.jsx(Ri,{})]}:o?{children:[d.jsx(bn,{onClose:y},"header"),d.jsx(Hc,{style:{marginBottom:"1.5rem"},children:d.jsx(l$,{})}),d.jsx(Fa,{children:"SMS verification added"}),d.jsxs(Wc,{children:["From now on, you'll enter the verification code sent to your mobile device whenever you use your ",t," wallet."]}),d.jsx(Kb,{children:d.jsx(pr,{onClick:y,children:"Done"})}),d.jsx(Ri,{})]}:{children:[d.jsx(bn,{backFn:function(){u==="verify"?h("enroll"):n()},onClose:r},"header"),d.jsx(Hc,{style:{marginBottom:"1.5rem"},children:d.jsx(bg,{})}),d.jsx(Fa,{children:"Enter enrollment code"}),d.jsxs(hw,{children:[d.jsx(Q7,{onChange:async function(w){try{if(!w)return;await p({phoneNumber:i,mfaCode:w}),a(!0)}catch(v){throw x4e(v)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):FG(v)?Error("The code you entered is not valid"):LG(v)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):E4e(v)?Error("Verification canceled"):Error("Unknown error")}}}),d.jsxs(Wc,{children:["To continue, enter the 6-digit code sent to ",d.jsx("strong",{children:Zrt(i)})]})]}),d.jsx(Ri,{})]})},yOt=({size:t,authUrl:e})=>d.jsx(pC,{url:e,squareLogoElement:kRt,size:t,fgColor:"#1F1F1F"}),wOt=({onClose:t,onReset:e,totpInfo:n,submitEnrollmentWithTotp:r,error:i})=>{let[s,o]=x.useState("enroll");return d.jsxs(d.Fragment,s==="enroll"?{children:[d.jsx(bn,{backFn:e,onClose:t},"header"),d.jsx(xg,{children:"Scan QR code"}),d.jsx(dw,{children:"Open your authenticator app and scan this code to continue"}),d.jsx(FSt,{children:d.jsx(yOt,{authUrl:n.authUrl,size:240})}),d.jsx(QG,{style:{textAlign:"left"},children:"Setup key"}),d.jsxs(SN,{style:{marginTop:"0.25rem"},children:[d.jsx(fRt,{children:"".repeat(16)}),d.jsx(tK,{itemName:" ",text:n.secret})]}),d.jsx(pr,{style:{marginTop:"1rem"},onClick:function(){o("verify")},children:"Continue"}),d.jsx(Ri,{})]}:{children:[d.jsx(bn,{backFn:function(){s==="verify"?o("enroll"):e()},onClose:t},"header"),d.jsx(Hc,{style:{marginBottom:"1.5rem"},children:d.jsx(S$,{})}),d.jsx(xg,{children:"Enter enrollment code"}),d.jsx(dw,{children:"To continue, enter the 6-digit code generated from your authenticator app"}),d.jsx(hw,{children:d.jsx(Q7,{onChange:async function(a){try{if(!a)return;await r({mfaCode:a})}catch(l){throw x4e(l)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):FG(l)?Error("The code you entered is not valid"):LG(l)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):E4e(l)?Error("Verification canceled"):Error("Unknown error")}},errorReasonOverride:i==null?void 0:i.message})}),d.jsx(Ri,{})]})},bOt={component:()=>{var O;let{user:t,enrollInMfa:e,ready:n}=Sn(),[r,i]=x.useState(null),{unenrollWithSms:s,unenrollWithTotp:o,unenrollWithPasskey:a,submitEnrollmentWithTotp:l,initEnrollmentWithPasskey:c,submitEnrollmentWithPasskey:u,initEnrollmentWithTotp:h}=tAe(),{app:f,data:p,onUserCloseViaDialogOrKeybindRef:m}=lt(),{closePrivyModal:g}=st(),{promptMfa:y}=QEe(),[w,v]=x.useState(!1),[b,A]=x.useState(null),[E,$]=x.useState(null),N=()=>{g({shouldCallAuthOnSuccess:!0}),e(!1),setTimeout(()=>{i(null),A(null)},500)},[R,j]=x.useState(!1),[F,W]=x.useState();m.current=N;let V=t==null?void 0:t.mfaMethods.includes("sms"),B=!!(t!=null&&t.phone),k=t==null?void 0:t.mfaMethods.includes("totp"),C=t==null?void 0:t.mfaMethods.includes("passkey"),S=V||k||C,T=(t==null?void 0:t.linkedAccounts.filter(I=>I.type==="passkey").map(I=>I.credentialId))??[];function _(){i(null),A(null)}async function P(I=T){var D,Y;j(!0);try{return await c(),await u({credentialIds:I},{removeForLogin:(D=p==null?void 0:p.mfaEnrollmentFlow)==null?void 0:D.shouldUnlinkOnUnenrollMfa}),(Y=p==null?void 0:p.mfaEnrollmentFlow)==null||Y.onSuccess(),N()}catch(M){W(M)}finally{j(!1)}}if(x.useEffect(()=>{S&&v(!0)},[S]),!n||!t||!f)return d.jsxs(d.Fragment,{children:[d.jsx(bn,{onClose:N},"header"),d.jsx(mK,{children:d.jsx(sOt,{})}),d.jsx(hw,{children:d.jsx(iu,{})}),d.jsx(Ri,{})]});if(r==="sms")return d.jsxs(d.Fragment,{children:[d.jsx(bn,{backFn:_,onClose:N},"header"),d.jsx(Hc,{style:{marginBottom:"1.5rem"},children:d.jsx(r2,{})}),d.jsx(Fa,{children:"Remove SMS verification?"}),d.jsxs(Wc,{children:["MFA adds an extra layer of security to your ",f==null?void 0:f.name," account. Make sure you have other methods to secure your account."]}),d.jsx(Kb,{children:d.jsx(pr,{$warn:!0,onClick:async function(){i(null);try{await s()}catch{i(null)}},children:"Remove"})}),d.jsx(Ri,{})]});if(r==="totp")return d.jsxs(d.Fragment,{children:[d.jsx(bn,{backFn:_,onClose:N},"header"),d.jsx(Hc,{style:{marginBottom:"1.5rem"},children:d.jsx(r2,{})}),d.jsx(Fa,{children:"Remove authenticator app verification?"}),d.jsxs(Wc,{children:["MFA adds an extra layer of security to your ",f==null?void 0:f.name," account. Make sure you have other methods to secure your account."]}),d.jsx(Kb,{children:d.jsx(pr,{$warn:!0,onClick:async function(){i(null);try{await o()}catch{i(null)}},children:"Remove"})}),d.jsx(Ri,{})]});if(r==="passkey"){let I=((O=p==null?void 0:p.mfaEnrollmentFlow)==null?void 0:O.shouldUnlinkOnUnenrollMfa)??!0;return d.jsxs(d.Fragment,{children:[d.jsx(bn,{backFn:_,onClose:N},"header"),d.jsx(Hc,{style:{marginBottom:"1.5rem"},children:d.jsx(r2,{})}),d.jsx(Fa,{children:"Are you sure you want to remove this passkey?"}),d.jsx(Wc,{children:I?"Removing your passkey will remove as both a verification method and a login method.":"Removing your passkey will remove as a verification method."}),d.jsx(Kb,{children:d.jsx(pr,{$warn:!0,onClick:async function(){var D;i(null);try{await a({removeForLogin:(D=p==null?void 0:p.mfaEnrollmentFlow)==null?void 0:D.shouldUnlinkOnUnenrollMfa})}catch{i(null)}},children:"Remove"})}),d.jsx(Ri,{})]})}if(p.mfaEnrollmentFlow.mfaMethods.length===0&&!S)return d.jsxs(d.Fragment,{children:[d.jsx(bn,{onClose:N},"header"),d.jsx(Hc,{style:{marginBottom:"1.5rem"},children:d.jsx(rw,{})}),d.jsx(Fa,{children:"Add more security"}),d.jsxs(Wc,{children:[f==null?void 0:f.name," does not have any verification methods enabled."]}),d.jsx(Kb,{children:d.jsx(pr,{onClick:N,children:"Close"})}),d.jsx(Ri,{})]});let L=!S&&!w;return L?d.jsxs(d.Fragment,{children:[d.jsx(bn,{onClose:N},"header"),d.jsx(Hc,{style:{marginBottom:"1.5rem"},children:d.jsx(rw,{})}),d.jsx(Fa,{children:"Transaction Protection"}),d.jsx(Wc,{children:"Set up transaction protection to add an extra layer of security to your account"}),d.jsxs(RN,{children:[d.jsxs($1,{children:[d.jsx(T1,{children:d.jsx(xRt,{})}),"Enable 2-Step verification for your ",f==null?void 0:f.name," wallet."]}),d.jsxs($1,{children:[d.jsx(T1,{children:d.jsx(ARt,{})}),"You'll be prompted to authenticate to complete transactions."]})]}),d.jsxs(Kb,{children:[d.jsx(pr,{onClick:()=>v(!0),children:"Continue"}),d.jsx(kd,{onClick:N,children:"Not now"})]}),d.jsx(Ri,{})]}):b==="sms"?d.jsx(gOt,{appName:(f==null?void 0:f.name)||"Privy",onComplete:N,onReset:_,onClose:N}):b==="totp"&&E?d.jsx(wOt,{onClose:N,onReset:_,submitEnrollmentWithTotp:({mfaCode:I})=>async function(D){var Y;try{return W(void 0),await l({mfaCode:D}),(Y=p==null?void 0:p.mfaEnrollmentFlow)==null||Y.onSuccess(),N()}catch(M){W(M)}finally{i(null)}}(I),totpInfo:{...E,appName:(f==null?void 0:f.name)||"Privy"}}):b==="passkey"?d.jsx(cOt,{onReset:_,onClose:N,submitEnrollmentWithPasskey:P}):d.jsx(aOt,{showIntro:L,userMfaMethods:t.mfaMethods,appMfaMethods:f.mfa.methods,userHasAuthSms:B,onBackToIntro:function(){v(!1)},handleSelectMethod:async function(I){try{await y()}catch(D){return void W(D)}return I==="totp"?(A(I),$(null),void h().then(D=>{$(D)}).catch(()=>{$(null),_()})):I==="passkey"&&T.length===1?await P():void A(I)},isTotpLoading:b==="totp"&&!E,isPasskeyLoading:R,error:F,onClose:N,setRemovingMfaMethod:async I=>{try{await y()}catch(D){return void W(D)}i(I)}})}},vOt=({providerName:t,ProviderLogo:e,success:n,errorMessage:r,onRetry:i})=>{let s=n?`Successfully connected with ${t}`:r?r.message:`Verifying connection to ${t}`;return d.jsx(Rn,{title:s,subtitle:n?"You're good to go!":r?r.detail:"Just a few moments more",icon:e,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},secondaryCta:r!=null&&r.retryable&&i?{label:"Retry",onClick:i}:void 0,watermark:!0})},Rae={component:()=>{var $;let{authenticated:t,logout:e,ready:n,user:r}=Sn(),{app:i,setModalData:s,navigate:o,resetNavigation:a}=lt(),{getAuthMeta:l,initLoginWithOAuth:c,loginWithOAuth:u,updateWallets:h,setReadyToTrue:f,closePrivyModal:p,createAnalyticsEvent:m}=st(),[g,y]=x.useState(!1),[w,v]=x.useState(void 0),b=(($=l())==null?void 0:$.provider)||"google",{name:A,component:E}=qO(b);return x.useEffect(()=>{u(b).then(()=>{y(!0),f(!0)}).catch(N=>{var F,W,V,B,k,C,S,T,_,P,L,O,I,D,Y,M;if(f(!1),(N==null?void 0:N.privyErrorCode)===pe.ALLOWLIST_REJECTED)return v(void 0),a(),void o(AN);if((N==null?void 0:N.privyErrorCode)===pe.USER_LIMIT_REACHED)return console.error(new HA(N).toString()),v(void 0),a(),void o(mC);if((N==null?void 0:N.privyErrorCode)===pe.USER_DOES_NOT_EXIST)return v(void 0),a(),void o(fC);if((N==null?void 0:N.privyErrorCode)===pe.ACCOUNT_TRANSFER_REQUIRED&&((W=(F=N.data)==null?void 0:F.data)!=null&&W.nonce))return v(void 0),a(),s({accountTransfer:{nonce:(B=(V=N.data)==null?void 0:V.data)==null?void 0:B.nonce,account:(C=(k=N.data)==null?void 0:k.data)==null?void 0:C.subject,displayName:(_=(T=(S=N.data)==null?void 0:S.data)==null?void 0:T.account)==null?void 0:_.displayName,linkMethod:(P=l())==null?void 0:P.provider,embeddedWalletAddress:(I=(O=(L=N.data)==null?void 0:L.data)==null?void 0:O.otherUser)==null?void 0:I.embeddedWalletAddress,oAuthUserInfo:(M=(Y=(D=N.data)==null?void 0:D.data)==null?void 0:Y.otherUser)==null?void 0:M.oAuthUserInfo}}),void o(Yw);let{retryable:R,detail:j}=function(Q,ee){let J={detail:"",retryable:!1},oe=S6e(ee);if((Q==null?void 0:Q.privyErrorCode)===pe.LINKED_TO_ANOTHER_USER&&(J.detail="This account has already been linked to another user."),(Q==null?void 0:Q.privyErrorCode)===pe.INVALID_CREDENTIALS&&(J.retryable=!0,J.detail="Something went wrong. Try again."),Q.privyErrorCode===pe.OAUTH_USER_DENIED&&(J.detail=`Retry and check ${oe} to finish connecting your account.`,J.retryable=!0),(Q==null?void 0:Q.privyErrorCode)===pe.TOO_MANY_REQUESTS&&(J.detail="Too many requests. Please wait before trying again."),(Q==null?void 0:Q.privyErrorCode)===pe.TOO_MANY_REQUESTS&&Q.message.includes("provider rate limit")){let de=qO(ee).name;J.detail=`Request limit reached for ${de}. Please wait a moment and try again.`}if((Q==null?void 0:Q.privyErrorCode)===pe.OAUTH_ACCOUNT_SUSPENDED){let de=qO(ee).name;J.detail=`Your ${de} account is suspended. Please try another login method.`}return(Q==null?void 0:Q.privyErrorCode)===pe.CANNOT_LINK_MORE_OF_TYPE&&(J.detail="You cannot authorize more than one account for this user."),(Q==null?void 0:Q.privyErrorCode)===pe.OAUTH_UNEXPECTED&&ee.startsWith("privy:")&&(J.detail="Something went wrong. Please try again."),J}(N,b);v({retryable:R,detail:j,message:"Authentication failed"})}).finally(()=>{cU()})},[A,b]),x.useEffect(()=>{if(n&&t&&g&&r){if(i!=null&&i.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms){let N=setTimeout(()=>{o(Qw)},Wr);return()=>clearTimeout(N)}if(Ug(r,i.embeddedWallets)){let N=setTimeout(()=>{s({createWallet:{onSuccess:()=>{},onFailure:R=>{console.error(R),m({eventName:"embedded_wallet_creation_failure_logout",payload:{error:R,provider:b,screen:"OAuthStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),o(o0)},Wr);return()=>clearTimeout(N)}{let N=setTimeout(()=>p({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Wr);return h(),()=>clearTimeout(N)}}},[n,t,g,r]),d.jsx(vOt,{providerName:A,ProviderLogo:E,success:g,errorMessage:w,onRetry:w!=null&&w.retryable?()=>{cU(),c(b),v(void 0)}:void 0})}},xOt=x.forwardRef((t,e)=>{let[n,r]=x.useState(""),[i,s]=x.useState(""),[o,a]=x.useState(!1),{authenticated:l,user:c}=Sn(),{initUpdateEmail:u}=st(),{navigate:h,setModalData:f,currentScreen:p}=lt(),{enabled:m,token:g}=dl(),y=Fn(),w=F6e(n)&&(y.disablePlusEmails&&n.includes("+")?(i||s("Please enter a valid email address without a '+'."),!1):(i&&s(""),!0)),v=o||!w,b=()=>{!m||g||l?(async A=>{if(!(c!=null&&c.email))throw Error("User is required to have an email address to update it.");a(!0);try{await u({oldAddress:c.email.address,newAddress:n,captchaToken:A}),h(Jp)}catch(E){f({errorModalData:{error:E,previousScreen:p||Lo}})}a(!1)})(g):(f({captchaModalData:{callback:A=>{if(!(c!=null&&c.email))throw Error("User is required to have an email address to update it.");return u({oldAddress:c.email.address,newAddress:n,captchaToken:A})},userIntentRequired:!1,onSuccessNavigateTo:Jp,onErrorNavigateTo:Yr}}),h(_d))};return d.jsxs(d.Fragment,{children:[d.jsxs(EOt,{children:[i&&d.jsx(uw,{style:{marginTop:"0.25rem",textAlign:"left"},children:i}),d.jsxs(AOt,{$error:!!i,children:[d.jsx(_$,{}),d.jsx("input",{ref:e,id:"email-input",type:"email",placeholder:"your@email.com",onChange:A=>r(A.target.value),onKeyUp:A=>{A.key==="Enter"&&b()},value:n,autoComplete:"email"}),t.stacked?null:d.jsx(cN,{isSubmitting:o,onClick:b,disabled:v,children:"Submit"})]})]}),t.stacked?d.jsx(pr,{loadingText:null,loading:o,disabled:v,onClick:b,style:{width:"100%"},children:"Submit"}):null]})});let EOt=K4e,AOt=G4e;const COt=({title:t="Update your email",subtitle:e="Add the email address you'd like to use going forward. We'll send you a confirmation code"})=>d.jsx(Rn,{title:t,subtitle:e,icon:_$,watermark:!0,children:d.jsx(f4e,{children:d.jsx(xOt,{stacked:!0})})}),kOt={component:()=>d.jsx(COt,{})},SOt=({title:t="Update your phone number",subtitle:e="Add the phone number you'd like to use going forward. We'll send you a confirmation code",onSubmit:n,isSubmitting:r=!1})=>{let[i,s]=x.useState(null);return d.jsx(Rn,{title:t,subtitle:e,icon:bg,primaryCta:{label:r?"Submitting":"Update",onClick:async()=>{i!=null&&i.qualifiedPhoneNumber&&await n(i)},disabled:!(i!=null&&i.isValid)||r},watermark:!0,children:d.jsx(kN,{onChange:o=>{s(o)},onSubmit:async()=>{},noIncludeSubmitButton:!0,hideRecent:!0})})},_Ot={component:()=>{let{currentScreen:t,data:e,navigate:n,setModalData:r}=lt(),{user:i}=Sn(),{initUpdatePhone:s}=st(),[o,a]=x.useState(!1);return d.jsx(SOt,{onSubmit:async l=>{var c,u,h;a(!0);try{if(!((c=i==null?void 0:i.phone)!=null&&c.number))throw Error("User is required to have an phone number to update it.");await s((u=i==null?void 0:i.phone)==null?void 0:u.number,l.qualifiedPhoneNumber),n(Jp)}catch(f){r({errorModalData:{error:f,previousScreen:((h=e==null?void 0:e.errorModalData)==null?void 0:h.previousScreen)||t||yK}}),n(Yr)}finally{a(!1)}},isSubmitting:o})}};function IOt({subscribe:t,getExternalJwt:e,enabled:n=!0,onAuthenticated:r,onUnauthenticated:i,onError:s}){let{client:o,onCustomAuthAuthenticated:a}=st(),{logout:l,authenticated:c,ready:u}=eo();if(!o)throw new ue("`useSyncJwtBasedAuthState` must be used within a `PrivyProvider`");let[h,f]=x.useState({status:"initial"}),p=x.useRef(),m=x.useRef(!1),g=x.useRef(e);x.useEffect(()=>{g.current=e},[e]);let y=x.useRef(r);x.useEffect(()=>{y.current=r},[r]);let w=x.useRef(i);x.useEffect(()=>{w.current=i},[i]);let v=x.useRef(s);return x.useEffect(()=>{v.current=s},[s]),x.useEffect(()=>{if(!n||!u)return;let b=async()=>{var A,E,$,N;if(!m.current){m.current=!0;try{f({status:"loading"});let R=await g.current();if(p.current!==void 0&&p.current===R)return void f({status:"done"});if(!R)return c&&(await l(),(A=w.current)==null||A.call(w)),p.current=R,void f({status:"done"});o.startAuthFlow(new WEe(R));let{user:j,isNewUser:F=!1}=await o.authenticate();if(!j)throw new ue("Failed to sync with custom auth provider");(E=y.current)==null||E.call(y,{user:j,isNewUser:F}),a(j,F),p.current=R,f({status:"done"})}catch(R){if(console.warn(R),await l().catch(()=>{}),($=w.current)==null||$.call(w),R instanceof Rl&&R.privyErrorCode===pe.LINKED_TO_ANOTHER_USER)return f({status:"initial"}),void setTimeout(()=>{b()},0);(N=v.current)==null||N.call(v,R),f({status:"error",error:R})}finally{m.current=!1}}};return b(),t(b)},[t,o,a,c,l,n,u]),n?{state:h}:{state:{status:"not-enabled"}}}let TOt=Lw(()=>({jwtAuthFlowState:{status:"not-enabled"}}));function $Ot({customAuth:t}){let{jwtAuthFlowState:e}=function({customAuth:n}){let r=Kw(),i=x.useRef(),s=x.useCallback(l=>(i.current=l,()=>{i.current=void 0}),[]),o=(n==null?void 0:n.getCustomAccessToken)??(()=>Promise.resolve(void 0)),{state:a}=IOt({enabled:(n==null?void 0:n.enabled)===!0,subscribe:s,getExternalJwt:o,onAuthenticated:({user:l,isNewUser:c})=>{r("login","onComplete",{user:l,isNewUser:c,wasAlreadyAuthenticated:!1,loginMethod:"custom",loginAccount:null}),r("customAuth","onAuthenticated",{user:l})},onUnauthenticated:()=>{r("customAuth","onUnauthenticated")},onError:l=>{r("login","onError",l.privyErrorCode||pe.UNKNOWN_AUTH_ERROR)}});return x.useEffect(()=>{(async()=>{var l;n&&!n.isLoading&&((l=i.current)==null||l.call(i))})()},[n==null?void 0:n.enabled,n==null?void 0:n.getCustomAccessToken,n==null?void 0:n.isLoading]),{jwtAuthFlowState:a}}({customAuth:t});return x.useEffect(()=>{TOt.setState({jwtAuthFlowState:e})},[e]),null}const rAe=x.createContext(!1);let Nv,iAe,sAe,oAe,aAe,lAe;async function yr(){return Nv?Nv.getAccessToken():Promise.resolve(Nt.get(aS)||Nt.get(j6)||null)}const NOt=(t,e)=>iAe(t,e),POt=(t,e)=>sAe(t,e),ROt=(t,e)=>oAe(t,e),jOt=(t,e)=>aAe(t,e),OOt=t=>lAe(t),MOt=({config:t,...e})=>{var n;if((()=>{if(x.useContext(rAe))throw new ue("Multiple PrivyProvider instances found","Found multiple instances of PrivyProvider, ensure there is only one mounted in your application tree.")})(),typeof window<"u"&&0>["localhost","127.0.0.1"].indexOf(window.location.hostname)&&window.location.protocol!=="https:"&&window.location.protocol!=="chrome-extension:")throw new ue("Embedded wallet is only available over HTTPS");if(typeof(n=e.appId)!="string"||n.length!==25)throw new ue("Cannot initialize the Privy provider with an invalid Privy app ID");Nv||(Nv=new qRt({appId:e.appId,appClientId:e.clientId,apiUrl:e.apiUrl}));let r=Object.assign({},t),i=x.useMemo(()=>new qrt({appId:e.appId,clientId:e.clientId,storage:Nt,baseUrl:e.apiUrl,sdkVersion:"react-auth:3.0.1"}),[]);return d.jsx(R9t,{client:i,legacyClient:Nv,appClientId:e.clientId,clientConfig:r,children:d.jsx(L7t,{children:d.jsx(DOt,{...e,client:Nv,privy:i})})})};let DOt=t=>{var Qt;let e=t.client,n=t.privy,r=YG();vjt();let[i,s]=x.useState(!1),o=xE(q=>q.inProgressMfaFlow),[a,l]=x.useState(!1),[c,u]=x.useState(!1),[h,f]=x.useState(null),[p,m]=x.useState([]),[g,y]=x.useState(void 0),[w,v]=x.useState(!1),[b,A]=x.useState(null),[E,$]=x.useState(!1),[N,R]=x.useState({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:Ie}),[j,F]=x.useState({status:"initial"}),[W,V]=x.useState({status:"initial"}),[B,k]=x.useState({status:"initial"}),[C,S]=x.useState({status:"initial"}),[T,_]=x.useState({status:"initial"}),[P,L]=x.useState({status:"initial"}),[O,I]=x.useState(null),D=Fn(),Y=t4e(),[M,Q]=x.useState({}),[ee,J]=x.useState(null),oe=x.useRef(null),[de,ae]=x.useState(!1),[he,be]=x.useState(!1),fe=x.useRef(null),ke=x.useRef(null),we=x.useRef(M9t),[Ue,Me]=x.useState(!1);e.onStoreCustomerAccessToken=q=>{q&&Ge(we,"accessToken","onAccessTokenGranted",{accessToken:q})},e.onDeleteCustomerAccessToken=()=>{f(null),u(!1),Ge(we,"accessToken","onAccessTokenRemoved")};let _e=x.useRef(null),xe=x.useRef(null),Oe=x.useRef(!1),Le=({showWalletUIs:q})=>Oe.current?Oe.current:q!==void 0?!q:!D.embeddedWallets.showWalletUIs,Ce=q=>{A(q),setTimeout(()=>{s(!0)},15)};x.useEffect(()=>{var re,le,ge;if(!h)return void((re=e.connectors)==null?void 0:re.removeEmbeddedWalletConnectors());let q=bh(h),K=h2e(h),se=XL(h);q&&K.length||((le=e.connectors)==null||le.removeEmbeddedWalletConnectors()),se||((ge=e.connectors)==null||ge.removeImportedWalletConnector()),e.connectors?O?(q&&e.connectors.addEmbeddedWalletConnectors({walletProxy:O,user:h,embeddedWallets:K,defaultChain:D.defaultChain,appId:t.appId,privyClient:n}),se&&e.connectors.addImportedWalletConnector(O,se.address,D.defaultChain,t.appId)):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")},[O,h]),x.useEffect(()=>{var q;O&&((q=oe.current)==null||q.call(oe,O))},[O]);let De=x.useCallback((q,K)=>{f(q),v(K),u(!0),be(!0)},[]);x.useEffect(()=>{he&&O&&h&&(async()=>{var re;let q=qG(h,D.embeddedWallets.ethereum.createOnLogin),K=GG(h,D.embeddedWallets.solana.createOnLogin),se=await yr();if(se){if(q&&K){let le=await O.create({accessToken:se});return await O.createSolana({accessToken:se,ethereumAddress:le==null?void 0:le.address}),void be(!1)}if(K)return await O.createSolana({accessToken:se,ethereumAddress:(re=bh(h))==null?void 0:re.address}),await He.refreshSessionAndUser(),void be(!1);if(q)return await O.create({accessToken:se}),void be(!1)}})().catch(console.error)},[he&&O&&h]),x.useEffect(()=>{if(D.externalWallets.solana.connectors)return D.externalWallets.solana.connectors.onMount(),()=>{var q;return(q=D.externalWallets.solana.connectors)==null?void 0:q.onUnmount()}},[D.externalWallets.solana.connectors]),x.useEffect(()=>{!a&&Y&&async function(){var $e,je,Mt;let q,K=Ve(),se=rt(),re=oBe();e.initializeConnectorManager({walletConnectCloudProjectId:D.walletConnectCloudProjectId,rpcConfig:D.rpcConfig,chains:D.chains,defaultChain:D.defaultChain,store:re,walletList:D.appearance.walletList,shouldEnforceDefaultChainOnConnect:D.shouldEnforceDefaultChainOnConnect,externalWalletConfig:D.externalWallets,appName:D.name??"Privy",walletChainType:D.appearance.walletChainType,setBaseAccountSdk:y}),($e=e.connectors)==null||$e.on("connectorInitialized",()=>{q&&clearTimeout(q);let bt=e.connectors.walletConnectors.length,St=e.connectors.walletConnectors.reduce((rn,Qe)=>rn+(Qe.initialized?1:0),0);St===bt?Me(!0):q=setTimeout(()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:St,expected:bt}),Me(!0)},1500)}),(je=e.connectors)==null||je.initialize().then(()=>{ne()});let le=await e.getAuthenticatedUser(),ge=!!le;D.legal.requireUsersAcceptTerms&&le&&!le.hasAcceptedTerms?(await e.logout(),He.setReadyToTrue(!0),Ge(we,"logout","onSuccess")):((Mt=D.customAuth)!=null&&Mt.enabled||(u(!!le),le&&Ge(we,"login","onComplete",{user:le,isNewUser:!1,wasAlreadyAuthenticated:!0,loginMethod:null,loginAccount:null}),f(le)),K?xe.current=ge?"link":"login":se&&!ge?(xe.current="login",Q({telegramAuthModalData:{seamlessAuth:!0}}),Ce(pS)):He.setReadyToTrue(!!le))}()},[e,ee,a,Y]),x.useEffect(()=>{if(a){if(!h||!h.linkedAccounts.find(q=>q.type==="wallet"&&q.walletClientType==="privy"))return void ae(!!O);if([...p].some(q=>q.walletClientType==="privy"))return void ae(!0);ae(!!O)}},[a,h,p,O]),x.useEffect(()=>{var q;(q=e.connectors)==null||q.setWalletList(D.appearance.walletList)},[D.appearance.walletList.join()]);let Ve=()=>{let q=IRt();return q.inProgress&&q.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):q.authorizationCode==="error"?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:q.stateCode,authorizationCode:q.authorizationCode}):(q.inProgress&&function(K){return K.startsWith("privy:")}(q.provider)&&!q.popupFlow&&(new BroadcastChannel(_ae).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:q.stateCode,authorizationCode:q.authorizationCode}),window.close()),!!q.inProgress&&!!q.withPrivyUi&&(e.startAuthFlow(new Gb({...q,customOAuthRedirectUrl:D.customOAuthRedirectUrl})),Ce(Rae),!0))},rt=()=>{var se;let q=A9t();if(!q||!D.loginMethods.telegram||!((se=D.loginConfig.telegramAuthConfiguration)!=null&&se.seamlessAuthEnabled))return;let K=new e6;return e.startAuthFlow(K),q.flowType==="login-url"&&(K.meta.telegramWebAppData=void 0,K.meta.telegramAuthResult=q.authData),q.flowType==="web-app"&&(K.meta.telegramAuthResult=void 0,K.meta.telegramWebAppData=q.authData),!0},G=async(q,K,se,re)=>{var le,ge;if(q!=="solana_adapter")U(await((le=e.connectors)==null?void 0:le.createEthereumWalletConnector({connectorType:q,walletClientType:K}))||null,K,se,re);else{let $e=(ge=e.connectors)==null?void 0:ge.findSolanaWalletConnector(K);if(!$e)return;U($e,K,se,re)}};async function U(q,K,se,re){if(!q)return R({status:"disconnected",connectedWallet:null,connectError:new kr("Unable to connect to wallet."),connector:null,connectRetry:Ie}),re==null?void 0:re(null,se);R({status:"disconnected",connectedWallet:null,connectError:null,connector:q,connectRetry:Ie}),q instanceof a2&&K&&await q.resetConnection(K),R({connector:q,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>U(q,K,se,re)});try{let le=await q.connect({showPrompt:!0});if((!le||nm(le))&&D.shouldEnforceDefaultChainOnConnect&&!D.chains.find(ge=>ge.id===Number(le==null?void 0:le.chainId.replace("eip155:","")))&&((le==null?void 0:le.connectorType)!=="wallet_connect_v2"||(le==null?void 0:le.walletClientType)!=="metamask")){R(ge=>({...ge,connector:q,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:Ie}));try{await(le==null?void 0:le.switchChain(D.defaultChain.id)),le&&(le.chainId=A4(_i(D.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${D.defaultChain.id}`)}}return R(ge=>({...ge,status:"connected",connectedWallet:le,connectError:null,connectRetry:Ie})),le&&Ge(we,"connectWallet","onSuccess",{wallet:le}),re==null?void 0:re(le,se)}catch(le){return le instanceof Do?(console.warn(le.cause?le.cause:le.message),Ge(we,"connectWallet","onError",le.privyErrorCode||pe.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(le),Ge(we,"connectWallet","onError",pe.UNKNOWN_CONNECT_WALLET_ERROR)),R(ge=>({...ge,status:"disconnected",connectedWallet:null,connectError:le})),re==null?void 0:re(null,se)}}let z=async(q,K,se)=>{if(q===null||!nm(q))return;let re=new s2(e,q,K,se);e.startAuthFlow(re)},X=async(q,K,se,re="plain")=>{let le=r(e8e);if(re==="transaction"&&!le)throw new ue("useSolanaLedger plugin hook must be mounted");if(q===null||!I9t(q))return;let ge=new D7(q,e,K,se,re,le);e.startAuthFlow(ge)},ne=()=>{let q=new URLSearchParams(window.location.search),K=q.get("privy_connector"),se=q.get("privy_wallet_client"),re=q.get("privy_connect_only")==="true";if(!K||!se)return;let le=Z6e({connectorType:K,walletClientType:se});if(!le||!le.isInstalled)return Ce(iOt);if(!e.connectors)throw new ue("Connector not initialized");Ce(re?IU:_p);let ge=new URL(window.location.href);ge.searchParams.delete("privy_connector"),ge.searchParams.delete("privy_wallet_client"),ge.searchParams.delete("privy_connect_only"),window.history.pushState({},"",ge),G(K,se,void 0,re?void 0:K==="solana_adapter"?X:z)};x.useEffect(()=>{a&&c&&h===null&&e.getAuthenticatedUser().then(f)},[a,c,h,e]);let ie=q=>{if(!c)throw Ge(we,"linkAccount","onError",pe.MUST_BE_AUTHENTICATED,{linkMethod:q}),new ue("User must be authenticated before linking an account.")},ce=q=>{if(!c||!h)return!1;if(q.walletClientType==="privy")return!0;for(let K of h.linkedAccounts)if(K.type==="wallet"&&K.address===q.address&&K.walletClientType!=="privy")return!0;return!1},Be=()=>{m(q=>{var se;let K=((se=e.connectors)==null?void 0:se.wallets.filter(nm).map(re=>({...re,linked:ce(re),loginOrLink:async()=>{if(!await re.isConnected())throw new ue("Wallet is not connected");if(re.connectorType==="embedded"&&re.walletClientType==="privy")throw new ue("Cannot link or login with embedded wallet");(async le=>{let ge;if(!e.connectors)throw new ue("Connector not initialized");ge=le.type==="ethereum"?e.connectors.findWalletConnector(le.connectorType,le.walletClientType)||null:e.connectors.findSolanaWalletConnector(le.walletClientType)||null,R($e=>({...$e,connector:ge,status:"connected",connectedWallet:le,connectError:null,connectRetry:Ie})),D.captchaEnabled&&!c?(Q({captchaModalData:{callback:$e=>nm(le)?z(le,$e):X(le,$e),userIntentRequired:!1,onSuccessNavigateTo:_p,onErrorNavigateTo:Yr}}),Ce(_d)):(nm(le)?await z(le):await X(le),Ce(_p))})(re)},fund:async le=>{await He.fundWallet(re.address,le)},unlink:async()=>{if(!c)throw new ue("User is not authenticated.");if(re.connectorType==="embedded"&&re.walletClientType==="privy")throw new ue("Cannot unlink an embedded wallet");f(await e.unlinkEthereumWallet(re.address))}})))||[];return G6e(q,K)?q:K})};x.useEffect(()=>{Be()},[h==null?void 0:h.linkedAccounts,c,a]),x.useEffect(()=>{if(a){if(!e.connectors)throw new ue("Connector not initialized");Be(),e.connectors.on("walletsUpdated",Be)}},[a]),x.useEffect(()=>{var q,K;[...((q=D.loginMethodsAndOrder)==null?void 0:q.primary)??[],...((K=D.loginMethodsAndOrder)==null?void 0:K.overflow)??[]].filter(se=>se.startsWith("privy:")).forEach(se=>e.getCrossAppProviderDetails(se.replace("privy:","")))},[!!e]);let Xe=({transaction:q,sponsor:K,uiOptions:se,fundWalletConfig:re,address:le,signOnly:ge})=>new Promise(async($e,je)=>{let{requesterAppId:Mt}=se||{},bt=ge?"signTransaction":"sendTransaction",St=le?Hf(h,le):bh(h);if(!St&&le){let qt=Nj(p,le);if(qt){if(K)throw new ue("Cannot sponsor transactions for externally connected wallet.");try{let vr=await qt.getEthereumProvider(),en={...q,from:le,chainId:q.chainId||Number(qt.chainId.replace("eip155:","")),value:q.value!==void 0?_i(q.value):void 0},$r=await vr.request({method:bt==="sendTransaction"?"eth_sendTransaction":"eth_signTransaction",params:[en]});return Ge(we,bt,"onSuccess",{hash:$r}),void $e({hash:$r})}catch(vr){return Ge(we,bt,"onError",pe.TRANSACTION_FAILURE),void je(vr??new xo("Unable to "+bt+vr))}}}if(!St)return Ge(we,bt,"onError",pe.EMBEDDED_WALLET_NOT_FOUND),void je(new ue("No embedded or connected wallet found for address."));if(!c||!h)return Ge(we,bt,"onError",pe.MUST_BE_AUTHENTICATED),void je(Error("User must be authenticated before signing with a Privy wallet"));let rn=St.address,Qe=St.walletIndex??0,{entropyId:ut,entropyIdVerifier:at}=Zu(h,St),ct=Ln.wallets.find(qt=>qt.walletClientType==="privy"&&Bi(qt.address)===Bi(rn));if(!ct)return Ge(we,bt,"onError",pe.EMBEDDED_WALLET_NOT_FOUND),void je(Error("Must have a Privy wallet before signing"));let ht=await ct.getEthereumProvider(),an=await ht.request({method:"eth_chainId"}),zn=q.chainId?Number(q.chainId):LEe(an);(qt=>{if(!D.chains.map(vr=>vr.id).includes(qt))throw new kr(`Chain ID ${qt} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,pe.UNSUPPORTED_CHAIN_ID)})(zn);let Ht={...q,from:q.from??rn,chainId:zn},Ft=await yr();if(!Ft||!O)return Ge(we,bt,"onError",pe.EMBEDDED_WALLET_NOT_FOUND),void je(Error("Must have valid access token and Privy wallet to send transaction"));let An=Xx(Ht.chainId,D.chains,D.rpcConfig,{appId:t.appId}),oi=vl(St),uc=async({transactionRequest:qt})=>{try{let vr;if(!await He.recoverEmbeddedWallet({address:rn}))throw Ge(we,bt,"onError",pe.UNKNOWN_CONNECT_WALLET_ERROR),je(Error("Unable to connect to wallet")),Error("Unable to connect to wallet");if(K){let en=await(async({transactionRequest:$r})=>{if(!oi)throw new ue("Sponsoring is only supported for wallets on the TEE stack");if(ge)throw new ue("Cannot sponsor a sign transaction request");let to=fl=>fl==null?void 0:_i(fl),dc=await Qu(n,async({message:fl})=>await O.signWithUserSigner({accessToken:Ft,requesterAppId:Mt,message:fl}),{chain_type:"ethereum",method:"eth_sendTransaction",caip2:A4(_i($r.chainId)),sponsor:!0,params:{transaction:{from:$r.from,to:$r.to,chain_id:to($r.chainId),data:Ro($r.data)?$r.data?$r.data:_i(Uint8Array.from($r.data)):void 0,value:to($r.value)}},wallet_id:St.id});if(dc.data&&"hash"in dc.data)return dc.data.hash;throw new xo("Unable to sign transaction")})({transactionRequest:qt});return Ge(we,"sendTransaction","onSuccess",{hash:en}),en}if(oi){let en=to=>to==null?void 0:_i(to),$r=await Qu(n,async({message:to})=>await O.signWithUserSigner({accessToken:Ft,requesterAppId:Mt,message:to}),{chain_type:"ethereum",method:"eth_signTransaction",params:{transaction:{from:qt.from,to:qt.to,nonce:en(qt.nonce),chain_id:en(qt.chainId),data:Ro(qt.data)?qt.data?qt.data:_i(Uint8Array.from(qt.data)):void 0,value:en(qt.value),type:qt.type,gas_limit:en(qt.gasLimit??qt.gas),gas_price:en(qt.gasPrice??qt.gas),max_fee_per_gas:en(qt.maxFeePerGas),max_priority_fee_per_gas:en(qt.maxPriorityFeePerGas)}},wallet_id:St.id});if(!$r.data||!("signed_transaction"in $r.data))throw new xo("Unable to sign transaction");vr=$r.data.signed_transaction}else vr=await async function({accessToken:en,entropyId:$r,entropyIdVerifier:to,transactingWalletIndex:dc,walletProxy:fl,transactionRequest:m5,requesterAppId:g5}){return(await fl.rpc({entropyId:$r,entropyIdVerifier:to,hdWalletIndex:dc??0,chainType:"ethereum",accessToken:en,requesterAppId:g5,request:{method:"eth_signTransaction",params:[m5]}})).response.data}({accessToken:Ft,entropyId:ut,entropyIdVerifier:at,transactingWalletIndex:Qe,walletProxy:O,transactionRequest:qt,requesterAppId:Mt});if(ge)return Ge(we,"signTransaction","onSuccess",{signature:vr}),vr;{let en=await An.sendRawTransaction({serializedTransaction:vr});return Ge(we,"sendTransaction","onSuccess",{hash:en}),en}}catch(vr){throw Ge(we,bt,"onError",pe.TRANSACTION_FAILURE),vr}};if(Le({showWalletUIs:se==null?void 0:se.showWalletUIs})){let qt=ge||K?Ht:await U7(Ht,An,Ht.from);try{let vr=await uc({transactionRequest:qt});ge?Ge(we,"signTransaction","onSuccess",{signature:vr}):Ge(we,"sendTransaction","onSuccess",{hash:vr}),$e({hash:vr})}catch(vr){Ge(we,bt,"onError",pe.TRANSACTION_FAILURE),je(vr)}}else{let qt={connectingWalletAddress:rn,recoveryMethod:St.recoveryMethod,entropyId:ut,entropyIdVerifier:at,onCompleteNavigateTo:H8e,isUnifiedWallet:oi,onFailure:en=>{Ge(we,bt,"onError",pe.UNKNOWN_CONNECT_WALLET_ERROR),je(en)}},vr=(en=>!!en.fundingConfig&&FEe(en.fundingConfig.options).length>=1)(D)?dae({address:rn,appConfig:D,fundWalletConfig:re,methodScreen:ud,chainIdOverride:Ht.chainId,comingFromSendTransactionScreen:!0}):void 0;Q({connectWallet:qt,sendTransaction:{transactionRequest:Ht,transactingWalletIndex:Qe,transactingWalletAddress:rn,entropyId:ut,entropyIdVerifier:at,signOnly:ge,scanTransaction:async()=>{var $r,to,dc,fl;let en=await U7(Ht,An,Ht.from);return await e.scanTransaction({metadata:{domain:D.embeddedWallets.transactionScanning.domain},chain_id:en.chainId.toString(),request:{method:"eth_sendTransaction",params:[{from:en.from,to:en.to,value:($r=en.value)==null?void 0:$r.toString(),gas:(to=en.gas)==null?void 0:to.toString(),gasPrice:(dc=en.gasPrice)==null?void 0:dc.toString(),nonce:(fl=en.nonce)==null?void 0:fl.toString(),data:en.data}]}})},getIsSponsored:async()=>!!K,onConfirm:({transactionRequest:en})=>uc({transactionRequest:en}),onSuccess:en=>{ge?Ge(we,"signTransaction","onSuccess",{signature:en.hash}):Ge(we,"sendTransaction","onSuccess",{hash:en.hash}),$e(en)},onFailure:en=>{Ge(we,bt,"onError",pe.TRANSACTION_FAILURE),je(en)},uiOptions:se||{},fundWalletConfig:re,requesterAppId:Mt},funding:vr}),Ce(s6)}});function Ye(){return new Promise(async(q,K)=>{let se=await yr();if(!se||!O)throw Error("Must have valid access token to enroll in MFA");try{await O.verifyMfa({accessToken:se}),q()}catch(re){K(re)}})}let et=q=>q==null?void 0:q.linkedAccounts.filter(K=>K.latestVerifiedAt!==null&&!(K.type==="wallet"&&K.walletClientType==="privy")).sort((K,se)=>se.latestVerifiedAt.getTime()-K.latestVerifiedAt.getTime())[0],Pe=q=>{let K=(h==null?void 0:h.linkedAccounts.filter(le=>le.type===q).length)??0,{displayName:se,loginMethod:re}=xN(q);if(q==="passkey"&&K>=5||q!=="passkey"&&K>=1)throw Ge(we,"linkAccount","onError",pe.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:re}),new ue(`User already has an account of type ${se} linked.`)};async function Tt({showAutomaticRecovery:q=!1,legacySetWalletPasswordFlow:K=!1}){A(null);let se=K?"setWalletPassword":"setWalletRecovery";if(!c||!h)throw Ge(we,se,"onError",pe.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let re=Cd(h);if(!re||!O)throw Ge(we,se,"onError",pe.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");let le=vl(re);if(le)throw Ge(we,se,"onError",pe.UNSUPPORTED_WALLET_TYPE),new ue("User owned wallet recovery is only supported for on-device execution and this app uses TEE execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");try{await Ye()}catch(ge){throw Ge(we,se,"onError",pe.MISSING_MFA_CREDENTIALS),ge}return new Promise((ge,$e)=>{let je=re.recoveryMethod==="user-passcode",Mt=x8e({walletAction:"update",availableRecoveryMethods:D.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:K,isResettingPassword:je,showAutomaticRecovery:q}),{entropyId:bt,entropyIdVerifier:St}=Zu(h),rn={recoveryMethod:re.recoveryMethod,connectingWalletAddress:re.address,onCompleteNavigateTo:Mt,shouldForceMFA:!1,entropyId:bt,isUnifiedWallet:le,entropyIdVerifier:St,onFailure:Qe=>{Ge(we,se,"onError",pe.UNKNOWN_CONNECT_WALLET_ERROR),$e(Qe)}};Q({setWalletPassword:{onSuccess:Qe=>{Ge(we,se,"onSuccess",{method:"user-passcode",wallet:Qe}),ge(Qe)},onFailure:Qe=>{Ge(we,se,"onError",pe.USER_EXITED_SET_PASSWORD_FLOW),$e(Qe)},callAuthOnSuccessOnClose:!1},recoverWallet:{entropyId:bt,entropyIdVerifier:St,onFailure:$e},connectWallet:rn,recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:je,shouldCreateEth:!1,shouldCreateSol:!1}}),Ce(s6)})}async function dn({appId:q,action:K}){let se=await yr();if(K==="link"&&!se)throw Ge(we,"linkAccount","onError",pe.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${q}`}),new ue("User must be authenticated before linking an account.");if(K==="login"&&se)throw Ge(we,"login","onError",pe.UNKNOWN_AUTH_ERROR),new ue("Attempted to log in, but user is already logged in. Use a `link` helper instead.");_e.current=`privy:${q}`,xe.current=K;let re=fN();return e.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:q}}),new Promise(async(le,ge)=>{let{name:$e,logoUrl:je}=await XEe({api:e.api,providerAppId:q,requesterAppId:D.id});Q({crossAppAuth:{appId:q,name:$e,logoUrl:je,action:K,popup:re,onSuccess:le,onError:ge}}),Ce(Fjt)})}let Bt={ready:a,authenticated:c,user:h,walletConnectors:e.connectors||null,connectWallet:q=>{q&&"target"in q&&q&&(q=void 0),Q({externalConnectWallet:{walletList:q!=null&&q.walletList&&(q==null?void 0:q.walletList.length)>0?q.walletList:void 0,walletChainType:q==null?void 0:q.walletChainType,description:q==null?void 0:q.description}}),Ce(kU)},linkWallet:q=>{q&&"target"in q&&q&&(q=void 0),ie("siwe"),_e.current="siwe",xe.current="link",Q({...M,externalConnectWallet:{...M.externalConnectWallet,walletList:q==null?void 0:q.walletList,walletChainType:q==null?void 0:q.walletChainType,description:(q==null?void 0:q.description)||`Link a wallet to your ${D==null?void 0:D.name} account`}}),Ce(fS)},startCrossAppAuthFlow:dn,linkEmail:()=>{ie("email"),Pe("email"),_e.current="email",xe.current="link",Ce(tOt)},linkPhone:()=>{ie("sms"),Pe("phone"),_e.current="sms",xe.current="link",Ce(yK)},linkGoogle:async()=>{ie("google"),Pe("google_oauth"),xe.current="link",await He.initLoginWithOAuth("google")},linkTwitter:async()=>{ie("twitter"),Pe("twitter_oauth"),xe.current="link",await He.initLoginWithOAuth("twitter")},linkDiscord:async()=>{ie("discord"),Pe("discord_oauth"),xe.current="link",await He.initLoginWithOAuth("discord")},linkGithub:async()=>{ie("github"),Pe("github_oauth"),xe.current="link",await He.initLoginWithOAuth("github")},linkSpotify:async()=>{ie("spotify"),Pe("spotify_oauth"),xe.current="link",await He.initLoginWithOAuth("spotify")},linkInstagram:async()=>{ie("instagram"),Pe("instagram_oauth"),xe.current="link",await He.initLoginWithOAuth("instagram")},linkTiktok:async()=>{ie("tiktok"),Pe("tiktok_oauth"),xe.current="link",await He.initLoginWithOAuth("tiktok")},linkLine:async()=>{ie("line"),Pe("line_oauth"),xe.current="link",await He.initLoginWithOAuth("line")},linkLinkedIn:async()=>{ie("linkedin"),Pe("linkedin_oauth"),xe.current="link",await He.initLoginWithOAuth("linkedin")},linkApple:async()=>{ie("apple"),Pe("apple_oauth"),xe.current="link",await He.initLoginWithOAuth("apple")},linkPasskey:async()=>{ie("passkey"),Pe("passkey"),await He.initLinkWithPasskey(),Ce(Sjt)},linkTelegram:async q=>{if(ie("telegram"),Pe("telegram"),xe.current="link",_e.current="telegram",q==null?void 0:q.launchParams)if(q.launchParams.initDataRaw){let K=new e6;e.startAuthFlow(K),K.meta.telegramAuthResult=void 0,K.meta.telegramWebAppData=W6e(q.launchParams.initDataRaw),Q({telegramAuthModalData:{seamlessAuth:!0}}),Ce(pS)}else Ge(we,"linkAccount","onError",pe.INVALID_DATA,{linkMethod:"telegram"});else await He.initLoginWithTelegram();Ce(pS)},linkFarcaster:async()=>{ie("farcaster"),Pe("farcaster"),await He.initLoginWithFarcaster(),xe.current="link",_e.current="farcaster",Ce(SU)},updateEmail:()=>{if(ie("email"),!(h!=null&&h.email))throw new ue("User does not have an email linked to their account.");xe.current="update",_e.current="email",Ce(kOt)},updatePhone:()=>{if(ie("sms"),!(h!=null&&h.phone))throw new ue("User does not have a phone number linked to their account.");xe.current="update",_e.current="sms",Ce(_Ot)},login:async q=>{q&&"target"in q&&q&&(q=void 0);let K="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!a){let se=await new Promise(re=>{J(le=>re.bind(le))});if(J(null),se)return void console.warn(K)}!h||h.isGuest?(xe.current="login",Q({login:q}),Ce(Lo)):console.warn(K)},connectOrCreateWallet:async()=>{a||(await new Promise(q=>{J(()=>q)}),J(null)),c?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):(xe.current="connect-or-create",Ce(h8e))},logout:async()=>{if(xe.current=null,_e.current=null,h&&e.clearProviderAcccessTokens(h),A(null),await e.logout(),h&&O)try{await O.clearMfa({userId:h.id})}catch{}f(null),u(!1),Ge(we,"logout","onSuccess"),s(!1),Nt.del(aU),Nt.del(C6e(D.id))},getAccessToken:x.useCallback(()=>e.getCustomerAccessToken(),[e]),unlinkWallet:async q=>{let K;return f(K=q.startsWith("0x")?await e.unlinkEthereumWallet(q):await e.unlinkSolanaWallet(q)),K},unlinkEmail:async q=>{let K=await e.unlinkEmail(q);return f(K),K},unlinkPhone:async q=>{let K=await e.unlinkPhone(q);return f(K),K},unlinkGoogle:async q=>{let K=await e.unlinkOAuth("google",q);return f(K),K},unlinkTwitter:async q=>{let K=await e.unlinkOAuth("twitter",q);return f(K),K},unlinkDiscord:async q=>{let K=await e.unlinkOAuth("discord",q);return f(K),K},unlinkGithub:async q=>{let K=await e.unlinkOAuth("github",q);return f(K),K},unlinkSpotify:async q=>{let K=await e.unlinkOAuth("spotify",q);return f(K),K},unlinkInstagram:async q=>{let K=await e.unlinkOAuth("instagram",q);return f(K),K},unlinkTiktok:async q=>{let K=await e.unlinkOAuth("tiktok",q);return f(K),K},unlinkLine:async q=>{let K=await e.unlinkOAuth("line",q);return f(K),K},unlinkLinkedIn:async q=>{let K=await e.unlinkOAuth("linkedin",q);return f(K),K},unlinkApple:async q=>{let K=await e.unlinkOAuth("apple",q);return f(K),K},unlinkFarcaster:async q=>{let K=await e.unlinkFarcaster(q);return f(K),K},unlinkTelegram:async q=>{let K=await e.unlinkTelegram(q);return f(K),K},unlinkPasskey:async q=>{let K=await yr();if(!K)throw Error("Must have valid access token to enroll in MFA");if(!O)throw Error("Wallet proxy not initialized.");let se=D.passkeys.shouldUnenrollMfaOnUnlink;await O.unlinkPasskeyAccount({credentialId:q,accessToken:K,removeAsMfa:se});let re=await e.getAuthenticatedUser();return f(re),re},unlinkCrossAppAccount:async({subject:q})=>{var re;let K=(re=h==null?void 0:h.linkedAccounts.find(le=>le.type==="cross_app"&&le.subject===q))==null?void 0:re.providerApp;if(!K)throw new ue("Invalid subject");e.storeProviderAccessToken(K.id,null);let se=await e.unlinkOAuth(`privy:${K.id}`,q);return f(se),se},setWalletRecovery:async q=>Tt({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:(q==null?void 0:q.showAutomaticRecovery)??!1}),setWalletPassword:async()=>Tt({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:(q,K)=>new Promise(async(se,re)=>{var ut;let{requesterAppId:le}=(K==null?void 0:K.uiOptions)||{},ge=q.message,$e=K!=null&&K.address?Hf(h,K.address):bh(h);if(!$e&&(K==null?void 0:K.address)!==void 0){let at=Nj(p,K.address);if(at)try{let ct=await at.getEthereumProvider(),ht=await ct.request({method:"personal_sign",params:[ge,at.address]});return Ge(we,"signMessage","onSuccess",{signature:ht}),void se({signature:ht})}catch(ct){return Ge(we,"signMessage","onError",pe.UNABLE_TO_SIGN),void re(ct??new xo("Unable to sign message"))}}if(!$e)throw new ue("No embedded or connected wallet found for address.");if(!c||!h)return Ge(we,"signMessage","onError",pe.MUST_BE_AUTHENTICATED),void re(Error("User must be authenticated before signing with a Privy wallet"));let je=$e.address,Mt=$e.walletIndex??0,{entropyId:bt,entropyIdVerifier:St}=Zu(h,$e),rn=vl($e);if(typeof ge!="string"||ge.length<1)return Ge(we,"signMessage","onError",pe.INVALID_MESSAGE),void re(Error("Message must be a non-empty string"));let Qe=async()=>{let at;if(!c)throw Error("User must be authenticated before signing with a Privy wallet");let ct=await yr();if(!O||!ct||!await He.recoverEmbeddedWallet({address:je}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:je,requesterAppId:le}}),rn){let ht=Ro(q.message,{strict:!0}),an=await Qu(n,async({message:zn})=>await O.signWithUserSigner({accessToken:ct,requesterAppId:le,message:zn}),{chain_type:"ethereum",method:"personal_sign",params:ht?{message:ge.slice(2),encoding:"hex"}:{message:ge,encoding:"utf-8"},wallet_id:$e.id});if(!an.data||!("signature"in an.data))throw new xo("Unable to sign message");at=an.data.signature}else{let{response:ht}=await O.rpc({accessToken:ct,entropyId:bt,entropyIdVerifier:St,chainType:"ethereum",hdWalletIndex:Mt,requesterAppId:le,request:{method:"personal_sign",params:[ge,je]}});at=ht.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:je,requesterAppId:le}}),at};if(Le({showWalletUIs:(ut=K==null?void 0:K.uiOptions)==null?void 0:ut.showWalletUIs}))try{let at=await Qe();Ge(we,"signMessage","onSuccess",{signature:at}),se({signature:at})}catch(at){Ge(we,"signMessage","onError",pe.UNABLE_TO_SIGN),re(at??new xo("Unable to sign message"))}else Q({signMessage:{method:"personal_sign",data:ge,confirmAndSign:Qe,onSuccess:at=>{Ge(we,"signMessage","onSuccess",{signature:at}),se({signature:at})},onFailure:at=>{Ge(we,"signMessage","onError",pe.UNABLE_TO_SIGN),re(at)},uiOptions:(K==null?void 0:K.uiOptions)||{}},connectWallet:{recoveryMethod:$e.recoveryMethod,connectingWalletAddress:je,entropyId:bt,entropyIdVerifier:St,onCompleteNavigateTo:Noe,isUnifiedWallet:rn,onFailure:at=>{Ge(we,"signMessage","onError",pe.UNKNOWN_CONNECT_WALLET_ERROR),re(at)}}}),Ce(s6)}),signTypedData:(q,K)=>new Promise(async(se,re)=>{var ut;let{requesterAppId:le}=(K==null?void 0:K.uiOptions)||{},ge=K!=null&&K.address?Hf(h,K.address):bh(h);if(!ge&&(K!=null&&K.address)){let at=Nj(p,K.address);if(at)try{let ct=await at.getEthereumProvider(),ht=lS(q),an=await ct.request({method:"eth_signTypedData_v4",params:[at.address,ht]});return Ge(we,"signTypedData","onSuccess",{signature:an}),void se({signature:an})}catch(ct){return Ge(we,"signTypedData","onError",pe.UNABLE_TO_SIGN),void re(ct??new xo("Unable to sign typed data "+ct))}}if(!ge)throw new ue("No embedded or connected wallet found for address.");if(!c||!h)return Ge(we,"signTypedData","onError",pe.MUST_BE_AUTHENTICATED),void re(Error("User must be authenticated before signing with a Privy wallet"));let $e=ge.address,je=ge.walletIndex??0,{entropyId:Mt,entropyIdVerifier:bt}=Zu(h,ge),St=vl(ge),rn=lS(q),Qe=async()=>{let at;if(!c)throw Error("User must be authenticated before signing with a Privy wallet");let ct=await yr();if(!O||!ct||!await He.recoverEmbeddedWallet({address:$e}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:$e,requesterAppId:le}}),St){let{domain:ht,types:an,primaryType:zn,message:Ht}=rn,Ft=await Qu(n,async({message:An})=>await O.signWithUserSigner({accessToken:ct,requesterAppId:le,message:An}),{chain_type:"ethereum",method:"eth_signTypedData_v4",params:{typed_data:{domain:ht,types:an,primary_type:zn,message:Ht}},wallet_id:ge.id});if(!Ft.data||!("signature"in Ft.data))throw new xo("Unable to sign message");at=Ft.data.signature}else{let{response:ht}=await O.rpc({accessToken:ct,entropyId:Mt,entropyIdVerifier:bt,chainType:"ethereum",hdWalletIndex:je,requesterAppId:le,request:{method:"eth_signTypedData_v4",params:[$e,rn]}});at=ht.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:$e,requesterAppId:le}}),at};if(Le({showWalletUIs:(ut=K==null?void 0:K.uiOptions)==null?void 0:ut.showWalletUIs}))try{let at=await Qe();Ge(we,"signTypedData","onSuccess",{signature:at}),se({signature:at})}catch(at){Ge(we,"signTypedData","onError",pe.UNABLE_TO_SIGN),re(at??new xo("Unable to sign message"))}else Q({signMessage:{method:"eth_signTypedData_v4",data:rn,confirmAndSign:Qe,onSuccess:at=>{Ge(we,"signTypedData","onSuccess",{signature:at}),se({signature:at})},onFailure:at=>{Ge(we,"signTypedData","onError",pe.UNABLE_TO_SIGN),re(at)},uiOptions:(K==null?void 0:K.uiOptions)||{}},connectWallet:{recoveryMethod:ge.recoveryMethod,connectingWalletAddress:ge.address,entropyId:Mt,isUnifiedWallet:St,entropyIdVerifier:bt,onCompleteNavigateTo:Noe,onFailure:at=>{Ge(we,"signMessage","onError",pe.UNKNOWN_CONNECT_WALLET_ERROR),re(at)}}}),Ce(s6)}),sendTransaction:async(q,K)=>await Xe({transaction:q,sponsor:K==null?void 0:K.sponsor,uiOptions:K==null?void 0:K.uiOptions,fundWalletConfig:K==null?void 0:K.fundWalletConfig,address:K==null?void 0:K.address,signOnly:!1}),signTransaction:async(q,K)=>({signature:(await Xe({transaction:q,uiOptions:K==null?void 0:K.uiOptions,address:K==null?void 0:K.address,signOnly:!0})).hash}),exportWallet:q=>new Promise(async(K,se)=>{if(!c||!h)return void se(Error("User must be authenticated before exporting their Privy wallet"));q&&"target"in q&&q&&(q=void 0);let re=q!=null&&q.address?Hf(h,q.address):bh(h);if(!re)return void se(new ue("User must have an embedded wallet."));let le=re.address,{entropyId:ge,entropyIdVerifier:$e}=Zu(h,re),je=vl(re);if(!le)return void se(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));if(!nl(le))return void se(Error("Must provide a valid Ethereum address."));let Mt={recoveryMethod:re.recoveryMethod,connectingWalletAddress:re.address,isUnifiedWallet:je,entropyId:ge,entropyIdVerifier:$e,onCompleteNavigateTo:q8e,onFailure:se,shouldForceMFA:!0};Q(M),await yr()&&O?O?bE(re)?(Q({keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:re.address,entropyId:ge,entropyIdVerifier:$e,hdWalletIndex:re.walletIndex,chainType:re.chainType,walletId:re.id,isUnifiedWallet:je,imported:re.imported,onSuccess:K,onFailure:se},connectWallet:Mt}),Ce(s6)):se(Error(`Export is not supported for ${re.chainType} wallets`)):se(Error("Must have a Privy wallet before exporting")):se(Error("Must have valid access token to enroll in MFA"))}),promptMfa:Ye,async init(q){switch(q){case"sms":return void await e.initMfaSmsVerification();case"passkey":return await e.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${q}`)}},async submit(q,K){var se,re,le;switch(q){case"totp":case"sms":if(typeof K!="string")throw new ue("Invalid MFA code");(se=fe.current)==null||se.resolve({mfaMethod:q,mfaCode:K,relyingParty:window.origin}),await new Promise((je,Mt)=>{ke.current={resolve:je,reject:Mt}});break;case"passkey":if(typeof K=="string")throw new ue("Invalid authenticator response");let ge=await Mh(()=>import("./index-CFBQExMV.js"),[]),$e=Bjt(await ge.startAuthentication(K));(re=fe.current)==null||re.resolve({mfaMethod:q,mfaCode:$e,relyingParty:window.origin}),await new Promise((je,Mt)=>{ke.current={resolve:je,reject:Mt}});break;default:throw(le=fe.current)==null||le.reject(new ue("Unsupported MFA method")),new ue(`Unsupported MFA method: ${q}`)}},cancel(){var q;(q=fe.current)==null||q.reject(new ue("MFA canceled"))},async initEnrollmentWithSms(q){let K=await yr();if(!K||!O)throw Error("Must have valid access token to enroll in MFA");await O.initEnrollMfa({method:"sms",accessToken:K,phoneNumber:q.phoneNumber})},enrollInMfa:q=>new Promise((K,se)=>{if(!q)return He.closePrivyModal(),void K();D.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),Q({mfaEnrollmentFlow:{mfaMethods:D.mfa.methods,shouldUnlinkOnUnenrollMfa:D.passkeys.shouldUnlinkOnUnenrollMfa,onSuccess:K,onFailure:se}}),Ce(bOt)}),async initEnrollmentWithTotp(){let q=await yr();if(!q||!O)throw Error("Must have valid access token to enroll in MFA");let K=await O.initEnrollMfa({method:"totp",accessToken:q});return{secret:K.secret,authUrl:K.authUrl}},async submitEnrollmentWithSms(q){let K=await yr();if(!K||!O)throw Error("Must have valid access token to enroll in MFA");await O.submitEnrollMfa({method:"sms",accessToken:K,phoneNumber:q.phoneNumber,code:q.mfaCode}),f(await e.getAuthenticatedUser())},async submitEnrollmentWithTotp(q){let K=await yr();if(!K||!O)throw Error("Must have valid access token to enroll in MFA");await O.submitEnrollMfa({method:"totp",accessToken:K,code:q.mfaCode}),f(await e.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:q},K={}){let se=await yr();if(!se||!O)throw Error("Must have valid access token to enroll in MFA");await O.submitEnrollMfa({method:"passkey",accessToken:se,credentialIds:q,removeForLogin:K.removeForLogin}),f(await e.getAuthenticatedUser())},async unenroll(q,K={}){let se=await yr();if(!se||!O)throw Error("Must have valid access token to remove MFA");q==="passkey"?await O.submitEnrollMfa({method:"passkey",accessToken:se,credentialIds:[],removeForLogin:K.removeForLogin}):await O.unenrollMfa({method:q,accessToken:se}),f(await e.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{var re;let q=await yr(),K=h==null?void 0:h.linkedAccounts.find(le=>le.type==="wallet"&&le.walletClientType==="privy");if(!q)throw Error("Must have valid access token to connect with Farcaster");if(!O||!K)throw Error("Must have an embedded wallet to use Farcaster signers");if(vl(K))throw new ue("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((re=h==null?void 0:h.farcaster)!=null&&re.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await He.recoverEmbeddedWallet({address:K.address}))throw Error("Unable to connect to wallet");let se=await O.initFarcasterSigner({address:K.address,hdWalletIndex:null,accessToken:q,mfaCode:null,mfaMethod:null,relyingParty:window.origin});se.status==="approved"&&f(await e.getAuthenticatedUser()||h||null),Q({farcasterSigner:se}),Ce(Jjt)},getFarcasterSignerPublicKey:async()=>{var re,le;let q,K=await yr(),se=h==null?void 0:h.linkedAccounts.find(ge=>ge.type==="wallet"&&ge.walletClientType==="privy");if(!K)throw Error("Must have valid access token to connect with Farcaster");if(!O||!se)throw Error("Must have an embedded wallet to use Farcaster signers");if(vl(se))throw new ue("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((re=h==null?void 0:h.farcaster)!=null&&re.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await He.recoverEmbeddedWallet({address:se.address}))throw Error("Unable to connect to wallet");if(!((le=h.farcaster)!=null&&le.signerPublicKey))throw Error("Must have a Farcaster signer public key to sign");return q=h.farcaster.signerPublicKey.slice(2),Uint8Array.from(q.match(/.{1,2}/g).map(ge=>parseInt(ge,16)))},signFarcasterMessage:async q=>{var ge,$e;let K=await yr(),se=h==null?void 0:h.linkedAccounts.find(je=>je.type==="wallet"&&je.walletClientType==="privy");if(!K)throw Error("Must have valid access token to connect with Farcaster");if(!O||!se)throw Error("Must have an embedded wallet to use Farcaster signers");if(vl(se))throw new ue("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((ge=h==null?void 0:h.farcaster)!=null&&ge.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await He.recoverEmbeddedWallet({address:se.address}))throw Error("Unable to connect to wallet");if(!(($e=h.farcaster)!=null&&$e.signerPublicKey))throw Error("Must have a Farcaster signer public key to sign");let re=await Mh(()=>import("./index-CFBQExMV.js"),[]),le=await O.signFarcasterMessage({address:se.address,hdWalletIndex:null,accessToken:K,mfaCode:null,mfaMethod:null,payload:{hash:re.bufferToBase64URLString(q)},fid:BigInt(h.farcaster.fid),relyingParty:window.origin});return new Uint8Array(re.base64URLStringToBuffer(le.signature))},signMessageWithCrossAppWallet(q,{address:K,chainId:se}){let re=h==null?void 0:h.linkedAccounts.some(le=>le.type==="cross_app"&&le.smartWallets.some(ge=>ge.address===K));return e9({user:h,client:e,address:K,requesterAppId:D.id,request:{method:re?"privy_signSmartWalletMessage":"personal_sign",params:[q,K],chainId:se},reconnect:dn})},signTypedDataWithCrossAppWallet(q,{address:K,chainId:se}){let re=h==null?void 0:h.linkedAccounts.some(ge=>ge.type==="cross_app"&&ge.smartWallets.some($e=>$e.address===K)),le=lS(q);return e9({user:h,client:e,address:K,requesterAppId:D.id,request:{method:re?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[K,le],chainId:se},reconnect:dn})},sendTransactionWithCrossAppWallet(q,{address:K}){let se=h==null?void 0:h.linkedAccounts.some(re=>re.type==="cross_app"&&re.smartWallets.some(le=>le.address===K));return e9({user:h,client:e,address:K,requesterAppId:D.id,request:{method:se?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[q],chainId:q.chainId},reconnect:dn})},signTransactionWithCrossAppWallet(q,{address:K}){let se=h==null?void 0:h.linkedAccounts.some(re=>re.type==="cross_app"&&re.smartWallets.some(le=>le.address===K));return e9({user:h,client:e,address:K,requesterAppId:D.id,request:{method:se?"privy_signSmartWalletTx":"eth_signTransaction",params:[q],chainId:q.chainId},reconnect:dn})},isModalOpen:i||!!o,mfaMethods:D.mfa.methods};iAe=Bt.signMessage,sAe=Bt.signTypedData,aAe=async(q,K)=>await Xe({transaction:q,...K,signOnly:!1}),oAe=async(q,K)=>({signature:(await Xe({transaction:q,...K,signOnly:!0})).hash});let He={privy:n,setAuthenticated:u,setUser:f,setIsNewUser:v,isNewUserThisSession:w,pendingTransaction:null,walletConnectionStatus:N,setWalletConnectionStatus:R,connectors:((Qt=e.connectors)==null?void 0:Qt.walletConnectors)??[],rpcConfig:D.rpcConfig,chains:D.chains,appId:t.appId,showFiatPrices:D.embeddedWallets.priceDisplay.primary!=="native-token",clientAnalyticsId:e.clientAnalyticsId,onCustomAuthAuthenticated:De,hideWalletUIs:Oe,isHeadlessSigning:x.useCallback(Le,[D.embeddedWallets.showWalletUIs]),emailOtpState:W,setEmailOtpState:V,smsOtpState:B,setSmsOtpState:k,oAuthState:T,setOAuthState:_,telegramAuthState:P,setTelegramAuthState:L,siweState:C,setSiweState:S,isHeadlessOAuthLoading:E,baseAccountSdk:g,setBaseAccountSdk:y,nativeTokenSymbolForChainId:q=>{var K;return(K=D.chains.find(se=>se.id===Number(q)))==null?void 0:K.nativeCurrency.symbol},initializeWalletProxy:async q=>{if(O)return O;let K=new Promise(le=>{oe.current=le}),se=new Promise(le=>setTimeout(()=>le(null),q)),re=await Promise.race([K,se]);return oe.current=null,re},getAuthFlow:()=>e.authFlow,getAuthMeta:()=>{var q;return(q=e.authFlow)==null?void 0:q.meta},client:e,closePrivyModal:async(q={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{let K,se=a&&c&&h;se&&_e.current&&(K=et(h)),xe.current==="login"?q.shouldCallAuthOnSuccess&&se&&_e.current?Ge(we,"login","onComplete",{user:h,isNewUser:w,wasAlreadyAuthenticated:!1,loginMethod:_e.current,loginAccount:K??null}):Ge(we,"login","onError",pe.USER_EXITED_AUTH_FLOW):xe.current==="link"&&K?q.isSuccess&&se&&_e.current?Ge(we,"linkAccount","onSuccess",{user:h,linkMethod:_e.current,linkedAccount:K}):_e.current&&Ge(we,"linkAccount","onError",pe.USER_EXITED_LINK_FLOW,{linkMethod:_e.current}):xe.current==="update"&&K?q.isSuccess&&se&&_e.current?Ge(we,"update","onSuccess",{user:h,updateMethod:_e.current,updatedAccount:K}):_e.current&&Ge(we,"update","onError",pe.USER_EXITED_UPDATE_FLOW,{linkMethod:_e.current}):xe.current==="connect-or-create"&&(p[0]?Ge(we,"connectOrCreateWallet","onSuccess",{wallet:p[0]}):Ge(we,"connectOrCreateWallet","onError",pe.USER_EXITED_AUTH_FLOW));let re=b&&iM.has(b),le=b===Yr&&M.errorModalData&&iM.has(M.errorModalData.previousScreen);if((re||le)&&M.funding){let ge,$e=iM.get(b)??null;if(M.funding.chainType==="solana"){let je=D.solanaRpcs[M.funding.chain];if(!je)return void console.warn("Unable to load solana rpc, skipping balance");if(r(PU))try{ge=await ZG({rpc:je.rpc,address:M.funding.address})}catch{console.error("Unable to pull wallet balance")}else console.warn("Unable to load solana plugin, skipping balance");Ge(we,"fundSolanaWallet","onUserExited",{address:M.funding.address,fundingMethod:$e,chain:M.funding.chain,balance:ge})}else{let je=Xx(M.funding.chain.id,D.chains,D.rpcConfig,{appId:t.appId});try{ge=await je.getBalance({address:M.funding.address})}catch{console.error("Unable to pull wallet balance")}Ge(we,"fundWallet","onUserExited",{address:M.funding.address,chain:M.funding.chain,fundingMethod:$e,balance:ge})}}Q(ge=>({...ge,externalConnectWallet:{}})),xe.current=null,_e.current=null,v(!1),s(!1),setTimeout(()=>{e.authFlow=void 0},200)},openPrivyModal:Ce,connectWallet:U,initLoginWithWallet:async(q,K,se,re)=>{nm(q)?(_e.current="siwe",z(q,K,se)):(_e.current="siws",X(q,K,se,re))},loginWithWallet:async()=>{let q,K,se;if(!a)throw new qg;if(e.authFlow instanceof s2?q="siwe":e.authFlow instanceof D7&&(q="siws"),!q)throw new ue("Must initialize SIWE/SIWS flow first.");if(await e.getAccessToken()!==null)try{({user:K}=await e.link()),_e.current=q}catch(re){throw Ge(we,"linkAccount","onError",re.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:q}),re}else try{({user:K,isNewUser:se}=await e.authenticate()),_e.current=q}catch(re){throw Ge(we,"login","onError",re.privyErrorCode||pe.GENERIC_CONNECT_WALLET_ERROR),re}f(K||h||null),v(se||!1),u(!0)},delegateWallet:async({address:q,chainType:K,showDelegationUIs:se})=>new Promise(async(re,le)=>{let ge=await yr();if(!c||!h||!ge)throw new ue("User must be authenticated and have an embedded wallet to delegate actions.");if(K!=="solana"&&K!=="ethereum")throw new ue("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let $e=He.walletProxy??await He.initializeWalletProxy(15e3);if(!$e)throw new ue("Wallet proxy not initialized.");if((({address:rn,user:Qe})=>!!Sae(Qe).find(ut=>ut.address===rn))({address:q,user:h}))return re();let je=Hf(h,q);if(!je)throw new ue("Address to delegate is not associated with current user.");if(vl(je))throw new ue("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let Mt=wjt({address:q,user:h}),bt=bjt({address:q,user:h}),St=async()=>{await $e.createDelegatedAction({accessToken:ge,rootWallet:bt,delegatedWallets:[Mt]}),await He.refreshSessionAndUser()};if(await He.recoverEmbeddedWallet({address:q}),se)Q({delegatedActions:{consent:{address:q,onDelegate:St,onSuccess:async()=>{re()},onError:async rn=>{le(rn)}}}}),Ce(zjt);else try{await St(),re()}catch(rn){le(rn)}}),revokeDelegatedWallets:async({showDelegationUIs:q})=>new Promise(async(K,se)=>{if(!c||!h)throw new ue("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");let re=Sae(h);if(re.length===0)throw new ue("User has no delegated wallets to revoke.");if(re.some(vl))throw new ue("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let le=async()=>{await e.revokeDelegatedWallet(),await He.refreshSessionAndUser()};if(q)Q({delegatedActions:{revoke:{onRevoke:le,onSuccess:async()=>{K()},onError:async ge=>{se(ge)}}}}),Ce(Hjt);else try{await le(),K()}catch(ge){se(ge)}}),initLoginWithFarcaster:async(q,K)=>{let se=new pae(q,K);e.startAuthFlow(se);try{_e.current="farcaster",await se.initializeFarcasterConnect()}catch(re){throw xe.current==="login"?Ge(we,"login","onError",re.privyErrorCode||pe.UNKNOWN_AUTH_ERROR):xe.current==="link"&&Ge(we,"linkAccount","onError",re.privyErrorCode||pe.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),re}},loginWithFarcaster:async()=>{let q,K;if(!a)throw new qg;if(!(e.authFlow instanceof pae))throw new ue("Must initialize Farcaster flow first.");if(await e.getAccessToken()!==null)try{({user:q}=await e.link()),_e.current="farcaster"}catch(se){throw Ge(we,"linkAccount","onError",se.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),se}else try{({user:q,isNewUser:K}=await e.authenticate()),_e.current="farcaster"}catch(se){throw Ge(we,"login","onError",se.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),se}f(q||null),v(K||!1),u(!0)},async crossAppAuthFlow({appId:q,popup:K,action:se}){let re=`privy:${q}`;_e.current=re;let{url:le,stateCode:ge,codeVerifier:$e}=await async function({api:je,appId:Mt}){let bt=iN(),St=kG(),rn=await SG(bt);try{let{url:Qe}=await je.post(gbe,{provider:`privy:${Mt}`,redirect_to:window.location.href,code_challenge:rn,state_code:St});return{url:Qe,stateCode:St,codeVerifier:bt}}catch(Qe){throw Nn(Qe)}}({api:e.api,appId:q});if(!le)throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:q}}),new ue("No authorization URL returned for cross-app auth.");try{let je=await async function({url:Qe,popup:ut}){return ut.location=Qe,new Promise((at,ct)=>{let ht,an=setTimeout(()=>{ct(new ue("Authorization request timed out after 2 minutes.")),zn()},12e4);function zn(){ut==null||ut.close(),window.removeEventListener("message",Ft)}let Ht=setInterval(()=>{ut!=null&&ut.closed&&!ht&&(zn(),clearInterval(Ht),clearTimeout(an),ct(new ue("User rejected request")))},300);function Ft(An){An.data&&(An.data.type==="PRIVY_OAUTH_RESPONSE"&&An.data.stateCode&&An.data.authorizationCode&&(clearTimeout(an),at(An.data),zn()),An.data.type==="PRIVY_OAUTH_ERROR"&&(clearTimeout(an),ct(new ue(An.data.error)),zn()),An.data.type===Iae&&((ht=new BroadcastChannel(_ae)).onmessage=Ft))}window.addEventListener("message",Ft)})}({url:le,popup:K,provider:re}),Mt=je.stateCode,bt=je.authorizationCode;if(Mt!==ge)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:re,storedStateCode:ge??"",returnedStateCode:Mt??""}}),new ue("Unexpected auth flow. This may be a phishing attempt.",void 0,pe.OAUTH_UNEXPECTED);let St=await async function({appId:Qe,stateCode:ut,codeVerifier:at,authorizationCode:ct,action:ht,client:an}){var zn;if(!ct||!ut)throw new ue("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(ct==="undefined")throw new ue("User denied confirmation during cross-app auth flow");try{let Ht=new xjt({authorizationCode:ct,stateCode:ut,codeVerifier:at,provider:`privy:${Qe}`});an.startAuthFlow(Ht);let Ft=ht==="link"?await an.link():await an.authenticate(),An=(zn=Ft.oAuthTokens)==null?void 0:zn.accessToken;return console.debug(),An}catch(Ht){let Ft=Nn(Ht);throw Ft.privyErrorCode===pe.ACCOUNT_TRANSFER_REQUIRED?Ft:Ft.privyErrorCode?new ue(Ft.message||"Invalid code during cross-app auth flow.",void 0,Ft.privyErrorCode):Ft.message==="User denied confirmation during cross-app auth flow"?new ue("Invalid code during cross-app auth flow.",void 0,pe.OAUTH_USER_DENIED):new ue("Invalid code during cross-app auth flow.",void 0,pe.UNKNOWN_AUTH_ERROR)}}({appId:q,codeVerifier:$e,stateCode:Mt,authorizationCode:bt,action:se,client:e});St&&e.storeProviderAccessToken(q,St);let rn=await He.refreshSessionAndUser();if(!rn)throw new ue("Unable to update user");return e.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:q}}),rn}catch(je){throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:je.toString(),provider:re}}),je}},async initLoginWithOAuth(q,K,se){if(_e.current=q,!sU()||q==="google"&&_U(window.navigator.userAgent))return void Ce(Nae);q==="twitter"&&window.opener&&window.opener.postMessage({type:Iae},"*"),Nt.del(M7),Nt.del(E4);let re=new Gb({provider:q,disableSignup:!!se,withPrivyUi:!0,customOAuthRedirectUrl:D.customOAuthRedirectUrl});K&&re.addCaptchaToken(K),e.startAuthFlow(re);let le=await e.authFlow.getAuthorizationUrl();if(le&&le.url)if(q==="twitter"&&SLe&&(le.url=le.url.replace("x.com","twitter.com")),window.location.protocol==="chrome-extension:"&&WU())try{let{privyOAuthCode:ge,privyOAuthState:$e}=await mae(le.url);Ce(Rae),re.meta.stateCode=$e,re.meta.authorizationCode=ge}catch(ge){throw console.error("OAuth in chrome extension flow failed:",ge),ge}else window.location.assign(le.url)},async initLoginWithTelegram(q,K){if(!a)throw new qg;_e.current="telegram";let se=new e6(q,K);e.startAuthFlow(se),L({status:"loading"}),se.meta.telegramWebAppData=void 0,se.meta.telegramAuthResult=await new Promise((re,le)=>D.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:D.loginConfig.telegramAuthConfiguration.botId,request_access:!0},ge=>ge?re(ge):le(new ue("Telegram auth failed or was canceled by the client"))):le(new ue("Telegram was not initialized")):le(new ue("Telegram Auth configuration is not loaded")))},async loginWithTelegram(q){var $e;let K,se;if(!(e.authFlow instanceof e6))throw new ue("Must initialize Telegram flow before calling loginWithTelegram");($e=e.authFlow.meta).captchaToken||($e.captchaToken=q==null?void 0:q.captchaToken);let re=await yr(),le=(q==null?void 0:q.intent)||xe.current;if(le==="login")try{let je=await e.authenticate();K=je.user,se=je.isNewUser,_e.current="telegram"}catch(je){throw Ge(we,"login","onError",je.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),je}else{if(le!=="link")throw new ue("Unknown auth intent");try{K=(await e.link()).user,_e.current="telegram"}catch(je){throw Ge(we,"linkAccount","onError",je.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),je}}f(K),v(se||!1),u(!0),L({status:"done"});let ge=(K==null?void 0:K.linkedAccounts.find(({type:je})=>je==="telegram"))||null;return{user:K,isNewUser:se||!1,wasAlreadyAuthenticated:!!re,loginAccount:ge}},async loginWithOAuth(q){let K,se,re;if(!(e.authFlow instanceof Gb))throw new ue("Must initialize OAuth flow before calling loginWithOAuth");let le=Nt.get(O7),ge=e.authFlow.meta.stateCode;if(le!==ge)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:q,storedStateCode:le??"",returnedStateCode:ge??""}}),new ue("Unexpected auth flow. This may be a phishing attempt.",void 0,pe.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{let $e=await e.link();K=$e.user,re=$e.oAuthTokens,_e.current=q}catch($e){throw Ge(we,"linkAccount","onError",$e.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:q}),$e}else try{let $e=await e.authenticate();K=$e.user,se=$e.isNewUser,re=$e.oAuthTokens,_e.current=q}catch($e){throw xe.current==="login"?Ge(we,"login","onError",$e.privyErrorCode||pe.UNKNOWN_AUTH_ERROR):xe.current==="link"&&Ge(we,"linkAccount","onError",$e.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:q}),$e}return f(K),v(se||!1),u(!0),re&&K&&Ge(we,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:re,user:K}),re},passkeyAuthState:j,setPasskeyAuthState:F,async initSignupWithPasskey({captchaToken:q,withPrivyUi:K}){let se=new Mb({captchaToken:q,setPasskeyAuthState:F});e.startAuthFlow(se),xe.current="login";try{_e.current="passkey",F({status:"generating-challenge"}),await se.initRegisterFlow(K),F({status:"awaiting-passkey"})}catch(re){throw F({status:"error",error:re}),Ge(we,"login","onError",re.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),re}},async signupWithPasskey(){let q,K;if(!a)throw new qg;if(!(e.authFlow instanceof Mb))throw new ue("Must initialize Passkey flow first.");if(_e.current!=="passkey"){let le=new ue("Must init login with Passkey flow first.");throw F({status:"error",error:le}),le}let se=await yr();try{_e.current="passkey",F({status:"awaiting-passkey"}),{user:q,isNewUser:K}=await e.authenticate()}catch(le){throw F({status:"error",error:le}),Ge(we,"login","onError",le.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),le}f(q),v(K||!1),u(!0),F({status:"done"});let re=(q==null?void 0:q.linkedAccounts.find(({type:le})=>le==="passkey"))||null;return{user:q,isNewUser:K||!1,wasAlreadyAuthenticated:!!se,loginAccount:re}},async initLoginWithPasskey({captchaToken:q,withPrivyUi:K}){let se=new Mb({captchaToken:q,setPasskeyAuthState:F});e.startAuthFlow(se),xe.current="login";try{_e.current="passkey",F({status:"generating-challenge"}),await se.initAuthenticationFlow(K),F({status:"awaiting-passkey"})}catch(re){throw F({status:"error",error:re}),Ge(we,"login","onError",re.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),re}},async loginWithPasskey(q){let K,se;if(!a)throw new qg;if(!(e.authFlow instanceof Mb))throw new ue("Must initialize Passkey flow first.");if(q!=null&&q.credentialIds&&(e.authFlow.meta.allowedCredentialsIds=q.credentialIds),_e.current!=="passkey"){let ge=new ue("Must init login with Passkey flow first.");throw F({status:"error",error:ge}),ge}let re=await yr();try{_e.current="passkey",F({status:"awaiting-passkey"}),{user:K,isNewUser:se}=await e.authenticate()}catch(ge){throw F({status:"error",error:ge}),Ge(we,"login","onError",ge.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),ge}f(K),v(se||!1),u(!0),F({status:"done"});let le=(K==null?void 0:K.linkedAccounts.find(({type:ge})=>ge==="passkey"))||null;return{user:K,isNewUser:se||!1,wasAlreadyAuthenticated:!!re,loginAccount:le}},async initLinkWithPasskey(q){let K=new Mb({captchaToken:q});e.startAuthFlow(K),xe.current="link",_e.current="passkey",F({status:"generating-challenge"});try{await K.initLinkFlow(),F({status:"awaiting-passkey"})}catch(se){throw Ge(we,"linkAccount","onError",se.privyErrorCode||pe.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),F({status:"error",error:se}),se}},async linkWithPasskey(){let q;if(!a)throw new qg;if(!(e.authFlow instanceof Mb))throw new ue("Must initialize Passkey flow first.");if(_e.current!=="passkey")throw new ue("Must init login with Passkey flow first.");try{_e.current="passkey",{user:q}=await e.link()}catch(K){throw Ge(we,"linkAccount","onError",K.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),K}return f(q||h||null),F({status:"done"}),q},async initLoginWithHeadlessOAuth(q,K,se){if(!sU()||q==="google"&&_U(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let re=new Gb({provider:q,withPrivyUi:!1,disableSignup:se??!1,customOAuthRedirectUrl:D.customOAuthRedirectUrl});K&&re.addCaptchaToken(K),_({status:"loading"});let le=await e.startAuthFlow(re).getAuthorizationUrl();if(le!=null&&le.url)if(window.location.protocol==="chrome-extension:"&&WU())try{let{privyOAuthCode:ge,privyOAuthState:$e}=await mae(le.url);re.meta.stateCode=$e,re.meta.authorizationCode=ge,await this.loginWithHeadlessOAuth(re.meta)}catch(ge){throw _({status:"error",error:ge}),ge}else window.location.assign(le.url)},async loginWithHeadlessOAuth(q){let K,se,re;$(!0),_({status:"loading"}),e.startAuthFlow(new Gb({...q,customOAuthRedirectUrl:D.customOAuthRedirectUrl}));let le=Nt.get(O7),ge=q.stateCode;if(le!==ge)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:q.provider,storedStateCode:le??"",returnedStateCode:ge??""}}),$(!1),new ue("Unexpected auth flow. This may be a phishing attempt.",void 0,pe.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{({user:K,oAuthTokens:re}=await e.link()),_e.current=q.provider;let $e=et(K);K&&$e&&Ge(we,"linkAccount","onSuccess",{user:K,linkMethod:_e.current,linkedAccount:$e})}catch($e){throw $(!1),Ge(we,"linkAccount","onError",$e.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:q.provider}),$e}else try{({user:K,isNewUser:se,oAuthTokens:re}=await e.authenticate()),_e.current=q.provider;let $e=et(K);K&&$e&&se!==void 0&&Ge(we,"login","onComplete",{user:K,isNewUser:se,wasAlreadyAuthenticated:!1,loginMethod:_e.current,loginAccount:$e})}catch($e){throw $(!1),_({status:"error",error:$e}),Ge(we,"login","onError",$e.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),$e}return f(K),v(se||!1),u(!0),$(!1),_({status:"done"}),re&&K&&Ge(we,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:re,user:K}),K??void 0},initLoginWithEmail:async({email:q,captchaToken:K,disableSignup:se,withPrivyUi:re})=>{let le=new Tv({email:q,captchaToken:K,disableSignup:se});e.startAuthFlow(le);try{_e.current="email",V({status:"sending-code"}),await le.sendCodeEmail({withPrivyUi:re}),V({status:"awaiting-code-input"})}catch(ge){throw V({status:"error",error:ge}),xe.current==="login"?Ge(we,"login","onError",ge.privyErrorCode||pe.UNKNOWN_AUTH_ERROR):xe.current==="link"&&Ge(we,"linkAccount","onError",ge.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),ge}},initUpdateEmail:async({oldAddress:q,newAddress:K,captchaToken:se})=>{let re=new SRt(q,K,se);e.startAuthFlow(re);try{await re.sendCodeEmail({withPrivyUi:!0})}catch(le){Ge(we,"update","onError",le.privyErrorCode||pe.UNKNOWN_AUTH_ERROR,{linkMethod:_e.current})}},initUpdatePhone:async(q,K,se)=>{let re=new TRt(q,K,se);e.startAuthFlow(re);try{await re.sendSmsCode({withPrivyUi:!0})}catch(le){Ge(we,"update","onError",le.privyErrorCode||pe.UNKNOWN_AUTH_ERROR,{linkMethod:_e.current})}},initLoginWithSms:async({phoneNumber:q,captchaToken:K,disableSignup:se,withPrivyUi:re})=>{k({status:"sending-code"});let le=new $v({phoneNumber:q,captchaToken:K,disableSignup:se});e.startAuthFlow(le);try{_e.current="sms",await le.sendSmsCode({withPrivyUi:re}),k({status:"awaiting-code-input"})}catch(ge){throw k({status:"error",error:ge}),xe.current==="login"?Ge(we,"login","onError",ge.privyErrorCode||pe.UNKNOWN_AUTH_ERROR):xe.current==="link"&&Ge(we,"linkAccount","onError",ge.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),ge}},resendEmailCode:async()=>{var q;await((q=e.authFlow)==null?void 0:q.sendCodeEmail({withPrivyUi:!0}))},resendSmsCode:async()=>{var q;await((q=e.authFlow)==null?void 0:q.sendSmsCode({withPrivyUi:!0}))},loginWithCode:async q=>{let K,se;function re(je){e.authFlow instanceof Tv?V(je):e.authFlow instanceof $v&&k(je)}if(re({status:"submitting-code"}),!a){let je=new qg;throw re({status:"error",error:je}),je}if(e.authFlow instanceof Tv)e.authFlow.meta.emailCode=q.trim();else{if(!(e.authFlow instanceof $v)){let je=new ue("Must initialize a passwordless code flow first");throw re({status:"error",error:je}),je}e.authFlow.meta.smsCode=q.trim()}let le=await yr();if(xe.current==="link")try{({user:K}=await e.link())}catch(je){throw re({status:"error",error:je}),Ge(we,"linkAccount","onError",je.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:_e.current}),je}else if(xe.current==="update")try{({user:K}=await e.link())}catch(je){throw re({status:"error",error:je}),Ge(we,"update","onError",je.privyErrorCode||pe.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:_e.current}),je}else try{({user:K,isNewUser:se}=await e.authenticate())}catch(je){throw re({status:"error",error:je}),Ge(we,"login","onError",je.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),je}let ge=K||h;f(ge||null),v(se||!1),u(!0),re({status:"done"});let $e=null;return e.authFlow instanceof Tv?$e=(ge==null?void 0:ge.linkedAccounts.find(({type:je})=>je==="email"))||null:e.authFlow instanceof $v&&($e=(ge==null?void 0:ge.linkedAccounts.find(({type:je})=>je==="phone"))||null),{user:ge,isNewUser:se||!1,wasAlreadyAuthenticated:!!le,linkedAccount:$e}},generateSiweMessage:async({address:q,chainId:K,captchaToken:se})=>{xe.current=c?"link":"login",_e.current="siwe",S({status:"generating-message"});let re=await e.generateSiweNonce({address:q,captchaToken:se});return S({status:"awaiting-signature"}),uU({address:q,chainId:K.replace("eip155:",""),nonce:re})},generateSiweMessageForSmartWallet:async({address:q,chainId:K})=>{let se=await e.generateSiweNonce({address:q});return uU({address:q,chainId:K.replace("eip155:",""),nonce:se})},linkSmartWallet:async({message:q,signature:K,smartWalletType:se,smartWalletVersion:re})=>{let le;le=await e.linkSmartWallet({message:q,signature:K,smartWalletType:se,smartWalletVersion:re}),f((le=await He.refreshSessionAndUser()??le)||h||null)},loginWithSiwe:async({message:q,signature:K,captchaToken:se,disableSignup:re})=>{let le,ge=null;try{if(h)throw Error("User already authenticated");let $e=new s2(e,void 0,se,re,{message:q,signature:K});if(e.startAuthFlow($e),_e.current="siwe",xe.current="login",S({status:"submitting-signature"}),{user:ge,isNewUser:le}=await e.authenticate(),!ge)throw Error("Authentication failed - no user returned")}catch($e){throw Ge(we,"login","onError",$e.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),S({status:"error",error:$e}),$e}return f(ge),v(le||!1),u(!0),S({status:"done"}),xe.current=null,_e.current=null,ge},linkWithSiwe:async({message:q,signature:K,chainId:se,walletClientType:re,connectorType:le})=>{let ge;ie("siwe");let $e=null;try{S({status:"submitting-signature"}),ge=await e.linkWithSiwe({message:q,signature:K,chainId:se,walletClientType:re,connectorType:le}),ge=await He.refreshSessionAndUser()??ge,S({status:"done"}),($e=et(ge)||null)&&Ge(we,"linkAccount","onSuccess",{user:ge,linkMethod:"siwe",linkedAccount:$e})}catch(Mt){throw Ge(we,"linkAccount","onError",Mt.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),xe.current=null,_e.current=null,S({status:"error",error:Mt}),Mt}let je=ge||h;return f(je||null),xe.current=null,_e.current=null,{user:je,linkedAccount:$e}},refreshSessionAndUser:async()=>{let q=await e.getAuthenticatedUser();return u(!!q),f(q),q},walletProxy:O,createAnalyticsEvent:({eventName:q,payload:K,timestamp:se})=>e.createAnalyticsEvent({eventName:q,payload:K,timestamp:se}),acceptTerms:async()=>{let q=await e.acceptTerms();return f(q),q},getUsdTokenPrice:q=>e.getUsdTokenPrice(q),getUsdPriceForSol:()=>e.getUsdPriceForSol(),getSplTokenMetadata:q=>e.getSplTokenMetadata(q),recoverEmbeddedWallet:async q=>new Promise(async(K,se)=>{if(!h)return void K(!0);let re=q!=null&&q.address?Hf(h,q.address):Cd(h)||XL(h)||p2e(h);if(!re||vl(re))return void K(!0);let le=await yr();if(!le||!O||!re)return void se(Error("Must have valid access token and Privy wallet to recover wallet"));let{entropyId:ge,entropyIdVerifier:$e}=Zu(h,re);try{await O.connect({accessToken:le,entropyId:ge,entropyIdVerifier:$e}),K(!0)}catch(je){if(pE(je)&&re.recoveryMethod==="privy"){let Mt;e.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:re.address}});try{Mt=await O.recover({entropyId:ge,entropyIdVerifier:$e,accessToken:le})}catch(bt){return void se(bt)}Mt.entropyId||se(Error("Unable to recover wallet")),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:re.address}}),K(!0)}else pE(je)&&re.recoveryMethod!=="privy"&&re.recoveryMethod!=="privy-v2"?(Q({recoverWallet:{entropyId:ge,entropyIdVerifier:$e,onFailure:se,onSuccess:()=>K(!0)},recoveryOAuthStatus:{provider:re.recoveryMethod,action:"recover",shouldCreateEth:!1,shouldCreateSol:!1}}),Ce(E8e(re.recoveryMethod))):se(je)}}),setReadyToTrue:q=>{l(!0),ee==null||ee(q)},updateWallets:()=>Be(),fundWallet:async(q,K)=>{Q({funding:dae({address:q,appConfig:D,fundWalletConfig:K,methodScreen:ud})}),Ce(ud)},openModal:Ce,requestFarcasterSignerStatus:async q=>{var le;let K=await yr(),se=h==null?void 0:h.linkedAccounts.find(ge=>ge.type==="wallet"&&ge.walletClientType==="privy");if(!K)throw Error("Must have valid access token to connect with Farcaster");if(!O||!se)throw Error("Must have an embedded wallet to use Farcaster signers");if(!((le=h==null?void 0:h.farcaster)!=null&&le.fid))throw Error("Must have Farcaster account to use Farcaster signers");let re=await e.requestFarcasterSignerStatus(q);return re.status==="approved"&&f(await e.getAuthenticatedUser()||h||null),re},connectCoinbaseSmartWallet:async()=>{var K,se;D.externalWallets.coinbaseWallet.config.preference={...D.externalWallets.coinbaseWallet.config.preference,options:"smartWalletOnly"};let q=((K=e.connectors)==null?void 0:K.findWalletConnector("coinbase_wallet","coinbase_smart_wallet"))||((se=e.connectors)==null?void 0:se.findWalletConnector("coinbase_wallet","coinbase_wallet"));if(q)return q.updateConnectionPreference("smartWalletOnly"),U(q);await G("coinbase_wallet","coinbase_smart_wallet")},connectBaseAccount:async()=>{var K;let q=(K=e.connectors)==null?void 0:K.findWalletConnector("base_account","base_account");if(q)return U(q);await G("base_account","base_account")},initiateAccountTransfer:async({nonce:q,account:K,accountType:se,externalWalletMetadata:re,telegramAuthResult:le,telegramWebAppData:ge,farcasterEmbeddedAddress:$e,oAuthUserInfo:je})=>{let Mt=await e.sendAccountTransferRequest({nonce:q,account:K,accountType:se,externalWalletMetadata:re,telegramAuthResult:le,telegramWebAppData:ge,farcasterEmbeddedAddress:$e,oAuthUserInfo:je});return f(Mt),Mt},inProgressAuthFlowRef:xe,inProgressLoginOrLinkMethodRef:_e};lAe=He.recoverEmbeddedWallet,He.recoverEmbeddedWallet;let Ln=x.useMemo(()=>({wallets:p,ready:de&&Ue}),[p,de,Ue]),En=e.authFlow instanceof e6,ot=!D.headless&&D.captchaEnabled&&!c&&(a||En);return d.jsx(rAe.Provider,{value:!0,children:d.jsx(G3.Provider,{value:Bt,children:d.jsx(i4e.Provider,{value:we,children:d.jsx(b4e.Provider,{value:Ln,children:d.jsx(E9t,{...D,children:d.jsxs(qbe.Provider,{value:He,children:[d.jsx(W_t,{children:d.jsxs(j9t,{data:M,setModalData:Q,setInitialScreen:A,initialScreen:b,authenticated:c,open:i,children:[t.children,d.jsx($Ot,{customAuth:D.customAuth}),ot&&d.jsx(KRt,{delayedExecution:!1}),d.jsx(pjt,{}),d.jsx(Djt,{disabled:D.embeddedWallets.disableAutomaticMigration}),d.jsx(njt,{palette:D.appearance.palette||{}}),!D.render.standalone&&d.jsx(djt,{open:i})]})}),d.jsx(yjt,{appId:t.appId,appClientId:t.clientId,clientAnalyticsId:e.clientAnalyticsId,origin:e.apiUrl,mfaMethods:h==null?void 0:h.mfaMethods,mfaPromise:fe,mfaSubmitPromise:ke,onLoad:I,onLoadFailed:()=>null}),D.loginConfig.telegramAuthConfiguration&&d.jsx(t3,{$if:!0,children:d.jsx(fjt,{scriptHost:t.apiUrl||oU,botUsername:D.loginConfig.telegramAuthConfiguration.botName})})]})})})})})})};const BOt=()=>{const{ready:t,authenticated:e,login:n}=eo(),r=ur();return x.useEffect(()=>{t&&e&&r("/wallet-connect/success")},[t,e,r]),t?(e&&r("/wallet-connect/success"),d.jsxs("div",{className:"min-h-screen bg-background flex flex-col px-4 py-6",children:[d.jsx("header",{className:"flex items-center justify-between mb-8",children:d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Connect Wallet"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"secure & simple"})]})}),d.jsxs("div",{className:"flex-1 flex flex-col justify-center w-full max-w-md mx-auto",children:[d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[d.jsx("img",{src:Kr,alt:"Lighter Farm",className:"w-auto h-16 mx-auto mb-6"}),d.jsx("h2",{className:"text-4xl font-bold text-golden-light mb-4",children:"Welcome to LighterFarm"}),d.jsx("p",{className:"text-lg text-golden-light/80",children:"Connect securely with Privy - no seed phrases needed"})]}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-12 h-12 bg-golden-light/20 rounded-xl flex items-center justify-center",children:d.jsx(a_,{className:"w-6 h-6 text-golden-light"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold",children:"Secure Authentication"}),d.jsxs("p",{className:"text-sm text-golden-light font-extralight opacity-60",children:["Powered by ",d.jsx("span",{className:"font-semibold text-golden-light",children:"Privy"})]})]})]}),d.jsxs(Vt,{onClick:n,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-xl text-white disabled:opacity-50 mb-4",children:[d.jsx(lTe,{className:"w-10 h-10"}),"Connect with Privy"]}),d.jsx("p",{className:"text-xs text-golden-light/60 text-center",children:"Privy will guide you through the secure authentication process"})]}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:"Why Privy?"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:yv,alt:"",className:"h-4 w-auto opacity-80"}),d.jsx("span",{className:"text-sm text-golden-light/80",children:"No seed phrases to remember"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:yv,alt:"",className:"h-4 w-auto opacity-80"}),d.jsx("span",{className:"text-sm text-golden-light/80",children:"Institutional-grade security"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:yv,alt:"",className:"h-4 w-auto opacity-80"}),d.jsx("span",{className:"text-sm text-golden-light/80",children:"Easy account recovery"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:yv,alt:"",className:"h-4 w-auto opacity-80"}),d.jsx("span",{className:"text-sm text-golden-light/80",children:"Multi-device synchronization"})]})]})]}),d.jsxs(me.div,{className:"flex items-center justify-center gap-6 mt-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.6},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(a_,{className:"w-4 h-4 text-golden-light"}),d.jsx("span",{className:"text-xs text-golden-light/60",children:"SOC 2 Certified"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Bhe,{className:"w-4 h-4 text-golden-light"}),d.jsx("span",{className:"text-xs text-golden-light/60",children:"Self-Custodial"})]})]}),d.jsx(me.div,{className:"text-center mt-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.6},children:d.jsx("p",{className:"text-xs text-golden-light/50",children:"Your wallet is secured with enterprise-grade encryption"})})]})]})):d.jsx("div",{className:"flex min-h-screen items-center justify-center",children:d.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})})};function cAe(t,e){return function(){return t.apply(e,arguments)}}const{toString:LOt}=Object.prototype,{getPrototypeOf:wK}=Object,{iterator:jN,toStringTag:uAe}=Symbol,ON=(t=>e=>{const n=LOt.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Pd=t=>(t=t.toLowerCase(),e=>ON(e)===t),MN=t=>e=>typeof e===t,{isArray:i5}=Array,EE=MN("undefined");function FOt(t){return t!==null&&!EE(t)&&t.constructor!==null&&!EE(t.constructor)&&Ja(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const dAe=Pd("ArrayBuffer");function UOt(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&dAe(t.buffer),e}const zOt=MN("string"),Ja=MN("function"),hAe=MN("number"),DN=t=>t!==null&&typeof t=="object",WOt=t=>t===!0||t===!1,bS=t=>{if(ON(t)!=="object")return!1;const e=wK(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(uAe in t)&&!(jN in t)},HOt=Pd("Date"),VOt=Pd("File"),qOt=Pd("Blob"),GOt=Pd("FileList"),KOt=t=>DN(t)&&Ja(t.pipe),YOt=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ja(t.append)&&((e=ON(t))==="formdata"||e==="object"&&Ja(t.toString)&&t.toString()==="[object FormData]"))},QOt=Pd("URLSearchParams"),[ZOt,JOt,XOt,eMt]=["ReadableStream","Request","Response","Headers"].map(Pd),tMt=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wC(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),i5(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function fAe(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Fy=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,pAe=t=>!EE(t)&&t!==Fy;function KU(){const{caseless:t}=pAe(this)&&this||{},e={},n=(r,i)=>{const s=t&&fAe(e,i)||i;bS(e[s])&&bS(r)?e[s]=KU(e[s],r):bS(r)?e[s]=KU({},r):i5(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&wC(arguments[r],n);return e}const nMt=(t,e,n,{allOwnKeys:r}={})=>(wC(e,(i,s)=>{n&&Ja(i)?t[s]=cAe(i,n):t[s]=i},{allOwnKeys:r}),t),rMt=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),iMt=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},sMt=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&wK(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},oMt=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},aMt=t=>{if(!t)return null;if(i5(t))return t;let e=t.length;if(!hAe(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},lMt=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&wK(Uint8Array)),cMt=(t,e)=>{const r=(t&&t[jN]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},uMt=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},dMt=Pd("HTMLFormElement"),hMt=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),jae=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),fMt=Pd("RegExp"),mAe=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};wC(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},pMt=t=>{mAe(t,(e,n)=>{if(Ja(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ja(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},mMt=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return i5(t)?r(t):r(String(t).split(e)),n},gMt=()=>{},yMt=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function wMt(t){return!!(t&&Ja(t.append)&&t[uAe]==="FormData"&&t[jN])}const bMt=t=>{const e=new Array(10),n=(r,i)=>{if(DN(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=i5(r)?[]:{};return wC(r,(o,a)=>{const l=n(o,i+1);!EE(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},vMt=Pd("AsyncFunction"),xMt=t=>t&&(DN(t)||Ja(t))&&Ja(t.then)&&Ja(t.catch),gAe=((t,e)=>t?setImmediate:e?((n,r)=>(Fy.addEventListener("message",({source:i,data:s})=>{i===Fy&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Fy.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ja(Fy.postMessage)),EMt=typeof queueMicrotask<"u"?queueMicrotask.bind(Fy):typeof process<"u"&&process.nextTick||gAe,AMt=t=>t!=null&&Ja(t[jN]),Ne={isArray:i5,isArrayBuffer:dAe,isBuffer:FOt,isFormData:YOt,isArrayBufferView:UOt,isString:zOt,isNumber:hAe,isBoolean:WOt,isObject:DN,isPlainObject:bS,isReadableStream:ZOt,isRequest:JOt,isResponse:XOt,isHeaders:eMt,isUndefined:EE,isDate:HOt,isFile:VOt,isBlob:qOt,isRegExp:fMt,isFunction:Ja,isStream:KOt,isURLSearchParams:QOt,isTypedArray:lMt,isFileList:GOt,forEach:wC,merge:KU,extend:nMt,trim:tMt,stripBOM:rMt,inherits:iMt,toFlatObject:sMt,kindOf:ON,kindOfTest:Pd,endsWith:oMt,toArray:aMt,forEachEntry:cMt,matchAll:uMt,isHTMLForm:dMt,hasOwnProperty:jae,hasOwnProp:jae,reduceDescriptors:mAe,freezeMethods:pMt,toObjectSet:mMt,toCamelCase:hMt,noop:gMt,toFiniteNumber:yMt,findKey:fAe,global:Fy,isContextDefined:pAe,isSpecCompliantForm:wMt,toJSONObject:bMt,isAsyncFn:vMt,isThenable:xMt,setImmediate:gAe,asap:EMt,isIterable:AMt};function on(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ne.inherits(on,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ne.toJSONObject(this.config),code:this.code,status:this.status}}});const yAe=on.prototype,wAe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{wAe[t]={value:t}});Object.defineProperties(on,wAe);Object.defineProperty(yAe,"isAxiosError",{value:!0});on.from=(t,e,n,r,i,s)=>{const o=Object.create(yAe);return Ne.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),on.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const CMt=null;function YU(t){return Ne.isPlainObject(t)||Ne.isArray(t)}function bAe(t){return Ne.endsWith(t,"[]")?t.slice(0,-2):t}function Oae(t,e,n){return t?t.concat(e).map(function(i,s){return i=bAe(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function kMt(t){return Ne.isArray(t)&&!t.some(YU)}const SMt=Ne.toFlatObject(Ne,{},null,function(e){return/^is[A-Z]/.test(e)});function BN(t,e,n){if(!Ne.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Ne.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!Ne.isUndefined(y[g])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Ne.isSpecCompliantForm(e);if(!Ne.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(Ne.isDate(m))return m.toISOString();if(!l&&Ne.isBlob(m))throw new on("Blob is not supported. Use a Buffer instead.");return Ne.isArrayBuffer(m)||Ne.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,g,y){let w=m;if(m&&!y&&typeof m=="object"){if(Ne.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(Ne.isArray(m)&&kMt(m)||(Ne.isFileList(m)||Ne.endsWith(g,"[]"))&&(w=Ne.toArray(m)))return g=bAe(g),w.forEach(function(b,A){!(Ne.isUndefined(b)||b===null)&&e.append(o===!0?Oae([g],A,s):o===null?g:g+"[]",c(b))}),!1}return YU(m)?!0:(e.append(Oae(y,g,s),c(m)),!1)}const h=[],f=Object.assign(SMt,{defaultVisitor:u,convertValue:c,isVisitable:YU});function p(m,g){if(!Ne.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(m),Ne.forEach(m,function(w,v){(!(Ne.isUndefined(w)||w===null)&&i.call(e,w,Ne.isString(v)?v.trim():v,g,f))===!0&&p(w,g?g.concat(v):[v])}),h.pop()}}if(!Ne.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Mae(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function bK(t,e){this._pairs=[],t&&BN(t,this,e)}const vAe=bK.prototype;vAe.append=function(e,n){this._pairs.push([e,n])};vAe.toString=function(e){const n=e?function(r){return e.call(this,r,Mae)}:Mae;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function _Mt(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xAe(t,e,n){if(!e)return t;const r=n&&n.encode||_Mt;Ne.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=Ne.isURLSearchParams(e)?e.toString():new bK(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Dae{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ne.forEach(this.handlers,function(r){r!==null&&e(r)})}}const EAe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},IMt=typeof URLSearchParams<"u"?URLSearchParams:bK,TMt=typeof FormData<"u"?FormData:null,$Mt=typeof Blob<"u"?Blob:null,NMt={isBrowser:!0,classes:{URLSearchParams:IMt,FormData:TMt,Blob:$Mt},protocols:["http","https","file","blob","url","data"]},vK=typeof window<"u"&&typeof document<"u",QU=typeof navigator=="object"&&navigator||void 0,PMt=vK&&(!QU||["ReactNative","NativeScript","NS"].indexOf(QU.product)<0),RMt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",jMt=vK&&window.location.href||"http://localhost",OMt=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vK,hasStandardBrowserEnv:PMt,hasStandardBrowserWebWorkerEnv:RMt,navigator:QU,origin:jMt},Symbol.toStringTag,{value:"Module"})),Io={...OMt,...NMt};function MMt(t,e){return BN(t,new Io.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Io.isNode&&Ne.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function DMt(t){return Ne.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function BMt(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function AAe(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&Ne.isArray(i)?i.length:o,l?(Ne.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!Ne.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&Ne.isArray(i[o])&&(i[o]=BMt(i[o])),!a)}if(Ne.isFormData(t)&&Ne.isFunction(t.entries)){const n={};return Ne.forEachEntry(t,(r,i)=>{e(DMt(r),i,n,0)}),n}return null}function LMt(t,e,n){if(Ne.isString(t))try{return(e||JSON.parse)(t),Ne.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const bC={transitional:EAe,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Ne.isObject(e);if(s&&Ne.isHTMLForm(e)&&(e=new FormData(e)),Ne.isFormData(e))return i?JSON.stringify(AAe(e)):e;if(Ne.isArrayBuffer(e)||Ne.isBuffer(e)||Ne.isStream(e)||Ne.isFile(e)||Ne.isBlob(e)||Ne.isReadableStream(e))return e;if(Ne.isArrayBufferView(e))return e.buffer;if(Ne.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return MMt(e,this.formSerializer).toString();if((a=Ne.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return BN(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),LMt(e)):e}],transformResponse:[function(e){const n=this.transitional||bC.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Ne.isResponse(e)||Ne.isReadableStream(e))return e;if(e&&Ne.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?on.from(a,on.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Io.classes.FormData,Blob:Io.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ne.forEach(["delete","get","head","post","put","patch"],t=>{bC.headers[t]={}});const FMt=Ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),UMt=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&FMt[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Bae=Symbol("internals");function c6(t){return t&&String(t).trim().toLowerCase()}function vS(t){return t===!1||t==null?t:Ne.isArray(t)?t.map(vS):String(t)}function zMt(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const WMt=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function oM(t,e,n,r,i){if(Ne.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Ne.isString(e)){if(Ne.isString(r))return e.indexOf(r)!==-1;if(Ne.isRegExp(r))return r.test(e)}}function HMt(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function VMt(t,e){const n=Ne.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Xa{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const u=c6(l);if(!u)throw new Error("header name must be a non-empty string");const h=Ne.findKey(i,u);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=vS(a))}const o=(a,l)=>Ne.forEach(a,(c,u)=>s(c,u,l));if(Ne.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Ne.isString(e)&&(e=e.trim())&&!WMt(e))o(UMt(e),n);else if(Ne.isObject(e)&&Ne.isIterable(e)){let a={},l,c;for(const u of e){if(!Ne.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?Ne.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=c6(e),e){const r=Ne.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return zMt(i);if(Ne.isFunction(n))return n.call(this,i,r);if(Ne.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=c6(e),e){const r=Ne.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||oM(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=c6(o),o){const a=Ne.findKey(r,o);a&&(!n||oM(r,r[a],a,n))&&(delete r[a],i=!0)}}return Ne.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||oM(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Ne.forEach(this,(i,s)=>{const o=Ne.findKey(r,s);if(o){n[o]=vS(i),delete n[s];return}const a=e?HMt(s):String(s).trim();a!==s&&delete n[s],n[a]=vS(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Ne.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Ne.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Bae]=this[Bae]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=c6(o);r[a]||(VMt(i,o),r[a]=!0)}return Ne.isArray(e)?e.forEach(s):s(e),this}}Xa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ne.reduceDescriptors(Xa.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Ne.freezeMethods(Xa);function aM(t,e){const n=this||bC,r=e||n,i=Xa.from(r.headers);let s=r.data;return Ne.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function CAe(t){return!!(t&&t.__CANCEL__)}function s5(t,e,n){on.call(this,t??"canceled",on.ERR_CANCELED,e,n),this.name="CanceledError"}Ne.inherits(s5,on,{__CANCEL__:!0});function kAe(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new on("Request failed with status code "+n.status,[on.ERR_BAD_REQUEST,on.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function qMt(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function GMt(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];o||(o=c),n[i]=l,r[i]=c;let h=s,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function KMt(t,e){let n=0,r=1e3/e,i,s;const o=(c,u=Date.now())=>{n=u,i=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),h=u-n;h>=r?o(c,u):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const J7=(t,e,n=3)=>{let r=0;const i=GMt(50,250);return KMt(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),u=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},Lae=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Fae=t=>(...e)=>Ne.asap(()=>t(...e)),YMt=Io.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Io.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Io.origin),Io.navigator&&/(msie|trident)/i.test(Io.navigator.userAgent)):()=>!0,QMt=Io.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];Ne.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ne.isString(r)&&o.push("path="+r),Ne.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ZMt(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function JMt(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function SAe(t,e,n){let r=!ZMt(e);return t&&(r||n==!1)?JMt(t,e):e}const Uae=t=>t instanceof Xa?{...t}:t;function fw(t,e){e=e||{};const n={};function r(c,u,h,f){return Ne.isPlainObject(c)&&Ne.isPlainObject(u)?Ne.merge.call({caseless:f},c,u):Ne.isPlainObject(u)?Ne.merge({},u):Ne.isArray(u)?u.slice():u}function i(c,u,h,f){if(Ne.isUndefined(u)){if(!Ne.isUndefined(c))return r(void 0,c,h,f)}else return r(c,u,h,f)}function s(c,u){if(!Ne.isUndefined(u))return r(void 0,u)}function o(c,u){if(Ne.isUndefined(u)){if(!Ne.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,h){if(h in e)return r(c,u);if(h in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,h)=>i(Uae(c),Uae(u),h,!0)};return Ne.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=l[u]||i,f=h(t[u],e[u],u);Ne.isUndefined(f)&&h!==a||(n[u]=f)}),n}const _Ae=t=>{const e=fw({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Xa.from(o),e.url=xAe(SAe(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Ne.isFormData(n)){if(Io.hasStandardBrowserEnv||Io.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Io.hasStandardBrowserEnv&&(r&&Ne.isFunction(r)&&(r=r(e)),r||r!==!1&&YMt(e.url))){const c=i&&s&&QMt.read(s);c&&o.set(i,c)}return e},XMt=typeof XMLHttpRequest<"u",eDt=XMt&&function(t){return new Promise(function(n,r){const i=_Ae(t);let s=i.data;const o=Xa.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,h,f,p,m;function g(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function w(){if(!y)return;const b=Xa.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:t,request:y};kAe(function(N){n(N),g()},function(N){r(N),g()},E),y=null}"onloadend"in y?y.onloadend=w:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(w)},y.onabort=function(){y&&(r(new on("Request aborted",on.ECONNABORTED,t,y)),y=null)},y.onerror=function(){r(new on("Network Error",on.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||EAe;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),r(new on(A,E.clarifyTimeoutError?on.ETIMEDOUT:on.ECONNABORTED,t,y)),y=null},s===void 0&&o.setContentType(null),"setRequestHeader"in y&&Ne.forEach(o.toJSON(),function(A,E){y.setRequestHeader(E,A)}),Ne.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),c&&([f,m]=J7(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([h,p]=J7(l),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=b=>{y&&(r(!b||b.type?new s5(null,t,y):b),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const v=qMt(i.url);if(v&&Io.protocols.indexOf(v)===-1){r(new on("Unsupported protocol "+v+":",on.ERR_BAD_REQUEST,t));return}y.send(s||null)})},tDt=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof on?u:new s5(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,s(new on(`timeout ${e} of ms exceeded`,on.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>Ne.asap(a),l}},nDt=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},rDt=async function*(t,e){for await(const n of iDt(t))yield*nDt(n,e)},iDt=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},zae=(t,e,n,r)=>{const i=rDt(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let h=u.byteLength;if(n){let f=s+=h;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},LN=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",IAe=LN&&typeof ReadableStream=="function",sDt=LN&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),TAe=(t,...e)=>{try{return!!t(...e)}catch{return!1}},oDt=IAe&&TAe(()=>{let t=!1;const e=new Request(Io.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Wae=64*1024,ZU=IAe&&TAe(()=>Ne.isReadableStream(new Response("").body)),X7={stream:ZU&&(t=>t.body)};LN&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!X7[e]&&(X7[e]=Ne.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new on(`Response type '${e}' is not supported`,on.ERR_NOT_SUPPORT,r)})})})(new Response);const aDt=async t=>{if(t==null)return 0;if(Ne.isBlob(t))return t.size;if(Ne.isSpecCompliantForm(t))return(await new Request(Io.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Ne.isArrayBufferView(t)||Ne.isArrayBuffer(t))return t.byteLength;if(Ne.isURLSearchParams(t)&&(t=t+""),Ne.isString(t))return(await sDt(t)).byteLength},lDt=async(t,e)=>{const n=Ne.toFiniteNumber(t.getContentLength());return n??aDt(e)},cDt=LN&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:f}=_Ae(t);c=c?(c+"").toLowerCase():"text";let p=tDt([i,s&&s.toAbortSignal()],o),m;const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let y;try{if(l&&oDt&&n!=="get"&&n!=="head"&&(y=await lDt(u,r))!==0){let E=new Request(e,{method:"POST",body:r,duplex:"half"}),$;if(Ne.isFormData(r)&&($=E.headers.get("content-type"))&&u.setContentType($),E.body){const[N,R]=Lae(y,J7(Fae(l)));r=zae(E.body,Wae,N,R)}}Ne.isString(h)||(h=h?"include":"omit");const w="credentials"in Request.prototype;m=new Request(e,{...f,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:w?h:void 0});let v=await fetch(m);const b=ZU&&(c==="stream"||c==="response");if(ZU&&(a||b&&g)){const E={};["status","statusText","headers"].forEach(j=>{E[j]=v[j]});const $=Ne.toFiniteNumber(v.headers.get("content-length")),[N,R]=a&&Lae($,J7(Fae(a),!0))||[];v=new Response(zae(v.body,Wae,N,()=>{R&&R(),g&&g()}),E)}c=c||"text";let A=await X7[Ne.findKey(X7,c)||"text"](v,t);return!b&&g&&g(),await new Promise((E,$)=>{kAe(E,$,{data:A,headers:Xa.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:m})})}catch(w){throw g&&g(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new on("Network Error",on.ERR_NETWORK,t,m),{cause:w.cause||w}):on.from(w,w&&w.code,t,m)}}),JU={http:CMt,xhr:eDt,fetch:cDt};Ne.forEach(JU,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Hae=t=>`- ${t}`,uDt=t=>Ne.isFunction(t)||t===null||t===!1,$Ae={getAdapter:t=>{t=Ne.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!uDt(n)&&(r=JU[(o=String(n)).toLowerCase()],r===void 0))throw new on(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(Hae).join(`
`):" "+Hae(s[0]):"as no adapter specified";throw new on("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:JU};function lM(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new s5(null,t)}function Vae(t){return lM(t),t.headers=Xa.from(t.headers),t.data=aM.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),$Ae.getAdapter(t.adapter||bC.adapter)(t).then(function(r){return lM(t),r.data=aM.call(t,t.transformResponse,r),r.headers=Xa.from(r.headers),r},function(r){return CAe(r)||(lM(t),r&&r.response&&(r.response.data=aM.call(t,t.transformResponse,r.response),r.response.headers=Xa.from(r.response.headers))),Promise.reject(r)})}const NAe="1.9.0",FN={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{FN[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const qae={};FN.transitional=function(e,n,r){function i(s,o){return"[Axios v"+NAe+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new on(i(o," has been removed"+(n?" in "+n:"")),on.ERR_DEPRECATED);return n&&!qae[o]&&(qae[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};FN.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function dDt(t,e,n){if(typeof t!="object")throw new on("options must be an object",on.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new on("option "+s+" must be "+l,on.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new on("Unknown option "+s,on.ERR_BAD_OPTION)}}const xS={assertOptions:dDt,validators:FN},Gd=xS.validators;class N1{constructor(e){this.defaults=e||{},this.interceptors={request:new Dae,response:new Dae}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=fw(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&xS.assertOptions(r,{silentJSONParsing:Gd.transitional(Gd.boolean),forcedJSONParsing:Gd.transitional(Gd.boolean),clarifyTimeoutError:Gd.transitional(Gd.boolean)},!1),i!=null&&(Ne.isFunction(i)?n.paramsSerializer={serialize:i}:xS.assertOptions(i,{encode:Gd.function,serialize:Gd.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),xS.assertOptions(n,{baseUrl:Gd.spelling("baseURL"),withXsrfToken:Gd.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&Ne.merge(s.common,s[n.method]);s&&Ne.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),n.headers=Xa.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,h=0,f;if(!l){const m=[Vae.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),f=m.length,u=Promise.resolve(n);h<f;)u=u.then(m[h++],m[h++]);return u}f=a.length;let p=n;for(h=0;h<f;){const m=a[h++],g=a[h++];try{p=m(p)}catch(y){g.call(this,y);break}}try{u=Vae.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=fw(this.defaults,e);const n=SAe(e.baseURL,e.url,e.allowAbsoluteUrls);return xAe(n,e.params,e.paramsSerializer)}}Ne.forEach(["delete","get","head","options"],function(e){N1.prototype[e]=function(n,r){return this.request(fw(r||{},{method:e,url:n,data:(r||{}).data}))}});Ne.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(fw(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}N1.prototype[e]=n(),N1.prototype[e+"Form"]=n(!0)});class xK{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new s5(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new xK(function(i){e=i}),cancel:e}}}function hDt(t){return function(n){return t.apply(null,n)}}function fDt(t){return Ne.isObject(t)&&t.isAxiosError===!0}const XU={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(XU).forEach(([t,e])=>{XU[e]=t});function PAe(t){const e=new N1(t),n=cAe(N1.prototype.request,e);return Ne.extend(n,N1.prototype,e,{allOwnKeys:!0}),Ne.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return PAe(fw(t,i))},n}const Yt=PAe(bC);Yt.Axios=N1;Yt.CanceledError=s5;Yt.CancelToken=xK;Yt.isCancel=CAe;Yt.VERSION=NAe;Yt.toFormData=BN;Yt.AxiosError=on;Yt.Cancel=Yt.CanceledError;Yt.all=function(e){return Promise.all(e)};Yt.spread=hDt;Yt.isAxiosError=fDt;Yt.mergeConfig=fw;Yt.AxiosHeaders=Xa;Yt.formToJSON=t=>AAe(Ne.isHTMLForm(t)?new FormData(t):t);Yt.getAdapter=$Ae.getAdapter;Yt.HttpStatusCode=XU;Yt.default=Yt;function pDt(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var UN="Checkbox",[mDt,HZt]=mA(UN),[gDt,EK]=mDt(UN);function yDt(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:s,form:o,name:a,onCheckedChange:l,required:c,value:u="on",internal_do_not_use_render:h}=t,[f,p]=uhe({prop:n,defaultProp:i??!1,onChange:l,caller:UN}),[m,g]=x.useState(null),[y,w]=x.useState(null),v=x.useRef(!1),b=m?!!o||!!m.closest("form"):!0,A={checked:f,disabled:s,setChecked:p,control:m,setControl:g,name:a,form:o,value:u,hasConsumerStoppedPropagationRef:v,required:c,defaultChecked:sg(i)?!1:i,isFormControl:b,bubbleInput:y,setBubbleInput:w};return d.jsx(gDt,{scope:e,...A,children:wDt(h)?h(A):r})}var RAe="CheckboxTrigger",jAe=x.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:s,value:o,disabled:a,checked:l,required:c,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:p,bubbleInput:m}=EK(RAe,t),g=Yl(i,u),y=x.useRef(l);return x.useEffect(()=>{const w=s==null?void 0:s.form;if(w){const v=()=>h(y.current);return w.addEventListener("reset",v),()=>w.removeEventListener("reset",v)}},[s,h]),d.jsx(Ys.button,{type:"button",role:"checkbox","aria-checked":sg(l)?"mixed":l,"aria-required":c,"data-state":LAe(l),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:g,onKeyDown:Ni(e,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Ni(n,w=>{h(v=>sg(v)?!0:!v),m&&p&&(f.current=w.isPropagationStopped(),f.current||w.stopPropagation())})})});jAe.displayName=RAe;var AK=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l,onCheckedChange:c,form:u,...h}=t;return d.jsx(yDt,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:a,required:o,onCheckedChange:c,name:r,form:u,value:l,internal_do_not_use_render:({isFormControl:f})=>d.jsxs(d.Fragment,{children:[d.jsx(jAe,{...h,ref:e,__scopeCheckbox:n}),f&&d.jsx(BAe,{__scopeCheckbox:n})]})})});AK.displayName=UN;var OAe="CheckboxIndicator",MAe=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=EK(OAe,n);return d.jsx(ZI,{present:r||sg(s.checked)||s.checked===!0,children:d.jsx(Ys.span,{"data-state":LAe(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});MAe.displayName=OAe;var DAe="CheckboxBubbleInput",BAe=x.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:a,disabled:l,name:c,value:u,form:h,bubbleInput:f,setBubbleInput:p}=EK(DAe,t),m=Yl(n,p),g=pDt(s),y=ffe(r);x.useEffect(()=>{const v=f;if(!v)return;const b=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(b,"checked").set,$=!i.current;if(g!==s&&E){const N=new Event("click",{bubbles:$});v.indeterminate=sg(s),E.call(v,sg(s)?!1:s),v.dispatchEvent(N)}},[f,g,s,i]);const w=x.useRef(sg(s)?!1:s);return d.jsx(Ys.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??w.current,required:a,disabled:l,name:c,value:u,form:h,...e,tabIndex:-1,ref:m,style:{...e.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});BAe.displayName=DAe;function wDt(t){return typeof t=="function"}function sg(t){return t==="indeterminate"}function LAe(t){return sg(t)?"indeterminate":t?"checked":"unchecked"}const FAe=x.forwardRef(({className:t,...e},n)=>d.jsx(AK,{ref:n,className:ua("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:d.jsx(MAe,{className:ua("flex items-center justify-center text-current"),children:d.jsx(yA,{className:"h-4 w-4"})})}));FAe.displayName=AK.displayName;const UAe=Lw(t=>({balance:"0",usdcBalance:"0",usdValue:"0",isLoading:!1,setBalance:e=>t({balance:e}),setUsdcBalance:e=>t({usdcBalance:e}),setUsdValue:e=>t({usdValue:e}),setIsLoading:e=>t({isLoading:e})}));function zN(){const{ready:t,authenticated:e,user:n,login:r,logout:i}=eo(),{wallets:s}=Lg(),o=s[0],a=o==null?void 0:o.address;return{ready:t,authenticated:e,user:n,wallet:o,address:a,login:r,logout:i}}const bDt=()=>{const t=ur(),{toast:e}=wa(),[n,r]=x.useState(!1),[i,s]=x.useState(!1),{user:o}=eo();zN();const a=()=>{t("/wallet-connect")},l=async()=>{var c,u,h,f;if(!n){e({title:"Terms Required",description:"Please agree to the terms and conditions to continue",variant:"destructive"});return}if(!(o!=null&&o.id)){e({title:"Wallet Required",description:"Wallet address or user ID not found.",variant:"destructive"});return}s(!0),console.log(" Checking user existence for:",o.id);try{const p=await Yt.post("/api/check_user_exist",{privy_id:o.id});if(console.log(" Check user response:",p.data),p.data&&p.data.exists==="yes"){const m=p.data.user;console.log(" Storing user data in localStorage:",m);const g={id:m.id,wallet_address:m.wallet_address,referral_code:m.referral_code};localStorage.setItem(o.id,JSON.stringify(g)),console.log(" User data stored successfully:",{key:o.id,dataKeys:Object.keys(g)}),e({title:" Welcome Back!",description:"Redirecting to your dashboard...",duration:2e3}),setTimeout(()=>{t("/dashboard")},1e3)}else console.log(" User not found, redirecting to registration"),e({title:"Registration Required",description:"Please complete registration with an invite code.",duration:3e3}),setTimeout(()=>{t("/invite-only")},1500)}catch(p){if(console.error(" Error checking user existence:",p),Yt.isAxiosError(p)){const m=((u=(c=p.response)==null?void 0:c.data)==null?void 0:u.error)||((f=(h=p.response)==null?void 0:h.data)==null?void 0:f.message)||"Could not verify your account.";e({title:"Verification Error",description:m,variant:"destructive"})}else e({title:"Connection Error",description:"Please check your connection and try again.",variant:"destructive"})}finally{s(!1)}};return d.jsxs("div",{className:"min-h-screen bg-background flex flex-col py-6 px-4",children:[d.jsx("header",{className:"flex items-center justify-end mb-8",children:d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Wallet Connected"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"ready to farm"})]})}),d.jsxs("div",{className:"flex-1 flex flex-col justify-center w-full max-w-md mx-auto",children:[d.jsxs(me.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.6},className:"text-center mb-8",children:[d.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(tTe,{className:"w-10 h-10 text-green-500"})}),d.jsx("h2",{className:"text-3xl font-bold text-golden-light mb-2",children:"You're all set!"}),d.jsx("p",{className:"text-lg text-golden-light/80",children:"Ready to start farming Lighter points?"})]}),d.jsx(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:d.jsxs("div",{className:"flex items-center gap-3 mb-0",children:[d.jsx("div",{className:"w-10 h-10 bg-golden-light/20 rounded-xl flex items-center justify-center",children:d.jsx(a_,{className:"w-5 h-5 text-golden-light"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold",children:"Wallet Connected"}),d.jsx("p",{className:"text-sm text-golden-light font-extralight opacity-60",children:"Secured by Privy"})]})]})}),d.jsx(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(FAe,{id:"terms",checked:n,onCheckedChange:c=>r(c),className:"mt-1 border-2 border-golden-light/30 data-[state=checked]:bg-golden-light data-[state=checked]:text-black data-[state=checked]:border-golden-light"}),d.jsxs("label",{htmlFor:"terms",className:"text-sm text-golden-light/80 leading-relaxed cursor-pointer",children:["I agree with the LighterFarm"," ",d.jsx("span",{className:"text-golden-light underline hover:text-golden-light/80 transition-colors",children:"user terms and conditions"})," ","and acknowledge the TFH"," ",d.jsx("span",{className:"text-golden-light underline hover:text-golden-light/80 transition-colors",children:"privacy notice"})]})]})}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"flex gap-4 mb-6",children:[d.jsx(Vt,{onClick:a,disabled:i,className:"flex-1 h-14 bg-transparent border-2 border-golden-light/30 text-golden-light hover:bg-golden-light/10 rounded-xl text-lg font-semibold transition-all disabled:opacity-50",children:"Back"}),d.jsx(Vt,{onClick:l,disabled:!n||i,className:"flex-1 h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-xl text-white disabled:opacity-50",children:i?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Checking..."]}):"Start Farming"})]}),d.jsxs(me.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.6},className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 text-golden-light/60",children:[d.jsx(a_,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:"Protected by Privy"})]}),d.jsx("p",{className:"text-xs text-golden-light/40 mt-2",children:"Your wallet is secured with enterprise-grade encryption"})]})]})]})},vC=x.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:ua("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));vC.displayName="Input";const vDt=()=>{const t=ur(),{toast:e}=wa(),[n,r]=x.useState(""),[i,s]=x.useState(!1),{address:o}=zN(),{ready:a,authenticated:l,login:c,user:u}=eo(),h=async()=>{var f,p,m;if(!n.trim()){e({title:"Code Required",description:"Please enter an invite code to continue",variant:"destructive"});return}if(!l||!(u!=null&&u.id)){e({title:"Authentication Required",description:"Please authenticate with Privy first",variant:"destructive"});return}if(!o){e({title:"Wallet Required",description:"Please connect your wallet first",variant:"destructive"});return}s(!0);try{const g={privy_id:u.id,referral_code:n.trim()},y={"Content-Type":"application/json",Accept:"application/json"};console.log(" Making registration request:",{url:"/register_new_user",method:"POST",headers:y,data:g,baseURL:Yt.defaults.baseURL||window.location.origin});const w=await Yt.post("/api/register_new_user",g,{headers:y});if(console.log(" Registration response:",{status:w.status,statusText:w.statusText,headers:w.headers,data:w.data}),(w.status===200||w.status===201)&&((f=w.data)!=null&&f.success)){const{user:v,referral_info:b,message:A}=w.data;let E=A||"Welcome to LighterFarm!";if(b!=null&&b.bonus_points_received&&(E=` You received ${b.bonus_points_received} bonus points! ${b.is_referred?"Thanks for using a referral code!":""}`),e({title:" Registration Successful!",description:E,duration:3e3}),console.log(" Registration success details:",{user:v,referral_info:b,points_balance:v==null?void 0:v.points_balance,bonus_points:v==null?void 0:v.bonus_points,referral_code:v==null?void 0:v.referral_code,wallet_address:v==null?void 0:v.wallet_address,is_referred:b==null?void 0:b.is_referred,max_referrals:b==null?void 0:b.max_referrals}),v){const $={id:v.id,privy_id:v.privy_id,wallet_address:v.wallet_address,referral_code:v.referral_code};localStorage.setItem(u.id,JSON.stringify($)),console.log(" User info stored in localStorage:",$)}setTimeout(()=>{t("/welcome-congratulations")},1500)}else e({title:"Registration Failed",description:((p=w.data)==null?void 0:p.message)||((m=w.data)==null?void 0:m.error)||"Unexpected response from server",variant:"destructive"})}catch(g){console.error(" Registration error details:",{error:g,message:g.message,name:g.name,code:g.code,isAxiosError:Yt.isAxiosError(g)});let y="Network or server error",w="Registration Error";if(Yt.isAxiosError(g))if(console.log(" Axios error details:",{hasResponse:!!g.response,hasRequest:!!g.request,config:g.config,response:g.response?{status:g.response.status,statusText:g.response.statusText,headers:g.response.headers,data:g.response.data}:null}),g.response){const v=g.response.status,b=g.response.data;console.log(` Server responded with ${v}:`,b),v===400?(w="Invalid Request",y=(b==null?void 0:b.error)||(b==null?void 0:b.message)||"Please check your input and try again"):v===401?(w="Authentication Failed",y="Please reconnect your wallet and try again"):v===404?(w="API Endpoint Not Found",y="The server endpoint is not available. Please check if your server is running."):v===409?(w="Already Registered",y=(b==null?void 0:b.message)||(b==null?void 0:b.error)||"This wallet or user is already registered"):v===422?(w="Invalid Referral Code",y=(b==null?void 0:b.message)||(b==null?void 0:b.error)||"The referral code is invalid or expired"):v>=500?(w="Server Error",y="Server is temporarily unavailable. Please try again later"):y=(b==null?void 0:b.error)||(b==null?void 0:b.message)||`Server error (${v})`}else g.request?(console.log(" Network error:",g.request),w="Connection Error",y="Unable to connect to server. Please check your internet connection and ensure the server is running."):(console.log(" Request setup error:",g.message),y=g.message||"Failed to make request");else g instanceof Error?y=g.message:typeof g=="string"&&(y=g);e({title:w,description:y,variant:"destructive"})}finally{s(!1)}};return d.jsxs("div",{className:"min-h-screen bg-background flex flex-col py-6 px-4",children:[!l&&d.jsx(me.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-yellow-500/10 border border-yellow-500/20 rounded-2xl p-4 mb-4 max-w-md mx-auto w-full",children:d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-yellow-500 text-sm",children:" Please authenticate with Privy first"})})}),d.jsxs("div",{className:"flex-1 flex flex-col justify-center w-full max-w-md mx-auto",children:[d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[d.jsx("div",{className:"w-20 h-20 bg-golden-light/20 rounded-full flex items-center justify-center mx-auto mb-6",children:d.jsx(LD,{className:"w-10 h-10 text-golden-light"})}),d.jsx("h2",{className:"text-4xl font-bold text-golden-light mb-4",children:"Invite Only!"}),d.jsx("p",{className:"text-lg text-golden-light/80 leading-relaxed",children:"LighterFarm is currently in exclusive beta. Enter your invite code to unlock premium farming opportunities."})]}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-8 h-8 bg-golden-light/20 rounded-full flex items-center justify-center",children:d.jsx(LD,{className:"w-4 h-4 text-golden-light"})}),d.jsx("h3",{className:"text-golden-light text-lg font-semibold",children:"Enter Invite Code"})]}),d.jsx("div",{className:"border-2 text-golden-light rounded-sm px-4 py-2 mb-4 flex items-center justify-between",children:d.jsx(vC,{type:"text",placeholder:"Enter Invite code here",value:n,onChange:f=>r(f.target.value),className:"bg-transparent border-none text-golden-light text-xl font-bold focus-visible:ring-0 focus-visible:ring-offset-0 p-0 h-auto placeholder:text-golden-light/30 tracking-wider",onKeyDown:f=>f.key==="Enter"&&!i&&h(),disabled:i})}),d.jsx("p",{className:"text-sm text-golden-light font-extralight opacity-60 text-center",children:"Don't have a code? Join our community for early access"})]}),d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"mb-6",children:d.jsx(Vt,{onClick:h,disabled:!n.trim()||i||!l||!o,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-xl text-white disabled:opacity-50",children:i?d.jsxs(d.Fragment,{children:[d.jsx(me.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"mr-2 inline-block",children:d.jsx(eg,{className:"w-5 h-5"})}),"Validating..."]}):"Continue to Farm"})}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.6},children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4 text-center",children:"Need an invite code?"}),d.jsxs("div",{className:"flex gap-3 justify-center",children:[d.jsx("a",{href:"https://x.com/LighterFarm",target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-golden-light/10 hover:bg-golden-light/20 rounded-xl p-3 flex items-center justify-center gap-2 transition-colors",children:d.jsx("span",{className:"text-lg",children:d.jsx("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})})}),d.jsx("a",{href:"https://t.me/+sKmppf_5gNo5YzRl",target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-golden-light/10 hover:bg-golden-light/20 rounded-xl p-3 flex items-center justify-center gap-2 transition-colors",children:d.jsx("span",{className:"text-lg",children:d.jsx("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z"})})})})]}),d.jsx("p",{className:"text-xs text-golden-light/60 text-center mt-3",children:"Follow us for exclusive invite code drops"})]})]})]})},gu=({children:t,className:e})=>d.jsx("div",{className:ua("px-4 max-w-md mx-auto relative min-h-screen bg-background",e),children:t}),xDt="/assets/Home-BW3sMItB.png",EDt="/assets/Lightning%20Bolt-Dz0r_pJy.png",ADt="/assets/Money%20Circulation-D-lZ1T6t.png",CDt="/assets/People-DsY4PItJ.png",kDt="/assets/Profile-Bgtetq_J.png",SDt=({icon:t,label:e,path:n,active:r})=>{const i=ur(),s=typeof t=="string";return d.jsxs("button",{onClick:()=>i(n),className:ua("flex flex-col items-center justify-center py-2 px-3 min-w-0 flex-1","text-xs font-medium transition-colors duration-200",r?"text-[#A07715]":"text-[#A07715]/70 hover:text-[#A07715]"),children:[s?d.jsx("img",{src:t,alt:e,className:ua("w-5 h-5 mb-1",r&&"animate-bounce-gentle")}):(()=>{const o=t;return d.jsx(o,{className:ua("w-5 h-5 mb-1",r&&"animate-bounce-gentle")})})(),d.jsx("span",{className:"truncate",children:e})]})},Rd=()=>{const t=r0(),e=[{icon:xDt,label:"Home",path:"/dashboard"},{icon:EDt,label:"Farm",path:"/farm"},{icon:ADt,label:"Buy/Sell",path:"/trade"},{icon:CDt,label:"Refer",path:"/referrals"},{icon:kDt,label:"Profile",path:"/profile"}];return d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-transparent z-50",children:d.jsx("div",{className:"max-w-md mx-auto",children:d.jsx("div",{className:"flex bg-[#090b0c]",children:e.map(n=>d.jsx(SDt,{icon:n.icon,label:n.label,path:n.path,active:t.pathname===n.path},n.path))})})})},CK="/assets/deposit-BfT0jDIz.png",zAe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAxvSURBVHgB7Z0JcNXFHcf3+r+X5CWEJEgMxHCWiVbpFBxti2KroKMzahMRD47AUKlKPZipRbQo1epEywhYUmTqaIISMEdBK1OrbW21jG01Os3gCdGkCYYcvJfjnf9jt7svCQnvyrvi/P+6H+YB+V/vZb+7+9v9/X67DwCJRCKRSJIDgiSYzMmxsQINGfZMyhTKGAISgCCkPgQ1G9X8bt3R63Q6B0CCJCTIebPzSvbvuGmuqqJHVZUuYBAqEHAxKJAMlyRlvEAgUBWCm3JzlceuXlPz4eedrnZ+iiXwmNgsLCrKaqhec2WXa6AaQpgLh+9iIMkm9jVmbJkw/oNhsL7CEmXdZTfv+FNHB/CNd/945QkvKp2e/0xleZWhseX8DSBlcQktGYZXYCAqMMF4/+rbn914tNvTDWK0lpiCzCnMnlq7c9UbEOP5lEohkkXUYcKtLC/D5ru2vnz5fz45cSratTjaieLi4sxDVbdW8f8uNaSNSAnRQoQoCKPCa5acO+/I0S8O9/R41YjXRntGy2sPljvdA/WGQaO2IiTeSRqRMLjdADBCuYg+BiEE8ovQ9d+6ZOcrke4lkQ7OKppc0u3qexZjGLG4hRAMMqBrmkYh9vF3km1IgABkGnXY7YSIihrazYvChLyp9LTrNXPm5M9vaXG2hz4iYoEf++uD1zp7+19hUWwPrwCekplZy3+4rPozn9cd8Mc5pPu6k8HLE2Up9nf2r7+gvcP9AkLYEfFCXpmzCbri/PJdfws9FdZC8vJAbp+rbxPkg2kWUu/FiEGnzLN2c/2iz77o/i+QhOP0gXMu3XZ83qypi/Y+vuwIIsgR2lIQ/+Nj8Fd5eXlNLper/8xzIShKboEaMBZGfDOu7MwSx0opxviIMirOnnILjDBNEEf8AePCHIUWhJ4LEyQDGRkMIlvocdE6NJVqi5c/cxRI4uKye3d/HAhQHaEzLYP4CQFDUXlZh94TJgimCh8yszDbIg5gBLw+rxYAkrjwudwBTKAnymmEKVHCDoZfxyCNZqO5rFAa8LgJlhUERuhxFnxF9sdKL63JkIKYDCmIyZCCmAwpiMmQgpiMxAThHkU/lMPeeMnJJD5ewgmVF0nkYu5shAWOrFJFUaZlENm6xkOx23TuB4fRo07hxC2ICN1y73L+c5XL/wJkGDc+RPiWhbvhY5FQCxFzT+FYkTGp+Ek0ByExQYKhSCaNyAQi7YDJkIKYDCmIyZCCmAwpiMmQgpgMKYjJkIKYDCmIyZCCmIwEfVnjczoBO0H/isGEW1R6ydIrCC9Pv24Y/KHB1BexwGfcW0TGqgGJYkeIUhpMyPsmkzZBMGJa0bSssitWVh/3uNWEsuFFmuSR2i3z2vvb66hhZCVyb+iSCKsvLEqLIKJQSnKm3lK46OHDIEmKlt53rOXotqt6P2p9m8Xhsg4KwfvFgGYAhoZc0JBBaFdwUCCDMkt2gCkLIroYv0bpxWu3fQhS5Kqrn+ysqSzTFZtCYtZ0HvUxKFRz7WTnil/U1vq8Xqrxri+H2B2NuyuWeQb992AFEkatt6AodUHEX4jC7Oxs/t9BkAqUaVlijVGsAYFYQ8QYfPvura+u1hytJ461Am3kXBfwgO9ct/3fpbPzaqorV+zGGCzSLdZSUh72ioiYnSC4t/KmJ2bNKpoBhkSGCb7I/PmFU1/dvWYVJhhFjbIN9VJv3bGlsfxfn7S2NjWNijEG9snnrqPrN9eXGwwegdBaNiUtNoTyrkGj+rX7Hi//XpYd/SEjE7QAKjr52HpTNLQFhBpgRW6/fuOAJ1AMooyyYHA4BtTV99Vv+Li9a2QVKzx/RkFp3Z47phObZr+6oqqtpd39kXh0c0tXz/otdat2P1T+mWJDxCrGPi2CBCsur9UYw7NUnf1UDfZcogDiH2wR3lONF3/OyybbuRgfDj8ctf1j07ITJ937BvtdRHyKmidXGTOnTbq1+LIn6sU1+qddJ3Izld96dLoRWIT0zdSH4+00hVfUR/PWofLR1FW3v3AQDE8555Zkn/slF0PB3HiDofe2E4z/1zm47/wZRaXiGt5U1OUb97+g6gYIXTRjVizhOgmuOGKQ+TS/d+TY3/ffPhNDRsQS5JGLxFAXQ0Re33lbych1Az7dQBbKW0qrIGJuIGpi8N9YLzT0ite9Euz8xLIuCEf6QOjqU+dG+vjCBPXjgW+D4QEghHxMzicqwCKkbaYuCoL7oz51ZONdCCmdVA8vLUQAVRCjNsM29WT/4P1ck5nxerCGuqXRSwlFOJKNEjNEXT9zSZ6VxlnpMer818/KwrvX/bxxS6x9PMYyd3r+4bqnbt3Dx63XyEyvUVLuskQXxP2JrGzD3t/HK4bg+Alnx4oH6jdpFjK4XwVpsSG8J2FIbLGRIH6/G/NZvmwgY0jLTF3BGB3es25hgrei16vv/oHCnU5yD65R0mJDxBygb9BTc/zNzWTpqmc+0DQ1Zgk7shzw4K6KH7mcg9tl8ziTiIIk06NzM4J7ewaqX3ziJiZ2CopZznxWPujxWszL9NUQWZCkbOzQvIIoJK7bv8nd1FD5RHYrhQliIF0bnkglJYtcrjA+wzs5UIr1sF3lwow6ozgAGVOBZEKBEKmGEb5vTPjmMyo8ZbfjJiCZUHik+V1dd/SGHg8TpLWvry8D6Q8xJnftmyjEjoiTs5XKSDtfR5yHXH9f3TGDoj45g04/IpTAp8Kua1bujbjvWERBxOaM+cW4ggG5GVPa4ZV86jlkXYvT2RHxdLT71t7c+Ibdhl4kYo21FCUtiB7HBmHjpTc8/WcQpVSjCvJOR4dv/aaGe/mErxljIJempwgRm4oaRnPFnc/d2dkJvNGui+nL4t5b52337F1KCKnFBEmvbBIIb7io0Nzdt++ura9c3tzl7ol5/TjPY/wB3WUbd66bfDa+QafMJczKSMTv9AtO9EsYQxZMPAFJILa8DebATPTnDCkXkYLEQxN9k6ej636yoX79cHgi5u8Ql3OxtRX4512y4+Ccafnv/nHPLRcMeuH9PDB6Ie/H7KKghqeeE0ZQCZ0GFKr5QaIw7KO6pqqMZAA2wR0vEl17sOYEbBg12Ql6uHxz7bFIO1hHIxFvL2v50tl+3rVV7fn5+f8kxDOFh2ozMikj3C+VwPYqiSN2DNHt2N3RHWgDCdLe3d+2YkPNfGInDhZht9V0MvoNO9g/qKFToZskx0NS7vfhCQ1/WWLHWL1jIHDMIp9VrqAyG1IQkyEFMRlpX2OYKjMKc2chpk+iBlTbTrlb+KG0hgLmzgV2rzdnpl2nGZ6APtjdH2gFwDzff2ImQVDnm78sb+t01RjQyEQ8epOZa9v14589/0grd0GDNDB7dl5uw441D3v71bsYNDCf6vpmzJiyetqiR0TOsClEMUuXBd87cv+SDmd/HSIwS8EEYgUqmk/f2PCb1S9dVJpTAFLkouk5BQcqVzZofm0jUSCPNPP3ICjry05nXdfrT34fmARTCJKTk5NvdHi2MYPBsdnwBhVfC0Cv/N2ja2tTEaWUi1G1Y+1+iNgSkZx9RtY9Baitr6OqJDc3D5gAUwgy2W7Y+QS3MFIU3wjm0dErn36s4kBpEqIIMaqfrjgAIF16OlN+DCz4HvRsr6JlAhNgCkHsk72nFMJepVF6cSEKomBJ9ago8bhA4IgYmIElkcQQiMCoTSGHenu9vcAEmEKQ48dBoOKhg1sB0zzRNg6gI6L8uuJA8aRJ+UaUb4YTufTc/hjcgOc8v31VTDGCPjKku2+8+8WnQJpHc8liJn86ZGzKd99/+Ya3Aj7FgaIu6RC+TPYWM/TXECaPR7qC26JNCKMlvLyXRsv/otytZbfp/gVlDYsg7P0AmCQMZ7YAx5AoB7koKhclQm6jKN9gzWbAyT3N+RGfwlgPQuismGIoXIzyQ4shPPkeMFFM1IwRp6AoTYdufFsN4CwUJeGUBb9NCCZ8TohhsxnehWVCjM73gckC1GYNAY62lECs7isxRltGw6W8mxK5Z6YLTJvVl8VEv76grHGx3a55KE293pzZTZlTDIHZg+RpaSlmthmhWCFrISVRrCSGwCppJEmJYjUxBFbK60lIFCuKIbBaolVcolhVDIEVM99Oz+h1PnkMzewRk0aCrSmGwIoh3KEh8fWNixnTvRCOTUwT9Uv3Lih/+RIriiGwakw9KMraB1662DBos6ozGtAp5W705nUPHJ5vxhl4vFg9WReK4JbDwc62CU86QSc7OgZcQObrSyQSieQbyP8BRCm4nBHA+XwAAAAASUVORK5CYII=",_Dt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAhCSURBVHgB7Z17bBzVFcbPuTOzD+/6tXhZtjHUQqnUpEkErQpp1UKBRoK2qgKtSZtAlRIaqKJU0EaEEEitkMSpSEPfVZRGbiCkqVKUKiCIIMEBCxAgnoqCIhIFsMGYtdfPtde7M/dyrs0j4rmCmdm5M/OT1tb6j7F2v/nOvfd8c2cAQkJCQpRBA/+A2Wy2JpFIRAqFgkXvBSgIgj/AEw+vnjMwOLaRA8aMpL55c8efHt27FyxQDF8I0tX168Zon94pBJ9DHwlRiDdqoHjOnCt35EExGKiPHuuPXAFCfEVw0AQXTCBrYDWJL4GCJ5zyghzb/7sGq2St4ZzH3/8jKVMscSXHR6UFmQ0QGTMnr6YaNUOWqvf+joBKDugSpQW5/+AtjWZZ3CgERMEnKCvI7NkQGRwcuh4Yng7+mS2qK0jXlpWnmwDX0SAeAR+hpCAtLRA7McpvQIFN4CN3SJQU5MGO1WfQr19wAQb4DOUEaW5ujo8NjK0RCI3gQ1QTBB+5Z3ELt0Qrzax08CFKCULNw/hgb2EdMlYLPkUlQfBQx6KvCgaXci586Q6JMoKk0+lEYcRaT2vwOvAxqgiCh3Zc9Q2O/ALhj4boJ6LEh2tqakpOjpdvA4EJ8DkqCMIO/2vJRZzB+UIIX7tD4vkPKLZtqx0vW7dxwX3vDonXBdFeSB/5EZWqWXhKe93PeFqQ7gM31k+a/FYurBoICF4WRO+bEIsY4JchIO6QeFaQY50UzZbLq7gQMQgQnhRkKprNl6+hxrqSFyp8ETwpyAMHbjitXLZWCu6faLZSPCeIjGZzI6UVTMM0BMwdEs8Jsv+fazNc4DLus2i2UjwliIxm828PraI51WkQQHdIvCQIHuy4uRk4LPZjNFspnhGEotlYvm/sFopmGyDAeEUQ7Lyr9WwOfKFfo9lK8YQgmUymJj8w2YYMfR0+VYIXBMHO7UvmAscFnPtqA9HnouqCyGh2tFRqo3ZVbXA6Vp9MtQVhB3cuOQ+E+HYQwqdKqOqXkEqlkuOj5fWUdyTBZuLM4KAg1ZzRsM5/X71gcsI6hzq6thcr09TkMbVWCh1zNi0yDwNIkR0VumpVu6trcWOkNyX3Bc6zO++g8lcUDNdFBbxmoT3H1mi6wQ19JN1Q88IPrt80cPQolMABqiWI/vy9K68qcf536ujangaSBKQJFpHRT7vMN3UYOpoQY6DjnZf/Zt9fenp6JsBmqjLN7Dm4qXFoYnSn4CLjUBooj2kAtWAE2PSSxxIiQuU1icjm/+zSWfnnTljP9/b22lrCqjGoG73Dby0GLs5UMZqVFZBbPEkeXLXl1rm2XwnjuiCjj7c1CstaRWed0uETOSV1ZryxCWzGVUFkNHu0t/9XAtXfF0gljJvMGAebcVWQfYfWpsHkK2jsUNodVLY4Ar703SUdI2AzrgkycyZEh/NDK1Fj6odPAiYMXduSy+Vsn2W5JshjO9eeQcHTL1WPZqlUUY8HXzz3irsP01vbb27jiiDNzRDv7h5aTR9E+X2BNMkqRBPa7xHzY+AAbgiCj91101mg4ZU0M1E7mqUZr4b46IJl/3kSHGqhOC5ISwtE+/OF31LdrQe1kav+0bq4sb6vr8/22dV7OC7IyEgqUi6LyxiqHT7J9SCdVA9+b/meI+Dg3eocF6SB2kkaiLhQfd3BxchZTdHbqVVi+8zqVBwXpBCJmEJnRyieVTKfkJA7TJ3B/7659L8nweF7OTouCNXbYjKib6KSNQyKIgAH0zV1m53o7n4YN+q6ePqVp7oXXjL/JLfgfDrbdBLHpN9lu14w/ZJhm+1lkTEsaUJs//FNd/4/n3f+pppu1nX92P7lDRPl5FzLNNNMs2feyGjuYyLXqQO7nWqJrd1XIfdgI77VHI2cN2Ph1m5wgWoMtKzVxv/7Nfreds1MJXfe/vPXDB0bqBMAdoEMJ3XG2xet/sfm48dhElygGpk63wv2IY/V0s/Z9Fhr3/kl3UHpYC4VS2xzSwxJoC/b/DRo7ChGEbb+9Id3DICLhNdCfQxietH0ZiZTu+tZoAmDi4SCfAzkjgkWYe3ZC9oHwWVCQT6CvGAFTkbOzt5Lb0xwmXAM+RCIbEJn2vp589bYngZWQuiQU6DsiczBX/56f/YAQHWerBA65BRoEViIRbR1eN3No1AlQoe8i7xwgbLZZy6+dncXQPUaoaFDppEXnI4Zht7W39/vSDRbKaFDYDp8oi/ikcuW76FlR3UflRQ6RLoDcTRdF93gZDRbKYF3iHQHZeX3zV+6+2XwwIPEAi8ITXSHU6nkBqej2UoJdMmiUlXWEPZcuLRdZh2eeCpPwB0iBpvqGrb09IAn3CEJrENoEVgii3R8f8WGN8FDBNIhsr0uOAzUp+r+6mb4VAmBdAhjUNQR/3b5JRtz4DEC55DpaBZyjc1sx1FwZiftFyFwDtEofNI1uKP1W3/25GNZA+YQ6Q/oic+u3e12NFspgRKE1h1FQxcbZ81q9+xVlAEqWXLvk35Cm5ndD1WIZislMA5BYOOGhm3VimYrJRCCTO0LZPDSuT+5+2EAbz/0PhCCyH2BMd1oc2pfoJ34XxC5pxzh8YuX73oCwPt7VPwuyFQ0m9C1DblcrgAK4GtBpvYFAj60YMXe58Aj7fXPws+C0FCOI/W1zu8LtBPfrkNoEWgxwH0XXXPPcVDEHRL/OoSL4WzK+INK7pD4yCEfmIBN7TnEXd+5duvroJA7JL5wSMEwTF3HY1SmTHkFIi3L356Rqf/jq69CERTDF4LIKW2qNrqMc34f6dEZi7OlMy7c6KloNohgNputyWQycidu4O8hHxISEuIC7wBGTfwH1JFwPQAAAABJRU5ErkJggg==",IDt="/assets/refercardbg-mAPZC_mu.png",WAe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAA/CAYAAAC4nXvhAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAYOSURBVHgB7VptbFNVGH7POfe2a7u169Z2IgGUCcYQdRIkKAkSNSYz0UR/SFQE+RSICR9z44cYZ4wu2SImKgwUCGP+kBB/GCOaaaJmGiMGIQZ+aFBIMGy069qtWz/We8/hnNsOthF2u+6sG+l9kia9X+ee577Pec5773sALFiwkCcQ3AaQ2cnhtthHtWA/RZ0VKZVhkkIM8gRRGF5QWhptPBEayLafd1tjIT067XsC9Xe66espqnr4JkN5dpYxQAgx7LTj1D+XU29s2hs+BhIhi7gRjZPNgdZYP2wZHALAaPLB4eSNp+Z3Ywj261s3NPccAEnAIAds1/OOZRjQlvgQ442ySbEevhoh8QCBBvsoBDyk9chu32sgCbKIQyhGaqmGjM7y+E9KSZk22BDKtIIJBhqKUuYvIwcO13m3gARII84Qcsh0DKbDJbvKdjptSKeUYcxlFBKR99paj9RXboVJQhpxzICCRAS8pKzlZM++S1e1F/l/YBQQJ2/I3l+u7D9c55tU5KURlw2FIDynrNzV8Gnvia6IttbvxTz0RuRpTx9lgQql9VBdYNuISyaktxlLXOcG59SYQWZTS/hYd1R7tcqIPMNIGF5Uhyov2ne0PjAs+wkZ6owlPgZoY3O47UpUW+Pn5HUKhGRlX+lB+w/tmrjb50J8rISUlfyX3V+o9NSI5ubmcHuQy77Ki2Gk7KsqyYExsjeFGfHrxBrXel74stH31dEGX+e2twJn31tX8RRITCFzBNpgyJ4asud2ikTSEIxSqKpA+w435G54ZsQFMdb58ayDNdWO47EEepYQtIwosAgrMBumECJxiSs3pX9im8s+1HYlrK3xccOj9MY8H3CT1s92eDdnzx1XjaZSf2edZ1U4yjZHBnRxW8bHl2E8OkVpmELwHKjkFocysv8g3B6KCcPjrEfM89Vz7Z80rCq9D0zUaEr8/nm21dGYDsbLBirYmIZgn+Z95iG8Y7xz1jeF285dTC93u0iKbwrykEiC2tuHHgUTKGbH++MsgAnXHS3se7aWBmYrIW///OGs2l/Opf4PRtKKTbnRBT7RoWQS6b0xPaxTJcp3VV0/xi83a9+MuIDUjCxXiDxdDKsLV7SlC+coSxfdrYrsbRS4D0AqzSCWYCDGOWQVjKj5q6EZcfFgC+3cGWSHFScEgwnDY295KskM2AnlJLdLAiMdFvFig0W82GARLzZYxIsNFvFig0W82GARLzZYxIsNFvFiQ/7EMR316Y8iIDADYHyZU5hpX/IibnwF1KFs1D7EYsZKn+n5NDmiIwCqDSJmp+VFXJDjxZvqG7cCuAvTr+06o/yzMJsW8qLKw+/rsqFIuRs6zU7Pi/hgEmDxPbYnxZIsyNaz3v02fsY2gPY6XLx8LVotIHvxpFUFobl+Aj+eTWxvOhYLg0ntLJeCwk3gQeX1M/LgxqfLeKkm9uvw7hVN3fVt230XZvugTrOrXsTYlBcjxMMvsWHoDqcvd5yKv9lyov+74UPjXWdWFiJtDf5OROCRUVbGjHiiQDk580dH99LGn4ySjRFn8WtsBHz+N3e5Q2NIVaa2IJHm9yhBinbwh0h/djHh9RWW412XH/FMq3w8Izy/Mv35ivrIK2PanG6LM0Xe05lYeweUsX971NXft8z6Zl1tqT97aMaTFjCb7/Bzy13ruVnNuZVXifAOJOnCJfeWbHisxuHx2qH/8ZWu+AMkqZ/uMtqX+aMgaflJ3lIfA8qnEuxUEVS4cZqPgb5Uaij5XxcwVYXJgxuYXUHk/YM9iy8NQjdIgJmrizWaOAf1ihI6pDQGXb26ytXhQ/xp3eGVo3tRMi5RkU7sDpWXTkEGTMvEnLo20d5n1qAyGDItz+fYHghDQdoQTuggCWbmprtKtd+NkcWmybT4fbmQoLwMXwzMgxBIgqmrn4ukm2ZXKmGW9YNCJWTD9+EhRtWVGM7/nd59+jRIW3CEcjjO9rzkXvDEEufxeJzVsIItAEKGyEqcpDv4Z2Lny+2RL0BijpALCaEKw9MfXqDWaIx4EIaCpKLAUNo/3/1XR8fVQZimxKigK54sWLBgwUKeuAbjskLNtQA4lAAAAABJRU5ErkJggg==",HAe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAqPSURBVHgB7VoJbBTXGf7fHHuvd33bgImJcUw4XBoSAz2QA7QlpKThsEpCSpUSQIUgFUgvAgRo1Jb0CCpESkRTCgkqaBtD0xIaRxADEkohIbE42vrCHAJ8rL33zs7szMt7u2tjLOyZvcCW/MnH7Ox78//vm//973//+wGGMYxh3AUI0gf6bEwvcnPBwjDR63ihKIDa28EX+8jQW5AGpJMIWFWZa5k1k3nd41dmIIwlQCiuQSBMfhDWWY3o5IGLsNbhaPdBmsBBGlExjfkFluEFjqWfEuUcgYLRQ0+W4FYHwEZIE9JKhDcoP2DQsSCHybRACTKBASsMIF9AGQ1pRFqJsKDgH/JNlll+I1uAFawgiM9PkMaIOAXEG/GNgM/zR0gj0u4sNzxlzncqTAVxcUyYic/RcQgY8qZkox2f+f07vjbo5YDvJguSQFqdZYqhOthDlebJ/6swTqs74/v3gVqhBeIg6L4RUVUFOmsoR4+7BANYAETQhcQrnYLjErlMALtWGmY8/IDtA4+CzAxSOgKSWPXMFlct3B7jgITckzhi7FjQzxqTMfrhUn56m1euyM9gSycU60aKMtYDRgZMWjJYEVgdEi62yDecnVJDno09U9cknT7R5LnW2AghNWGvrcp5tziPXeIPKAoiU8pq4kJKEJ6q+u3NGtBgGakm4g6BP5xpKyktZqrKH9QtEEVcznBITxtIYQw+AQPTRzomHsRsRMBzUbcqyTho0qPz51vE6vrmgGPPsVBzf7LeXJe9uiCT29XlIYst8UUKxmy2hQ0FRVi0+NXWf4EKGakkokfQhh9kTpxUxP98RA47v80tm/1k0OQt0Sgx8l8LMHkSJUoh/80GBPl21nvDiQ83tInbN+/uvNhXJr2u3pr3VlhGy/0CIQMRXomDNuaz0oOnhdlTq10nQUX5ZNEzB7c8bbd/rRy96tUZXhCEsF4gs52NqppUHEH7UkL0PICJ5wQwCbsPnQ5v3XfY64zJp790RULV23J3yTJa5QtgSgZhBNhcK3Pkuxtb58EAFsFAcuh+I3jfOtPcssmGS7cU3WqvJ6yXRMAs6mmVOOGxvtQ6JAmwKxg2BDp1a+ZNtpz/80rznJh8JTYWvGBz+2qOxzssRoRIiM5yZgYaAvI1UPERyRDRTQJ6b2veNnuW9X1RkAvDYiRUwEkNvn+JdHBYJDYfDIUL84ssRxxbcrbAbYuIBPPzN7avRQZ2vTGbq38sqBy8vqdjk/qjE1WJDJYsgeziCQW7FcDPkxAYULoIuBtwxLeiDBOi2uw9eKFtmcMBMvTaoU4pBNNnNyEQ60FJkvt7HAvxo4eE70/IO0iun/X5I85J8xTAODoQngNEdpZYzzNIljHIMtDnaCMSRfwuDonUdzCTJ+VZx7eB71BLS2SwkWfc9IHUW+xAj0tkakQeuHhi7ltkQAu9cZJAQdvzPCCvHzf996q86MLl0EJvCDdxfJzWRMkgPbwBspEBZdGLlTlv9NYxHsRLRETRf/4q56eKwiyLeeaEnGGmlRU6vfLTG952Vm/+q6v6hiu80E7WfRzvEKKWAYRUcs2tqN6Wta7nmzgQLxF401LrdL2B+Y03qECiJHBEars73L7raFd3gIQ+OOpqaHeF2/hE9sNEB7KqYI9fBpOO3/7ysxkVEKdVxEXE2iowVoyz7LnejlkmGcdIeoVFjEOhnjQAvkyuaTiYsP+OkqHc7FK46RNNe9Y8MVYfT3etRES0m1RsXx8S5bKkSOh+IHNnfxwNPpNdcRi6vAZFPL58vHt9tyhNHUEb8IoFpsKiPNNPvIGktv33BHQpLy5g1r8035IHGqeI5qkxtdSysrVLyo58uFexQiKI6dbapWR9pdTwY63dNBHxejHYSeZgmaRANGga5KA6SiSasBnQsj9lQYaWPpqIYB6zPk620KOi25pBbA3diIXiiGNGoUp7pZYumojgy9hnfCGkeQs9KEDU9QokshiPlmhprkrEj74O1hK74RFBTMsBU1ohhBUYa9dNWVs1yqjWVpWIayFjOQ6jIpTshv0+gG7dZZkpqmu49VXVtmoNxhVypUFJ1sEQRVCQdWWjLaVq7VSJ+M4U6xi3D0czRUMMNE51k5hizjRTsVpbVSJcojyKoa2GwmrRB9S5s2R++LxikVpbNSJIYpyeOgx1IDqGAV+kGhHkuEExQ4oRy6spvWsmulhQ5DTVPhCBZpJIGnCsakRgsjeSIMWgR1mFLKN7kb+dOvsdIWIkh3RSGlwRSSWGSRovqQwVOTZS/JBqkOFLeiaveGHWE923ChbnzpEMbEH/WcXEQSyQFpgMaG2qaRCbkXd2ecKQUldJ3k2noLC2An7v9uWZMxFLDixz0VKnW0FsiuMVmQw/MwM51dqpElFXH2ouK+YgEEqdyVJvTsareNyKuWQUv4oS43KTI0Cm53wiZTCRU7K6eqFZrZ2q0GOf+65kmFIfVlIu6LJM8p7gC0ZIAJRiEiisRPePPw+1qLVTFZybaawjb9CJh1w4FQ2oSJq7ozAH1am1VX8D+e6rPgka2NQbRdrBkFMbMYgb9h8Xrqq2Vfke0dOjC83ih9TEhppV2IwMfHFFPKolmaQaR0QbSX8jLAhDKh9BjwQxBBVWOqiluSaD3/QXbz05xTiOYgJgsANHjw5JIFW7Zbe3XksXzVns0xeEHYXZHFZg8G++iCWggmwOTpwP7dDaR7MLvOpwHycnUbVGHRrcVkF0M+oRdLjCH+/8u7tGazfNBzwOEqTVNft/ZtAzYmRLPgjJiDhzopuOZ0Nnm8SXYrdTe8BD/7x2IPApqwg7eT6ybRx8U4S8HJas81kGYceOg+5zPXc1IJ7oIDLwjz5xvUxi9085llZrDR6rINag0FKDbAt7rrq265XYbc0vK95CEeZMI4TtPFczYQy/RJAwzVXcuyqZ/kBXCaKbzcy2Hj7d9a03j4bpJitSU6X1EfESEZmFZxsE14gRSu24ctNzQZfCk3sKuk9kUEugJIzMY4PH69xz3jgkXOylq2YkVUN19jlL5a0y6yFXMGwPk4xK3xPudINOTVplYzeynluc63vLfynUgoYq27shGcUjApfOMZcvrrTWON1yPq2Bin2TVkJiVRSY44hPyGDbDhz3zN1bE/gMEiSBIpFist5AdY1SK6/D7z5aZppMHHZJSIpUE6XFb3QTQOWSvQ+ym5lj//iPb/bbR/yNkOQqliwRFOiLBsn30De8+1mv2V+Uy00VZcVAM0PUiUV3wpAUugmghSQ6HqHCbMZ3rQNvrP5/6+p974k0DZewJfQMAlKDHkWe/7axaOoE068LMvmFMsZGjz9aaxVlBOJCdx9MLjLMDLAsEto6ZMepS75X3qkRLveVnewAUokepaq+aRn/+KP6NWUj+bkkAzXaRQihOQ1qKZH4o5+pEylGZ6K/tIjdZmHAqmdvNF0X3z9xTti5/5TvUl9ZqVI81bhDwRWzM21hVpr95HTTTE8IzzDxaIxJh/TkoJq7i3BMCJCDEhaDAm6ymNDJI5+ETvkU/JHjQ08npBH3dLnLzwfzvEeMmeNGsA86A1wJuWVTGMiIRD4YvAiDK9OGGs81Cy0nzgedN2+XDw9jGMMYxjAGA74EkacwC+zn03kAAAAASUVORK5CYII=",TDt=({initialTime:t=3600,mode:e="countdown"})=>{const n=ur(),{user:r,authenticated:i}=eo(),s=localStorage.getItem(r==null?void 0:r.id),o=s?JSON.parse(s):null,a=o==null?void 0:o.id,l=o==null?void 0:o.referral_code,[c,u]=x.useState(t),[h,f]=x.useState(!1),[p,m]=x.useState(!1),[g,y]=x.useState({id:"",usdl_balance:0,points_balance:0,staked_amount:0,total_portfolio_value:0,points_usd_value:0,wallet_address:""}),[w,v]=x.useState({exchange_rate:"0.00",last_updated:new Date().toISOString(),points_to_usdl_rate:"",usdl_to_points_rate:""}),[b,A]=x.useState({action:"HOLD",confidence:"MEDIUM",reason:"Loading market data...",icon:d.jsx(QP,{className:"w-3 h-3"}),color:"text-gray-400"}),E=I=>{switch(I){case"buy_points":return"Bought Points";case"sell_points":return"Sold Points";case"stake":return"Staked";case"unstake":return"Unstaked";case"referral_reward":return"Referral Reward";default:return I.replace("_"," ").replace(/\b\w/g,D=>D.toUpperCase())}},$=I=>{const D=new Date,Y=new Date(I),M=Math.floor((D.getTime()-Y.getTime())/1e3);if(M<60)return`${M}s ago`;const Q=Math.floor(M/60);if(Q<60)return`${Q}m ago`;const ee=Math.floor(Q/60);if(ee<24)return`${ee}h ago`;const J=Math.floor(ee/24);return J<30?`${J}d ago`:`${Math.floor(J/30)}mo ago`},N=I=>I==="buy_points"||I==="referral_reward"||I==="unstake"?"+":"-";x.useEffect(()=>{const I=setInterval(()=>{u(D=>e==="countdown"?Math.max(D-1,0):D+1)},1e3);return()=>clearInterval(I)},[e]);const R=I=>{const D=String(Math.floor(I/3600)).padStart(2,"0"),Y=String(Math.floor(I%3600/60)).padStart(2,"0"),M=String(I%60).padStart(2,"0");return`${D}:${Y}:${M}`},j=async()=>{var I;if(!a||!(r!=null&&r.id)){console.warn("User ID or Privy ID not found");return}f(!0);try{const D=await Yt.post("/api/get_referal_code",{id:a,privy_id:r.id});if(D.data&&D.data.success!==!1){const Y=D.data;y({id:Y.id||a,usdl_balance:parseFloat(Y.usdl_balance)||0,points_balance:parseFloat(Y.points_balance)||0,staked_amount:parseFloat(Y.staked_amount)||0,total_portfolio_value:parseFloat(Y.total_portfolio_value)||0,points_usd_value:parseFloat(Y.points_usd_value)||0,wallet_address:Y.wallet_address||o.wallet_address});const M={...o,usdl_balance:Y.usdl_balance,points_balance:Y.points_balance,staked_amount:Y.staked_amount,total_portfolio_value:Y.total_portfolio_value,points_usd_value:Y.points_usd_value};localStorage.setItem(r.id,JSON.stringify(M))}else throw new Error(((I=D.data)==null?void 0:I.error)||"Failed to fetch balance data")}catch(D){console.error(" Error fetching balance:",D),s_({title:"Balance Error",description:"Could not fetch balance data. Please try again.",variant:"destructive"})}finally{f(!1)}},F=async()=>{m(!0);try{const I=await Yt.get("/api/points/price");if(I.data&&I.data.data){const D={exchange_rate:I.data.data.exchange_rate||"0",last_updated:I.data.data.last_updated||new Date().toISOString(),points_to_usdl_rate:I.data.data.points_to_usdl_rate||"",usdl_to_points_rate:I.data.data.usdl_to_points_rate||""},Y=parseFloat(I.data.data.exchange_rate),M=(1/Y).toFixed(2),Q={...o,buyPrice:Y,sellPrice:M};localStorage.setItem(r.id,JSON.stringify(Q)),v(D),W(D)}else throw new Error("Invalid price data response")}catch(I){console.error(" Error fetching point price:",I),s_({title:"Price Data Error",description:"Could not fetch current price data.",variant:"destructive"})}finally{m(!1)}},W=I=>{const D=parseFloat(I.exchange_rate);let Y;D>4?Y={action:"SELL",confidence:"MEDIUM",reason:"High exchange rate! Good time to convert points",icon:d.jsx(UD,{className:"w-3 h-3"}),color:"text-green-400"}:D<3.5?Y={action:"BUY",confidence:"MEDIUM",reason:"Low exchange rate! Good opportunity to acquire points",icon:d.jsx(FD,{className:"w-3 h-3"}),color:"text-green-400"}:D>=3.5&&D<=4?Y={action:"FARM",confidence:"HIGH",reason:"Stable rate. Great time for farming rewards",icon:d.jsx(QP,{className:"w-3 h-3"}),color:"text-yellow-400"}:Y={action:"HOLD",confidence:"MEDIUM",reason:"Exchange rate stable. Monitor for changes",icon:d.jsx(QP,{className:"w-3 h-3"}),color:"text-gray-400"},A(Y)},V=()=>{b.action==="BUY"||b.action==="SELL"?n("/trade"):(b.action==="FARM"||b.action==="STAKE")&&n("/farm")},B=async()=>{await Promise.all([j(),F(),P()])},k=I=>{const D=parseFloat(I),Y=D>4?"text-green-400":D<3.5?"text-red-400":"text-yellow-400";return{rate:D.toFixed(3),color:Y}};x.useEffect(()=>{const I=setInterval(()=>{i&&F()},12e4);return()=>clearInterval(I)},[i]);const[C,S]=x.useState([]),[T,_]=x.useState(!1),P=async()=>{var I,D,Y,M;if(!a){console.warn("User ID not found - cannot fetch points history");return}console.log(" Fetching points history for user:",a),_(!0);try{const ee=await Yt.get(`/api/points/history/${a}?limit=10`);console.log(" Points history fetched successfully:"),console.log(" Transaction data:",ee.data),(I=ee.data)!=null&&I.data&&Array.isArray(ee.data.data)&&(console.log(` Total transactions: ${ee.data.data.length}`),S(ee.data.data))}catch(Q){console.error(" Error fetching points history:",Q),Yt.isAxiosError(Q)&&console.error("Error details:",{status:(D=Q.response)==null?void 0:D.status,message:((M=(Y=Q.response)==null?void 0:Y.data)==null?void 0:M.error)||Q.message})}finally{_(!1)}};x.useEffect(()=>{i&&a&&(j(),F(),P())},[i,a]);const{rate:L,color:O}=k(w.exchange_rate);return d.jsxs(gu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs(me.div,{className:"bg-card border border-border rounded-2xl p-6 mb-4 mt-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("h1",{className:"text-2xl font-thin text-golden-light",children:["Hello, ",d.jsx("span",{className:"font-medium",children:"User!"})]}),(o==null?void 0:o.wallet_address)&&d.jsxs("p",{className:"text-xs text-muted-foreground font-extralight mt-1",children:[o.wallet_address.slice(0,6),"...",o.wallet_address.slice(-4)]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:B,className:"p-2 rounded-full bg-golden-light/10 hover:bg-golden-light/20 transition-colors",disabled:h||p,children:d.jsx(me.div,{animate:h||p?{rotate:360}:{},transition:{duration:1,repeat:h||p?1/0:0,ease:"linear"},children:d.jsx(eg,{className:"w-4 h-4 text-golden-light"})})}),d.jsx("img",{src:Kr,alt:"",className:"h-8 w-auto"})]})]}),d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("p",{className:"text-xs font-extralight text-muted-foreground mb-2",children:"Your Total Portfolio Value"}),d.jsx("p",{className:"text-5xl font-bold text-golden-light mb-2",children:h?d.jsx(me.span,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:"Loading..."}):`$${g.total_portfolio_value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`})]}),d.jsxs("div",{className:"bg-[#31302F] rounded-xl p-6 mb-6 grid grid-cols-3 divide-x divide-border/[#D4B679]",children:[d.jsxs("div",{className:"text-center px-2",children:[d.jsxs("p",{className:"text-lg font-bold text-golden-light",children:["$",h?"...":g.usdl_balance.toFixed(2)]}),d.jsx("p",{className:"text-xs font-extralight text-muted-foreground mt-1",children:"USDL"})]}),d.jsxs("div",{className:"text-center px-2",children:[d.jsxs("p",{className:"text-lg font-bold text-golden-light",children:["$",h?"...":g.staked_amount.toFixed(2)]}),d.jsx("p",{className:"text-xs font-extralight text-muted-foreground mt-1",children:"Staked"})]}),d.jsxs("div",{className:"text-center px-2",children:[d.jsxs("p",{className:"text-lg font-bold text-golden-light",children:["$",h?"...":g.points_usd_value.toFixed(2)]}),d.jsx("p",{className:"text-xs font-extralight text-muted-foreground mt-1",children:"Point Value"})]})]}),d.jsxs("div",{className:"flex justify-between items-center px-2",children:[d.jsx("p",{className:"text-sm font-thin text-muted-foreground",children:"Your Current Lighter Points"}),d.jsx("p",{className:"text-2xl font-bold text-golden-light",children:h?"...":g.points_balance.toFixed(1)})]})]}),d.jsxs(me.div,{className:"bg-card border border-border rounded-2xl p-6 mb-4 grid grid-cols-3 gap-4 divide-x divide-border/[#D4B679]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[d.jsxs("button",{onClick:()=>n("/deposit"),className:"flex flex-col items-center gap-2 group",children:[d.jsx("img",{src:CK,alt:"",className:"h-8 w-8 group-hover:scale-110 transition-transform"}),d.jsx("span",{className:"text-sm text-golden-light",children:"Deposit"})]}),d.jsxs("button",{className:"flex flex-col items-center gap-2 group opacity-50 cursor-not-allowed",disabled:!0,children:[d.jsx("img",{src:zAe,alt:"",className:"h-8 w-8 group-hover:scale-110 transition-transform"}),d.jsx("span",{className:"text-sm text-golden-light",children:"Withdraw"})]}),d.jsxs("button",{onClick:()=>n("/farm"),className:"flex flex-col items-center gap-2 group",children:[d.jsx("img",{src:_Dt,alt:"",className:"h-8 w-8 group-hover:scale-110 transition-transform"}),d.jsx("span",{className:"text-sm text-golden-light",children:"Farm"})]})]}),d.jsxs(me.div,{className:"relative rounded-2xl px-6 py-4 mb-4 overflow-hidden cursor-pointer",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},onClick:()=>n("/referrals"),children:[d.jsx("div",{className:"absolute inset-0 opacity-100",style:{backgroundImage:`url(${IDt})`,backgroundSize:"cover"}}),d.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[d.jsx("div",{className:"flex justify-end",children:d.jsx("div",{className:"flex items-center justify-center w-7 h-7 rounded-full bg-golden-light",children:d.jsx(wp,{className:"w-5 h-5 text-black"})})}),d.jsxs("div",{className:"flex items-end justify-between mt-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold text-golden-light mb-0",children:"Refer a friend"}),d.jsxs("p",{className:"text-xs font-extralight text-muted-foreground",children:["Earn ",d.jsx("span",{className:"font-bold text-golden-light",children:"10%"})," for each* referral"]})]}),d.jsxs("div",{className:`inline-flex items-end gap-1 border border-dashed \r
                      border-golden-light/60 rounded-lg px-1.5 py-1.5 bg-black/40`,children:[d.jsx("img",{src:WAe,alt:"",className:"h-4 w-4"}),d.jsx("span",{className:"text-golden-light text-xs font-bold",children:l||"..."})]})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[d.jsxs(me.div,{className:"bg-card border border-border rounded-2xl p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Limited Bonus"}),d.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded-full bg-golden-light",children:d.jsx(wp,{className:"w-4 h-4 text-black"})})]}),d.jsx("p",{className:"text-sm text-golden-light mb-1",children:"Stake"}),d.jsx("p",{className:"text-3xl font-bold text-golden-light mb-2",children:"$100+"}),d.jsxs("p",{className:"text-xs text-muted-foreground mb-3",children:["Get ",d.jsx("span",{className:"text-golden-light font-bold",children:"2"})," free points"]}),d.jsxs("div",{className:"flex items-center gap-1 text-golden-light",children:[d.jsx("img",{src:HAe,alt:"",className:"h-5 w-5"}),d.jsx("span",{className:"text-xs text-[#A07715] font-bold",children:R(c)})]})]}),d.jsxs(me.div,{className:"bg-card border border-border rounded-2xl p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Exchange rate alert!"}),p&&d.jsx(me.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:d.jsx(eg,{className:"w-3 h-3 text-golden-light"})})]}),b.action!=="HOLD"&&d.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded-full bg-golden-light",children:d.jsx("button",{onClick:V,className:"flex items-center",children:d.jsx(wp,{className:"w-4 h-4 text-black"})})})]}),d.jsx("p",{className:"text-3xl font-bold text-golden-light mb-1",children:p?"...":L}),d.jsxs("div",{className:`flex items-center gap-1 mb-3 ${O}`,children:[b.icon,d.jsx("span",{className:"text-xs font-bold",children:"Exchange Rate"})]}),d.jsxs("div",{className:"mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Suggested action:"}),d.jsx("span",{className:`text-xs font-bold ${b.color}`,children:b.action})]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:b.reason})]}),d.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground mt-2 pt-2 border-t border-border/50",children:[w.points_to_usdl_rate&&d.jsx("div",{className:"text-[#A07715] font-bold",children:w.points_to_usdl_rate}),w.usdl_to_points_rate&&d.jsx("div",{className:"text-[#A07715] font-bold",children:w.usdl_to_points_rate}),d.jsx("div",{className:"text-right",children:d.jsxs("span",{children:["Updated: ",d.jsx("span",{className:"font-bold text-[#A07715]",children:new Date(w.last_updated).toLocaleTimeString()})]})})]})]})]}),d.jsxs(me.div,{className:"bg-card border border-border rounded-2xl p-6 mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-bold text-golden-light",children:"Recent Activity:"}),T&&d.jsx(me.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:d.jsx(eg,{className:"w-4 h-4 text-golden-light"})})]}),d.jsx("div",{className:"space-y-4",children:T?d.jsx("div",{className:"text-center py-4",children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading transactions..."})}):C.length===0?d.jsx("div",{className:"text-center py-4",children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent activity"})}):C.slice(0,3).map(I=>d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"font-extralight text-xs opacity-60",children:[d.jsx("p",{className:"text-sm text-foreground",children:E(I.type)}),d.jsx("p",{className:"text-xs text-muted-foreground",children:$(I.created_at)}),I.tx_hash&&d.jsxs("p",{className:"text-xs font-bold text-muted-foreground/50 mt-1",children:["Tx: ",I.tx_hash.slice(0,6),"...",I.tx_hash.slice(-4)]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("span",{className:`font-bold ${N(I.type)==="+"?"text-green-400":"text-red-400"}`,children:[N(I.type)," $",I.amount.toFixed(2)]}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:I.status==="success"?"":""})]})]},I.id))}),C.length>5&&d.jsx("button",{onClick:()=>n("/history"),className:"w-full mt-4 text-center text-sm text-golden-light hover:text-golden-light/80 transition-colors",children:"View all transactions "})]}),d.jsx(Rd,{})]})},cM="/assets/money-bag-Dg9XkaHW.png",$Dt="/assets/watermark-FCbzTWCD.png",NDt="6.15.0";function PDt(t,e,n){const r=e.split("|").map(s=>s.trim());for(let s=0;s<r.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}async function Vo(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,s)=>(r[e[s]]=i,r),{})}function Lt(t,e,n){for(let r in e){let i=e[r];const s=n?n[r]:null;s&&PDt(i,s,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function Pv(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>Pv(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let i=0;i<t.length;i++)r+=n[t[i]>>4],r+=n[t[i]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return Pv(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${Pv(r,e)}: ${Pv(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function zs(t,e){return t&&t.code===e}function kK(t){return zs(t,"CALL_EXCEPTION")}function Jr(t,e,n){let r=t;{const s=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${Pv(n)}`);for(const o in n){if(o==="shortMessage")continue;const a=n[o];s.push(o+"="+Pv(a))}}s.push(`code=${e}`),s.push(`version=${NDt}`),s.length&&(t+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return Lt(i,{code:e}),n&&Object.assign(i,n),i.shortMessage==null&&Lt(i,{shortMessage:r}),i}function We(t,e,n,r){if(!t)throw Jr(e,n,r)}function ye(t,e,n,r){We(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function VAe(t,e,n){n==null&&(n=""),n&&(n=": "+n),We(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),We(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function xC(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),We(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function qAe(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let i=2;for(let s=0;s<r.length;s++)r[s]=parseInt(t.substring(i,i+2),16),i+=2;return r}ye(!1,"invalid BytesLike value",e||"value",t)}function vn(t,e){return qAe(t,e,!1)}function ea(t,e){return qAe(t,e,!0)}function _r(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function SK(t){return _r(t,!0)||t instanceof Uint8Array}const Gae="0123456789abcdef";function pt(t){const e=vn(t);let n="0x";for(let r=0;r<e.length;r++){const i=e[r];n+=Gae[(i&240)>>4]+Gae[i&15]}return n}function yi(t){return"0x"+t.map(e=>pt(e).substring(2)).join("")}function h2(t){return _r(t,!0)?(t.length-2)/2:vn(t).length}function hi(t,e,n){const r=vn(t);return n!=null&&n>r.length&&We(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),pt(r.slice(e??0,n??r.length))}function GAe(t,e,n){const r=vn(t);We(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),pt(i)}function Xp(t,e){return GAe(t,e,!0)}function RDt(t,e){return GAe(t,e,!1)}const WN=BigInt(0),td=BigInt(1),Rv=9007199254740991;function eI(t,e){const n=HN(t,"value"),r=BigInt(wn(e,"width"));if(We(n>>r===WN,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-td){const i=(td<<r)-td;return-((~n&i)+td)}return n}function KAe(t,e){let n=Et(t,"value");const r=BigInt(wn(e,"width")),i=td<<r-td;if(n<WN){n=-n,We(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const s=(td<<r)-td;return(~n&s)+td}else We(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function Uy(t,e){const n=HN(t,"value"),r=BigInt(wn(e,"bits"));return n&(td<<r)-td}function Et(t,e){switch(typeof t){case"bigint":return t;case"number":return ye(Number.isInteger(t),"underflow",e||"value",t),ye(t>=-Rv&&t<=Rv,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){ye(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}ye(!1,"invalid BigNumberish value",e||"value",t)}function HN(t,e){const n=Et(t,e);return We(n>=WN,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const Kae="0123456789abcdef";function VN(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=Kae[n>>4],e+=Kae[n&15];return BigInt(e)}return Et(t)}function wn(t,e){switch(typeof t){case"bigint":return ye(t>=-Rv&&t<=Rv,"overflow",e||"value",t),Number(t);case"number":return ye(Number.isInteger(t),"underflow",e||"value",t),ye(t>=-Rv&&t<=Rv,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return wn(BigInt(t),e)}catch(n){ye(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}ye(!1,"invalid numeric value",e||"value",t)}function jDt(t){return wn(VN(t))}function Eg(t,e){let r=HN(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=wn(e,"width");for(We(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function is(t){const e=HN(t,"value");if(e===WN)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const s=i*2;r[i]=parseInt(n.substring(s,s+2),16)}return r}function Ju(t){let e=pt(SK(t)?t:is(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const Yae="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const Qae=BigInt(58);function ODt(t){const e=vn(t);let n=VN(e),r="";for(;n;)r=Yae[Number(n%Qae)]+r,n/=Qae;for(let i=0;i<e.length&&!e[i];i++)r=Yae[0]+r;return r}function MDt(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return vn(e)}function DDt(t){const e=vn(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}var _2;class YAe{constructor(e,n,r){Ee(this,"filter");Ee(this,"emitter");ve(this,_2);te(this,_2,n),Lt(this,{emitter:e,filter:r})}async removeListener(){H(this,_2)!=null&&await this.emitter.off(this.filter,H(this,_2))}}_2=new WeakMap;function BDt(t,e,n,r,i){ye(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function QAe(t,e,n,r,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let s=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)s++;return s}return t==="OVERRUN"?n.length-e-1:0}function LDt(t,e,n,r,i){return t==="OVERLONG"?(ye(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),QAe(t,e,n))}const FDt=Object.freeze({error:BDt,ignore:QAe,replace:LDt});function UDt(t,e){e==null&&(e=FDt.error);const n=vn(t,"bytes"),r=[];let i=0;for(;i<n.length;){const s=n[i++];if(!(s>>7)){r.push(s);continue}let o=null,a=null;if((s&224)===192)o=1,a=127;else if((s&240)===224)o=2,a=2047;else if((s&248)===240)o=3,a=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,n,r):i+=e("BAD_PREFIX",i-1,n,r);continue}if(i-1+o>=n.length){i+=e("OVERRUN",i-1,n,r);continue}let l=s&(1<<8-o-1)-1;for(let c=0;c<o;c++){let u=n[i];if((u&192)!=128){i+=e("MISSING_CONTINUE",i,n,r),l=null;break}l=l<<6|u&63,i++}if(l!==null){if(l>1114111){i+=e("OUT_OF_RANGE",i-1-o,n,r,l);continue}if(l>=55296&&l<=57343){i+=e("UTF16_SURROGATE",i-1-o,n,r,l);continue}if(l<=a){i+=e("OVERLONG",i-1-o,n,r,l);continue}r.push(l)}}return r}function Ip(t,e){ye(typeof t=="string","invalid string value","str",t);let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const s=t.charCodeAt(r);ye(r<t.length&&(s&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((i&1023)<<10)+(s&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function zDt(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function tI(t,e){return zDt(UDt(t,e))}function ZAe(t){async function e(n,r){We(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const i=n.url.split(":")[0].toLowerCase();We(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),We(i==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s=null;const o=new AbortController,a=setTimeout(()=>{s=Jr("request timeout","TIMEOUT"),o.abort()},n.timeout);r&&r.addListener(()=>{s=Jr("request cancelled","CANCELLED"),o.abort()});const l=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:o.signal});let c;try{c=await fetch(n.url,l)}catch(p){throw clearTimeout(a),s||p}clearTimeout(a);const u={};c.headers.forEach((p,m)=>{u[m.toLowerCase()]=p});const h=await c.arrayBuffer(),f=h==null?null:new Uint8Array(h);return{statusCode:c.status,statusMessage:c.statusText,headers:u,body:f}}return e}const WDt=12,HDt=250;let Zae=ZAe();const VDt=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),qDt=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let uM=!1;async function JAe(t,e){try{const n=t.match(VDt);if(!n)throw new Error("invalid data");return new og(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?MDt(n[3]):KDt(n[3]))}catch{return new og(599,"BAD REQUEST (invalid data: URI)",{},null,new e0(t))}}function XAe(t){async function e(n,r){try{const i=n.match(qDt);if(!i)throw new Error("invalid link");return new e0(`${t}${i[2]}`)}catch{return new og(599,"BAD REQUEST (invalid IPFS URI)",{},null,new e0(n))}}return e}const t9={data:JAe,ipfs:XAe("https://gateway.ipfs.io/ipfs/")},eCe=new WeakMap;var Zy,wm;class GDt{constructor(e){ve(this,Zy);ve(this,wm);te(this,Zy,[]),te(this,wm,!1),eCe.set(e,()=>{if(!H(this,wm)){te(this,wm,!0);for(const n of H(this,Zy))setTimeout(()=>{n()},0);te(this,Zy,[])}})}addListener(e){We(!H(this,wm),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),H(this,Zy).push(e)}get cancelled(){return H(this,wm)}checkSignal(){We(!this.cancelled,"cancelled","CANCELLED",{})}}Zy=new WeakMap,wm=new WeakMap;function n9(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var I2,T2,zu,Zf,$2,N2,fs,Cl,Jf,Jy,Xy,e1,ch,Wu,bm,t1,D6;const II=class II{constructor(e){ve(this,t1);ve(this,I2);ve(this,T2);ve(this,zu);ve(this,Zf);ve(this,$2);ve(this,N2);ve(this,fs);ve(this,Cl);ve(this,Jf);ve(this,Jy);ve(this,Xy);ve(this,e1);ve(this,ch);ve(this,Wu);ve(this,bm);te(this,N2,String(e)),te(this,I2,!1),te(this,T2,!0),te(this,zu,{}),te(this,Zf,""),te(this,$2,3e5),te(this,Wu,{slotInterval:HDt,maxAttempts:WDt}),te(this,bm,null)}get url(){return H(this,N2)}set url(e){te(this,N2,String(e))}get body(){return H(this,fs)==null?null:new Uint8Array(H(this,fs))}set body(e){if(e==null)te(this,fs,void 0),te(this,Cl,void 0);else if(typeof e=="string")te(this,fs,Ip(e)),te(this,Cl,"text/plain");else if(e instanceof Uint8Array)te(this,fs,e),te(this,Cl,"application/octet-stream");else if(typeof e=="object")te(this,fs,Ip(JSON.stringify(e))),te(this,Cl,"application/json");else throw new Error("invalid body")}hasBody(){return H(this,fs)!=null}get method(){return H(this,Zf)?H(this,Zf):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),te(this,Zf,String(e).toUpperCase())}get headers(){const e=Object.assign({},H(this,zu));return H(this,Jf)&&(e.authorization=`Basic ${DDt(Ip(H(this,Jf)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&H(this,Cl)&&(e["content-type"]=H(this,Cl)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){H(this,zu)[String(e).toLowerCase()]=String(n)}clearHeaders(){te(this,zu,{})}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return H(this,Jf)||null}setCredentials(e,n){ye(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),te(this,Jf,`${e}:${n}`)}get allowGzip(){return H(this,T2)}set allowGzip(e){te(this,T2,!!e)}get allowInsecureAuthentication(){return!!H(this,I2)}set allowInsecureAuthentication(e){te(this,I2,!!e)}get timeout(){return H(this,$2)}set timeout(e){ye(e>=0,"timeout must be non-zero","timeout",e),te(this,$2,e)}get preflightFunc(){return H(this,Jy)||null}set preflightFunc(e){te(this,Jy,e)}get processFunc(){return H(this,Xy)||null}set processFunc(e){te(this,Xy,e)}get retryFunc(){return H(this,e1)||null}set retryFunc(e){te(this,e1,e)}get getUrlFunc(){return H(this,bm)||Zae}set getUrlFunc(e){te(this,bm,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${H(this,fs)?pt(H(this,fs)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(H(this,Wu).slotInterval=e.slotInterval),e.maxAttempts!=null&&(H(this,Wu).maxAttempts=e.maxAttempts)}send(){return We(H(this,ch)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),te(this,ch,new GDt(this)),Fe(this,t1,D6).call(this,0,Jae()+this.timeout,0,this,new og(0,"",{},null,this))}cancel(){We(H(this,ch)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=eCe.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();We(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new II(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,te(i,zu,Object.assign({},H(this,zu))),H(this,fs)&&te(i,fs,new Uint8Array(H(this,fs))),te(i,Cl,H(this,Cl)),i}clone(){const e=new II(this.url);return te(e,Zf,H(this,Zf)),H(this,fs)&&te(e,fs,H(this,fs)),te(e,Cl,H(this,Cl)),te(e,zu,Object.assign({},H(this,zu))),te(e,Jf,H(this,Jf)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),te(e,Jy,H(this,Jy)),te(e,Xy,H(this,Xy)),te(e,e1,H(this,e1)),te(e,Wu,Object.assign({},H(this,Wu))),te(e,bm,H(this,bm)),e}static lockConfig(){uM=!0}static getGateway(e){return t9[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(uM)throw new Error("gateways locked");t9[e]=n}static registerGetUrl(e){if(uM)throw new Error("gateways locked");Zae=e}static createGetUrlFunc(e){return ZAe(e)}static createDataGateway(){return JAe}static createIpfsGatewayFunc(e){return XAe(e)}};I2=new WeakMap,T2=new WeakMap,zu=new WeakMap,Zf=new WeakMap,$2=new WeakMap,N2=new WeakMap,fs=new WeakMap,Cl=new WeakMap,Jf=new WeakMap,Jy=new WeakMap,Xy=new WeakMap,e1=new WeakMap,ch=new WeakMap,Wu=new WeakMap,bm=new WeakMap,t1=new WeakSet,D6=async function(e,n,r,i,s){var u,h,f;if(e>=H(this,Wu).maxAttempts)return s.makeServerError("exceeded maximum retry limit");We(Jae()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await YDt(r);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in t9){const p=await t9[a](o.url,n9(H(i,ch)));if(p instanceof og){let m=p;if(this.processFunc){n9(H(i,ch));try{m=await this.processFunc(o,m)}catch(g){(g.throttle==null||typeof g.stall!="number")&&m.makeServerError("error in post-processing function",g).assertOk()}}return m}o=p}this.preflightFunc&&(o=await this.preflightFunc(o));const l=await this.getUrlFunc(o,n9(H(i,ch)));let c=new og(l.statusCode,l.statusMessage,l.headers,l.body,i);if(c.statusCode===301||c.statusCode===302){try{const p=c.headers.location||"";return Fe(u=o.redirect(p),t1,D6).call(u,e+1,n,0,i,c)}catch{}return c}else if(c.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,c,e))){const p=c.headers["retry-after"];let m=H(this,Wu).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof p=="string"&&p.match(/^[1-9][0-9]*$/)&&(m=parseInt(p)),Fe(h=o.clone(),t1,D6).call(h,e+1,n,m,i,c)}if(this.processFunc){n9(H(i,ch));try{c=await this.processFunc(o,c)}catch(p){(p.throttle==null||typeof p.stall!="number")&&c.makeServerError("error in post-processing function",p).assertOk();let m=H(this,Wu).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return p.stall>=0&&(m=p.stall),Fe(f=o.clone(),t1,D6).call(f,e+1,n,m,i,c)}}return c};let e0=II;var JE,XE,eA,kl,P2,n1;const vY=class vY{constructor(e,n,r,i,s){ve(this,JE);ve(this,XE);ve(this,eA);ve(this,kl);ve(this,P2);ve(this,n1);te(this,JE,e),te(this,XE,n),te(this,eA,Object.keys(r).reduce((o,a)=>(o[a.toLowerCase()]=String(r[a]),o),{})),te(this,kl,i==null?null:new Uint8Array(i)),te(this,P2,s||null),te(this,n1,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${H(this,kl)?pt(H(this,kl)):"null"}>`}get statusCode(){return H(this,JE)}get statusMessage(){return H(this,XE)}get headers(){return Object.assign({},H(this,eA))}get body(){return H(this,kl)==null?null:new Uint8Array(H(this,kl))}get bodyText(){try{return H(this,kl)==null?"":tI(H(this,kl))}catch{We(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{We(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new vY(599,r,this.headers,this.body,H(this,P2)||void 0);return te(i,n1,{message:e,error:n}),i}throwThrottleError(e,n){n==null?n=-1:ye(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw Lt(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return H(this,kl)!=null}get request(){return H(this,P2)}ok(){return H(this,n1).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=H(this,n1);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{H(this,kl)&&(i=tI(H(this,kl)))}catch{}We(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};JE=new WeakMap,XE=new WeakMap,eA=new WeakMap,kl=new WeakMap,P2=new WeakMap,n1=new WeakMap;let og=vY;function Jae(){return new Date().getTime()}function KDt(t){return Ip(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function YDt(t){return new Promise(e=>setTimeout(e,t))}const QDt=BigInt(-1),Ru=BigInt(0),jv=BigInt(1),ZDt=BigInt(5),Bb={};let f2="0000";for(;f2.length<80;)f2+=f2;function Zg(t){let e=f2;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function u6(t,e,n){const r=BigInt(e.width);if(e.signed){const i=jv<<r-jv;We(n==null||t>=-i&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t>Ru?t=eI(Uy(t,r),r):t=-eI(Uy(-t,r),r)}else{const i=jv<<r;We(n==null||t>=0&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%i+i)%i&i-jv}return t}function dM(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,r=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);ye(s,"invalid fixed format","format",t),e=s[1]!=="u",n=parseInt(s[2]),r=parseInt(s[3])}}else if(t){const s=t,o=(a,l,c)=>s[a]==null?c:(ye(typeof s[a]===l,"invalid fixed format ("+a+" not "+l+")","format."+a,s[a]),s[a]);e=o("signed","boolean",e),n=o("width","number",n),r=o("decimals","number",r)}ye(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),ye(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const i=(e?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:e,width:n,decimals:r,name:i}}function JDt(t,e){let n="";t<Ru&&(n="-",t*=QDt);let r=t.toString();if(e===0)return n+r;for(;r.length<=e;)r=f2+r;const i=r.length-e;for(r=r.substring(0,i)+"."+r.substring(i);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}var Hu,dr,zo,rr,ay,jf,tz,nz,rz,iz;const rm=class rm{constructor(e,n,r){ve(this,rr);Ee(this,"format");ve(this,Hu);ve(this,dr);ve(this,zo);Ee(this,"_value");xC(e,Bb,"FixedNumber"),te(this,dr,n),te(this,Hu,r);const i=JDt(n,r.decimals);Lt(this,{format:r.name,_value:i}),te(this,zo,Zg(r.decimals))}get signed(){return H(this,Hu).signed}get width(){return H(this,Hu).width}get decimals(){return H(this,Hu).decimals}get value(){return H(this,dr)}addUnsafe(e){return Fe(this,rr,tz).call(this,e)}add(e){return Fe(this,rr,tz).call(this,e,"add")}subUnsafe(e){return Fe(this,rr,nz).call(this,e)}sub(e){return Fe(this,rr,nz).call(this,e,"sub")}mulUnsafe(e){return Fe(this,rr,rz).call(this,e)}mul(e){return Fe(this,rr,rz).call(this,e,"mul")}mulSignal(e){Fe(this,rr,ay).call(this,e);const n=H(this,dr)*H(e,dr);return We(n%H(this,zo)===Ru,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),Fe(this,rr,jf).call(this,n/H(this,zo),"mulSignal")}divUnsafe(e){return Fe(this,rr,iz).call(this,e)}div(e){return Fe(this,rr,iz).call(this,e,"div")}divSignal(e){We(H(e,dr)!==Ru,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Fe(this,rr,ay).call(this,e);const n=H(this,dr)*H(this,zo);return We(n%H(e,dr)===Ru,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),Fe(this,rr,jf).call(this,n/H(e,dr),"divSignal")}cmp(e){let n=this.value,r=e.value;const i=this.decimals-e.decimals;return i>0?r*=Zg(i):i<0&&(n*=Zg(-i)),n<r?-1:n>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=H(this,dr);return H(this,dr)<Ru&&(e-=H(this,zo)-jv),e=H(this,dr)/H(this,zo)*H(this,zo),Fe(this,rr,jf).call(this,e,"floor")}ceiling(){let e=H(this,dr);return H(this,dr)>Ru&&(e+=H(this,zo)-jv),e=H(this,dr)/H(this,zo)*H(this,zo),Fe(this,rr,jf).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const n=this.decimals-e,r=ZDt*Zg(n-1);let i=this.value+r;const s=Zg(n);return i=i/s*s,u6(i,H(this,Hu),"round"),new rm(Bb,i,H(this,Hu))}isZero(){return H(this,dr)===Ru}isNegative(){return H(this,dr)<Ru}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return rm.fromString(this.toString(),e)}static fromValue(e,n,r){const i=n==null?0:wn(n),s=dM(r);let o=Et(e,"value");const a=i-s.decimals;if(a>0){const l=Zg(a);We(o%l===Ru,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=l}else a<0&&(o*=Zg(-a));return u6(o,s,"fromValue"),new rm(Bb,o,s)}static fromString(e,n){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);ye(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const i=dM(n);let s=r[2]||"0",o=r[3]||"";for(;o.length<i.decimals;)o+=f2;We(o.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,i.decimals);const a=BigInt(r[1]+s+o);return u6(a,i,"fromString"),new rm(Bb,a,i)}static fromBytes(e,n){let r=VN(vn(e,"value"));const i=dM(n);return i.signed&&(r=eI(r,i.width)),u6(r,i,"fromBytes"),new rm(Bb,r,i)}};Hu=new WeakMap,dr=new WeakMap,zo=new WeakMap,rr=new WeakSet,ay=function(e){ye(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},jf=function(e,n){return e=u6(e,H(this,Hu),n),new rm(Bb,e,H(this,Hu))},tz=function(e,n){return Fe(this,rr,ay).call(this,e),Fe(this,rr,jf).call(this,H(this,dr)+H(e,dr),n)},nz=function(e,n){return Fe(this,rr,ay).call(this,e),Fe(this,rr,jf).call(this,H(this,dr)-H(e,dr),n)},rz=function(e,n){return Fe(this,rr,ay).call(this,e),Fe(this,rr,jf).call(this,H(this,dr)*H(e,dr)/H(this,zo),n)},iz=function(e,n){return We(H(e,dr)!==Ru,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Fe(this,rr,ay).call(this,e),Fe(this,rr,jf).call(this,H(this,dr)*H(this,zo)/H(e,dr),n)};let ez=rm;function XDt(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function Xae(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function ele(t,e,n,r){const i=[];for(;n<e+1+r;){const s=tCe(t,n);i.push(s.result),n+=s.consumed,We(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:i}}function tCe(t,e){We(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{We(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const i=Xae(t,e+1,r);return n(e+1+r+i),ele(t,e,e+1+r,r+i)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),ele(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const i=Xae(t,e+1,r);n(e+1+r+i);const s=pt(t.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:s}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const i=pt(t.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:XDt(t[e])}}function EC(t){const e=vn(t,"data"),n=tCe(e,0);return ye(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function tle(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function nCe(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(s){r=r.concat(nCe(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=tle(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(vn(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=tle(e.length);return n.unshift(183+n.length),n.concat(e)}const nle="0123456789abcdef";function Ag(t){let e="0x";for(const n of nCe(t))e+=nle[n>>4],e+=nle[n&15];return e}function eBt(t,e){let n=18;return n=wn(e,"unit"),ez.fromValue(t,n,{decimals:n,width:512}).toString()}const ia=32,sz=new Uint8Array(ia),tBt=["then"],r9={},rCe=new WeakMap;function yy(t){return rCe.get(t)}function rle(t,e){rCe.set(t,e)}function d6(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function oz(t,e,n){return t.indexOf(null)>=0?e.map((r,i)=>r instanceof i3?oz(yy(r),r,n):r):t.reduce((r,i,s)=>{let o=e.getValue(i);return i in r||(n&&o instanceof i3&&(o=oz(yy(o),o,n)),r[i]=o),r},{})}var R2;const Dv=class Dv extends Array{constructor(...n){const r=n[0];let i=n[1],s=(n[2]||[]).slice(),o=!0;r!==r9&&(i=n,s=[],o=!1);super(i.length);ve(this,R2);i.forEach((c,u)=>{this[u]=c});const a=s.reduce((c,u)=>(typeof u=="string"&&c.set(u,(c.get(u)||0)+1),c),new Map);if(rle(this,Object.freeze(i.map((c,u)=>{const h=s[u];return h!=null&&a.get(h)===1?h:null}))),te(this,R2,[]),H(this,R2)==null&&H(this,R2),!o)return;Object.freeze(this);const l=new Proxy(this,{get:(c,u,h)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const p=wn(u,"%index");if(p<0||p>=this.length)throw new RangeError("out of result range");const m=c[p];return m instanceof Error&&d6(`index ${p}`,m),m}if(tBt.indexOf(u)>=0)return Reflect.get(c,u,h);const f=c[u];if(f instanceof Function)return function(...p){return f.apply(this===h?c:this,p)};if(!(u in c))return c.getValue.apply(this===h?c:this,[u])}return Reflect.get(c,u,h)}});return rle(l,yy(this)),l}toArray(n){const r=[];return this.forEach((i,s)=>{i instanceof Error&&d6(`index ${s}`,i),n&&i instanceof Dv&&(i=i.toArray(n)),r.push(i)}),r}toObject(n){const r=yy(this);return r.reduce((i,s,o)=>(We(s!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),oz(r,this,n)),{})}slice(n,r){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const i=yy(this),s=[],o=[];for(let a=n;a<r;a++)s.push(this[a]),o.push(i[a]);return new Dv(r9,s,o)}filter(n,r){const i=yy(this),s=[],o=[];for(let a=0;a<this.length;a++){const l=this[a];l instanceof Error&&d6(`index ${a}`,l),n.call(r,l,a,this)&&(s.push(l),o.push(i[a]))}return new Dv(r9,s,o)}map(n,r){const i=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&d6(`index ${s}`,o),i.push(n.call(r,o,s,this))}return i}getValue(n){const r=yy(this).indexOf(n);if(r===-1)return;const i=this[r];return i instanceof Error&&d6(`property ${JSON.stringify(n)}`,i.error),i}static fromItems(n,r){return new Dv(r9,n,r)}};R2=new WeakMap;let i3=Dv;function ile(t){let e=is(t);return We(e.length<=ia,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:ia,offset:e.length}),e.length!==ia&&(e=ea(yi([sz.slice(e.length%ia),e]))),e}class a0{constructor(e,n,r,i){Ee(this,"name");Ee(this,"type");Ee(this,"localName");Ee(this,"dynamic");Lt(this,{name:e,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){ye(!1,e,this.localName,n)}}var Xf,r1,j2,ES;class az{constructor(){ve(this,j2);ve(this,Xf);ve(this,r1);te(this,Xf,[]),te(this,r1,0)}get data(){return yi(H(this,Xf))}get length(){return H(this,r1)}appendWriter(e){return Fe(this,j2,ES).call(this,ea(e.data))}writeBytes(e){let n=ea(e);const r=n.length%ia;return r&&(n=ea(yi([n,sz.slice(r)]))),Fe(this,j2,ES).call(this,n)}writeValue(e){return Fe(this,j2,ES).call(this,ile(e))}writeUpdatableValue(){const e=H(this,Xf).length;return H(this,Xf).push(sz),te(this,r1,H(this,r1)+ia),n=>{H(this,Xf)[e]=ile(n)}}}Xf=new WeakMap,r1=new WeakMap,j2=new WeakSet,ES=function(e){return H(this,Xf).push(e),te(this,r1,H(this,r1)+e.length),e.length};var Ta,Sl,i1,s1,vm,xw,cz,iCe;const xY=class xY{constructor(e,n,r){ve(this,xw);Ee(this,"allowLoose");ve(this,Ta);ve(this,Sl);ve(this,i1);ve(this,s1);ve(this,vm);Lt(this,{allowLoose:!!n}),te(this,Ta,ea(e)),te(this,i1,0),te(this,s1,null),te(this,vm,r??1024),te(this,Sl,0)}get data(){return pt(H(this,Ta))}get dataLength(){return H(this,Ta).length}get consumed(){return H(this,Sl)}get bytes(){return new Uint8Array(H(this,Ta))}subReader(e){const n=new xY(H(this,Ta).slice(H(this,Sl)+e),this.allowLoose,H(this,vm));return te(n,s1,this),n}readBytes(e,n){let r=Fe(this,xw,iCe).call(this,0,e,!!n);return Fe(this,xw,cz).call(this,e),te(this,Sl,H(this,Sl)+r.length),r.slice(0,e)}readValue(){return VN(this.readBytes(ia))}readIndex(){return jDt(this.readBytes(ia))}};Ta=new WeakMap,Sl=new WeakMap,i1=new WeakMap,s1=new WeakMap,vm=new WeakMap,xw=new WeakSet,cz=function(e){var n;if(H(this,s1))return Fe(n=H(this,s1),xw,cz).call(n,e);te(this,i1,H(this,i1)+e),We(H(this,vm)<1||H(this,i1)<=H(this,vm)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${H(this,vm)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:ea(H(this,Ta)),offset:H(this,Sl),length:e,info:{bytesRead:H(this,i1),dataLength:this.dataLength}})},iCe=function(e,n,r){let i=Math.ceil(n/ia)*ia;return H(this,Sl)+i>H(this,Ta).length&&(this.allowLoose&&r&&H(this,Sl)+n<=H(this,Ta).length?i=n:We(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:ea(H(this,Ta)),length:H(this,Ta).length,offset:H(this,Sl)+i})),H(this,Ta).slice(H(this,Sl),H(this,Sl)+i)};let lz=xY;function nI(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function _K(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function nBt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");nI(t.outputLen),nI(t.blockLen)}function s3(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function sCe(t,e){_K(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const hM=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const oCe=t=>t instanceof Uint8Array,rBt=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),fM=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Kd=(t,e)=>t<<32-e|t>>>e,iBt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!iBt)throw new Error("Non little-endian hardware is not supported");function sBt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function qN(t){if(typeof t=="string"&&(t=sBt(t)),!oCe(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function oBt(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!oCe(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}let IK=class{clone(){return this._cloneInto()}};function TK(t){const e=r=>t().update(qN(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function aBt(t=32){if(hM&&typeof hM.getRandomValues=="function")return hM.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}let aCe=class extends IK{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,nBt(e);const r=qN(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return s3(this),this.iHash.update(e),this}digestInto(e){s3(this),_K(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const lCe=(t,e,n)=>new aCe(t,e).update(n).digest();lCe.create=(t,e)=>new aCe(t,e);function lBt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}class cCe extends IK{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=fM(this.buffer)}update(e){s3(this);const{view:n,buffer:r,blockLen:i}=this;e=qN(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=fM(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){s3(this),sCe(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;lBt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=fM(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const cBt=(t,e,n)=>t&e^~t&n,uBt=(t,e,n)=>t&e^t&n^e&n,dBt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),R0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),j0=new Uint32Array(64);let hBt=class extends cCe{constructor(){super(64,32,8,!1),this.A=R0[0]|0,this.B=R0[1]|0,this.C=R0[2]|0,this.D=R0[3]|0,this.E=R0[4]|0,this.F=R0[5]|0,this.G=R0[6]|0,this.H=R0[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)j0[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const f=j0[h-15],p=j0[h-2],m=Kd(f,7)^Kd(f,18)^f>>>3,g=Kd(p,17)^Kd(p,19)^p>>>10;j0[h]=g+j0[h-7]+m+j0[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=Kd(a,6)^Kd(a,11)^Kd(a,25),p=u+f+cBt(a,l,c)+dBt[h]+j0[h]|0,g=(Kd(r,2)^Kd(r,13)^Kd(r,22))+uBt(r,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=r,r=p+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){j0.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const uCe=TK(()=>new hBt),i9=BigInt(2**32-1),uz=BigInt(32);function dCe(t,e=!1){return e?{h:Number(t&i9),l:Number(t>>uz&i9)}:{h:Number(t>>uz&i9)|0,l:Number(t&i9)|0}}function hCe(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=dCe(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const fBt=(t,e)=>BigInt(t>>>0)<<uz|BigInt(e>>>0),pBt=(t,e,n)=>t>>>n,mBt=(t,e,n)=>t<<32-n|e>>>n,gBt=(t,e,n)=>t>>>n|e<<32-n,yBt=(t,e,n)=>t<<32-n|e>>>n,wBt=(t,e,n)=>t<<64-n|e>>>n-32,bBt=(t,e,n)=>t>>>n-32|e<<64-n,vBt=(t,e)=>e,xBt=(t,e)=>t,fCe=(t,e,n)=>t<<n|e>>>32-n,pCe=(t,e,n)=>e<<n|t>>>32-n,mCe=(t,e,n)=>e<<n-32|t>>>64-n,gCe=(t,e,n)=>t<<n-32|e>>>64-n;function EBt(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const ABt=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),CBt=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,kBt=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),SBt=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,_Bt=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),IBt=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,pn={fromBig:dCe,split:hCe,toBig:fBt,shrSH:pBt,shrSL:mBt,rotrSH:gBt,rotrSL:yBt,rotrBH:wBt,rotrBL:bBt,rotr32H:vBt,rotr32L:xBt,rotlSH:fCe,rotlSL:pCe,rotlBH:mCe,rotlBL:gCe,add:EBt,add3L:ABt,add3H:CBt,add4L:kBt,add4H:SBt,add5H:IBt,add5L:_Bt},[TBt,$Bt]=pn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),O0=new Uint32Array(80),M0=new Uint32Array(80);let NBt=class extends cCe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:f,Gh:p,Gl:m,Hh:g,Hl:y}=this;return[e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y]}set(e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=m|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let b=0;b<16;b++,n+=4)O0[b]=e.getUint32(n),M0[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const A=O0[b-15]|0,E=M0[b-15]|0,$=pn.rotrSH(A,E,1)^pn.rotrSH(A,E,8)^pn.shrSH(A,E,7),N=pn.rotrSL(A,E,1)^pn.rotrSL(A,E,8)^pn.shrSL(A,E,7),R=O0[b-2]|0,j=M0[b-2]|0,F=pn.rotrSH(R,j,19)^pn.rotrBH(R,j,61)^pn.shrSH(R,j,6),W=pn.rotrSL(R,j,19)^pn.rotrBL(R,j,61)^pn.shrSL(R,j,6),V=pn.add4L(N,W,M0[b-7],M0[b-16]),B=pn.add4H(V,$,F,O0[b-7],O0[b-16]);O0[b]=B|0,M0[b]=V|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:f,Fh:p,Fl:m,Gh:g,Gl:y,Hh:w,Hl:v}=this;for(let b=0;b<80;b++){const A=pn.rotrSH(h,f,14)^pn.rotrSH(h,f,18)^pn.rotrBH(h,f,41),E=pn.rotrSL(h,f,14)^pn.rotrSL(h,f,18)^pn.rotrBL(h,f,41),$=h&p^~h&g,N=f&m^~f&y,R=pn.add5L(v,E,N,$Bt[b],M0[b]),j=pn.add5H(R,w,A,$,TBt[b],O0[b]),F=R|0,W=pn.rotrSH(r,i,28)^pn.rotrBH(r,i,34)^pn.rotrBH(r,i,39),V=pn.rotrSL(r,i,28)^pn.rotrBL(r,i,34)^pn.rotrBL(r,i,39),B=r&s^r&a^s&a,k=i&o^i&l^o&l;w=g|0,v=y|0,g=p|0,y=m|0,p=h|0,m=f|0,{h,l:f}=pn.add(c|0,u|0,j|0,F|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const C=pn.add3L(F,V,k);r=pn.add3H(C,j,W,B),i=C|0}({h:r,l:i}=pn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=pn.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=pn.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=pn.add(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:f}=pn.add(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:m}=pn.add(this.Fh|0,this.Fl|0,p|0,m|0),{h:g,l:y}=pn.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:v}=pn.add(this.Hh|0,this.Hl|0,w|0,v|0),this.set(r,i,s,o,a,l,c,u,h,f,p,m,g,y,w,v)}roundClean(){O0.fill(0),M0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const PBt=TK(()=>new NBt);function RBt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}const sle=RBt();sle.crypto||sle.msCrypto;function jBt(t){switch(t){case"sha256":return uCe.create();case"sha512":return PBt.create()}ye(!1,"invalid hashing algorithm name","algorithm",t)}const[yCe,wCe,bCe]=[[],[],[]],OBt=BigInt(0),h6=BigInt(1),MBt=BigInt(2),DBt=BigInt(7),BBt=BigInt(256),LBt=BigInt(113);for(let t=0,e=h6,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],yCe.push(2*(5*r+n)),wCe.push((t+1)*(t+2)/2%64);let i=OBt;for(let s=0;s<7;s++)e=(e<<h6^(e>>DBt)*LBt)%BBt,e&MBt&&(i^=h6<<(h6<<BigInt(s))-h6);bCe.push(i)}const[FBt,UBt]=hCe(bCe,!0),ole=(t,e,n)=>n>32?mCe(t,e,n):fCe(t,e,n),ale=(t,e,n)=>n>32?gCe(t,e,n):pCe(t,e,n);function zBt(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],u=n[l+1],h=ole(c,u,1)^n[a],f=ale(c,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=wCe[o],l=ole(i,s,a),c=ale(i,s,a),u=yCe[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=FBt[r],t[1]^=UBt[r]}n.fill(0)}class $K extends IK{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,nI(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=rBt(this.state)}keccak(){zBt(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){s3(this);const{blockLen:n,state:r}=this;e=qN(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){s3(this,!1),_K(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return nI(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(sCe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new $K(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const WBt=(t,e,n)=>TK(()=>new $K(e,t,n)),HBt=WBt(1,136,256/8);let vCe=!1;const xCe=function(t){return HBt(t)};let ECe=xCe;function Gi(t){const e=vn(t,"data");return pt(ECe(e))}Gi._=xCe;Gi.lock=function(){vCe=!0};Gi.register=function(t){if(vCe)throw new TypeError("keccak256 is locked");ECe=t};Object.freeze(Gi);const ACe=function(t){return jBt("sha256").update(t).digest()};let CCe=ACe,kCe=!1;function o5(t){const e=vn(t,"data");return pt(CCe(e))}o5._=ACe;o5.lock=function(){kCe=!0};o5.register=function(t){if(kCe)throw new Error("sha256 is locked");CCe=t};Object.freeze(o5);Object.freeze(o5);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const SCe=BigInt(0),GN=BigInt(1),VBt=BigInt(2),KN=t=>t instanceof Uint8Array,qBt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function o3(t){if(!KN(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=qBt[t[n]];return e}function _Ce(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function NK(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function a3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function P1(t){return NK(o3(t))}function PK(t){if(!KN(t))throw new Error("Uint8Array expected");return NK(o3(Uint8Array.from(t).reverse()))}function l3(t,e){return a3(t.toString(16).padStart(e*2,"0"))}function RK(t,e){return l3(t,e).reverse()}function GBt(t){return a3(_Ce(t))}function Lu(t,e,n){let r;if(typeof e=="string")try{r=a3(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(KN(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function AE(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!KN(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function KBt(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function YBt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function QBt(t){let e;for(e=0;t>SCe;t>>=GN,e+=1);return e}function ZBt(t,e){return t>>BigInt(e)&GN}const JBt=(t,e,n)=>t|(n?GN:SCe)<<BigInt(e),jK=t=>(VBt<<BigInt(t-1))-GN,pM=t=>new Uint8Array(t),lle=t=>Uint8Array.from(t);function ICe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=pM(t),i=pM(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...h)=>n(i,r,...h),l=(h=pM())=>{i=a(lle([0]),h),r=a(),h.length!==0&&(i=a(lle([1]),h),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){r=a();const p=r.slice();f.push(p),h+=r.length}return AE(...f)};return(h,f)=>{o(),l(h);let p;for(;!(p=f(c()));)l();return o(),p}}const XBt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function AC(t,e,n={}){const r=(i,s,o)=>{const a=XBt[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const eLt=Object.freeze(Object.defineProperty({__proto__:null,bitGet:ZBt,bitLen:QBt,bitMask:jK,bitSet:JBt,bytesToHex:o3,bytesToNumberBE:P1,bytesToNumberLE:PK,concatBytes:AE,createHmacDrbg:ICe,ensureBytes:Lu,equalBytes:KBt,hexToBytes:a3,hexToNumber:NK,numberToBytesBE:l3,numberToBytesLE:RK,numberToHexUnpadded:_Ce,numberToVarBytesBE:GBt,utf8ToBytes:YBt,validateObject:AC},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Es=BigInt(0),ji=BigInt(1),wy=BigInt(2),tLt=BigInt(3),dz=BigInt(4),cle=BigInt(5),ule=BigInt(8);BigInt(9);BigInt(16);function Ma(t,e){const n=t%e;return n>=Es?n:e+n}function nLt(t,e,n){if(n<=Es||e<Es)throw new Error("Expected power/modulo > 0");if(n===ji)return Es;let r=ji;for(;e>Es;)e&ji&&(r=r*t%n),t=t*t%n,e>>=ji;return r}function xc(t,e,n){let r=t;for(;e-- >Es;)r*=r,r%=n;return r}function hz(t,e){if(t===Es||e<=Es)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Ma(t,e),r=e,i=Es,s=ji;for(;n!==Es;){const a=r/n,l=r%n,c=i-s*a;r=n,n=l,i=s,s=c}if(r!==ji)throw new Error("invert: does not exist");return Ma(i,e)}function rLt(t){const e=(t-ji)/wy;let n,r,i;for(n=t-ji,r=0;n%wy===Es;n/=wy,r++);for(i=wy;i<t&&nLt(i,e,t)!==t-ji;i++);if(r===1){const o=(t+ji)/dz;return function(l,c){const u=l.pow(c,o);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(n+ji)/wy;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,u=a.pow(a.mul(a.ONE,i),n),h=a.pow(l,s),f=a.pow(l,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let p=1;for(let g=a.sqr(f);p<c&&!a.eql(g,a.ONE);p++)g=a.sqr(g);const m=a.pow(u,ji<<BigInt(c-p-1));u=a.sqr(m),h=a.mul(h,m),f=a.mul(f,u),c=p}return h}}function iLt(t){if(t%dz===tLt){const e=(t+ji)/dz;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%ule===cle){const e=(t-cle)/ule;return function(r,i){const s=r.mul(i,wy),o=r.pow(s,e),a=r.mul(i,o),l=r.mul(r.mul(a,wy),o),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return rLt(t)}const sLt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function oLt(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=sLt.reduce((r,i)=>(r[i]="function",r),e);return AC(t,n)}function aLt(t,e,n){if(n<Es)throw new Error("Expected power > 0");if(n===Es)return t.ONE;if(n===ji)return e;let r=t.ONE,i=e;for(;n>Es;)n&ji&&(r=t.mul(r,i)),i=t.sqr(i),n>>=ji;return r}function lLt(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function TCe(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function cLt(t,e,n=!1,r={}){if(t<=Es)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=TCe(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=iLt(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:jK(i),ZERO:Es,ONE:ji,create:l=>Ma(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Es<=l&&l<t},is0:l=>l===Es,isOdd:l=>(l&ji)===ji,neg:l=>Ma(-l,t),eql:(l,c)=>l===c,sqr:l=>Ma(l*l,t),add:(l,c)=>Ma(l+c,t),sub:(l,c)=>Ma(l-c,t),mul:(l,c)=>Ma(l*c,t),pow:(l,c)=>aLt(a,l,c),div:(l,c)=>Ma(l*hz(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>hz(l,t),sqrt:r.sqrt||(l=>o(a,l)),invertBatch:l=>lLt(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?RK(l,s):l3(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return n?PK(l):P1(l)}});return Object.freeze(a)}function $Ce(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function NCe(t){const e=$Ce(t);return e+Math.ceil(e/2)}function uLt(t,e,n=!1){const r=t.length,i=$Ce(e),s=NCe(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=n?P1(t):PK(t),a=Ma(o,e-ji)+ji;return n?RK(a,i):l3(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dLt=BigInt(0),mM=BigInt(1);function hLt(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>dLt;)s&mM&&(o=o.add(a)),a=a.double(),s>>=mM;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),l=[];let c=i,u=c;for(let h=0;h<o;h++){u=c,l.push(u);for(let f=1;f<a;f++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(i,s,o){const{windows:a,windowSize:l}=r(i);let c=t.ZERO,u=t.BASE;const h=BigInt(2**i-1),f=2**i,p=BigInt(i);for(let m=0;m<a;m++){const g=m*l;let y=Number(o&h);o>>=p,y>l&&(y-=f,o+=mM);const w=g,v=g+Math.abs(y)-1,b=m%2!==0,A=y<0;y===0?u=u.add(n(b,s[w])):c=c.add(n(A,s[v]))}return{p:c,f:u}},wNAFCached(i,s,o,a){const l=i._WINDOW_SIZE||1;let c=s.get(i);return c||(c=this.precomputeWindow(i,l),l!==1&&s.set(i,a(c))),this.wNAF(l,c,o)}}}function PCe(t){return oLt(t.Fp),AC(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...TCe(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function fLt(t){const e=PCe(t);AC(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:pLt,hexToBytes:mLt}=eLt,zy={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=zy;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:pLt(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=zy,n=typeof t=="string"?mLt(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=zy._parseInt(n.subarray(2)),{d:o,l:a}=zy._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),l=n(o);return`30${n(o+s+4)}02${l}${i}02${a}${r}`}},cp=BigInt(0),Dc=BigInt(1);BigInt(2);const dle=BigInt(3);BigInt(4);function gLt(t){const e=fLt(t),{Fp:n}=e,r=e.toBytes||((m,g,y)=>{const w=g.toAffine();return AE(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),i=e.fromBytes||(m=>{const g=m.subarray(1),y=n.fromBytes(g.subarray(0,n.BYTES)),w=n.fromBytes(g.subarray(n.BYTES,2*n.BYTES));return{x:y,y:w}});function s(m){const{a:g,b:y}=e,w=n.sqr(m),v=n.mul(w,m);return n.add(n.add(v,n.mul(m,g)),y)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return typeof m=="bigint"&&cp<m&&m<e.n}function a(m){if(!o(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(m){const{allowedPrivateKeyLengths:g,nByteLength:y,wrapPrivateKey:w,n:v}=e;if(g&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=o3(m)),typeof m!="string"||!g.includes(m.length))throw new Error("Invalid key");m=m.padStart(y*2,"0")}let b;try{b=typeof m=="bigint"?m:P1(Lu("private key",m,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof m}`)}return w&&(b=Ma(b,v)),a(b),b}const c=new Map;function u(m){if(!(m instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(g,y,w){if(this.px=g,this.py=y,this.pz=w,g==null||!n.isValid(g))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required")}static fromAffine(g){const{x:y,y:w}=g||{};if(!g||!n.isValid(y)||!n.isValid(w))throw new Error("invalid affine point");if(g instanceof h)throw new Error("projective point not allowed");const v=b=>n.eql(b,n.ZERO);return v(y)&&v(w)?h.ZERO:new h(y,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const y=n.invertBatch(g.map(w=>w.pz));return g.map((w,v)=>w.toAffine(y[v])).map(h.fromAffine)}static fromHex(g){const y=h.fromAffine(i(Lu("pointHex",g)));return y.assertValidity(),y}static fromPrivateKey(g){return h.BASE.multiply(l(g))}_setWindowSize(g){this._WINDOW_SIZE=g,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y}=this.toAffine();if(!n.isValid(g)||!n.isValid(y))throw new Error("bad point: x or y not FE");const w=n.sqr(y),v=s(g);if(!n.eql(w,v))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(n.isOdd)return!n.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){u(g);const{px:y,py:w,pz:v}=this,{px:b,py:A,pz:E}=g,$=n.eql(n.mul(y,E),n.mul(b,v)),N=n.eql(n.mul(w,E),n.mul(A,v));return $&&N}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:g,b:y}=e,w=n.mul(y,dle),{px:v,py:b,pz:A}=this;let E=n.ZERO,$=n.ZERO,N=n.ZERO,R=n.mul(v,v),j=n.mul(b,b),F=n.mul(A,A),W=n.mul(v,b);return W=n.add(W,W),N=n.mul(v,A),N=n.add(N,N),E=n.mul(g,N),$=n.mul(w,F),$=n.add(E,$),E=n.sub(j,$),$=n.add(j,$),$=n.mul(E,$),E=n.mul(W,E),N=n.mul(w,N),F=n.mul(g,F),W=n.sub(R,F),W=n.mul(g,W),W=n.add(W,N),N=n.add(R,R),R=n.add(N,R),R=n.add(R,F),R=n.mul(R,W),$=n.add($,R),F=n.mul(b,A),F=n.add(F,F),R=n.mul(F,W),E=n.sub(E,R),N=n.mul(F,j),N=n.add(N,N),N=n.add(N,N),new h(E,$,N)}add(g){u(g);const{px:y,py:w,pz:v}=this,{px:b,py:A,pz:E}=g;let $=n.ZERO,N=n.ZERO,R=n.ZERO;const j=e.a,F=n.mul(e.b,dle);let W=n.mul(y,b),V=n.mul(w,A),B=n.mul(v,E),k=n.add(y,w),C=n.add(b,A);k=n.mul(k,C),C=n.add(W,V),k=n.sub(k,C),C=n.add(y,v);let S=n.add(b,E);return C=n.mul(C,S),S=n.add(W,B),C=n.sub(C,S),S=n.add(w,v),$=n.add(A,E),S=n.mul(S,$),$=n.add(V,B),S=n.sub(S,$),R=n.mul(j,C),$=n.mul(F,B),R=n.add($,R),$=n.sub(V,R),R=n.add(V,R),N=n.mul($,R),V=n.add(W,W),V=n.add(V,W),B=n.mul(j,B),C=n.mul(F,C),V=n.add(V,B),B=n.sub(W,B),B=n.mul(j,B),C=n.add(C,B),W=n.mul(V,C),N=n.add(N,W),W=n.mul(S,C),$=n.mul(k,$),$=n.sub($,W),W=n.mul(k,V),R=n.mul(S,R),R=n.add(R,W),new h($,N,R)}subtract(g){return this.add(g.negate())}is0(){return this.equals(h.ZERO)}wNAF(g){return p.wNAFCached(this,c,g,y=>{const w=n.invertBatch(y.map(v=>v.pz));return y.map((v,b)=>v.toAffine(w[b])).map(h.fromAffine)})}multiplyUnsafe(g){const y=h.ZERO;if(g===cp)return y;if(a(g),g===Dc)return this;const{endo:w}=e;if(!w)return p.unsafeLadder(this,g);let{k1neg:v,k1:b,k2neg:A,k2:E}=w.splitScalar(g),$=y,N=y,R=this;for(;b>cp||E>cp;)b&Dc&&($=$.add(R)),E&Dc&&(N=N.add(R)),R=R.double(),b>>=Dc,E>>=Dc;return v&&($=$.negate()),A&&(N=N.negate()),N=new h(n.mul(N.px,w.beta),N.py,N.pz),$.add(N)}multiply(g){a(g);let y=g,w,v;const{endo:b}=e;if(b){const{k1neg:A,k1:E,k2neg:$,k2:N}=b.splitScalar(y);let{p:R,f:j}=this.wNAF(E),{p:F,f:W}=this.wNAF(N);R=p.constTimeNegate(A,R),F=p.constTimeNegate($,F),F=new h(n.mul(F.px,b.beta),F.py,F.pz),w=R.add(F),v=j.add(W)}else{const{p:A,f:E}=this.wNAF(y);w=A,v=E}return h.normalizeZ([w,v])[0]}multiplyAndAddUnsafe(g,y,w){const v=h.BASE,b=(E,$)=>$===cp||$===Dc||!E.equals(v)?E.multiplyUnsafe($):E.multiply($),A=b(this,y).add(b(g,w));return A.is0()?void 0:A}toAffine(g){const{px:y,py:w,pz:v}=this,b=this.is0();g==null&&(g=b?n.ONE:n.inv(v));const A=n.mul(y,g),E=n.mul(w,g),$=n.mul(v,g);if(b)return{x:n.ZERO,y:n.ZERO};if(!n.eql($,n.ONE))throw new Error("invZ was invalid");return{x:A,y:E}}isTorsionFree(){const{h:g,isTorsionFree:y}=e;if(g===Dc)return!0;if(y)return y(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:y}=e;return g===Dc?this:y?y(h,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return this.assertValidity(),r(h,this,g)}toHex(g=!0){return o3(this.toRawBytes(g))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const f=e.nBitLength,p=hLt(h,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:o}}function yLt(t){const e=PCe(t);return AC(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function wLt(t){const e=yLt(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(C){return cp<C&&C<n.ORDER}function a(C){return Ma(C,r)}function l(C){return hz(C,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:h,isWithinCurveOrder:f}=gLt({...e,toBytes(C,S,T){const _=S.toAffine(),P=n.toBytes(_.x),L=AE;return T?L(Uint8Array.from([S.hasEvenY()?2:3]),P):L(Uint8Array.from([4]),P,n.toBytes(_.y))},fromBytes(C){const S=C.length,T=C[0],_=C.subarray(1);if(S===i&&(T===2||T===3)){const P=P1(_);if(!o(P))throw new Error("Point is not on curve");const L=h(P);let O=n.sqrt(L);const I=(O&Dc)===Dc;return(T&1)===1!==I&&(O=n.neg(O)),{x:P,y:O}}else if(S===s&&T===4){const P=n.fromBytes(_.subarray(0,n.BYTES)),L=n.fromBytes(_.subarray(n.BYTES,2*n.BYTES));return{x:P,y:L}}else throw new Error(`Point of length ${S} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),p=C=>o3(l3(C,e.nByteLength));function m(C){const S=r>>Dc;return C>S}function g(C){return m(C)?a(-C):C}const y=(C,S,T)=>P1(C.slice(S,T));class w{constructor(S,T,_){this.r=S,this.s=T,this.recovery=_,this.assertValidity()}static fromCompact(S){const T=e.nByteLength;return S=Lu("compactSignature",S,T*2),new w(y(S,0,T),y(S,T,2*T))}static fromDER(S){const{r:T,s:_}=zy.toSig(Lu("DER",S));return new w(T,_)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(S){return new w(this.r,this.s,S)}recoverPublicKey(S){const{r:T,s:_,recovery:P}=this,L=N(Lu("msgHash",S));if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");const O=P===2||P===3?T+e.n:T;if(O>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const I=P&1?"03":"02",D=c.fromHex(I+p(O)),Y=l(O),M=a(-L*Y),Q=a(_*Y),ee=c.BASE.multiplyAndAddUnsafe(D,M,Q);if(!ee)throw new Error("point at infinify");return ee.assertValidity(),ee}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return a3(this.toDERHex())}toDERHex(){return zy.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return a3(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const v={isValidPrivateKey(C){try{return u(C),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const C=NCe(e.n);return uLt(e.randomBytes(C),e.n)},precompute(C=8,S=c.BASE){return S._setWindowSize(C),S.multiply(BigInt(3)),S}};function b(C,S=!0){return c.fromPrivateKey(C).toRawBytes(S)}function A(C){const S=C instanceof Uint8Array,T=typeof C=="string",_=(S||T)&&C.length;return S?_===i||_===s:T?_===2*i||_===2*s:C instanceof c}function E(C,S,T=!0){if(A(C))throw new Error("first arg must be private key");if(!A(S))throw new Error("second arg must be public key");return c.fromHex(S).multiply(u(C)).toRawBytes(T)}const $=e.bits2int||function(C){const S=P1(C),T=C.length*8-e.nBitLength;return T>0?S>>BigInt(T):S},N=e.bits2int_modN||function(C){return a($(C))},R=jK(e.nBitLength);function j(C){if(typeof C!="bigint")throw new Error("bigint expected");if(!(cp<=C&&C<R))throw new Error(`bigint expected < 2^${e.nBitLength}`);return l3(C,e.nByteLength)}function F(C,S,T=W){if(["recovered","canonical"].some(oe=>oe in T))throw new Error("sign() legacy options not supported");const{hash:_,randomBytes:P}=e;let{lowS:L,prehash:O,extraEntropy:I}=T;L==null&&(L=!0),C=Lu("msgHash",C),O&&(C=Lu("prehashed msgHash",_(C)));const D=N(C),Y=u(S),M=[j(Y),j(D)];if(I!=null){const oe=I===!0?P(n.BYTES):I;M.push(Lu("extraEntropy",oe))}const Q=AE(...M),ee=D;function J(oe){const de=$(oe);if(!f(de))return;const ae=l(de),he=c.BASE.multiply(de).toAffine(),be=a(he.x);if(be===cp)return;const fe=a(ae*a(ee+be*Y));if(fe===cp)return;let ke=(he.x===be?0:2)|Number(he.y&Dc),we=fe;return L&&m(fe)&&(we=g(fe),ke^=1),new w(be,we,ke)}return{seed:Q,k2sig:J}}const W={lowS:e.lowS,prehash:!1},V={lowS:e.lowS,prehash:!1};function B(C,S,T=W){const{seed:_,k2sig:P}=F(C,S,T),L=e;return ICe(L.hash.outputLen,L.nByteLength,L.hmac)(_,P)}c.BASE._setWindowSize(8);function k(C,S,T,_=V){var he;const P=C;if(S=Lu("msgHash",S),T=Lu("publicKey",T),"strict"in _)throw new Error("options.strict was renamed to lowS");const{lowS:L,prehash:O}=_;let I,D;try{if(typeof P=="string"||P instanceof Uint8Array)try{I=w.fromDER(P)}catch(be){if(!(be instanceof zy.Err))throw be;I=w.fromCompact(P)}else if(typeof P=="object"&&typeof P.r=="bigint"&&typeof P.s=="bigint"){const{r:be,s:fe}=P;I=new w(be,fe)}else throw new Error("PARSE");D=c.fromHex(T)}catch(be){if(be.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(L&&I.hasHighS())return!1;O&&(S=e.hash(S));const{r:Y,s:M}=I,Q=N(S),ee=l(M),J=a(Q*ee),oe=a(Y*ee),de=(he=c.BASE.multiplyAndAddUnsafe(D,J,oe))==null?void 0:he.toAffine();return de?a(de.x)===Y:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:E,sign:B,verify:k,ProjectivePoint:c,Signature:w,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function bLt(t){return{hash:t,hmac:(e,...n)=>lCe(t,e,oBt(...n)),randomBytes:aBt}}function vLt(t,e){const n=r=>wLt({...t,...bLt(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const RCe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),hle=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),xLt=BigInt(1),fz=BigInt(2),fle=(t,e)=>(t+e/fz)/e;function ELt(t){const e=RCe,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,h=xc(u,n,e)*u%e,f=xc(h,n,e)*u%e,p=xc(f,fz,e)*c%e,m=xc(p,i,e)*p%e,g=xc(m,s,e)*m%e,y=xc(g,a,e)*g%e,w=xc(y,l,e)*y%e,v=xc(w,a,e)*g%e,b=xc(v,n,e)*u%e,A=xc(b,o,e)*m%e,E=xc(A,r,e)*c%e,$=xc(E,fz,e);if(!pz.eql(pz.sqr($),t))throw new Error("Cannot find square root");return $}const pz=cLt(RCe,void 0,void 0,{sqrt:ELt}),q0=vLt({a:BigInt(0),b:BigInt(7),Fp:pz,n:hle,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=hle,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-xLt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=fle(s*t,e),l=fle(-r*t,e);let c=Ma(t-a*n-l*i,e),u=Ma(-a*r-l*s,e);const h=c>o,f=u>o;if(h&&(c=e-c),f&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:c,k2neg:f,k2:u}}}},uCe);BigInt(0);q0.ProjectivePoint;const CE="0x0000000000000000000000000000000000000000",ple="0x0000000000000000000000000000000000000000000000000000000000000000",mle=BigInt(0),gle=BigInt(1),yle=BigInt(2),wle=BigInt(27),ble=BigInt(28),s9=BigInt(35),Lb={};function vle(t){return Xp(is(t),32)}var O2,uh,M2,o1;const ju=class ju{constructor(e,n,r,i){ve(this,O2);ve(this,uh);ve(this,M2);ve(this,o1);xC(e,Lb,"Signature"),te(this,O2,n),te(this,uh,r),te(this,M2,i),te(this,o1,null)}get r(){return H(this,O2)}set r(e){ye(h2(e)===32,"invalid r","value",e),te(this,O2,pt(e))}get s(){return ye(parseInt(H(this,uh).substring(0,3))<8,"non-canonical s; use ._s","s",H(this,uh)),H(this,uh)}set s(e){ye(h2(e)===32,"invalid s","value",e),te(this,uh,pt(e))}get _s(){return H(this,uh)}isValid(){return parseInt(H(this,uh).substring(0,3))<8}get v(){return H(this,M2)}set v(e){const n=wn(e,"value");ye(n===27||n===28,"invalid v","v",e),te(this,M2,n)}get networkV(){return H(this,o1)}get legacyChainId(){const e=this.networkV;return e==null?null:ju.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=vn(this.s);return this.yParity&&(e[0]|=128),pt(e)}get compactSerialized(){return yi([this.r,this.yParityAndS])}get serialized(){return yi([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new ju(Lb,this.r,this._s,this.v);return this.networkV&&te(e,o1,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const n=Et(e,"v");return n==wle||n==ble?mle:(ye(n>=s9,"invalid EIP-155 v","v",e),(n-s9)/yle)}static getChainIdV(e,n){return Et(e)*yle+BigInt(35+n-27)}static getNormalizedV(e){const n=Et(e);return n===mle||n===wle?27:n===gle||n===ble?28:(ye(n>=s9,"invalid v","v",e),n&gle?27:28)}static from(e){function n(c,u){ye(c,u,"signature",e)}if(e==null)return new ju(Lb,ple,ple,27);if(typeof e=="string"){const c=vn(e,"signature");if(c.length===64){const u=pt(c.slice(0,32)),h=c.slice(32,64),f=h[0]&128?28:27;return h[0]&=127,new ju(Lb,u,pt(h),f)}if(c.length===65){const u=pt(c.slice(0,32)),h=pt(c.slice(32,64)),f=ju.getNormalizedV(c[64]);return new ju(Lb,u,h,f)}n(!1,"invalid raw signature length")}if(e instanceof ju)return e.clone();const r=e.r;n(r!=null,"missing r");const i=vle(r),s=function(c,u){if(c!=null)return vle(c);if(u!=null){n(_r(u,32),"invalid yParityAndS");const h=vn(u);return h[0]&=127,pt(h)}n(!1,"missing s")}(e.s,e.yParityAndS),{networkV:o,v:a}=function(c,u,h){if(c!=null){const f=Et(c);return{networkV:f>=s9?f:void 0,v:ju.getNormalizedV(f)}}if(u!=null)return n(_r(u,32),"invalid yParityAndS"),{v:vn(u)[0]&128?28:27};if(h!=null){switch(wn(h,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),l=new ju(Lb,i,s,a);return o&&te(l,o1,o),n(e.yParity==null||wn(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}};O2=new WeakMap,uh=new WeakMap,M2=new WeakMap,o1=new WeakMap;let el=ju;var ep;const Ay=class Ay{constructor(e){ve(this,ep);ye(h2(e)===32,"invalid private key","privateKey","[REDACTED]"),te(this,ep,pt(e))}get privateKey(){return H(this,ep)}get publicKey(){return Ay.computePublicKey(H(this,ep))}get compressedPublicKey(){return Ay.computePublicKey(H(this,ep),!0)}sign(e){ye(h2(e)===32,"invalid digest length","digest",e);const n=q0.sign(ea(e),ea(H(this,ep)),{lowS:!0});return el.from({r:Eg(n.r,32),s:Eg(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=Ay.computePublicKey(e);return pt(q0.getSharedSecret(ea(H(this,ep)),vn(n),!1))}static computePublicKey(e,n){let r=vn(e,"key");if(r.length===32){const s=q0.getPublicKey(r,!!n);return pt(s)}if(r.length===64){const s=new Uint8Array(65);s[0]=4,s.set(r,1),r=s}const i=q0.ProjectivePoint.fromHex(r);return pt(i.toRawBytes(n))}static recoverPublicKey(e,n){ye(h2(e)===32,"invalid digest length","digest",e);const r=el.from(n);let i=q0.Signature.fromCompact(ea(yi([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const s=i.recoverPublicKey(ea(e));return ye(s!=null,"invalid signature for digest","signature",n),"0x"+s.toHex(!1)}static addPoints(e,n,r){const i=q0.ProjectivePoint.fromHex(Ay.computePublicKey(e).substring(2)),s=q0.ProjectivePoint.fromHex(Ay.computePublicKey(n).substring(2));return"0x"+i.add(s).toHex(!!r)}};ep=new WeakMap;let kE=Ay;const ALt=BigInt(0),CLt=BigInt(36);function xle(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=vn(Gi(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const OK={};for(let t=0;t<10;t++)OK[String(t)]=String(t);for(let t=0;t<26;t++)OK[String.fromCharCode(65+t)]=String(10+t);const Ele=15;function kLt(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>OK[r]).join("");for(;e.length>=Ele;){let r=e.substring(0,Ele);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const SLt=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function _Lt(t){t=t.toLowerCase();let e=ALt;for(let n=0;n<t.length;n++)e=e*CLt+SLt[t[n]];return e}function ir(t){if(ye(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=xle(t);return ye(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){ye(t.substring(2,4)===kLt(t),"bad icap checksum","address",t);let e=_Lt(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return xle("0x"+e)}ye(!1,"invalid address","address",t)}function ILt(t){const e=ir(t.from);let r=Et(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,ir(hi(Gi(Ag([e,r])),12))}function jCe(t){return t&&typeof t.getAddress=="function"}async function gM(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(We(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),ye(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),ir(n)}function sa(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?ir(t):(We(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),gM(t,e.resolveName(t)));if(jCe(t))return gM(t,t.getAddress());if(t&&typeof t.then=="function")return gM(t,t);ye(!1,"unsupported addressable value","target",t)}const Lf={};function vt(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new Oo(Lf,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function Kn(t,e){return new Oo(Lf,`bytes${e||""}`,t,{size:e})}const Ale=Symbol.for("_ethers_typed");var a1;const Ff=class Ff{constructor(e,n,r,i){Ee(this,"type");Ee(this,"value");ve(this,a1);Ee(this,"_typedSymbol");i==null&&(i=null),xC(Lf,e,"Typed"),Lt(this,{_typedSymbol:Ale,type:n,value:r}),te(this,a1,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return H(this,a1)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return H(this,a1)===!0?-1:H(this,a1)===!1?this.value.length:null}static from(e,n){return new Ff(Lf,e,n)}static uint8(e){return vt(e,8)}static uint16(e){return vt(e,16)}static uint24(e){return vt(e,24)}static uint32(e){return vt(e,32)}static uint40(e){return vt(e,40)}static uint48(e){return vt(e,48)}static uint56(e){return vt(e,56)}static uint64(e){return vt(e,64)}static uint72(e){return vt(e,72)}static uint80(e){return vt(e,80)}static uint88(e){return vt(e,88)}static uint96(e){return vt(e,96)}static uint104(e){return vt(e,104)}static uint112(e){return vt(e,112)}static uint120(e){return vt(e,120)}static uint128(e){return vt(e,128)}static uint136(e){return vt(e,136)}static uint144(e){return vt(e,144)}static uint152(e){return vt(e,152)}static uint160(e){return vt(e,160)}static uint168(e){return vt(e,168)}static uint176(e){return vt(e,176)}static uint184(e){return vt(e,184)}static uint192(e){return vt(e,192)}static uint200(e){return vt(e,200)}static uint208(e){return vt(e,208)}static uint216(e){return vt(e,216)}static uint224(e){return vt(e,224)}static uint232(e){return vt(e,232)}static uint240(e){return vt(e,240)}static uint248(e){return vt(e,248)}static uint256(e){return vt(e,256)}static uint(e){return vt(e,256)}static int8(e){return vt(e,-8)}static int16(e){return vt(e,-16)}static int24(e){return vt(e,-24)}static int32(e){return vt(e,-32)}static int40(e){return vt(e,-40)}static int48(e){return vt(e,-48)}static int56(e){return vt(e,-56)}static int64(e){return vt(e,-64)}static int72(e){return vt(e,-72)}static int80(e){return vt(e,-80)}static int88(e){return vt(e,-88)}static int96(e){return vt(e,-96)}static int104(e){return vt(e,-104)}static int112(e){return vt(e,-112)}static int120(e){return vt(e,-120)}static int128(e){return vt(e,-128)}static int136(e){return vt(e,-136)}static int144(e){return vt(e,-144)}static int152(e){return vt(e,-152)}static int160(e){return vt(e,-160)}static int168(e){return vt(e,-168)}static int176(e){return vt(e,-176)}static int184(e){return vt(e,-184)}static int192(e){return vt(e,-192)}static int200(e){return vt(e,-200)}static int208(e){return vt(e,-208)}static int216(e){return vt(e,-216)}static int224(e){return vt(e,-224)}static int232(e){return vt(e,-232)}static int240(e){return vt(e,-240)}static int248(e){return vt(e,-248)}static int256(e){return vt(e,-256)}static int(e){return vt(e,-256)}static bytes1(e){return Kn(e,1)}static bytes2(e){return Kn(e,2)}static bytes3(e){return Kn(e,3)}static bytes4(e){return Kn(e,4)}static bytes5(e){return Kn(e,5)}static bytes6(e){return Kn(e,6)}static bytes7(e){return Kn(e,7)}static bytes8(e){return Kn(e,8)}static bytes9(e){return Kn(e,9)}static bytes10(e){return Kn(e,10)}static bytes11(e){return Kn(e,11)}static bytes12(e){return Kn(e,12)}static bytes13(e){return Kn(e,13)}static bytes14(e){return Kn(e,14)}static bytes15(e){return Kn(e,15)}static bytes16(e){return Kn(e,16)}static bytes17(e){return Kn(e,17)}static bytes18(e){return Kn(e,18)}static bytes19(e){return Kn(e,19)}static bytes20(e){return Kn(e,20)}static bytes21(e){return Kn(e,21)}static bytes22(e){return Kn(e,22)}static bytes23(e){return Kn(e,23)}static bytes24(e){return Kn(e,24)}static bytes25(e){return Kn(e,25)}static bytes26(e){return Kn(e,26)}static bytes27(e){return Kn(e,27)}static bytes28(e){return Kn(e,28)}static bytes29(e){return Kn(e,29)}static bytes30(e){return Kn(e,30)}static bytes31(e){return Kn(e,31)}static bytes32(e){return Kn(e,32)}static address(e){return new Ff(Lf,"address",e)}static bool(e){return new Ff(Lf,"bool",!!e)}static bytes(e){return new Ff(Lf,"bytes",e)}static string(e){return new Ff(Lf,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new Ff(Lf,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===Ale}static dereference(e,n){if(Ff.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};a1=new WeakMap;let Oo=Ff;class TLt extends a0{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=Oo.dereference(n,"string");try{r=ir(r)}catch(i){return this._throwError(i.message,n)}return e.writeValue(r)}decode(e){return ir(Eg(e.readValue(),20))}}class $Lt extends a0{constructor(n){super(n.name,n.type,"_",n.dynamic);Ee(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,r){return this.coder.encode(n,r)}decode(n){return this.coder.decode(n)}}function OCe(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let l={};r=e.map(c=>{const u=c.localName;return We(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),We(!l[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),l[u]=!0,n[u]})}else ye(!1,"invalid tuple value","tuple",n);ye(e.length===r.length,"types/value length mismatch","tuple",n);let i=new az,s=new az,o=[];e.forEach((l,c)=>{let u=r[c];if(l.dynamic){let h=s.length;l.encode(s,u);let f=i.writeUpdatableValue();o.push(p=>{f(p+h)})}else l.encode(i,u)}),o.forEach(l=>{l(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function MCe(t,e){let n=[],r=[],i=t.subReader(0);return e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readIndex(),l=i.subReader(a);try{o=s.decode(l)}catch(c){if(zs(c,"BUFFER_OVERRUN"))throw c;o=c,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(zs(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}if(o==null)throw new Error("investigate");n.push(o),r.push(s.localName||null)}),i3.fromItems(n,r)}class NLt extends a0{constructor(n,r,i){const s=n.type+"["+(r>=0?r:"")+"]",o=r===-1||n.dynamic;super("array",s,i,o);Ee(this,"coder");Ee(this,"length");Lt(this,{coder:n,length:r})}defaultValue(){const n=this.coder.defaultValue(),r=[];for(let i=0;i<this.length;i++)r.push(n);return r}encode(n,r){const i=Oo.dereference(r,"array");Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,n.writeValue(i.length)),VAe(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<i.length;a++)o.push(this.coder);return OCe(n,o,i)}decode(n){let r=this.length;r===-1&&(r=n.readIndex(),We(r*ia<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:r*ia,length:n.dataLength}));let i=[];for(let s=0;s<r;s++)i.push(new $Lt(this.coder));return MCe(n,i)}}class PLt extends a0{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=Oo.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class DCe extends a0{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=ea(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class RLt extends DCe{constructor(e){super("bytes",e)}decode(e){return pt(super.decode(e))}}class jLt extends a0{constructor(n,r){let i="bytes"+String(n);super(i,i,r,!1);Ee(this,"size");Lt(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,r){let i=ea(Oo.dereference(r,this.type));return i.length!==this.size&&this._throwError("incorrect data length",r),n.writeBytes(i)}decode(n){return pt(n.readBytes(this.size))}}const OLt=new Uint8Array([]);class MLt extends a0{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(OLt)}decode(e){return e.readBytes(0),null}}const DLt=BigInt(0),BLt=BigInt(1),LLt=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class FLt extends a0{constructor(n,r,i){const s=(r?"int":"uint")+n*8;super(s,s,i,!1);Ee(this,"size");Ee(this,"signed");Lt(this,{size:n,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,r){let i=Et(Oo.dereference(r,this.type)),s=Uy(LLt,ia*8);if(this.signed){let o=Uy(s,this.size*8-1);(i>o||i<-(o+BLt))&&this._throwError("value out-of-bounds",r),i=KAe(i,8*ia)}else(i<DLt||i>Uy(s,this.size*8))&&this._throwError("value out-of-bounds",r);return n.writeValue(i)}decode(n){let r=Uy(n.readValue(),this.size*8);return this.signed&&(r=eI(r,this.size*8)),r}}class ULt extends DCe{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Ip(Oo.dereference(n,"string")))}decode(e){return tI(super.decode(e))}}class o9 extends a0{constructor(n,r){let i=!1;const s=[];n.forEach(a=>{a.dynamic&&(i=!0),s.push(a.type)});const o="tuple("+s.join(",")+")";super("tuple",o,r,i);Ee(this,"coders");Lt(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(i=>{n.push(i.defaultValue())});const r=this.coders.reduce((i,s)=>{const o=s.localName;return o&&(i[o]||(i[o]=0),i[o]++),i},{});return this.coders.forEach((i,s)=>{let o=i.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),n[o]==null&&(n[o]=n[s]))}),Object.freeze(n)}encode(n,r){const i=Oo.dereference(r,"tuple");return OCe(n,this.coders,i)}decode(n){return MCe(n,this.coders)}}function yM(t,e){return{address:ir(t),storageKeys:e.map((n,r)=>(ye(_r(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function Zw(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(ye(n.length===2,"invalid slot set",`value[${r}]`,n),yM(n[0],n[1])):(ye(n!=null&&typeof n=="object","invalid address-slot set","value",t),yM(n.address,n.storageKeys)));ye(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,s)=>(i[s]=!0,i),{});return yM(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function BCe(t){return{address:ir(t.address),nonce:Et(t.nonce!=null?t.nonce:0),chainId:Et(t.chainId!=null?t.chainId:0),signature:el.from(t.signature)}}function zLt(t){let e;return typeof t=="string"?e=kE.computePublicKey(t,!1):e=t.publicKey,ir(Gi("0x"+e.substring(4)).substring(26))}function WLt(t,e){return zLt(kE.recoverPublicKey(t,e))}const vs=BigInt(0),HLt=BigInt(2),VLt=BigInt(27),qLt=BigInt(28),GLt=BigInt(35),KLt=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),wM=4096*32;function YLt(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return vn(t.blobToKzgCommitment(pt(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return vn(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return vn(t.blobToKZGCommitment(pt(r)));ye(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return vn(t.computeBlobProof(pt(r),pt(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return vn(t.computeBlobKZGProof(pt(r),pt(i)));ye(!1,"unsupported KZG library","kzg",t)}}}function Cle(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=o5(e).substring(4),"0x"+n}function a5(t){return t==="0x"?null:ir(t)}function YN(t,e){try{return Zw(t)}catch(n){ye(!1,n.message,e,t)}}function QLt(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<t.length;r++){const i=t[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);n.push({address:a5(i[1]),nonce:fr(i[2],"nonce"),chainId:fr(i[0],"chainId"),signature:el.from({yParity:Jw(i[3],"yParity"),r:Xp(i[4],32),s:Xp(i[5],32)})})}return n}catch(n){ye(!1,n.message,e,t)}}function Jw(t,e){return t==="0x"?0:wn(t,e)}function fr(t,e){if(t==="0x")return vs;const n=Et(t,e);return ye(n<=KLt,"value exceeds uint size",e,n),n}function Dn(t,e){const n=Et(t,"value"),r=is(n);return ye(r.length<=32,"value too large",`tx.${e}`,n),r}function QN(t){return Zw(t).map(e=>[e.address,e.storageKeys])}function ZLt(t){return t.map(e=>[Dn(e.chainId,"chainId"),e.address,Dn(e.nonce,"nonce"),Dn(e.signature.yParity,"yParity"),is(e.signature.r),is(e.signature.s)])}function JLt(t,e){ye(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)ye(_r(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function XLt(t){const e=EC(t);ye(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:Jw(e[0],"nonce"),gasPrice:fr(e[1],"gasPrice"),gasLimit:fr(e[2],"gasLimit"),to:a5(e[3]),value:fr(e[4],"value"),data:pt(e[5]),chainId:vs};if(e.length===6)return n;const r=fr(e[6],"v"),i=fr(e[7],"r"),s=fr(e[8],"s");if(i===vs&&s===vs)n.chainId=r;else{let o=(r-GLt)/HLt;o<vs&&(o=vs),n.chainId=o,ye(o!==vs||r===VLt||r===qLt,"non-canonical legacy v","v",e[6]),n.signature=el.from({r:Xp(e[7],32),s:Xp(e[8],32),v:r})}return n}function eFt(t,e){const n=[Dn(t.nonce,"nonce"),Dn(t.gasPrice||0,"gasPrice"),Dn(t.gasLimit,"gasLimit"),t.to||"0x",Dn(t.value,"value"),t.data];let r=vs;if(t.chainId!=vs)r=Et(t.chainId,"tx.chainId"),ye(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const s=t.signature.legacyChainId;s!=null&&(r=s)}if(!e)return r!==vs&&(n.push(is(r)),n.push("0x"),n.push("0x")),Ag(n);let i=BigInt(27+e.yParity);return r!==vs?i=el.getChainIdV(r,e.v):BigInt(e.v)!==i&&ye(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(is(i)),n.push(is(e.r)),n.push(is(e.s)),Ag(n)}function ZN(t,e){let n;try{if(n=Jw(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{ye(!1,"invalid yParity","yParity",e[0])}const r=Xp(e[1],32),i=Xp(e[2],32),s=el.from({r,s:i,yParity:n});t.signature=s}function tFt(t){const e=EC(vn(t).slice(1));ye(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",pt(t));const n={type:2,chainId:fr(e[0],"chainId"),nonce:Jw(e[1],"nonce"),maxPriorityFeePerGas:fr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:fr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:fr(e[4],"gasLimit"),to:a5(e[5]),value:fr(e[6],"value"),data:pt(e[7]),accessList:YN(e[8],"accessList")};return e.length===9||ZN(n,e.slice(9)),n}function nFt(t,e){const n=[Dn(t.chainId,"chainId"),Dn(t.nonce,"nonce"),Dn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Dn(t.maxFeePerGas||0,"maxFeePerGas"),Dn(t.gasLimit,"gasLimit"),t.to||"0x",Dn(t.value,"value"),t.data,QN(t.accessList||[])];return e&&(n.push(Dn(e.yParity,"yParity")),n.push(is(e.r)),n.push(is(e.s))),yi(["0x02",Ag(n)])}function rFt(t){const e=EC(vn(t).slice(1));ye(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",pt(t));const n={type:1,chainId:fr(e[0],"chainId"),nonce:Jw(e[1],"nonce"),gasPrice:fr(e[2],"gasPrice"),gasLimit:fr(e[3],"gasLimit"),to:a5(e[4]),value:fr(e[5],"value"),data:pt(e[6]),accessList:YN(e[7],"accessList")};return e.length===8||ZN(n,e.slice(8)),n}function iFt(t,e){const n=[Dn(t.chainId,"chainId"),Dn(t.nonce,"nonce"),Dn(t.gasPrice||0,"gasPrice"),Dn(t.gasLimit,"gasLimit"),t.to||"0x",Dn(t.value,"value"),t.data,QN(t.accessList||[])];return e&&(n.push(Dn(e.yParity,"recoveryParam")),n.push(is(e.r)),n.push(is(e.s))),yi(["0x01",Ag(n)])}function sFt(t){let e=EC(vn(t).slice(1)),n="3",r=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const s=e[1],o=e[2],a=e[3];ye(Array.isArray(s),"invalid network format: blobs not an array","fields[1]",s),ye(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),ye(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),ye(s.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),ye(s.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let l=0;l<e[1].length;l++)r.push({data:s[l],commitment:o[l],proof:a[l]});e=e[0]}ye(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",pt(t));const i={type:3,chainId:fr(e[0],"chainId"),nonce:Jw(e[1],"nonce"),maxPriorityFeePerGas:fr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:fr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:fr(e[4],"gasLimit"),to:a5(e[5]),value:fr(e[6],"value"),data:pt(e[7]),accessList:YN(e[8],"accessList"),maxFeePerBlobGas:fr(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(i.blobs=r),ye(i.to!=null,`invalid address for transaction type: ${n}`,"data",t),ye(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let s=0;s<i.blobVersionedHashes.length;s++)ye(_r(i.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",t);return e.length===11||ZN(i,e.slice(11)),i}function oFt(t,e,n){const r=[Dn(t.chainId,"chainId"),Dn(t.nonce,"nonce"),Dn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Dn(t.maxFeePerGas||0,"maxFeePerGas"),Dn(t.gasLimit,"gasLimit"),t.to||CE,Dn(t.value,"value"),t.data,QN(t.accessList||[]),Dn(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),JLt(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(Dn(e.yParity,"yParity")),r.push(is(e.r)),r.push(is(e.s)),n)?yi(["0x03",Ag([r,n.map(i=>i.data),n.map(i=>i.commitment),n.map(i=>i.proof)])]):yi(["0x03",Ag(r)])}function aFt(t){const e=EC(vn(t).slice(1));ye(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",pt(t));const n={type:4,chainId:fr(e[0],"chainId"),nonce:Jw(e[1],"nonce"),maxPriorityFeePerGas:fr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:fr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:fr(e[4],"gasLimit"),to:a5(e[5]),value:fr(e[6],"value"),data:pt(e[7]),accessList:YN(e[8],"accessList"),authorizationList:QLt(e[9],"authorizationList")};return e.length===10||ZN(n,e.slice(10)),n}function lFt(t,e){const n=[Dn(t.chainId,"chainId"),Dn(t.nonce,"nonce"),Dn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Dn(t.maxFeePerGas||0,"maxFeePerGas"),Dn(t.gasLimit,"gasLimit"),t.to||"0x",Dn(t.value,"value"),t.data,QN(t.accessList||[]),ZLt(t.authorizationList||[])];return e&&(n.push(Dn(e.yParity,"yParity")),n.push(is(e.r)),n.push(is(e.s))),yi(["0x04",Ag(n)])}var Vu,D2,B2,L2,F2,U2,z2,W2,H2,V2,q2,G2,l1,xm,dh,Em,K2,Y2,AS,$l;let LCe=($l=class{constructor(){ve(this,Y2);ve(this,Vu);ve(this,D2);ve(this,B2);ve(this,L2);ve(this,F2);ve(this,U2);ve(this,z2);ve(this,W2);ve(this,H2);ve(this,V2);ve(this,q2);ve(this,G2);ve(this,l1);ve(this,xm);ve(this,dh);ve(this,Em);ve(this,K2);te(this,Vu,null),te(this,D2,null),te(this,L2,0),te(this,F2,vs),te(this,U2,null),te(this,z2,null),te(this,W2,null),te(this,B2,"0x"),te(this,H2,vs),te(this,V2,vs),te(this,q2,null),te(this,G2,null),te(this,l1,null),te(this,xm,null),te(this,dh,null),te(this,Em,null),te(this,K2,null)}get type(){return H(this,Vu)}set type(e){switch(e){case null:te(this,Vu,null);break;case 0:case"legacy":te(this,Vu,0);break;case 1:case"berlin":case"eip-2930":te(this,Vu,1);break;case 2:case"london":case"eip-1559":te(this,Vu,2);break;case 3:case"cancun":case"eip-4844":te(this,Vu,3);break;case 4:case"pectra":case"eip-7702":te(this,Vu,4);break;default:ye(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=H(this,D2);return e==null&&this.type===3?CE:e}set to(e){te(this,D2,e==null?null:ir(e))}get nonce(){return H(this,L2)}set nonce(e){te(this,L2,wn(e,"value"))}get gasLimit(){return H(this,F2)}set gasLimit(e){te(this,F2,Et(e))}get gasPrice(){const e=H(this,U2);return e==null&&(this.type===0||this.type===1)?vs:e}set gasPrice(e){te(this,U2,e==null?null:Et(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=H(this,z2);return e??(this.type===2||this.type===3?vs:null)}set maxPriorityFeePerGas(e){te(this,z2,e==null?null:Et(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=H(this,W2);return e??(this.type===2||this.type===3?vs:null)}set maxFeePerGas(e){te(this,W2,e==null?null:Et(e,"maxFeePerGas"))}get data(){return H(this,B2)}set data(e){te(this,B2,pt(e))}get value(){return H(this,H2)}set value(e){te(this,H2,Et(e,"value"))}get chainId(){return H(this,V2)}set chainId(e){te(this,V2,Et(e))}get signature(){return H(this,q2)||null}set signature(e){te(this,q2,e==null?null:el.from(e))}get accessList(){const e=H(this,G2)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){te(this,G2,e==null?null:Zw(e))}get authorizationList(){const e=H(this,K2)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){te(this,K2,e==null?null:e.map(n=>BCe(n)))}get maxFeePerBlobGas(){const e=H(this,l1);return e==null&&this.type===3?vs:e}set maxFeePerBlobGas(e){te(this,l1,e==null?null:Et(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=H(this,xm);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){ye(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)ye(_r(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}te(this,xm,e)}get blobs(){return H(this,Em)==null?null:H(this,Em).map(e=>Object.assign({},e))}set blobs(e){if(e==null){te(this,Em,null);return}const n=[],r=[];for(let i=0;i<e.length;i++){const s=e[i];if(SK(s)){We(H(this,dh),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=vn(s);if(ye(o.length<=wM,"blob is too large",`blobs[${i}]`,s),o.length!==wM){const c=new Uint8Array(wM);c.set(o),o=c}const a=H(this,dh).blobToKzgCommitment(o),l=pt(H(this,dh).computeBlobKzgProof(o,a));n.push({data:pt(o),commitment:pt(a),proof:l}),r.push(Cle(1,a))}else{const o=pt(s.commitment);n.push({data:pt(s.data),commitment:o,proof:pt(s.proof)}),r.push(Cle(1,o))}}te(this,Em,n),te(this,xm,r)}get kzg(){return H(this,dh)}set kzg(e){e==null?te(this,dh,null):te(this,dh,YLt(e))}get hash(){return this.signature==null?null:Gi(Fe(this,Y2,AS).call(this,!0,!1))}get unsignedHash(){return Gi(this.unsignedSerialized)}get from(){return this.signature==null?null:WLt(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:kE.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return Fe(this,Y2,AS).call(this,!0,!0)}get unsignedSerialized(){return Fe(this,Y2,AS).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=H(this,l1)!=null||H(this,xm);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&We(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),We(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),We(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):this.authorizationList&&this.authorizationList.length?s.push(4):n?s.push(2):e?(s.push(1),r||s.push(0)):r?(s.push(1),s.push(2)):(i&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return $l.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new $l;if(typeof e=="string"){const r=vn(e);if(r[0]>=127)return $l.from(XLt(r));switch(r[0]){case 1:return $l.from(rFt(r));case 2:return $l.from(tFt(r));case 3:return $l.from(sFt(r));case 4:return $l.from(aFt(r))}We(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new $l;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=el.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(ye(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),ye(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(ye(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),ye(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}},Vu=new WeakMap,D2=new WeakMap,B2=new WeakMap,L2=new WeakMap,F2=new WeakMap,U2=new WeakMap,z2=new WeakMap,W2=new WeakMap,H2=new WeakMap,V2=new WeakMap,q2=new WeakMap,G2=new WeakMap,l1=new WeakMap,xm=new WeakMap,dh=new WeakMap,Em=new WeakMap,K2=new WeakMap,Y2=new WeakSet,AS=function(e,n){We(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return eFt(this,r);case 1:return iFt(this,r);case 2:return nFt(this,r);case 3:return oFt(this,r,n?this.blobs:null);case 4:return lFt(this,r)}We(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})},$l);function pw(t){return Gi(Ip(t))}var cFt="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const kle=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Sle=4;function uFt(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let E=1;E<r;E++)s.push(i+=n());let o=n(),a=e;e+=o;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const h=31,f=2**h,p=f>>>1,m=p>>1,g=f-1;let y=0;for(let E=0;E<h;E++)y=y<<1|u();let w=[],v=0,b=f;for(;;){let E=Math.floor(((y-v+1)*i-1)/b),$=0,N=r;for(;N-$>1;){let F=$+N>>>1;E<s[F]?N=F:$=F}if($==0)break;w.push($);let R=v+Math.floor(b*s[$]/i),j=v+Math.floor(b*s[$+1]/i)-1;for(;!((R^j)&p);)y=y<<1&g|u(),R=R<<1&g,j=j<<1&g|1;for(;R&~j&m;)y=y&p|y<<1&g>>>1|u(),R=R<<1^p,j=(j^p)<<1|p|1;v=R,b=1+j-R}let A=r-4;return w.map(E=>{switch(E-A){case 3:return A+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return A+256+(t[a++]<<8|t[a++]);case 1:return A+t[a++];default:return E-1}})}function dFt(t){let e=0;return()=>t[e++]}function FCe(t){return dFt(uFt(hFt(t)))}function hFt(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}function fFt(t){return t&1?~t>>1:t>>1}function pFt(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=fFt(e());return n}function SE(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let s=0;s<i;s++)n.push(e+s);e+=i+1}return n}function UCe(t){return _E(()=>{let e=SE(t);if(e.length)return e})}function zCe(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(mFt(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(gFt(n,t))}return e.flat()}function _E(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function WCe(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)pFt(t,n).forEach((s,o)=>r[o].push(s));return r}function mFt(t,e){let n=1+e(),r=e(),i=_E(e);return WCe(i.length,1+t,e).flatMap((o,a)=>{let[l,...c]=o;return Array(i[a]).fill().map((u,h)=>{let f=h*r;return[l+h*n,c.map(p=>p+f)]})})}function gFt(t,e){let n=1+e();return WCe(n,1+t,e).map(i=>[i[0],i.slice(1)])}function yFt(t){let e=[],n=SE(t);return i(r([]),[]),e;function r(s){let o=t(),a=_E(()=>{let l=SE(t).map(c=>n[c]);if(l.length)return r(l)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,l){if(!(s&4&&l===a[a.length-1])){s&2&&(l=a[a.length-1]),s&1&&e.push(a);for(let c of o)for(let u of c.Q)i(c,[...a,u],l)}}}function wFt(t){return t.toString(16).toUpperCase().padStart(2,"0")}function HCe(t){return`{${wFt(t)}}`}function bFt(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function c3(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function vFt(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var xFt="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const IE=44032,rI=4352,iI=4449,sI=4519,VCe=19,qCe=21,u3=28,oI=qCe*u3,EFt=VCe*oI,AFt=IE+EFt,CFt=rI+VCe,kFt=iI+qCe,SFt=sI+u3;function B6(t){return t>>24&255}function GCe(t){return t&16777215}let mz,_le,gz,CS;function _Ft(){let t=FCe(xFt);mz=new Map(UCe(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),_le=new Set(SE(t)),gz=new Map,CS=new Map;for(let[e,n]of zCe(t)){if(!_le.has(e)&&n.length==2){let[r,i]=n,s=CS.get(r);s||(s=new Map,CS.set(r,s)),s.set(i,e)}gz.set(e,n.reverse())}}function KCe(t){return t>=IE&&t<AFt}function IFt(t,e){if(t>=rI&&t<CFt&&e>=iI&&e<kFt)return IE+(t-rI)*oI+(e-iI)*u3;if(KCe(t)&&e>sI&&e<SFt&&(t-IE)%u3==0)return t+(e-sI);{let n=CS.get(t);return n&&(n=n.get(e),n)?n:-1}}function YCe(t){mz||_Ft();let e=[],n=[],r=!1;function i(s){let o=mz.get(s);o&&(r=!0,s|=o),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(KCe(s)){let o=s-IE,a=o/oI|0,l=o%oI/u3|0,c=o%u3;i(rI+a),i(iI+l),c>0&&i(sI+c)}else{let o=gz.get(s);o?n.push(...o):i(s)}if(!n.length)break;s=n.pop()}if(r&&e.length>1){let s=B6(e[0]);for(let o=1;o<e.length;o++){let a=B6(e[o]);if(a==0||s<=a){s=a;continue}let l=o-1;for(;;){let c=e[l+1];if(e[l+1]=e[l],e[l]=c,!l||(s=B6(e[--l]),s<=a))break}s=B6(e[o])}}return e}function TFt(t){let e=[],n=[],r=-1,i=0;for(let s of t){let o=B6(s),a=GCe(s);if(r==-1)o==0?r=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=o;else{let l=IFt(r,a);l>=0?r=l:i==0&&o==0?(e.push(r),r=a):(n.push(a),i=o)}}return r>=0&&e.push(r,...n),e}function QCe(t){return YCe(t).map(GCe)}function $Ft(t){return TFt(YCe(t))}const Ile=45,ZCe=".",JCe=65039,XCe=1,aI=t=>Array.from(t);function TE(t,e){return t.P.has(e)||t.Q.has(e)}class NFt extends Array{get is_emoji(){return!0}}let yz,eke,Wy,wz,tke,p2,bM,Yb,ly,Tle,bz;function MK(){if(yz)return;let t=FCe(cFt);const e=()=>SE(t),n=()=>new Set(e()),r=(u,h)=>h.forEach(f=>u.add(f));yz=new Map(zCe(t)),eke=n(),Wy=e(),wz=new Set(e().map(u=>Wy[u])),Wy=new Set(Wy),tke=n(),n();let i=UCe(t),s=t();const o=()=>{let u=new Set;return e().forEach(h=>r(u,i[h])),r(u,e()),u};p2=_E(u=>{let h=_E(t).map(f=>f+96);if(h.length){let f=u>=s;h[0]-=32,h=c3(h),f&&(h=`Restricted[${h}]`);let p=o(),m=o(),g=!t();return{N:h,P:p,Q:m,M:g,R:f}}}),bM=n(),Yb=new Map;let a=e().concat(aI(bM)).sort((u,h)=>u-h);a.forEach((u,h)=>{let f=t(),p=a[h]=f?a[h-f]:{V:[],M:new Map};p.V.push(u),bM.has(u)||Yb.set(u,p)});for(let{V:u,M:h}of new Set(Yb.values())){let f=[];for(let m of u){let g=p2.filter(w=>TE(w,m)),y=f.find(({G:w})=>g.some(v=>w.has(v)));y||(y={G:new Set,V:[]},f.push(y)),y.V.push(m),r(y.G,g)}let p=f.flatMap(m=>aI(m.G));for(let{G:m,V:g}of f){let y=new Set(p.filter(w=>!m.has(w)));for(let w of g)h.set(w,y)}}ly=new Set;let l=new Set;const c=u=>ly.has(u)?l.add(u):ly.add(u);for(let u of p2){for(let h of u.P)c(h);for(let h of u.Q)c(h)}for(let u of ly)!Yb.has(u)&&!l.has(u)&&Yb.set(u,XCe);r(ly,QCe(ly)),Tle=yFt(t).map(u=>NFt.from(u)).sort(vFt),bz=new Map;for(let u of Tle){let h=[bz];for(let f of u){let p=h.map(m=>{let g=m.get(f);return g||(g=new Map,m.set(f,g)),g});f===JCe?h.push(...p):h=p}for(let f of h)f.V=u}}function DK(t){return(nke(t)?"":`${BK(JN([t]))} `)+HCe(t)}function BK(t){return`"${t}"`}function PFt(t){if(t.length>=4&&t[2]==Ile&&t[3]==Ile)throw new Error(`invalid label extension: "${c3(t.slice(0,4))}"`)}function RFt(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function jFt(t){let e=t[0],n=kle.get(e);if(n)throw T4(`leading ${n}`);let r=t.length,i=-1;for(let s=1;s<r;s++){e=t[s];let o=kle.get(e);if(o){if(i==s)throw T4(`${n} + ${o}`);i=s+1,n=o}}if(i==r)throw T4(`trailing ${n}`)}function JN(t,e=1/0,n=HCe){let r=[];OFt(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let o=0;o<s;o++){let a=t[o];nke(a)&&(r.push(c3(t.slice(i,o))),r.push(n(a)),i=o+1)}return r.push(c3(t.slice(i,s))),r.join("")}function OFt(t){return MK(),Wy.has(t)}function nke(t){return MK(),tke.has(t)}function MFt(t){return FFt(DFt(t,$Ft,WFt))}function DFt(t,e,n){if(!t)return[];MK();let r=0;return t.split(ZCe).map(i=>{let s=bFt(i),o={input:s,offset:r};r+=s.length+1;try{let a=o.tokens=zFt(s,e,n),l=a.length,c;if(!l)throw new Error("empty label");let u=o.output=a.flat();if(RFt(u),!(o.emoji=l>1||a[0].is_emoji)&&u.every(f=>f<128))PFt(u),c="ASCII";else{let f=a.flatMap(p=>p.is_emoji?[]:p);if(!f.length)c="Emoji";else{if(Wy.has(u[0]))throw T4("leading combining mark");for(let g=1;g<l;g++){let y=a[g];if(!y.is_emoji&&Wy.has(y[0]))throw T4(`emoji + combining mark: "${c3(a[g-1])} + ${JN([y[0]])}"`)}jFt(u);let p=aI(new Set(f)),[m]=LFt(p);UFt(m,f),BFt(m,p),c=m.N}}o.type=c}catch(a){o.error=a}return o})}function BFt(t,e){let n,r=[];for(let i of e){let s=Yb.get(i);if(s===XCe)return;if(s){let o=s.M.get(i);if(n=n?n.filter(a=>o.has(a)):aI(o),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(s=>TE(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function LFt(t){let e=p2;for(let n of t){let r=e.filter(i=>TE(i,n));if(!r.length)throw p2.some(i=>TE(i,n))?ike(e[0],n):rke(n);if(e=r,r.length==1)break}return e}function FFt(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${BK(JN(e,63))}: ${i}`)}return c3(r)}).join(ZCe)}function rke(t){return new Error(`disallowed character: ${DK(t)}`)}function ike(t,e){let n=DK(e),r=p2.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function T4(t){return new Error(`illegal placement: ${t}`)}function UFt(t,e){for(let n of e)if(!TE(t,n))throw ike(t,n);if(t.M){let n=QCe(e);for(let r=1,i=n.length;r<i;r++)if(wz.has(n[r])){let s=r+1;for(let o;s<i&&wz.has(o=n[s]);s++)for(let a=r;a<s;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${DK(o)}`);if(s-r>Sle)throw new Error(`excessive non-spacing marks: ${BK(JN(n.slice(r-1,s)))} (${s-r}/${Sle})`);r=s}}}function zFt(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let s=HFt(t);if(s)i.length&&(r.push(e(i)),i=[]),r.push(n(s));else{let o=t.pop();if(ly.has(o))i.push(o);else{let a=yz.get(o);if(a)i.push(...a);else if(!eke.has(o))throw rke(o)}}}return i.length&&r.push(e(i)),r}function WFt(t){return t.filter(e=>e!=JCe)}function HFt(t,e){let n=bz,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:s}=n;s&&(r=s,t.length=i)}return r}const ske=new Uint8Array(32);ske.fill(0);function $le(t){return ye(t.length!==0,"invalid ENS name; empty component","comp",t),t}function oke(t){const e=Ip(VFt(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push($le(e.slice(r,i))),r=i+1);return ye(r<e.length,"invalid ENS name; empty component","name",t),n.push($le(e.slice(r))),n}function VFt(t){try{if(t.length===0)throw new Error("empty label");return MFt(t)}catch(e){ye(!1,`invalid ENS name (${e.message})`,"name",t)}}function vz(t){ye(typeof t=="string","invalid ENS name; not a string","name",t),ye(t.length,"invalid ENS name (empty label)","name",t);let e=ske;const n=oke(t);for(;n.length;)e=Gi(yi([e,Gi(n.pop())]));return pt(e)}function qFt(t,e){const n=e;return ye(n<=255,"DNS encoded label cannot exceed 255","length",n),pt(yi(oke(t).map(r=>{ye(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i})))+"00"}const ake=new Uint8Array(32);ake.fill(0);const GFt=BigInt(-1),lke=BigInt(0),cke=BigInt(1),KFt=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function YFt(t){const e=vn(t),n=e.length%32;return n?yi([e,ake.slice(n)]):pt(e)}const QFt=Eg(cke,32),ZFt=Eg(lke,32),Nle={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},vM=["name","version","chainId","verifyingContract","salt"];function Ple(t){return function(e){return ye(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const JFt={name:Ple("name"),version:Ple("version"),chainId:function(t){const e=Et(t,"domain.chainId");return ye(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Ju(e)},verifyingContract:function(t){try{return ir(t).toLowerCase()}catch{}ye(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=vn(t,"domain.salt");return ye(e.length===32,'invalid domain value "salt"',"domain.salt",t),pt(e)}};function xM(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);ye(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const i=Uy(KFt,n?r-1:r),s=n?(i+cke)*GFt:lke;return function(o){const a=Et(o,"value");return ye(a>=s&&a<=i,`value out-of-bounds for ${t}`,"value",a),Eg(n?KAe(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return ye(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const i=vn(r);return ye(i.length===n,`invalid length for ${t}`,"value",r),YFt(r)}}}switch(t){case"address":return function(e){return Xp(ir(e),32)};case"bool":return function(e){return e?QFt:ZFt};case"bytes":return function(e){return Gi(e)};case"string":return function(e){return pw(e)}}return null}function Rle(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function a9(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var tA,tp,Q2,TI,uke;const Sc=class Sc{constructor(e){ve(this,TI);Ee(this,"primaryType");ve(this,tA);ve(this,tp);ve(this,Q2);te(this,tp,new Map),te(this,Q2,new Map);const n=new Map,r=new Map,i=new Map,s={};Object.keys(e).forEach(l=>{s[l]=e[l].map(({name:c,type:u})=>{let{base:h,index:f}=a9(u);return h==="int"&&!e.int&&(h="int256"),h==="uint"&&!e.uint&&(h="uint256"),{name:c,type:h+(f||"")}}),n.set(l,new Set),r.set(l,[]),i.set(l,new Set)}),te(this,tA,JSON.stringify(s));for(const l in s){const c=new Set;for(const u of s[l]){ye(!c.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(l)}`,"types",e),c.add(u.name);const h=a9(u.type).base;ye(h!==l,`circular type reference to ${JSON.stringify(h)}`,"types",e),!xM(h)&&(ye(r.has(h),`unknown type ${JSON.stringify(h)}`,"types",e),r.get(h).push(l),n.get(l).add(h))}}const o=Array.from(r.keys()).filter(l=>r.get(l).length===0);ye(o.length!==0,"missing primary type","types",e),ye(o.length===1,`ambiguous primary types or unused types: ${o.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),Lt(this,{primaryType:o[0]});function a(l,c){ye(!c.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",e),c.add(l);for(const u of n.get(l))if(r.has(u)){a(u,c);for(const h of c)i.get(h).add(u)}c.delete(l)}a(this.primaryType,new Set);for(const[l,c]of i){const u=Array.from(c);u.sort(),H(this,tp).set(l,Rle(l,s[l])+u.map(h=>Rle(h,s[h])).join(""))}}get types(){return JSON.parse(H(this,tA))}getEncoder(e){let n=H(this,Q2).get(e);return n||(n=Fe(this,TI,uke).call(this,e),H(this,Q2).set(e,n)),n}encodeType(e){const n=H(this,tp).get(e);return ye(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Gi(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(xM(e))return r(e,n);const i=a9(e).array;if(i)return ye(i.count===-1||i.count===n.length,`array length mismatch; expected length ${i.count}`,"value",n),n.map(o=>this._visit(i.prefix,o,r));const s=this.types[e];if(s)return s.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,n[a],r),o),{});ye(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new Sc(e)}static getPrimaryType(e){return Sc.from(e).primaryType}static hashStruct(e,n,r){return Sc.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const i=Nle[r];ye(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>vM.indexOf(r.name)-vM.indexOf(i.name)),Sc.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return yi(["0x1901",Sc.hashDomain(e),Sc.from(n).hash(r)])}static hash(e,n,r){return Gi(Sc.encode(e,n,r))}static async resolveNames(e,n,r,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const s={};e.verifyingContract&&!_r(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Sc.from(n);o.visit(r,(a,l)=>(a==="address"&&!_r(l,20)&&(s[l]="0x"),l));for(const a in s)s[a]=await i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=o.visit(r,(a,l)=>a==="address"&&s[l]?s[l]:l),{domain:e,value:r}}static getPayload(e,n,r){Sc.hashDomain(e);const i={},s=[];vM.forEach(l=>{const c=e[l];c!=null&&(i[l]=JFt[l](c),s.push({name:l,type:Nle[l]}))});const o=Sc.from(n);n=o.types;const a=Object.assign({},n);return ye(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,(l,c)=>{if(l.match(/^bytes(\d*)/))return pt(vn(c));if(l.match(/^u?int/))return Et(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return ye(typeof c=="string","invalid string","value",c),c}ye(!1,"unsupported type","type",l)})}}};tA=new WeakMap,tp=new WeakMap,Q2=new WeakMap,TI=new WeakSet,uke=function(e){{const i=xM(e);if(i)return i}const n=a9(e).array;if(n){const i=n.prefix,s=this.getEncoder(i);return o=>{ye(n.count===-1||n.count===o.length,`array length mismatch; expected length ${n.count}`,"value",o);let a=o.map(s);return H(this,tp).has(i)&&(a=a.map(Gi)),Gi(yi(a))}}const r=this.types[e];if(r){const i=pw(H(this,tp).get(e));return s=>{const o=r.map(({name:a,type:l})=>{const c=this.getEncoder(l)(s[a]);return H(this,tp).has(l)?Gi(c):c});return o.unshift(i),yi(o)}}ye(!1,`unknown type: ${e}`,"type",e)};let lI=Sc;function oa(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const XFt="external public payable override",eUt=oa(XFt.split(" ")),dke="constant external internal payable private public pure view override",tUt=oa(dke.split(" ")),hke="constructor error event fallback function receive struct",fke=oa(hke.split(" ")),pke="calldata memory storage payable indexed",nUt=oa(pke.split(" ")),rUt="tuple returns",iUt=[hke,pke,rUt,dke].join(" "),sUt=oa(iUt.split(" ")),oUt={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},aUt=new RegExp("^(\\s*)"),lUt=new RegExp("^([0-9]+)"),cUt=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),mke=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),gke=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var js,qu,nA,xz;const $I=class $I{constructor(e){ve(this,nA);ve(this,js);ve(this,qu);te(this,js,0),te(this,qu,e.slice())}get offset(){return H(this,js)}get length(){return H(this,qu).length-H(this,js)}clone(){return new $I(H(this,qu))}reset(){te(this,js,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=Fe(this,nA,xz).call(this,H(this,js)+1,e.match+1);return te(this,js,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;H(this,js)<e.match-1;){const r=this.peek().linkNext;n.push(Fe(this,nA,xz).call(this,H(this,js)+1,r)),te(this,js,r)}return te(this,js,e.match+1),n}peek(){if(H(this,js)>=H(this,qu).length)throw new Error("out-of-bounds");return H(this,qu)[H(this,js)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return l0(this,js)._++,e}toString(){const e=[];for(let n=H(this,js);n<H(this,qu).length;n++){const r=H(this,qu)[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};js=new WeakMap,qu=new WeakMap,nA=new WeakSet,xz=function(e=0,n=0){return new $I(H(this,qu).slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let Id=$I;function zg(t){const e=[],n=o=>{const a=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${a} at ${s}: ${o}`)};let r=[],i=[],s=0;for(;s<t.length;){let o=t.substring(s),a=o.match(aUt);a&&(s+=a[1].length,o=t.substring(s));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(l);let c=oUt[o[0]]||"";if(c){if(l.type=c,l.text=o[0],s++,c==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(c=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),l.match=r.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1;else if(c==="COMMA")l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(c==="OPEN_BRACKET")l.type="BRACKET";else if(c==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const h=e.pop().text;u=h+u,e[e.length-1].value=wn(h)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=o.match(cUt),a){if(l.text=a[1],s+=l.text.length,sUt.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(gke)){l.type="TYPE";continue}l.type="ID";continue}if(a=o.match(lUt),a){l.text=a[1],l.type="NUMBER",s+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`)}return new Id(e.map(o=>Object.freeze(o)))}function jle(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function XN(t,e){if(e.peekKeyword(fke)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function t0(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function yke(t){let e=t0(t,tUt);return jle(e,oa("constant payable nonpayable".split(" "))),jle(e,oa("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Tp(t,e){return t.popParams().map(n=>Vs.from(n,e))}function wke(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Et(t.pop().text);throw new Error("invalid gas")}return null}function mw(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const uUt=new RegExp(/^(.*)\[([0-9]*)\]$/);function Ole(t){const e=t.match(gke);if(ye(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);ye(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);ye(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const ti={},il=Symbol.for("_ethers_internal"),Mle="_ParamTypeInternal",Dle="_ErrorInternal",Ble="_EventInternal",Lle="_ConstructorInternal",Fle="_FallbackInternal",Ule="_FunctionInternal",zle="_StructInternal";var Z2,kS;const _c=class _c{constructor(e,n,r,i,s,o,a,l){ve(this,Z2);Ee(this,"name");Ee(this,"type");Ee(this,"baseType");Ee(this,"indexed");Ee(this,"components");Ee(this,"arrayLength");Ee(this,"arrayChildren");if(xC(e,ti,"ParamType"),Object.defineProperty(this,il,{value:Mle}),o&&(o=Object.freeze(o.slice())),i==="array"){if(a==null||l==null)throw new Error("")}else if(a!=null||l!=null)throw new Error("");if(i==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");Lt(this,{name:n,type:r,baseType:i,indexed:s,components:o,arrayLength:a,arrayChildren:l})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=r,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(i)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,s)=>r.components[s].walk(i,n))}return n(this.type,e)}async walkAsync(e,n){const r=[],i=[e];return Fe(this,Z2,kS).call(this,r,e,n,s=>{i[0]=s}),r.length&&await Promise.all(r),i[0]}static from(e,n){if(_c.isParamType(e))return e;if(typeof e=="string")try{return _c.from(zg(e),n)}catch{ye(!1,"invalid param type","obj",e)}else if(e instanceof Id){let a="",l="",c=null;t0(e,oa(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(l="tuple",c=e.popParams().map(g=>_c.from(g)),a=`tuple(${c.map(g=>g.format()).join(",")})`):(a=Ole(e.popType("TYPE")),l=a);let u=null,h=null;for(;e.length&&e.peekType("BRACKET");){const g=e.pop();u=new _c(ti,"",a,l,null,c,h,u),h=g.value,a+=g.text,l="array",c=null}let f=null;if(t0(e,nUt).has("indexed")){if(!n)throw new Error("");f=!0}const m=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new _c(ti,m,a,l,f,c,h,u)}const r=e.name;ye(!r||typeof r=="string"&&r.match(mke),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(ye(n,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type,o=s.match(uUt);if(o){const a=parseInt(o[2]||"-1"),l=_c.from({type:o[1],components:e.components});return new _c(ti,r||"",s,"array",i,null,a,l)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const a=e.components!=null?e.components.map(c=>_c.from(c)):null;return new _c(ti,r||"",s,"tuple",i,a,null,null)}return s=Ole(e.type),new _c(ti,r||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[il]===Mle}};Z2=new WeakSet,kS=function(e,n,r,i){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=n.slice();a.forEach((l,c)=>{var u;Fe(u=o,Z2,kS).call(u,e,l,r,h=>{a[c]=h})}),i(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=o.map(l=>{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in n))throw new Error(`missing value for component ${l.name}`);return n[l.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((l,c)=>{var u;Fe(u=o[c],Z2,kS).call(u,e,l,r,h=>{a[c]=h})}),i(a);return}const s=r(this.type,n);s.then?e.push(async function(){i(await s)}()):i(s)};let Vs=_c;class gw{constructor(e,n,r){Ee(this,"type");Ee(this,"inputs");xC(e,ti,"Fragment"),r=Object.freeze(r.slice()),Lt(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{gw.from(JSON.parse(e))}catch{}return gw.from(zg(e))}if(e instanceof Id)switch(e.peekKeyword(fke)){case"constructor":return gp.from(e);case"error":return Ba.from(e);case"event":return Ah.from(e);case"fallback":case"receive":return Kf.from(e);case"function":return Ch.from(e);case"struct":return R1.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return gp.from(e);case"error":return Ba.from(e);case"event":return Ah.from(e);case"fallback":case"receive":return Kf.from(e);case"function":return Ch.from(e);case"struct":return R1.from(e)}We(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}ye(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return gp.isFragment(e)}static isError(e){return Ba.isFragment(e)}static isEvent(e){return Ah.isFragment(e)}static isFunction(e){return Ch.isFragment(e)}static isStruct(e){return R1.isFragment(e)}}class eP extends gw{constructor(n,r,i,s){super(n,r,s);Ee(this,"name");ye(typeof i=="string"&&i.match(mke),"invalid identifier","name",i),s=Object.freeze(s.slice()),Lt(this,{name:i})}}function $E(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class Ba extends eP{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,il,{value:Dle})}get selector(){return pw(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+$E(e,this.inputs)),n.join(" ")}static from(e){if(Ba.isFragment(e))return e;if(typeof e=="string")return Ba.from(zg(e));if(e instanceof Id){const n=XN("error",e),r=Tp(e);return mw(e),new Ba(ti,n,r)}return new Ba(ti,e.name,e.inputs?e.inputs.map(Vs.from):[])}static isFragment(e){return e&&e[il]===Dle}}class Ah extends eP{constructor(n,r,i,s){super(n,"event",r,i);Ee(this,"anonymous");Object.defineProperty(this,il,{value:Ble}),Lt(this,{anonymous:s})}get topicHash(){return pw(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("event"),r.push(this.name+$E(n,this.inputs)),n!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(n,r){return r=(r||[]).map(s=>Vs.from(s)),new Ah(ti,n,r,!1).topicHash}static from(n){if(Ah.isFragment(n))return n;if(typeof n=="string")try{return Ah.from(zg(n))}catch{ye(!1,"invalid event fragment","obj",n)}else if(n instanceof Id){const r=XN("event",n),i=Tp(n,!0),s=!!t0(n,oa(["anonymous"])).has("anonymous");return mw(n),new Ah(ti,r,i,s)}return new Ah(ti,n.name,n.inputs?n.inputs.map(r=>Vs.from(r,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[il]===Ble}}class gp extends gw{constructor(n,r,i,s,o){super(n,r,i);Ee(this,"payable");Ee(this,"gas");Object.defineProperty(this,il,{value:Lle}),Lt(this,{payable:s,gas:o})}format(n){if(We(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[`constructor${$E(n,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(n){if(gp.isFragment(n))return n;if(typeof n=="string")try{return gp.from(zg(n))}catch{ye(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof Id){t0(n,oa(["constructor"]));const r=Tp(n),i=!!t0(n,eUt).has("payable"),s=wke(n);return mw(n),new gp(ti,"constructor",r,i,s)}return new gp(ti,"constructor",n.inputs?n.inputs.map(Vs.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[il]===Lle}}class Kf extends gw{constructor(n,r,i){super(n,"fallback",r);Ee(this,"payable");Object.defineProperty(this,il,{value:Fle}),Lt(this,{payable:i})}format(n){const r=this.inputs.length===0?"receive":"fallback";if(n==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:i})}return`${r}()${this.payable?" payable":""}`}static from(n){if(Kf.isFragment(n))return n;if(typeof n=="string")try{return Kf.from(zg(n))}catch{ye(!1,"invalid fallback fragment","obj",n)}else if(n instanceof Id){const r=n.toString(),i=n.peekKeyword(oa(["fallback","receive"]));if(ye(i,"type must be fallback or receive","obj",r),n.popKeyword(oa(["fallback","receive"]))==="receive"){const l=Tp(n);return ye(l.length===0,"receive cannot have arguments","obj.inputs",l),t0(n,oa(["payable"])),mw(n),new Kf(ti,[],!0)}let o=Tp(n);o.length?ye(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(l=>l.format("minimal")).join(", ")):o=[Vs.from("bytes")];const a=yke(n);if(ye(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),t0(n,oa(["returns"])).has("returns")){const l=Tp(n);ye(l.length===1&&l[0].type==="bytes","invalid fallback outputs","obj.outputs",l.map(c=>c.format("minimal")).join(", "))}return mw(n),new Kf(ti,o,a==="payable")}if(n.type==="receive")return new Kf(ti,[],!0);if(n.type==="fallback"){const r=[Vs.from("bytes")],i=n.stateMutability==="payable";return new Kf(ti,r,i)}ye(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[il]===Fle}}class Ch extends eP{constructor(n,r,i,s,o,a){super(n,"function",r,s);Ee(this,"constant");Ee(this,"outputs");Ee(this,"stateMutability");Ee(this,"payable");Ee(this,"gas");Object.defineProperty(this,il,{value:Ule}),o=Object.freeze(o.slice()),Lt(this,{constant:i==="view"||i==="pure",gas:a,outputs:o,payable:i==="payable",stateMutability:i})}get selector(){return pw(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n))),outputs:this.outputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("function"),r.push(this.name+$E(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push($E(n,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(n,r){return r=(r||[]).map(s=>Vs.from(s)),new Ch(ti,n,"view",r,[],null).selector}static from(n){if(Ch.isFragment(n))return n;if(typeof n=="string")try{return Ch.from(zg(n))}catch{ye(!1,"invalid function fragment","obj",n)}else if(n instanceof Id){const i=XN("function",n),s=Tp(n),o=yke(n);let a=[];t0(n,oa(["returns"])).has("returns")&&(a=Tp(n));const l=wke(n);return mw(n),new Ch(ti,i,o,s,a,l)}let r=n.stateMutability;return r==null&&(r="payable",typeof n.constant=="boolean"?(r="view",n.constant||(r="payable",typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable")),new Ch(ti,n.name,r,n.inputs?n.inputs.map(Vs.from):[],n.outputs?n.outputs.map(Vs.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[il]===Ule}}class R1 extends eP{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,il,{value:zle})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return R1.from(zg(e))}catch{ye(!1,"invalid struct fragment","obj",e)}else if(e instanceof Id){const n=XN("struct",e),r=Tp(e);return mw(e),new R1(ti,n,r)}return new R1(ti,e.name,e.inputs?e.inputs.map(Vs.from):[])}static isFragment(e){return e&&e[il]===zle}}const jd=new Map;jd.set(0,"GENERIC_PANIC");jd.set(1,"ASSERT_FALSE");jd.set(17,"OVERFLOW");jd.set(18,"DIVIDE_BY_ZERO");jd.set(33,"ENUM_RANGE_ERROR");jd.set(34,"BAD_STORAGE_DATA");jd.set(49,"STACK_UNDERFLOW");jd.set(50,"ARRAY_RANGE_ERROR");jd.set(65,"OUT_OF_MEMORY");jd.set(81,"UNINITIALIZED_FUNCTION_CALL");const dUt=new RegExp(/^bytes([0-9]*)$/),hUt=new RegExp(/^(u?int)([0-9]*)$/);let EM=null,Wle=1024;function fUt(t,e,n,r){let i="missing revert data",s=null;const o=null;let a=null;if(n){i="execution reverted";const c=vn(n);if(n=pt(n),c.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(c.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(pt(c.slice(0,4))==="0x08c379a0")try{s=r.decode(["string"],c.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(pt(c.slice(0,4))==="0x4e487b71")try{const u=Number(r.decode(["uint256"],c.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},s=`Panic due to ${jd.get(u)||"UNKNOWN"}(${u})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const l={to:e.to?ir(e.to):null,data:e.data||"0x"};return e.from&&(l.from=ir(e.from)),Jr(i,"CALL_EXCEPTION",{action:t,data:n,reason:s,transaction:l,invocation:o,revert:a})}var Am,Qb;const NI=class NI{constructor(){ve(this,Am)}getDefaultValue(e){const n=e.map(i=>Fe(this,Am,Qb).call(this,Vs.from(i)));return new o9(n,"_").defaultValue()}encode(e,n){VAe(n.length,e.length,"types/values length mismatch");const r=e.map(o=>Fe(this,Am,Qb).call(this,Vs.from(o))),i=new o9(r,"_"),s=new az;return i.encode(s,n),s.data}decode(e,n,r){const i=e.map(o=>Fe(this,Am,Qb).call(this,Vs.from(o)));return new o9(i,"_").decode(new lz(n,r,Wle))}static _setDefaultMaxInflation(e){ye(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Wle=e}static defaultAbiCoder(){return EM==null&&(EM=new NI),EM}static getBuiltinCallException(e,n,r){return fUt(e,n,r,NI.defaultAbiCoder())}};Am=new WeakSet,Qb=function(e){if(e.isArray())return new NLt(Fe(this,Am,Qb).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new o9(e.components.map(r=>Fe(this,Am,Qb).call(this,r)),e.name);switch(e.baseType){case"address":return new TLt(e.name);case"bool":return new PLt(e.name);case"string":return new ULt(e.name);case"bytes":return new RLt(e.name);case"":return new MLt(e.name)}let n=e.type.match(hUt);if(n){let r=parseInt(n[2]||"256");return ye(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new FLt(r/8,n[1]==="int",e.name)}if(n=e.type.match(dUt),n){let r=parseInt(n[1]);return ye(r!==0&&r<=32,"invalid bytes length","param",e),new jLt(r,e.name)}ye(!1,"invalid type","type",e.type)};let NE=NI;class pUt{constructor(e,n,r){Ee(this,"fragment");Ee(this,"name");Ee(this,"signature");Ee(this,"topic");Ee(this,"args");const i=e.name,s=e.format();Lt(this,{fragment:e,name:i,signature:s,topic:n,args:r})}}class mUt{constructor(e,n,r,i){Ee(this,"fragment");Ee(this,"name");Ee(this,"args");Ee(this,"signature");Ee(this,"selector");Ee(this,"value");const s=e.name,o=e.format();Lt(this,{fragment:e,name:s,args:r,signature:o,selector:n,value:i})}}class gUt{constructor(e,n,r){Ee(this,"fragment");Ee(this,"name");Ee(this,"args");Ee(this,"signature");Ee(this,"selector");const i=e.name,s=e.format();Lt(this,{fragment:e,name:i,args:r,signature:s,selector:n})}}class Hle{constructor(e){Ee(this,"hash");Ee(this,"_isIndexed");Lt(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const Vle={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},qle={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&Vle[t.toString()]&&(e=Vle[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var hh,fh,ph,yo,Kh,SS,_S;const Cy=class Cy{constructor(e){ve(this,Kh);Ee(this,"fragments");Ee(this,"deploy");Ee(this,"fallback");Ee(this,"receive");ve(this,hh);ve(this,fh);ve(this,ph);ve(this,yo);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,te(this,ph,new Map),te(this,hh,new Map),te(this,fh,new Map);const r=[];for(const o of n)try{r.push(gw.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}Lt(this,{fragments:Object.freeze(r)});let i=null,s=!1;te(this,yo,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let l;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Lt(this,{deploy:o});return;case"fallback":o.inputs.length===0?s=!0:(ye(!i||o.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,o),i=o,s=i.payable);return;case"function":l=H(this,ph);break;case"event":l=H(this,fh);break;case"error":l=H(this,hh);break;default:return}const c=o.format();l.has(c)||l.set(c,o)}),this.deploy||Lt(this,{deploy:gp.from("constructor()")}),Lt(this,{fallback:i,receive:s})}format(e){const n=e?"minimal":"full";return this.fragments.map(i=>i.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return NE.defaultAbiCoder()}getFunctionName(e){const n=Fe(this,Kh,SS).call(this,e,null,!1);return ye(n,"no matching function","key",e),n.name}hasFunction(e){return!!Fe(this,Kh,SS).call(this,e,null,!1)}getFunction(e,n){return Fe(this,Kh,SS).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(H(this,ph).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(H(this,ph).get(i),r)}}getEventName(e){const n=Fe(this,Kh,_S).call(this,e,null,!1);return ye(n,"no matching event","key",e),n.name}hasEvent(e){return!!Fe(this,Kh,_S).call(this,e,null,!1)}getEvent(e,n){return Fe(this,Kh,_S).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(H(this,fh).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(H(this,fh).get(i),r)}}getError(e,n){if(_r(e)){const i=e.toLowerCase();if(qle[i])return Ba.from(qle[i].signature);for(const s of H(this,hh).values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,o]of H(this,hh))s.split("(")[0]===e&&i.push(o);if(i.length===0)return e==="Error"?Ba.from("error Error(string)"):e==="Panic"?Ba.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(o=>JSON.stringify(o.format())).join(", ");ye(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=Ba.from(e).format(),e==="Error(string)")return Ba.from("error Error(string)");if(e==="Panic(uint256)")return Ba.from("error Panic(uint256)");const r=H(this,hh).get(e);return r||null}forEachError(e){const n=Array.from(H(this,hh).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(H(this,hh).get(i),r)}}_decodeParams(e,n){return H(this,yo).decode(e,n)}_encodeParams(e,n){return H(this,yo).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);ye(r,"unknown error","fragment",e),e=r}return ye(hi(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,hi(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);ye(r,"unknown error","fragment",e),e=r}return yi([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);ye(r,"unknown function","fragment",e),e=r}return ye(hi(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,hi(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);ye(r,"unknown function","fragment",e),e=r}return yi([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const s=this.getFunction(e);ye(s,"unknown function","fragment",e),e=s}let r="invalid length for result data";const i=ea(n);if(i.length%32===0)try{return H(this,yo).decode(e.outputs,i)}catch{r="could not decode result data"}We(!1,r,"BAD_DATA",{value:pt(i),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=vn(e,"data"),i=NE.getBuiltinCallException("call",n,r);if(i.message.startsWith("execution reverted (unknown custom error)")){const a=pt(r.slice(0,4)),l=this.getError(a);if(l)try{const c=H(this,yo).decode(l.inputs,r.slice(4));i.revert={name:l.name,signature:l.format(),args:c},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(n);return o&&(i.invocation={method:o.name,signature:o.signature,args:o.args}),i}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);ye(r,"unknown function","fragment",e),e=r}return pt(H(this,yo).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const s=this.getEvent(e);ye(s,"unknown event","eventFragment",e),e=s}We(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(s,o)=>s.type==="string"?pw(o):s.type==="bytes"?Gi(pt(o)):(s.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":s.type.match(/^u?int/)?o=Eg(o):s.type.match(/^bytes/)?o=RDt(o,32):s.type==="address"&&H(this,yo).encode(["address"],[o]),Xp(pt(o),32));for(n.forEach((s,o)=>{const a=e.inputs[o];if(!a.indexed){ye(s==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?ye(!1,"filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?r.push(s.map(l=>i(a,l))):r.push(i(a,s))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const o=this.getEvent(e);ye(o,"unknown event","eventFragment",e),e=o}const r=[],i=[],s=[];return e.anonymous||r.push(e.topicHash),ye(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((o,a)=>{const l=n[a];if(o.indexed)if(o.type==="string")r.push(pw(l));else if(o.type==="bytes")r.push(Gi(l));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(H(this,yo).encode([o.type],[l]))}else i.push(o),s.push(l)}),{data:H(this,yo).encode(i,s),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const p=this.getEvent(e);ye(p,"unknown event","eventFragment",e),e=p}if(r!=null&&!e.anonymous){const p=e.topicHash;ye(_r(r[0],32)&&r[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],s=[],o=[];e.inputs.forEach((p,m)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(i.push(Vs.from({type:"bytes32",name:p.name})),o.push(!0)):(i.push(p),o.push(!1)):(s.push(p),o.push(!1))});const a=r!=null?H(this,yo).decode(i,yi(r)):null,l=H(this,yo).decode(s,n,!0),c=[],u=[];let h=0,f=0;return e.inputs.forEach((p,m)=>{let g=null;if(p.indexed)if(a==null)g=new Hle(null);else if(o[m])g=new Hle(a[f++]);else try{g=a[f++]}catch(y){g=y}else try{g=l[h++]}catch(y){g=y}c.push(g),u.push(p.name||null)}),i3.fromItems(c,u)}parseTransaction(e){const n=vn(e.data,"tx.data"),r=Et(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(pt(n.slice(0,4)));if(!i)return null;const s=H(this,yo).decode(i.inputs,n.slice(4));return new mUt(i,i.selector,s,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new pUt(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=pt(e),r=this.getError(hi(n,0,4));if(!r)return null;const i=H(this,yo).decode(r.inputs,hi(n,4));return new gUt(r,r.selector,i)}static from(e){return e instanceof Cy?e:typeof e=="string"?new Cy(JSON.parse(e)):typeof e.formatJson=="function"?new Cy(e.formatJson()):typeof e.format=="function"?new Cy(e.format("json")):new Cy(e)}};hh=new WeakMap,fh=new WeakMap,ph=new WeakMap,yo=new WeakMap,Kh=new WeakSet,SS=function(e,n,r){if(_r(e)){const s=e.toLowerCase();for(const o of H(this,ph).values())if(s===o.selector)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of H(this,ph))o.split("(")[0]===e&&s.push(a);if(n){const o=n.length>0?n[n.length-1]:null;let a=n.length,l=!0;Oo.isTyped(o)&&o.type==="overrides"&&(l=!1,a--);for(let c=s.length-1;c>=0;c--){const u=s[c].inputs.length;u!==a&&(!l||u!==a-1)&&s.splice(c,1)}for(let c=s.length-1;c>=0;c--){const u=s[c].inputs;for(let h=0;h<n.length;h++)if(Oo.isTyped(n[h])){if(h>=u.length){if(n[h].type==="overrides")continue;s.splice(c,1);break}if(n[h].type!==u[h].baseType){s.splice(c,1);break}}}}if(s.length===1&&n&&n.length!==s[0].inputs.length){const o=n[n.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&r){const o=s.map(a=>JSON.stringify(a.format())).join(", ");ye(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return s[0]}const i=H(this,ph).get(Ch.from(e).format());return i||null},_S=function(e,n,r){if(_r(e)){const s=e.toLowerCase();for(const o of H(this,fh).values())if(s===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of H(this,fh))o.split("(")[0]===e&&s.push(a);if(n){for(let o=s.length-1;o>=0;o--)s[o].inputs.length<n.length&&s.splice(o,1);for(let o=s.length-1;o>=0;o--){const a=s[o].inputs;for(let l=0;l<n.length;l++)if(Oo.isTyped(n[l])&&n[l].type!==a[l].baseType){s.splice(o,1);break}}}if(s.length===0)return null;if(s.length>1&&r){const o=s.map(a=>JSON.stringify(a.format())).join(", ");ye(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return s[0]}const i=H(this,fh).get(Ah.from(e).format());return i||null};let Ez=Cy;const bke=BigInt(0);function m2(t){return t??null}function Ti(t){return t==null?null:t.toString()}class Gle{constructor(e,n,r){Ee(this,"gasPrice");Ee(this,"maxFeePerGas");Ee(this,"maxPriorityFeePerGas");Lt(this,{gasPrice:m2(e),maxFeePerGas:m2(n),maxPriorityFeePerGas:m2(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Ti(e),maxFeePerGas:Ti(n),maxPriorityFeePerGas:Ti(r)}}}function cI(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=pt(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=Et(t[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=wn(t[i],`request.${i}`));return t.accessList&&(e.accessList=Zw(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>SK(i)?pt(i):Object.assign({},i))),e}var np;class yUt{constructor(e,n){Ee(this,"provider");Ee(this,"number");Ee(this,"hash");Ee(this,"timestamp");Ee(this,"parentHash");Ee(this,"parentBeaconBlockRoot");Ee(this,"nonce");Ee(this,"difficulty");Ee(this,"gasLimit");Ee(this,"gasUsed");Ee(this,"stateRoot");Ee(this,"receiptsRoot");Ee(this,"blobGasUsed");Ee(this,"excessBlobGas");Ee(this,"miner");Ee(this,"prevRandao");Ee(this,"extraData");Ee(this,"baseFeePerGas");ve(this,np);te(this,np,e.transactions.map(r=>typeof r!="string"?new PE(r,n):r)),Lt(this,{provider:n,hash:m2(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:m2(e.prevRandao),extraData:e.extraData,baseFeePerGas:m2(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return H(this,np).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=H(this,np).slice();return e.length===0?[]:(We(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:i,gasUsed:s,hash:o,miner:a,prevRandao:l,nonce:c,number:u,parentHash:h,parentBeaconBlockRoot:f,stateRoot:p,receiptsRoot:m,timestamp:g,transactions:y}=this;return{_type:"Block",baseFeePerGas:Ti(e),difficulty:Ti(n),extraData:r,gasLimit:Ti(i),gasUsed:Ti(s),blobGasUsed:Ti(this.blobGasUsed),excessBlobGas:Ti(this.excessBlobGas),hash:o,miner:a,prevRandao:l,nonce:c,number:u,parentHash:h,timestamp:g,parentBeaconBlockRoot:f,stateRoot:p,receiptsRoot:m,transactions:y}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return H(this,np).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=H(this,np)[e];else{const r=e.toLowerCase();for(const i of H(this,np))if(typeof i=="string"){if(i!==r)continue;n=i;break}else{if(i.hash!==r)continue;n=i;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;ye(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return wUt(this)}}np=new WeakMap;class CC{constructor(e,n){Ee(this,"provider");Ee(this,"transactionHash");Ee(this,"blockHash");Ee(this,"blockNumber");Ee(this,"removed");Ee(this,"address");Ee(this,"data");Ee(this,"topics");Ee(this,"index");Ee(this,"transactionIndex");this.provider=n;const r=Object.freeze(e.topics.slice());Lt(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:o,topics:a,transactionHash:l,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:o,topics:a,transactionHash:l,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return We(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return We(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return We(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return bUt(this)}}var rA;class vke{constructor(e,n){Ee(this,"provider");Ee(this,"to");Ee(this,"from");Ee(this,"contractAddress");Ee(this,"hash");Ee(this,"index");Ee(this,"blockHash");Ee(this,"blockNumber");Ee(this,"logsBloom");Ee(this,"gasUsed");Ee(this,"blobGasUsed");Ee(this,"cumulativeGasUsed");Ee(this,"gasPrice");Ee(this,"blobGasPrice");Ee(this,"type");Ee(this,"status");Ee(this,"root");ve(this,rA);te(this,rA,Object.freeze(e.logs.map(i=>new CC(i,n))));let r=bke;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),Lt(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return H(this,rA)}toJSON(){const{to:e,from:n,contractAddress:r,hash:i,index:s,blockHash:o,blockNumber:a,logsBloom:l,logs:c,status:u,root:h}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:r,cumulativeGasUsed:Ti(this.cumulativeGasUsed),from:n,gasPrice:Ti(this.gasPrice),blobGasUsed:Ti(this.blobGasUsed),blobGasPrice:Ti(this.blobGasPrice),gasUsed:Ti(this.gasUsed),hash:i,index:s,logs:c,logsBloom:l,root:h,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Eke(this)}reorderedEvent(e){return We(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),xke(this,e)}}rA=new WeakMap;var Cm;const EY=class EY{constructor(e,n){Ee(this,"provider");Ee(this,"blockNumber");Ee(this,"blockHash");Ee(this,"index");Ee(this,"hash");Ee(this,"type");Ee(this,"to");Ee(this,"from");Ee(this,"nonce");Ee(this,"gasLimit");Ee(this,"gasPrice");Ee(this,"maxPriorityFeePerGas");Ee(this,"maxFeePerGas");Ee(this,"maxFeePerBlobGas");Ee(this,"data");Ee(this,"value");Ee(this,"chainId");Ee(this,"signature");Ee(this,"accessList");Ee(this,"blobVersionedHashes");Ee(this,"authorizationList");ve(this,Cm);this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,te(this,Cm,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:i,type:s,to:o,from:a,nonce:l,data:c,signature:u,accessList:h,blobVersionedHashes:f}=this;return{_type:"TransactionResponse",accessList:h,blockNumber:e,blockHash:n,blobVersionedHashes:f,chainId:Ti(this.chainId),data:c,from:a,gasLimit:Ti(this.gasLimit),gasPrice:Ti(this.gasPrice),hash:i,maxFeePerGas:Ti(this.maxFeePerGas),maxPriorityFeePerGas:Ti(this.maxPriorityFeePerGas),maxFeePerBlobGas:Ti(this.maxFeePerBlobGas),nonce:l,signature:u,to:o,index:r,type:s,value:Ti(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await Vo({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,i=n??0;let s=H(this,Cm),o=-1,a=s===-1;const l=async()=>{if(a)return null;const{blockNumber:f,nonce:p}=await Vo({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){s=f;return}if(a)return null;const m=await this.getTransaction();if(!(m&&m.blockNumber!=null))for(o===-1&&(o=s-3,o<H(this,Cm)&&(o=H(this,Cm)));o<=f;){if(a)return null;const g=await this.provider.getBlock(o,!0);if(g==null)return;for(const y of g)if(y===this.hash)return;for(let y=0;y<g.length;y++){const w=await g.getTransaction(y);if(w.from===this.from&&w.nonce===this.nonce){if(a)return null;const v=await this.provider.getTransactionReceipt(w.hash);if(v==null||f-v.blockNumber+1<r)return;let b="replaced";w.data===this.data&&w.to===this.to&&w.value===this.value?b="repriced":w.data==="0x"&&w.from===w.to&&w.value===bke&&(b="cancelled"),We(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:b==="replaced"||b==="cancelled",reason:b,replacement:w.replaceableTransaction(s),hash:w.hash,receipt:v})}}o++}},c=f=>{if(f==null||f.status!==0)return f;We(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:f.to,from:f.from,data:""},receipt:f})},u=await this.provider.getTransactionReceipt(this.hash);if(r===0)return c(u);if(u){if(r===1||await u.confirmations()>=r)return c(u)}else if(await l(),r===0)return null;return await new Promise((f,p)=>{const m=[],g=()=>{m.forEach(w=>w())};if(m.push(()=>{a=!0}),i>0){const w=setTimeout(()=>{g(),p(Jr("wait for transaction timeout","TIMEOUT"))},i);m.push(()=>{clearTimeout(w)})}const y=async w=>{if(await w.confirmations()>=r){g();try{f(c(w))}catch(v){p(v)}}};if(m.push(()=>{this.provider.off(this.hash,y)}),this.provider.on(this.hash,y),s>=0){const w=async()=>{try{await l()}catch(v){if(zs(v,"TRANSACTION_REPLACED")){g(),p(v);return}}a||this.provider.once("block",w)};m.push(()=>{this.provider.off("block",w)}),this.provider.once("block",w)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return We(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Eke(this)}reorderedEvent(e){return We(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),We(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),xke(this,e)}replaceableTransaction(e){ye(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new EY(this,this.provider);return te(n,Cm,e),n}};Cm=new WeakMap;let PE=EY;function wUt(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function xke(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function Eke(t){return{orphan:"drop-transaction",tx:t}}function bUt(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class LK extends CC{constructor(n,r,i){super(n,n.provider);Ee(this,"interface");Ee(this,"fragment");Ee(this,"args");const s=r.decodeEventLog(i,n.data,n.topics);Lt(this,{args:s,fragment:i,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Ake extends CC{constructor(n,r){super(n,n.provider);Ee(this,"error");Lt(this,{error:r})}}var J2;class vUt extends vke{constructor(n,r,i){super(i,r);ve(this,J2);te(this,J2,n)}get logs(){return super.logs.map(n=>{const r=n.topics.length?H(this,J2).getEvent(n.topics[0]):null;if(r)try{return new LK(n,H(this,J2),r)}catch(i){return new Ake(n,i)}return n})}}J2=new WeakMap;var iA;class FK extends PE{constructor(n,r,i){super(i,r);ve(this,iA);te(this,iA,n)}async wait(n,r){const i=await super.wait(n,r);return i==null?null:new vUt(H(this,iA),this.provider,i)}}iA=new WeakMap;class Cke extends YAe{constructor(n,r,i,s){super(n,r,i);Ee(this,"log");Lt(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class xUt extends Cke{constructor(e,n,r,i,s){super(e,n,r,new LK(s,e.interface,i));const o=e.interface.decodeEventLog(i,this.log.data,this.log.topics);Lt(this,{args:o,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Kle=BigInt(0);function kke(t){return t&&typeof t.call=="function"}function Ske(t){return t&&typeof t.estimateGas=="function"}function tP(t){return t&&typeof t.resolveName=="function"}function _ke(t){return t&&typeof t.sendTransaction=="function"}function Ike(t){if(t!=null){if(tP(t))return t;if(t.provider)return t.provider}}var sA;class EUt{constructor(e,n,r){ve(this,sA);Ee(this,"fragment");if(Lt(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const i=yw(e.runner,"resolveName"),s=tP(i)?i:null;te(this,sA,async function(){const o=await Promise.all(n.inputs.map((a,l)=>r[l]==null?null:a.walkAsync(r[l],(u,h)=>u==="address"?Array.isArray(h)?Promise.all(h.map(f=>sa(f,s))):sa(h,s):h)));return e.interface.encodeFilterTopics(n,o)}())}getTopicFilter(){return H(this,sA)}}sA=new WeakMap;function yw(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function Hy(t){return t==null?null:t.provider||null}async function Tke(t,e){const n=Oo.dereference(t,"overrides");ye(typeof n=="object","invalid overrides parameter","overrides",t);const r=cI(n);return ye(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),ye(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function AUt(t,e,n){const r=yw(t,"resolveName"),i=tP(r)?r:null;return await Promise.all(e.map((s,o)=>s.walkAsync(n[o],(a,l)=>(l=Oo.dereference(l,a),a==="address"?sa(l,i):l))))}function CUt(t){const e=async function(o){const a=await Tke(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await sa(a.from,Ike(t.runner)));const l=t.interface,c=Et(a.value||Kle,"overrides.value")===Kle,u=(a.data||"0x")==="0x";l.fallback&&!l.fallback.payable&&l.receive&&!u&&!c&&ye(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),ye(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);const h=l.receive||l.fallback&&l.fallback.payable;return ye(h||c,"cannot send value to non-payable fallback","overrides.value",a.value),ye(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},n=async function(o){const a=yw(t.runner,"call");We(kke(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await e(o);try{return await a.call(l)}catch(c){throw kK(c)&&c.data?t.interface.makeError(c.data,l):c}},r=async function(o){const a=t.runner;We(_ke(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await a.sendTransaction(await e(o)),c=Hy(t.runner);return new FK(t.interface,c,l)},i=async function(o){const a=yw(t.runner,"estimateGas");return We(Ske(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},s=async o=>await r(o);return Lt(s,{_contract:t,estimateGas:i,populateTransaction:e,send:r,staticCall:n}),s}function kUt(t,e){const n=function(...c){const u=t.interface.getFunction(e,c);return We(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:c}}),u},r=async function(...c){const u=n(...c);let h={};if(u.inputs.length+1===c.length&&(h=await Tke(c.pop()),h.from&&(h.from=await sa(h.from,Ike(t.runner)))),u.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const f=await AUt(t.runner,u.inputs,c);return Object.assign({},h,await Vo({to:t.getAddress(),data:t.interface.encodeFunctionData(u,f)}))},i=async function(...c){const u=await a(...c);return u.length===1?u[0]:u},s=async function(...c){const u=t.runner;We(_ke(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const h=await u.sendTransaction(await r(...c)),f=Hy(t.runner);return new FK(t.interface,f,h)},o=async function(...c){const u=yw(t.runner,"estimateGas");return We(Ske(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await r(...c))},a=async function(...c){const u=yw(t.runner,"call");We(kke(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const h=await r(...c);let f="0x";try{f=await u.call(h)}catch(m){throw kK(m)&&m.data?t.interface.makeError(m.data,h):m}const p=n(...c);return t.interface.decodeFunctionResult(p,f)},l=async(...c)=>n(...c).constant?await i(...c):await s(...c);return Lt(l,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:o,populateTransaction:r,send:s,staticCall:i,staticCallResult:a}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const c=t.interface.getFunction(e);return We(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),c}}),l}function SUt(t,e){const n=function(...i){const s=t.interface.getEvent(e,i);return We(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),s},r=function(...i){return new EUt(t,n(...i),i)};return Lt(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return We(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const uI=Symbol.for("_ethersInternal_contract"),$ke=new WeakMap;function _Ut(t,e){$ke.set(t[uI],e)}function Al(t){return $ke.get(t[uI])}function IUt(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function UK(t,e){let n,r=null;if(Array.isArray(e)){const s=function(o){if(_r(o,32))return o;const a=t.interface.getEvent(o);return ye(a,"unknown fragment","name",o),a.topicHash};n=e.map(o=>o==null?null:Array.isArray(o)?o.map(s):s(o))}else e==="*"?n=[null]:typeof e=="string"?_r(e,32)?n=[e]:(r=t.interface.getEvent(e),ye(r,"unknown fragment","event",e),n=[r.topicHash]):IUt(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):ye(!1,"unknown event name","event",e);n=n.map(s=>{if(s==null)return null;if(Array.isArray(s)){const o=Array.from(new Set(s.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return s.toLowerCase()});const i=n.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:r,tag:i,topics:n}}async function L6(t,e){const{subs:n}=Al(t);return n.get((await UK(t,e)).tag)||null}async function Yle(t,e,n){const r=Hy(t.runner);We(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:o}=await UK(t,n),{addr:a,subs:l}=Al(t);let c=l.get(s);if(!c){const h={address:a||t,topics:o},f=y=>{let w=i;if(w==null)try{w=t.interface.getEvent(y.topics[0])}catch{}if(w){const v=w,b=i?t.interface.decodeEventLog(i,y.data,y.topics):[];Cz(t,n,b,A=>new xUt(t,A,n,v,y))}else Cz(t,n,[],v=>new Cke(t,v,n,y))};let p=[];c={tag:s,listeners:[],start:()=>{p.length||p.push(r.on(h,f))},stop:async()=>{if(p.length==0)return;let y=p;p=[],await Promise.all(y),r.off(h,f)}},l.set(s,c)}return c}let Az=Promise.resolve();async function TUt(t,e,n,r){await Az;const i=await L6(t,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:o,once:a})=>{const l=Array.from(n);r&&l.push(r(a?null:o));try{o.call(t,...l)}catch{}return!a}),i.listeners.length===0&&(i.stop(),Al(t).subs.delete(i.tag)),s>0}async function Cz(t,e,n,r){try{await Az}catch{}const i=TUt(t,e,n,r);return Az=i,await i}const l9=["then"];var zce;zce=uI;const $4=class $4{constructor(e,n,r,i){Ee(this,"target");Ee(this,"interface");Ee(this,"runner");Ee(this,"filters");Ee(this,zce);Ee(this,"fallback");ye(typeof e=="string"||jCe(e),"invalid value for Contract target","target",e),r==null&&(r=null);const s=Ez.from(n);Lt(this,{target:e,runner:r,interface:s}),Object.defineProperty(this,uI,{value:{}});let o,a=null,l=null;if(i){const h=Hy(r);l=new FK(this.interface,h,i)}let c=new Map;if(typeof e=="string")if(_r(e))a=e,o=Promise.resolve(e);else{const h=yw(r,"resolveName");if(!tP(h))throw Jr("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=h.resolveName(e).then(f=>{if(f==null)throw Jr("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Al(this).addr=f,f})}else o=e.getAddress().then(h=>{if(h==null)throw new Error("TODO");return Al(this).addr=h,h});_Ut(this,{addrPromise:o,addr:a,deployTx:l,subs:c});const u=new Proxy({},{get:(h,f,p)=>{if(typeof f=="symbol"||l9.indexOf(f)>=0)return Reflect.get(h,f,p);try{return this.getEvent(f)}catch(m){if(!zs(m,"INVALID_ARGUMENT")||m.argument!=="key")throw m}},has:(h,f)=>l9.indexOf(f)>=0?Reflect.has(h,f):Reflect.has(h,f)||this.interface.hasEvent(String(f))});return Lt(this,{filters:u}),Lt(this,{fallback:s.receive||s.fallback?CUt(this):null}),new Proxy(this,{get:(h,f,p)=>{if(typeof f=="symbol"||f in h||l9.indexOf(f)>=0)return Reflect.get(h,f,p);try{return h.getFunction(f)}catch(m){if(!zs(m,"INVALID_ARGUMENT")||m.argument!=="key")throw m}},has:(h,f)=>typeof f=="symbol"||f in h||l9.indexOf(f)>=0?Reflect.has(h,f):h.interface.hasFunction(f)})}connect(e){return new $4(this.target,this.interface,e)}attach(e){return new $4(e,this.interface,this.runner)}async getAddress(){return await Al(this).addrPromise}async getDeployedCode(){const e=Hy(this.runner);We(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=Hy(this.runner);return We(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",o)}catch(a){s(a)}};o()})}deploymentTransaction(){return Al(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),kUt(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),SUt(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:i,addrPromise:s}=Al(this),o=i||await s,{fragment:a,topics:l}=await UK(this,e),c={address:o,topics:l,fromBlock:n,toBlock:r},u=Hy(this.runner);return We(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(c)).map(h=>{let f=a;if(f==null)try{f=this.interface.getEvent(h.topics[0])}catch{}if(f)try{return new LK(h,this.interface,f)}catch(p){return new Ake(h,p)}return new CC(h,u)})}async on(e,n){const r=await Yle(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await Yle(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await Cz(this,e,n,null)}async listenerCount(e){if(e){const i=await L6(this,e);return i?i.listeners.length:0}const{subs:n}=Al(this);let r=0;for(const{listeners:i}of n.values())r+=i.length;return r}async listeners(e){if(e){const i=await L6(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:n}=Al(this);let r=[];for(const{listeners:i}of n.values())r=r.concat(i.map(({listener:s})=>s));return r}async off(e,n){const r=await L6(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(n==null||r.listeners.length===0)&&(r.stop(),Al(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await L6(this,e);if(!n)return this;n.stop(),Al(this).subs.delete(n.tag)}else{const{subs:n}=Al(this);for(const{tag:r,stop:i}of n.values())i(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends $4{constructor(i,s=null){super(i,e,s)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}};let kz=$4;function $Ut(){return kz}class j1 extends $Ut(){}function AM(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):ye(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class NUt{constructor(e){Ee(this,"name");Lt(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const Nke=new RegExp("^(ipfs)://(.*)$","i"),Qle=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Nke,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var km,c1,Sm,Zb,PI,Pke;const Bv=class Bv{constructor(e,n,r){ve(this,Sm);Ee(this,"provider");Ee(this,"address");Ee(this,"name");ve(this,km);ve(this,c1);Lt(this,{provider:e,address:n,name:r}),te(this,km,null),te(this,c1,new j1(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return H(this,km)==null&&te(this,km,(async()=>{try{return await H(this,c1).supportsInterface("0x9061b923")}catch(e){if(zs(e,"CALL_EXCEPTION"))return!1;throw te(this,km,null),e}})()),await H(this,km)}async getAddress(e){if(e==null&&(e=60),e===60)try{const s=await Fe(this,Sm,Zb).call(this,"addr(bytes32)");return s==null||s===CE?null:s}catch(s){if(zs(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648;const o=await Fe(this,Sm,Zb).call(this,"addr(bytes32,uint)",[s]);if(_r(o,20))return ir(o)}let n=null;for(const s of this.provider.plugins)if(s instanceof NUt&&s.supportsCoinType(e)){n=s;break}if(n==null)return null;const r=await Fe(this,Sm,Zb).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await n.decodeAddress(e,r);if(i!=null)return i;We(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await Fe(this,Sm,Zb).call(this,"text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await Fe(this,Sm,Zb).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const i=n[1]==="e3010170"?"ipfs":"ipns",s=parseInt(n[4],16);if(n[5].length===s*2)return`${i}://${ODt("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;We(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<Qle.length;r++){const i=n.match(Qle[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const o=AM(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const l=(i[2]||"").split("/");if(l.length!==2)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const c=l[1],u=new j1(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const g=await u.ownerOf(c);if(a!==g)return e.push({type:"!owner",value:g}),{url:null,linkage:e};e.push({type:"owner",value:g})}else if(s==="erc1155"){const g=await u.balanceOf(a,c);if(!g)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:g.toString()})}let h=await u[o](c);if(h==null||h==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:h}),s==="erc1155"&&(h=h.replace("{id}",Eg(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:h})),h.match(/^ipfs:/i)&&(h=AM(h)),e.push({type:"metadata-url",value:h});let f={};const p=await new e0(h).send();p.assertOk();try{f=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{const w=p.body;return w&&e.push({type:"!metadata",value:pt(w)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!f)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(f)});let m=f.image;if(typeof m!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!m.match(/^(https:\/\/|data:)/i)){if(m.match(Nke)==null)return e.push({type:"!imageUrl-ipfs",value:m}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:m}),m=AM(m)}return e.push({type:"url",value:m}),{linkage:e,url:m}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return We(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async fromName(e,n){var i;let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const s=await Fe(i=Bv,PI,Pke).call(i,e,r);if(s!=null){const o=new Bv(e,s,n);return r!==n&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}};km=new WeakMap,c1=new WeakMap,Sm=new WeakSet,Zb=async function(e,n){n=(n||[]).slice();const r=H(this,c1).interface;n.unshift(vz(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),We(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[qFt(this.name,255),r.encodeFunctionData(i,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const s=await H(this,c1)[e](...n);return i?r.decodeFunctionResult(i,s)[0]:s}catch(s){if(!zs(s,"CALL_EXCEPTION"))throw s}return null},PI=new WeakSet,Pke=async function(e,n){const r=await Bv.getEnsAddress(e);try{const s=await new j1(r,["function resolver(bytes32) view returns (address)"],e).resolver(vz(n),{enableCcipRead:!0});return s===CE?null:s}catch(i){throw i}return null},ve(Bv,PI);let dI=Bv;const Zle=BigInt(0);function Mn(t,e){return function(n){return n==null?e:t(n)}}function RE(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))}}function kC(t,e){return n=>{const r={};for(const i in t){let s=i;if(e&&i in e&&!(s in n)){for(const o of e[i])if(o in n){s=o;break}}try{const o=t[i](n[s]);o!==void 0&&(r[i]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";We(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:n})}}return r}}function PUt(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}ye(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function d3(t){return ye(_r(t,!0),"invalid data","value",t),t}function Fs(t){return ye(_r(t,32),"invalid hash","value",t),t}const RUt=kC({address:ir,blockHash:Fs,blockNumber:wn,data:d3,index:wn,removed:Mn(PUt,!1),topics:RE(Fs),transactionHash:Fs,transactionIndex:wn},{index:["logIndex"]});function jUt(t){return RUt(t)}const OUt=kC({hash:Mn(Fs),parentHash:Fs,parentBeaconBlockRoot:Mn(Fs,null),number:wn,timestamp:wn,nonce:Mn(d3),difficulty:Et,gasLimit:Et,gasUsed:Et,stateRoot:Mn(Fs,null),receiptsRoot:Mn(Fs,null),blobGasUsed:Mn(Et,null),excessBlobGas:Mn(Et,null),miner:Mn(ir),prevRandao:Mn(Fs,null),extraData:d3,baseFeePerGas:Mn(Et)},{prevRandao:["mixHash"]});function MUt(t){const e=OUt(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:Rke(n)),e}const DUt=kC({transactionIndex:wn,blockNumber:wn,transactionHash:Fs,address:ir,topics:RE(Fs),data:d3,index:wn,blockHash:Fs},{index:["logIndex"]});function BUt(t){return DUt(t)}const LUt=kC({to:Mn(ir,null),from:Mn(ir,null),contractAddress:Mn(ir,null),index:wn,root:Mn(pt),gasUsed:Et,blobGasUsed:Mn(Et,null),logsBloom:Mn(d3),blockHash:Fs,hash:Fs,logs:RE(BUt),blockNumber:wn,cumulativeGasUsed:Et,effectiveGasPrice:Mn(Et),blobGasPrice:Mn(Et,null),status:Mn(wn),type:Mn(wn,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function FUt(t){return LUt(t)}function Rke(t){t.to&&Et(t.to)===Zle&&(t.to="0x0000000000000000000000000000000000000000");const e=kC({hash:Fs,index:Mn(wn,void 0),type:n=>n==="0x"||n==null?0:wn(n),accessList:Mn(Zw,null),blobVersionedHashes:Mn(RE(Fs,!0),null),authorizationList:Mn(RE(n=>{let r;if(n.signature)r=n.signature;else{let i=n.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),r=Object.assign({},n,{yParity:i})}return{address:ir(n.address),chainId:Et(n.chainId),nonce:Et(n.nonce),signature:el.from(r)}},!1),null),blockHash:Mn(Fs,null),blockNumber:Mn(wn,null),transactionIndex:Mn(wn,null),from:ir,gasPrice:Mn(Et),maxPriorityFeePerGas:Mn(Et),maxFeePerGas:Mn(Et),maxFeePerBlobGas:Mn(Et,null),gasLimit:Et,to:Mn(ir,null),value:Et,nonce:wn,data:d3,creates:Mn(ir,null),chainId:Mn(Et,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=ILt(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=el.from(t.signature):e.signature=el.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&Et(e.blockHash)===Zle&&(e.blockHash=null),e}const UUt="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class SC{constructor(e){Ee(this,"name");Lt(this,{name:e})}clone(){return new SC(this.name)}}class nP extends SC{constructor(n,r){n==null&&(n=0);super(`org.ethers.network.plugins.GasCost#${n||0}`);Ee(this,"effectiveBlock");Ee(this,"txBase");Ee(this,"txCreate");Ee(this,"txDataZero");Ee(this,"txDataNonzero");Ee(this,"txAccessListStorageKey");Ee(this,"txAccessListAddress");const i={effectiveBlock:n};function s(o,a){let l=(r||{})[o];l==null&&(l=a),ye(typeof l=="number",`invalud value for ${o}`,"costs",r),i[o]=l}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),Lt(this,i)}clone(){return new nP(this.effectiveBlock,this)}}class rP extends SC{constructor(n,r){super("org.ethers.plugins.network.Ens");Ee(this,"address");Ee(this,"targetNetwork");Lt(this,{address:n||UUt,targetNetwork:r??1})}clone(){return new rP(this.address,this.targetNetwork)}}var oA,aA;class zUt extends SC{constructor(n,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");ve(this,oA);ve(this,aA);te(this,oA,n),te(this,aA,r)}get url(){return H(this,oA)}get processFunc(){return H(this,aA)}clone(){return this}}oA=new WeakMap,aA=new WeakMap;const CM=new Map;var X2,ex,_m;const Lv=class Lv{constructor(e,n){ve(this,X2);ve(this,ex);ve(this,_m);te(this,X2,e),te(this,ex,Et(n)),te(this,_m,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return H(this,X2)}set name(e){te(this,X2,e)}get chainId(){return H(this,ex)}set chainId(e){te(this,ex,Et(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Et(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Et(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Et(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(H(this,_m).values())}attachPlugin(e){if(H(this,_m).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return H(this,_m).set(e.name,e.clone()),this}getPlugin(e){return H(this,_m).get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new Lv(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new nP;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const i=Zw(e.accessList);for(const s in i)r+=n.txAccessListAddress+n.txAccessListStorageKey*i[s].storageKeys.length}return r}static from(e){if(WUt(),e==null)return Lv.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=CM.get(e);if(n)return n();if(typeof e=="bigint")return new Lv("unknown",e);ye(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){ye(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new Lv(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new rP(e.ensAddress,e.ensNetwork)),n}ye(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=CM.get(e);r&&ye(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),CM.set(e,n)}};X2=new WeakMap,ex=new WeakMap,_m=new WeakMap;let $h=Lv;function Jle(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function Xle(t){return new zUt(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let i;try{const[s,o]=await Promise.all([r.send(),e()]);i=s;const a=i.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:Jle(a.maxFee,9),maxPriorityFeePerGas:Jle(a.maxPriorityFee,9)}}catch(s){We(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:s})}})}let ece=!1;function WUt(){if(ece)return;ece=!0;function t(e,n,r){const i=function(){const s=new $h(e,n);return r.ensNetwork!=null&&s.attachPlugin(new rP(null,r.ensNetwork)),s.attachPlugin(new nP),(r.plugins||[]).forEach(o=>{s.attachPlugin(o)}),s};$h.register(e,i),$h.register(n,i),r.altNames&&r.altNames.forEach(s=>{$h.register(s,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[Xle("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Xle("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function Sz(t){return JSON.parse(JSON.stringify(t))}var rp,Nc,Im,mh,tx,IS;class HUt{constructor(e){ve(this,tx);ve(this,rp);ve(this,Nc);ve(this,Im);ve(this,mh);te(this,rp,e),te(this,Nc,null),te(this,Im,4e3),te(this,mh,-2)}get pollingInterval(){return H(this,Im)}set pollingInterval(e){te(this,Im,e)}start(){H(this,Nc)||(te(this,Nc,H(this,rp)._setTimeout(Fe(this,tx,IS).bind(this),H(this,Im))),Fe(this,tx,IS).call(this))}stop(){H(this,Nc)&&(H(this,rp)._clearTimeout(H(this,Nc)),te(this,Nc,null))}pause(e){this.stop(),e&&te(this,mh,-2)}resume(){this.start()}}rp=new WeakMap,Nc=new WeakMap,Im=new WeakMap,mh=new WeakMap,tx=new WeakSet,IS=async function(){try{const e=await H(this,rp).getBlockNumber();if(H(this,mh)===-2){te(this,mh,e);return}if(e!==H(this,mh)){for(let n=H(this,mh)+1;n<=e;n++){if(H(this,Nc)==null)return;await H(this,rp).emit("block",n)}te(this,mh,e)}}catch{}H(this,Nc)!=null&&te(this,Nc,H(this,rp)._setTimeout(Fe(this,tx,IS).bind(this),H(this,Im)))};var u1,d1,Tm;class zK{constructor(e){ve(this,u1);ve(this,d1);ve(this,Tm);te(this,u1,e),te(this,Tm,!1),te(this,d1,n=>{this._poll(n,H(this,u1))})}async _poll(e,n){throw new Error("sub-classes must override this")}start(){H(this,Tm)||(te(this,Tm,!0),H(this,d1).call(this,-2),H(this,u1).on("block",H(this,d1)))}stop(){H(this,Tm)&&(te(this,Tm,!1),H(this,u1).off("block",H(this,d1)))}pause(e){this.stop()}resume(){this.start()}}u1=new WeakMap,d1=new WeakMap,Tm=new WeakMap;var nx,ip;class VUt extends zK{constructor(n,r){super(n);ve(this,nx);ve(this,ip);te(this,nx,r),te(this,ip,-2)}pause(n){n&&te(this,ip,-2),super.pause(n)}async _poll(n,r){const i=await r.getBlock(H(this,nx));i!=null&&(H(this,ip)===-2?te(this,ip,i.number):i.number>H(this,ip)&&(r.emit(H(this,nx),i.number),te(this,ip,i.number)))}}nx=new WeakMap,ip=new WeakMap;var RI;class qUt extends zK{constructor(n,r){super(n);ve(this,RI);te(this,RI,Sz(r))}async _poll(n,r){throw new Error("@TODO")}}RI=new WeakMap;var rx;class GUt extends zK{constructor(n,r){super(n);ve(this,rx);te(this,rx,r)}async _poll(n,r){const i=await r.getTransactionReceipt(H(this,rx));i&&r.emit(H(this,rx),i)}}rx=new WeakMap;var sp,ix,sx,$m,Pc,jI,jke;class WK{constructor(e,n){ve(this,jI);ve(this,sp);ve(this,ix);ve(this,sx);ve(this,$m);ve(this,Pc);te(this,sp,e),te(this,ix,Sz(n)),te(this,sx,Fe(this,jI,jke).bind(this)),te(this,$m,!1),te(this,Pc,-2)}start(){H(this,$m)||(te(this,$m,!0),H(this,Pc)===-2&&H(this,sp).getBlockNumber().then(e=>{te(this,Pc,e)}),H(this,sp).on("block",H(this,sx)))}stop(){H(this,$m)&&(te(this,$m,!1),H(this,sp).off("block",H(this,sx)))}pause(e){this.stop(),e&&te(this,Pc,-2)}resume(){this.start()}}sp=new WeakMap,ix=new WeakMap,sx=new WeakMap,$m=new WeakMap,Pc=new WeakMap,jI=new WeakSet,jke=async function(e){if(H(this,Pc)===-2)return;const n=Sz(H(this,ix));n.fromBlock=H(this,Pc)+1,n.toBlock=e;const r=await H(this,sp).getLogs(n);if(r.length===0){H(this,Pc)<e-60&&te(this,Pc,e-60);return}for(const i of r)H(this,sp).emit(H(this,ix),i),te(this,Pc,i.blockNumber)};const KUt=BigInt(2),YUt=10;function c9(t){return t&&typeof t.then=="function"}function TS(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((s,o)=>(s[o]=r[o],s),{})}return r})}class Oke{constructor(e){Ee(this,"name");Lt(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function QUt(t){return JSON.parse(JSON.stringify(t))}function _z(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function kM(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(_r(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:TS("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:TS("orphan",n),filter:QUt(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(i=>i==null?null:Array.isArray(i)?_z(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(n.address){const i=[],s=[],o=a=>{_r(a)?i.push(a):s.push((async()=>{i.push(await sa(a,e))})())};Array.isArray(n.address)?n.address.forEach(o):o(n.address),s.length&&await Promise.all(s),r.address=_z(i.map(a=>a.toLowerCase()))}return{filter:r,tag:TS("event",r),type:"event"}}ye(!1,"unknown ProviderEvent","event",t)}function SM(){return new Date().getTime()}const ZUt={cacheTimeout:250,pollingInterval:4e3};var wo,Nm,bo,ox,_l,h1,Pm,op,lA,Rc,ax,lx,kn,bl,Iz,Tz,F6,$z,U6,$S;class JUt{constructor(e,n){ve(this,kn);ve(this,wo);ve(this,Nm);ve(this,bo);ve(this,ox);ve(this,_l);ve(this,h1);ve(this,Pm);ve(this,op);ve(this,lA);ve(this,Rc);ve(this,ax);ve(this,lx);if(te(this,lx,Object.assign({},ZUt,n||{})),e==="any")te(this,h1,!0),te(this,_l,null);else if(e){const r=$h.from(e);te(this,h1,!1),te(this,_l,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else te(this,h1,!1),te(this,_l,null);te(this,op,-1),te(this,Pm,new Map),te(this,wo,new Map),te(this,Nm,new Map),te(this,bo,null),te(this,ox,!1),te(this,lA,1),te(this,Rc,new Map),te(this,ax,!1)}get pollingInterval(){return H(this,lx).pollingInterval}get provider(){return this}get plugins(){return Array.from(H(this,Nm).values())}attachPlugin(e){if(H(this,Nm).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return H(this,Nm).set(e.name,e.connect(this)),this}getPlugin(e){return H(this,Nm).get(e)||null}get disableCcipRead(){return H(this,ax)}set disableCcipRead(e){te(this,ax,!!e)}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),s=n.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const l=r[a],c=l.replace("{sender}",i).replace("{data}",s),u=new e0(c);l.indexOf("{data}")===-1&&(u.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:r});let h="unknown error",f;try{f=await u.send()}catch(p){o.push(p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:p}});continue}try{const p=f.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:p}),p.data;p.message&&(h=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:p})}catch{}We(f.statusCode<400||f.statusCode>=500,`response not found during CCIP fetch: ${h}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:l,errorMessage:h}}),o.push(h)}We(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:o}})}_wrapBlock(e,n){return new yUt(MUt(e),this)}_wrapLog(e,n){return new CC(jUt(e),this)}_wrapTransactionReceipt(e,n){return new vke(FUt(e),this)}_wrapTransactionResponse(e,n){return new PE(Rke(e),this)}_detectNetwork(){We(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){We(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=wn(await Fe(this,kn,bl).call(this,{method:"getBlockNumber"}),"%response");return H(this,op)>=0&&te(this,op,e),e}_getAddress(e){return sa(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(_r(e))return _r(e,32)?e:Ju(e);if(typeof e=="bigint"&&(e=wn(e,"blockTag")),typeof e=="number")return e>=0?Ju(e):H(this,op)>=0?Ju(H(this,op)+e):this.getBlockNumber().then(n=>Ju(n+e));ye(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(l=>l==null?null:Array.isArray(l)?_z(l.map(c=>c.toLowerCase())):l.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(l,c,u)=>{let h;switch(l.length){case 0:break;case 1:h=l[0];break;default:l.sort(),h=l}if(r&&(c!=null||u!=null))throw new Error("invalid filter");const f={};return h&&(f.address=h),n.length&&(f.topics=n),c&&(f.fromBlock=c),u&&(f.toBlock=u),r&&(f.blockHash=r),f};let s=[];if(e.address)if(Array.isArray(e.address))for(const l of e.address)s.push(this._getAddress(l));else s.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),s.filter(l=>typeof l!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(s),o,a]).then(l=>i(l[0],l[1],l[2])):i(s,o,a)}_getTransactionRequest(e){const n=cI(e),r=[];if(["to","from"].forEach(i=>{if(n[i]==null)return;const s=sa(n[i],this);c9(s)?r.push(async function(){n[i]=await s}()):n[i]=s}),n.blockTag!=null){const i=this._getBlockTag(n.blockTag);c9(i)?r.push(async function(){n.blockTag=await i}()):n.blockTag=i}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(H(this,_l)==null){const i=(async()=>{try{const s=await this._detectNetwork();return this.emit("network",s,null),s}catch(s){throw H(this,_l)===i&&te(this,_l,null),s}})();return te(this,_l,i),(await i).clone()}const e=H(this,_l),[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(H(this,h1)?(this.emit("network",r,n),H(this,_l)===e&&te(this,_l,Promise.resolve(r))):We(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:i,gasPrice:s,priorityFee:o}=await Vo({_block:Fe(this,kn,$z).call(this,"latest",!1),gasPrice:(async()=>{try{const u=await Fe(this,kn,bl).call(this,{method:"getGasPrice"});return Et(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await Fe(this,kn,bl).call(this,{method:"getPriorityFee"});return Et(u,"%response")}catch{}return null})()});let a=null,l=null;const c=this._wrapBlock(i,e);return c&&c.baseFeePerGas&&(l=o??BigInt("1000000000"),a=c.baseFeePerGas*KUt+l),new Gle(s,a,l)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new e0(r.url),s=await r.processFunc(n,this,i);return new Gle(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return c9(n)&&(n=await n),Et(await Fe(this,kn,bl).call(this,{method:"estimateGas",transaction:n}),"%response")}async call(e){const{tx:n,blockTag:r}=await Vo({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await Fe(this,kn,Tz).call(this,Fe(this,kn,Iz).call(this,n,r,e.enableCcipRead?0:-1))}async getBalance(e,n){return Et(await Fe(this,kn,F6).call(this,{method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return wn(await Fe(this,kn,F6).call(this,{method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return pt(await Fe(this,kn,F6).call(this,{method:"getCode"},e,n))}async getStorage(e,n,r){const i=Et(n,"position");return pt(await Fe(this,kn,F6).call(this,{method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:i}=await Vo({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=LCe.from(e);if(s.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(n)}async getBlock(e,n){const{network:r,params:i}=await Vo({network:this.getNetwork(),params:Fe(this,kn,$z).call(this,e,!!n)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:n,params:r}=await Vo({network:this.getNetwork(),params:Fe(this,kn,bl).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await Vo({network:this.getNetwork(),params:Fe(this,kn,bl).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await Fe(this,kn,bl).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await Vo({network:this.getNetwork(),result:Fe(this,kn,bl).call(this,{method:"getTransactionResult",hash:e})});return n==null?null:pt(n)}async getLogs(e){let n=this._getFilter(e);c9(n)&&(n=await n);const{network:r,params:i}=await Vo({network:this.getNetwork(),params:Fe(this,kn,bl).call(this,{method:"getLogs",filter:n})});return i.map(s=>this._wrapLog(s,r))}_getProvider(e){We(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await dI.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=ir(e);const n=vz(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await dI.getEnsAddress(this),s=await new j1(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(s==null||s===CE)return null;const a=await new j1(s,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(r){if(zs(r,"BAD_DATA")&&r.value==="0x"||zs(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const i=n??1;return i===0?this.getTransactionReceipt(e):new Promise(async(s,o)=>{let a=null;const l=async c=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&c-u.blockNumber+1>=i){s(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",l)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",l),o(Jr("timeout","TIMEOUT",{reason:"timeout"})))},r)),l(await this.getBlockNumber())})}async waitForBlock(e){We(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=H(this,Rc).get(e);n&&(n.timer&&clearTimeout(n.timer),H(this,Rc).delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=l0(this,lA)._++,i=()=>{H(this,Rc).delete(r),e()};if(this.paused)H(this,Rc).set(r,{timer:null,func:i,time:n});else{const s=setTimeout(i,n);H(this,Rc).set(r,{timer:s,func:i,time:SM()})}return r}_forEachSubscriber(e){for(const n of H(this,wo).values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Oke(e.type);case"block":{const n=new HUt(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new VUt(this,e.type);case"event":return new WK(this,e.filter);case"transaction":return new GUt(this,e.hash);case"orphan":return new qUt(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of H(this,wo).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),H(this,bo)!=null&&n.pause(H(this,bo));break}}async on(e,n){const r=await Fe(this,kn,$S).call(this,e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,H(this,bo)!=null&&r.subscriber.pause(H(this,bo))),this}async once(e,n){const r=await Fe(this,kn,$S).call(this,e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,H(this,bo)!=null&&r.subscriber.pause(H(this,bo))),this}async emit(e,...n){const r=await Fe(this,kn,U6).call(this,e,n);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:s,once:o})=>{const a=new YAe(this,o?null:s,e);try{s.call(this,...n,a)}catch{}return!o}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),H(this,wo).delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await Fe(this,kn,U6).call(this,e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of H(this,wo).values())n+=r.length;return n}async listeners(e){if(e){const r=await Fe(this,kn,U6).call(this,e);return r?r.listeners.map(({listener:i})=>i):[]}let n=[];for(const{listeners:r}of H(this,wo).values())n=n.concat(r.map(({listener:i})=>i));return n}async off(e,n){const r=await Fe(this,kn,U6).call(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),H(this,wo).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:i}=await Fe(this,kn,$S).call(this,e);r&&i.stop(),H(this,wo).delete(n)}else for(const[n,{started:r,subscriber:i}]of H(this,wo))r&&i.stop(),H(this,wo).delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return H(this,ox)}destroy(){this.removeAllListeners();for(const e of H(this,Rc).keys())this._clearTimeout(e);te(this,ox,!0)}get paused(){return H(this,bo)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(te(this,op,-1),H(this,bo)!=null){if(H(this,bo)==!!e)return;We(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),te(this,bo,!!e);for(const n of H(this,Rc).values())n.timer&&clearTimeout(n.timer),n.time=SM()-n.time}resume(){if(H(this,bo)!=null){this._forEachSubscriber(e=>e.resume()),te(this,bo,null);for(const e of H(this,Rc).values()){let n=e.time;n<0&&(n=0),e.time=SM(),setTimeout(e.func,n)}}}}wo=new WeakMap,Nm=new WeakMap,bo=new WeakMap,ox=new WeakMap,_l=new WeakMap,h1=new WeakMap,Pm=new WeakMap,op=new WeakMap,lA=new WeakMap,Rc=new WeakMap,ax=new WeakMap,lx=new WeakMap,kn=new WeakSet,bl=async function(e){const n=H(this,lx).cacheTimeout;if(n<0)return await this._perform(e);const r=TS(e.method,e);let i=H(this,Pm).get(r);return i||(i=this._perform(e),H(this,Pm).set(r,i),setTimeout(()=>{H(this,Pm).get(r)===i&&H(this,Pm).delete(r)},n)),await i},Iz=async function(e,n,r){We(r<YUt,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const i=cI(e);try{return pt(await this._perform({method:"call",transaction:i,blockTag:n}))}catch(s){if(!this.disableCcipRead&&kK(s)&&s.data&&r>=0&&n==="latest"&&i.to!=null&&hi(s.data,0,4)==="0x556f1830"){const o=s.data,a=await sa(i.to,this);let l;try{l=rzt(hi(s.data,4))}catch(h){We(!1,h.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:o}})}We(l.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});const c=await this.ccipReadFetch(i,l.calldata,l.urls);We(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:l.errorArgs}});const u={to:a,data:yi([l.selector,nzt([c,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const h=await Fe(this,kn,Iz).call(this,u,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:h}),h}catch(h){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:h}),h}}throw s}},Tz=async function(e){const{value:n}=await Vo({network:this.getNetwork(),value:e});return n},F6=async function(e,n,r){let i=this._getAddress(n),s=this._getBlockTag(r);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await Fe(this,kn,Tz).call(this,Fe(this,kn,bl).call(this,Object.assign(e,{address:i,blockTag:s})))},$z=async function(e,n){if(_r(e,32))return await Fe(this,kn,bl).call(this,{method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await Fe(this,kn,bl).call(this,{method:"getBlock",blockTag:r,includeTransactions:n})},U6=async function(e,n){let r=await kM(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await kM({orphan:"drop-log",log:n[0]},this)),H(this,wo).get(r.tag)||null},$S=async function(e){const n=await kM(e,this),r=n.tag;let i=H(this,wo).get(r);return i||(i={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},H(this,wo).set(r,i)),i};function XUt(t,e){try{const n=Nz(t,e);if(n)return tI(n)}catch{}return null}function Nz(t,e){if(t==="0x")return null;try{const n=wn(hi(t,e,e+32)),r=wn(hi(t,n,n+32));return hi(t,n+32,n+32+r)}catch{}return null}function tce(t){const e=is(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function ezt(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const tzt=new Uint8Array([]);function nzt(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(tzt),n+=32;for(let r=0;r<t.length;r++){const i=vn(t[r]);e[r]=tce(n),e.push(tce(i.length)),e.push(ezt(i)),n+=32+Math.ceil(i.length/32)*32}return yi(e)}const nce="0x0000000000000000000000000000000000000000000000000000000000000000";function rzt(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};We(h2(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=hi(t,0,32);We(hi(n,0,12)===hi(nce,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=hi(n,12);try{const r=[],i=wn(hi(t,32,64)),s=wn(hi(t,i,i+32)),o=hi(t,i+32);for(let a=0;a<s;a++){const l=XUt(o,a*32);if(l==null)throw new Error("abort");r.push(l)}e.urls=r}catch{We(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=Nz(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{We(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}We(hi(t,100,128)===hi(nce,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=hi(t,96,100);try{const r=Nz(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{We(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function Jg(t,e){if(t.provider)return t.provider;We(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function rce(t,e){let n=cI(e);if(n.to!=null&&(n.to=sa(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),sa(r,t)]).then(([i,s])=>(ye(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else n.from=t.getAddress();return await Vo(n)}class izt{constructor(e){Ee(this,"provider");Lt(this,{provider:e||null})}async getNonce(e){return Jg(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await rce(this,e)}async populateTransaction(e){const n=Jg(this,"populateTransaction"),r=await rce(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const o=Et(r.chainId);ye(o===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const s=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||s)?ye(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&s&&ye(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await n.getFeeData();We(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await n.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(We(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):We(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await Vo(r)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await Jg(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return Jg(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Jg(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Jg(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=Jg(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=LCe.from(r);return await n.broadcastTransaction(await this.signTransaction(i))}authorize(e){We(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function szt(t){return JSON.parse(JSON.stringify(t))}var Wo,gh,f1,Rm,p1,cx,Cg,Pz,Rz;class Mke{constructor(e){ve(this,Cg);ve(this,Wo);ve(this,gh);ve(this,f1);ve(this,Rm);ve(this,p1);ve(this,cx);te(this,Wo,e),te(this,gh,null),te(this,f1,Fe(this,Cg,Pz).bind(this)),te(this,Rm,!1),te(this,p1,null),te(this,cx,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){H(this,Rm)||(te(this,Rm,!0),Fe(this,Cg,Pz).call(this,-2))}stop(){H(this,Rm)&&(te(this,Rm,!1),te(this,cx,!0),Fe(this,Cg,Rz).call(this),H(this,Wo).off("block",H(this,f1)))}pause(e){e&&Fe(this,Cg,Rz).call(this),H(this,Wo).off("block",H(this,f1))}resume(){this.start()}}Wo=new WeakMap,gh=new WeakMap,f1=new WeakMap,Rm=new WeakMap,p1=new WeakMap,cx=new WeakMap,Cg=new WeakSet,Pz=async function(e){try{H(this,gh)==null&&te(this,gh,this._subscribe(H(this,Wo)));let n=null;try{n=await H(this,gh)}catch(s){if(!zs(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(n==null){te(this,gh,null),H(this,Wo)._recoverSubscriber(this,this._recover(H(this,Wo)));return}const r=await H(this,Wo).getNetwork();if(H(this,p1)||te(this,p1,r),H(this,p1).chainId!==r.chainId)throw new Error("chaid changed");if(H(this,cx))return;const i=await H(this,Wo).send("eth_getFilterChanges",[n]);await this._emitResults(H(this,Wo),i)}catch(n){console.log("@TODO",n)}H(this,Wo).once("block",H(this,f1))},Rz=function(){const e=H(this,gh);e&&(te(this,gh,null),e.then(n=>{H(this,Wo).destroyed||H(this,Wo).send("eth_uninstallFilter",[n])}))};var m1;class ozt extends Mke{constructor(n,r){super(n);ve(this,m1);te(this,m1,szt(r))}_recover(n){return new WK(n,H(this,m1))}async _subscribe(n){return await n.send("eth_newFilter",[H(this,m1)])}async _emitResults(n,r){for(const i of r)n.emit(H(this,m1),n._wrapLog(i,n._network))}}m1=new WeakMap;class azt extends Mke{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const lzt="bigint,boolean,function,number,string,symbol".split(/,/g);function NS(t){if(t==null||lzt.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(NS);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function czt(t){return new Promise(e=>{setTimeout(e,t)})}function Fb(t){return t&&t.toLowerCase()}function ice(t){return t&&typeof t.pollingInterval=="number"}const Dke={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class _M extends izt{constructor(n,r){super(n);Ee(this,"address");r=ir(r),Lt(this,{address:r})}connect(n){We(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(n){return await this.populateCall(n)}async sendUncheckedTransaction(n){const r=NS(n),i=[];if(r.from){const o=r.from;i.push((async()=>{const a=await sa(o,this.provider);ye(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=a})())}else r.from=this.address;if(r.gasLimit==null&&i.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const o=r.to;i.push((async()=>{r.to=await sa(o,this.provider)})())}i.length&&await Promise.all(i);const s=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(n){const r=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(n);return await new Promise((s,o)=>{const a=[1e3,100];let l=0;const c=async()=>{try{const u=await this.provider.getTransaction(i);if(u!=null){s(u.replaceableTransaction(r));return}}catch(u){if(zs(u,"CANCELLED")||zs(u,"BAD_DATA")||zs(u,"NETWORK_ERROR")||zs(u,"UNSUPPORTED_OPERATION")){u.info==null&&(u.info={}),u.info.sendTransactionHash=i,o(u);return}if(zs(u,"INVALID_ARGUMENT")&&(l++,u.info==null&&(u.info={}),u.info.sendTransactionHash=i,l>10)){o(u);return}this.provider.emit("error",Jr("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{c()},a.pop()||4e3)};c()})}async signTransaction(n){const r=NS(n);if(r.from){const s=await sa(r.from,this.provider);ye(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=s}else r.from=this.address;const i=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[i])}async signMessage(n){const r=typeof n=="string"?Ip(n):n;return await this.provider.send("personal_sign",[pt(r),this.address.toLowerCase()])}async signTypedData(n,r,i){const s=NS(i),o=await lI.resolveNames(n,r,s,async a=>{const l=await sa(a);return ye(l!=null,"TypedData does not support null address","value",a),l});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(lI.getPayload(o.domain,r,o.value))])}async unlock(n){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),n,null])}async _legacySignMessage(n){const r=typeof n=="string"?Ip(n):n;return await this.provider.send("eth_sign",[this.address.toLowerCase(),pt(r)])}}var g1,ux,ap,yh,Gu,jc,$a,cA,jz;class uzt extends JUt{constructor(n,r){super(n,r);ve(this,cA);ve(this,g1);ve(this,ux);ve(this,ap);ve(this,yh);ve(this,Gu);ve(this,jc);ve(this,$a);te(this,ux,1),te(this,g1,Object.assign({},Dke,r||{})),te(this,ap,[]),te(this,yh,null),te(this,jc,null),te(this,$a,null);{let s=null;const o=new Promise(a=>{s=a});te(this,Gu,{promise:o,resolve:s})}const i=this._getOption("staticNetwork");typeof i=="boolean"?(ye(!i||n!=="any","staticNetwork cannot be used on special network 'any'","options",r),i&&n!=null&&te(this,jc,$h.from(n))):i&&(ye(n==null||i.matches(n),"staticNetwork MUST match network object","options",r),te(this,jc,i))}_getOption(n){return H(this,g1)[n]}get _network(){return We(H(this,jc),"network is not available yet","NETWORK_ERROR"),H(this,jc)}async _perform(n){if(n.method==="call"||n.method==="estimateGas"){let i=n.transaction;if(i&&i.type!=null&&Et(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(n=Object.assign({},n,{transaction:Object.assign({},i,{type:void 0})}))}}const r=this.getRpcRequest(n);return r!=null?await this.send(r.method,r.args):super._perform(n)}async _detectNetwork(){const n=this._getOption("staticNetwork");if(n)if(n===!0){if(H(this,jc))return H(this,jc)}else return n;return H(this,$a)?await H(this,$a):this.ready?(te(this,$a,(async()=>{try{const r=$h.from(Et(await this.send("eth_chainId",[])));return te(this,$a,null),r}catch(r){throw te(this,$a,null),r}})()),await H(this,$a)):(te(this,$a,(async()=>{const r={id:l0(this,ux)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let i;try{i=(await this._send(r))[0],te(this,$a,null)}catch(s){throw te(this,$a,null),this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return $h.from(Et(i.result));throw this.getRpcError(r,i)})()),await H(this,$a))}_start(){H(this,Gu)==null||H(this,Gu).resolve==null||(H(this,Gu).resolve(),te(this,Gu,null),(async()=>{for(;H(this,jc)==null&&!this.destroyed;)try{te(this,jc,await this._detectNetwork())}catch(n){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Jr("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:n}})),await czt(1e3)}Fe(this,cA,jz).call(this)})())}async _waitUntilReady(){if(H(this,Gu)!=null)return await H(this,Gu).promise}_getSubscriber(n){return n.type==="pending"?new azt(this):n.type==="event"?this._getOption("polling")?new WK(this,n.filter):new ozt(this,n.filter):n.type==="orphan"&&n.filter.orphan==="drop-log"?new Oke("orphan"):super._getSubscriber(n)}get ready(){return H(this,Gu)==null}getRpcTransaction(n){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(n[i]==null)return;let s=i;i==="gasLimit"&&(s="gas"),r[s]=Ju(Et(n[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{n[i]!=null&&(r[i]=pt(n[i]))}),n.accessList&&(r.accessList=Zw(n.accessList)),n.blobVersionedHashes&&(r.blobVersionedHashes=n.blobVersionedHashes.map(i=>i.toLowerCase())),n.authorizationList&&(r.authorizationList=n.authorizationList.map(i=>{const s=BCe(i);return{address:s.address,nonce:Ju(s.nonce),chainId:Ju(s.chainId),yParity:Ju(s.signature.yParity),r:Ju(s.signature.r),s:Ju(s.signature.s)}})),r}getRpcRequest(n){switch(n.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Fb(n.address),n.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Fb(n.address),n.blockTag]};case"getCode":return{method:"eth_getCode",args:[Fb(n.address),n.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Fb(n.address),"0x"+n.position.toString(16),n.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[n.signedTransaction]};case"getBlock":if("blockTag"in n)return{method:"eth_getBlockByNumber",args:[n.blockTag,!!n.includeTransactions]};if("blockHash"in n)return{method:"eth_getBlockByHash",args:[n.blockHash,!!n.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[n.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[n.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(n.transaction),n.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(n.transaction)]};case"getLogs":return n.filter&&n.filter.address!=null&&(Array.isArray(n.filter.address)?n.filter.address=n.filter.address.map(Fb):n.filter.address=Fb(n.filter.address)),{method:"eth_getLogs",args:[n.filter]}}return null}getRpcError(n,r){const{method:i}=n,{error:s}=r;if(i==="eth_estimateGas"&&s.message){const l=s.message;if(!l.match(/revert/i)&&l.match(/insufficient funds/i))return Jr("insufficient funds","INSUFFICIENT_FUNDS",{transaction:n.params[0],info:{payload:n,error:s}});if(l.match(/nonce/i)&&l.match(/too low/i))return Jr("nonce has already been used","NONCE_EXPIRED",{transaction:n.params[0],info:{payload:n,error:s}})}if(i==="eth_call"||i==="eth_estimateGas"){const l=Oz(s),c=NE.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",n.params[0],l?l.data:null);return c.info={error:s,payload:n},c}const o=JSON.stringify(hzt(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return Jr("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:n,error:s}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const l=n.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Jr("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:l,info:{error:s}});if(o.match(/nonce/i)&&o.match(/too low/i))return Jr("nonce has already been used","NONCE_EXPIRED",{transaction:l,info:{error:s}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Jr("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:l,info:{error:s}});if(o.match(/only replay-protected/i))return Jr("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:l,info:{error:s}}})}let a=!!o.match(/the method .* does not exist/i);return a||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(a=!0),a?Jr("unsupported operation","UNSUPPORTED_OPERATION",{operation:n.method,info:{error:s,payload:n}}):Jr("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:n})}send(n,r){if(this.destroyed)return Promise.reject(Jr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n}));const i=l0(this,ux)._++,s=new Promise((o,a)=>{H(this,ap).push({resolve:o,reject:a,payload:{method:n,params:r,id:i,jsonrpc:"2.0"}})});return Fe(this,cA,jz).call(this),s}async getSigner(n){n==null&&(n=0);const r=this.send("eth_accounts",[]);if(typeof n=="number"){const s=await r;if(n>=s.length)throw new Error("no such account");return new _M(this,s[n])}const{accounts:i}=await Vo({network:this.getNetwork(),accounts:r});n=ir(n);for(const s of i)if(ir(s)===n)return new _M(this,n);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new _M(this,r))}destroy(){H(this,yh)&&(clearTimeout(H(this,yh)),te(this,yh,null));for(const{payload:n,reject:r}of H(this,ap))r(Jr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));te(this,ap,[]),super.destroy()}}g1=new WeakMap,ux=new WeakMap,ap=new WeakMap,yh=new WeakMap,Gu=new WeakMap,jc=new WeakMap,$a=new WeakMap,cA=new WeakSet,jz=function(){if(H(this,yh))return;const n=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");te(this,yh,setTimeout(()=>{te(this,yh,null);const r=H(this,ap);for(te(this,ap,[]);r.length;){const i=[r.shift()];for(;r.length&&i.length!==H(this,g1).batchMaxCount;)if(i.push(r.shift()),JSON.stringify(i.map(o=>o.payload)).length>H(this,g1).batchMaxSize){r.unshift(i.pop());break}(async()=>{const s=i.length===1?i[0].payload:i.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const o=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:l,payload:c}of i){if(this.destroyed){l(Jr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}const u=o.filter(h=>h.id===c.id)[0];if(u==null){const h=Jr("missing response for request","BAD_DATA",{value:o,info:{payload:c}});this.emit("error",h),l(h);continue}if("error"in u){l(this.getRpcError(c,u));continue}a(u.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of i)a(o)}})()}},n))};var jm;class dzt extends uzt{constructor(n,r){super(n,r);ve(this,jm);let i=this._getOption("pollingInterval");i==null&&(i=Dke.pollingInterval),te(this,jm,i)}_getSubscriber(n){const r=super._getSubscriber(n);return ice(r)&&(r.pollingInterval=H(this,jm)),r}get pollingInterval(){return H(this,jm)}set pollingInterval(n){if(!Number.isInteger(n)||n<0)throw new Error("invalid interval");te(this,jm,n),this._forEachSubscriber(r=>{ice(r)&&(r.pollingInterval=H(this,jm))})}}jm=new WeakMap;var dx;class sce extends dzt{constructor(n,r,i){n==null&&(n="http://localhost:8545");super(r,i);ve(this,dx);typeof n=="string"?te(this,dx,new e0(n)):te(this,dx,n.clone())}_getConnection(){return H(this,dx).clone()}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){const r=this._getConnection();r.body=JSON.stringify(n),r.setHeader("content-type","application/json");const i=await r.send();i.assertOk();let s=i.bodyJson;return Array.isArray(s)||(s=[s]),s}}dx=new WeakMap;function Oz(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&_r(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=Oz(t[e]);if(n)return n}return null}if(typeof t=="string")try{return Oz(JSON.parse(t))}catch{}return null}function Mz(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)Mz(t[n],e);if(typeof t=="string")try{return Mz(JSON.parse(t),e)}catch{}}}function hzt(t){const e=[];return Mz(t,e),e}const fzt=()=>{var T,_;const[t]=x.useState("0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913"),[e,n]=x.useState(null),[r,i]=x.useState(3576),[s,o]=x.useState(0),{toast:a}=wa(),l=ur(),{user:c,authenticated:u}=eo(),{address:h}=zN(),f=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],type:"function"}],p="0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",m=new sce("https://mainnet.infura.io/v3/3b60e88027de49bba4bd65af373611df");new j1(p,f,m);const[g,y]=x.useState(!1),[w,v]=x.useState(!1),[b,A]=x.useState(0),[E,$]=x.useState(null),N=async()=>{var P,L,O,I,D;if(!(c!=null&&c.id)){console.warn("User ID not found - cannot fetch balance");return}y(!0);try{const Y=await Yt.post("/api/check_user_exist",{privy_id:c.id});if(Y.data&&Y.data.exists==="yes"){const Q=Y.data.user;$(Q);try{const ee="0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",J=new sce("https://mainnet.base.org"),de=await new j1(ee,f,J).balanceOf(Q.wallet_address),ae=eBt(de,6);console.log("Base USDC:",ae),A(parseFloat(ae))}catch(ee){console.error(" Error fetching on-chain balance:",ee),A(0)}}else if(Y.data&&Y.data.exists==="no")console.warn(" User does not exist in backend"),a({title:"User Not Found",description:"Please complete registration first.",variant:"destructive"});else throw new Error(((P=Y.data)==null?void 0:P.error)||"Unexpected response format")}catch(Y){console.error(" Error fetching balance:",Y),Yt.isAxiosError(Y)?((L=Y.response)==null?void 0:L.status)===404?a({title:"User Not Found",description:"Please complete registration first.",variant:"destructive"}):((O=Y.response)==null?void 0:O.status)>=500?a({title:"Server Error",description:"Backend server is temporarily unavailable.",variant:"destructive"}):a({title:"Balance Error",description:((D=(I=Y.response)==null?void 0:I.data)==null?void 0:D.error)||"Could not fetch balance data.",variant:"destructive"}):a({title:"Network Error",description:"Please check your connection and try again.",variant:"destructive"})}finally{y(!1)}},R=async()=>{var P,L,O,I,D;if(!e||!(E!=null&&E.id)){a({title:"Missing Information",description:"Please select an amount and ensure you're logged in.",variant:"destructive"});return}v(!0);try{const Y=await Yt.post("/api/deposit",{id:E.id,amount:e},{headers:{"X-Privy-User-Id":c.id,"X-Wallet-Address":E.wallet_address,"Content-Type":"application/json"}});if(Y.data.success){const M=((P=B.find(Q=>Q.value===e))==null?void 0:P.points)||0;a({title:" Deposit Successful!",description:`You've earned ${M} Lighter Points!`,duration:3e3}),l("/deposit/success",{state:{amount:e,pointsEarned:Y.data.points_earned||M,pointsValue:Y.data.points_value||(M*4.005).toFixed(2),newBalance:Y.data.new_balance||b+e,transactionHash:Y.data.transaction_hash||`0x${Math.random().toString(16).substr(2,8)}`,orderId:Y.data.order_id||`ORDER_${Date.now()}`,date:new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})}}),setTimeout(()=>{N()},1e3)}else throw new Error(Y.data.error||"Deposit failed")}catch(Y){if(console.error(" Deposit error:",Y),Yt.isAxiosError(Y)){const M=((O=(L=Y.response)==null?void 0:L.data)==null?void 0:O.error)||((D=(I=Y.response)==null?void 0:I.data)==null?void 0:D.message)||"Deposit failed. Please try again.";a({title:"Deposit Failed",description:M,variant:"destructive"})}else a({title:"Deposit Error",description:Y.message||"Something went wrong. Please try again.",variant:"destructive"})}finally{v(!1)}};x.useEffect(()=>{u&&(c!=null&&c.id)&&N()},[u,c==null?void 0:c.id]);const j=P=>`${P.slice(0,6)}...${P.slice(-4)}`,F=async()=>{try{await N(),a({title:" Refreshed!",description:"Balance updated successfully",variant:"default"})}catch(P){console.error(" Refresh failed:",P),a({title:"Refresh Failed",description:"Could not update balance",variant:"destructive"})}};x.useEffect(()=>{const P=setInterval(()=>{i(L=>L>0?L-1:0)},1e3);return()=>clearInterval(P)},[]),x.useEffect(()=>{const P=setInterval(()=>{o(L=>(L+1)%3)},4e3);return()=>clearInterval(P)},[]);const W=P=>{const L=Math.floor(P/3600),O=Math.floor(P%3600/60),I=P%60;return`${L.toString().padStart(2,"0")}:${O.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}`},V=[{title:`Make your first
deposit and earn`,subtitle:"Up to 1 lighter point",image:cM},{title:`Refer friends
and multiply`,subtitle:"Earn 10% of their points",image:cM},{title:`Farm daily
for bonus points`,subtitle:"Compound your earnings",image:cM}],B=[{value:.2,points:24.9},{value:250,points:62.3},{value:500,points:124.7},{value:1e3,points:249.4}],k=P=>{n(P),setTimeout(()=>{window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},100)},C=async()=>{try{await navigator.clipboard.writeText(t),a({title:" Address Copied!",description:"Deposit address copied to clipboard"})}catch{a({title:"Copy Failed",description:"Unable to copy address",variant:"destructive"})}},S=async()=>{try{await navigator.clipboard.writeText((E==null?void 0:E.wallet_address)||h||""),a({title:" Wallet Copied!",description:"Wallet address copied to clipboard"})}catch{a({title:"Copy Failed",description:"Unable to copy wallet address",variant:"destructive"})}};return d.jsxs(gu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs("header",{className:"flex items-center justify-between py-6",children:[d.jsx(Vt,{variant:"ghost",size:"icon",onClick:()=>l(-1),className:"h-10 w-10 bg-golden-light rounded-full hover:bg-golden-light/90",children:d.jsx(of,{className:"w-8 h-8 text-background"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Quick Start"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"deposit & earn"})]}),d.jsx("img",{src:Kr,alt:"",className:"h-8 w-auto"})]}),d.jsxs(me.div,{className:"bg-gradient-to-r from-[#7D5A02] to-[#A07715] rounded-2xl p-6 mb-6 relative overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"relative z-10",children:[d.jsxs(me.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:-100,opacity:0},transition:{duration:.5,ease:"easeInOut"},children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:V[s].title.split(`
`).map((P,L)=>d.jsxs("span",{children:[P,L<V[s].title.split(`
`).length-1&&d.jsx("br",{})]},L))}),d.jsx("p",{className:"text-white/90 font-medium mb-4",children:V[s].subtitle})]},s),d.jsx("div",{className:"flex gap-1 mb-4",children:V.map((P,L)=>d.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${L===s?"bg-white":"bg-white/30"}`},L))}),d.jsxs("div",{className:"flex items-center gap-2 text-white",children:[d.jsx("img",{src:HAe,alt:"",className:"h-5 w-5",style:{filter:"brightness(0) invert(1)"}}),d.jsx("span",{className:"text-lg font-bold",children:W(r)})]})]}),d.jsx(me.img,{src:V[s].image,alt:"Promo",className:"absolute right-4 top-1/4 -translate-y-1/2 w-32 h-32 object-contain",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2}},`image-${s}`)]}),d.jsxs(me.div,{className:"border border-border rounded-2xl p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},style:{backgroundImage:`url(${$Dt})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:[d.jsx("p",{className:"text-golden-light text-md font-bold mb-2",children:"Wallet Balance:"}),d.jsxs("div",{className:"flex items-end gap-3 mb-4",children:[d.jsx("p",{className:"text-4xl font-bold text-golden-light",children:g?d.jsx(me.span,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:"Loading..."}):`$${(b||0).toFixed(2)} USDC`}),d.jsx("button",{onClick:F,disabled:g,className:"text-golden-light hover:opacity-80 mb-1 mr-6 disabled:opacity-50",children:d.jsx(eg,{className:`h-4 w-4 ${g?"animate-spin":""}`})})]}),d.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-10",children:[d.jsx("span",{className:"text-sm font-extralight",children:(E==null?void 0:E.wallet_address)&&j(E.wallet_address)}),d.jsx("button",{className:"text-golden-light",onClick:S,children:d.jsx("img",{src:WAe,alt:"",className:"h-4 w-auto"})})]})]}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold",children:"Choose Amount:"}),d.jsx(Vt,{variant:"ghost",size:"icon",className:"h-8 w-8 bg-golden-light/20 text-golden-light hover:bg-golden-light/30",children:d.jsx(aTe,{className:"w-4 h-4"})})]}),d.jsx("div",{className:"grid grid-cols-4 gap-3",children:B.map(P=>d.jsxs("button",{onClick:()=>k(P.value),className:`bg-[#D4B679]/90 hover:bg-[#D4B679] rounded-xl p-4 flex flex-col items-center justify-center transition-all duration-200 ${e===P.value?"ring-2 ring-golden-light scale-105":""}`,children:[d.jsxs("span",{className:"text-xl font-bold text-background",children:["$",P.value]}),d.jsxs("span",{className:"text-xs text-background/70 mt-1",children:["(~",P.points,"pt)"]})]},P.value))})]}),d.jsx(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[d.jsx("div",{className:"w-10 h-10 bg-golden-light/20 rounded-xl flex items-center justify-center",children:d.jsx(Ohe,{className:"w-5 h-5 text-golden-light"})}),d.jsx("span",{className:"text-xs text-golden-light font-extralight opacity-60",children:"Instant Point Credit"})]}),d.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[d.jsx("div",{className:"w-10 h-10 bg-golden-light/20 rounded-xl flex items-center justify-center",children:d.jsx(LD,{className:"w-5 h-5 text-golden-light"})}),d.jsx("span",{className:"text-xs text-golden-light font-extralight opacity-60",children:"Secured by Privy"})]}),d.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[d.jsx("div",{className:"w-10 h-10 bg-golden-light/20 rounded-xl flex items-center justify-center",children:d.jsx(sTe,{className:"w-5 h-5 text-golden-light"})}),d.jsx("span",{className:"text-xs text-golden-light font-extralight opacity-60",children:"2,847 farmers trust us"})]})]})}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:"Deposit Address:"}),d.jsx("p",{className:"text-center text-golden-light font-extralight opacity-60 text-sm mb-4",children:"Send only USDC to this address"}),d.jsx("div",{className:"border-2 border-dashed border-golden-light/30 rounded-xl p-4 cursor-pointer hover:border-golden-light/50 transition-colors",onClick:C,children:d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[d.jsx(Cw,{className:"w-5 h-5 text-golden-light"}),d.jsx("span",{className:"text-golden-light font-mono text-xs break-all",children:t})]})}),d.jsx("p",{className:"text-sm text-golden-light font-extralight opacity-60 text-center mt-3",children:"Tap to copy address"})]}),d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-6",children:d.jsxs(Vt,{onClick:R,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-md text-white disabled:opacity-50",disabled:!e||w,children:[w?d.jsx(me.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full mr-2"}):d.jsx("img",{src:CK,alt:"",className:"h-6 mt-0.5 w-auto",style:{filter:"brightness(0) invert(1)"}}),w?"Processing...":`Deposit $${e||0}`]})}),e&&!w&&d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4 text-center",children:"Ready to deposit"}),d.jsxs("p",{className:"text-center text-golden-light font-extralight opacity-60 mb-4",children:["Click the deposit button to earn $",e," worth of USDC and get ",((T=B.find(P=>P.value===e))==null?void 0:T.points)||0," points"]}),d.jsx("div",{className:"text-center",children:d.jsxs("p",{className:"text-sm text-foreground",children:["You'll earn ",d.jsxs("span",{className:"font-semibold text-golden-light",children:[((_=B.find(P=>P.value===e))==null?void 0:_.points)||0," points"]})]})})]}),d.jsx("div",{className:"text-center mb-6",children:d.jsx("button",{className:"text-golden-light hover:text-golden-light/80 font-medium transition-colors",children:"Need help?"})}),d.jsx(Rd,{})]})},Bke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABkCAYAAAAonQZNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAhiSURBVHgB7VxdTFRHFJ4FqqKhWoOCTQnW/mjSplVp7EOTak3a1MRW+sCDrak+VH0ysbpJaW0KSmMwrZpoJfVBoAhWjRrRhgIRlX+jAlJsAkWx/LruAoLIP3tvv1nnrsOwbK+729R7d77kZvbuvTN3z7dnZs6cc+4QIiEhISEhISEhISEhISEhISEhISHxlMNCzAUqj0o/JCcnh0RGRsYsX748rrOz80VFUSLCwsL65syZ05SXl1dttVpbtHv5ekENm832OshKczqdzaqqDuJw4lBYOUC/x/VDd+/efY2rZjYl0gWX0CDF4nA4NqG0qQxjY2MqD+Hc1t3dvZnW49sJFriFhRYlgoRRaJSKrqmRo6geQK+ze5yotyNYySMdHR2fQfhhRpoyGWECeQq9HxhpbW39lAQbduzYEQPhG71pmDf+GIl/bdu2LYYEExobG7/Wup8v0OqhnUQSLNizZ08EZC7nCfCVOJRlWVlZM/Q8N4QYHMuWLYtFMR9jFbFYLD7ZYqhHWP35QKyeOoYnDubHCyimh4aG0lOfZ0RWf4bdbtc1zhmeuMHBwTESOKs/BHbeM7puJMaEW7NiYmL6SOCIG4bmdROTwk1abm7uGxjTT1BzTPUTbEVRf/Xq1WhiVuTn589DF01S2dKKGbG+Tanq41l1eHj4aEJCQigxCdwatmHDhmkPHz78HDLWcQL7TNhj3lxN9EPbPiQmg6WiomI5utN5la1FNaFVP6FpG9rOWrFiRRgxC6AFC0ZHRw9AtgdUQG4BL5KmCGT8G6kKt9Cvqq+vf56YAXBEzqqtrd0Kof7WJJ1sLONcRXdw/KGRN9lKQrhW0dTUtJA91nCeEfcPBmFht27diodAZYJWTJCf0z7qrMw6ePDgopMnT0YPDQ39iHOHSKzgi3NAk/c2NDREEqOjra1tMQTKZkRogiqelcb9dSlcSp9cunSJH58sRUVFS4uLi79HG/m4pwbHnziqUe/3kpKSnZcvX16iPvbBGROHDx+OhD8sGYLYKRPeBn+OsNaWlpbt2dnZz3pre8uWLVPPnDkzNy0tbcG5c+ci8SxdK4OnEe5/GVoyDVq2nmmEN3tM4bpZH9zdaSkpKa94atNwiIuLe2b16tXTV61aNdXDZVEwCzTlXZCQq453dU+YKblrYygLMZB/IHQx45GWmJj43LVr19ZAkGRY8ukDAwMn+vv7MyHszpqamjVbt26dJdY5derUgr6+Pmpe9HLj2ATSlPEzQt3NmzfX79u3L5xryniE0ZkP9tU69dHMNyLOeux8GEf5hQsX1tH7CwoKZnR1dX2p6jAvuPbsmPl2oY0oYmC4/mE6GEOgw1RZNCE9Ecd9P4TjVxx5/FjlwcRQQJL2eXBkZCS7rKxsMTE4XKTBRgqHluR462IiGXq/02ZSkFd+5cqVNVRLxecbFhi/vqPCMSF9ceWI4xh/2gbSrKmpqTOJmYAgxlsQrlMNDBTOVuvDpHLo2LFji7jHmScofP/+/f1USk5gX+CqzLo5/XwevrX3VKObF5MBLp3ZEK7W1/AbD0baDQRZNqJdw5oXuvxPnZ2dL6GIgsBaCM6faFJvc3PzdoThioRLhkqz0hWsgbdhLorwkBDX7f5qhhNLLScxOHQRR/sWCSAC3d7/AV3EhYeHO1AMBkje0JUrVxreRa2LuClTptxGYSMBAGblmbGxsXt7enq+EPI0TJmXZoE5ss9lQ/hnjrjW7pyD8jesYVeKzyJmQnp6+lKVc0f7Cd4A7qUG8NmzZxdyjzMXeQjYfksl9WPJNRl5FO2Yva3UVUVMBJcGZGRkTIOAR6mUXuIB48jR8x3vYcGfU1FeXr5GiHEaWgNdP/7IkSM0ke9nHE5OYGUiF+5rAzioRyVP0LIJdQS30lEaUCFmAufILKVKMokjcwRHSWFh4Vp6P8awiN7eXrcjkxHrjXAKGrzZBQ2cS8wE6hqvrq7+GFqUBNf5EeY6z4DmJFdVVX2UlJQ0IQKVk5OzAAQeBCE9lBnxPQSeQA4u17nVatWVZmoo0GBNQkJC+KZNm3SF37hgzZiXLs+nPFCGabDmfaGpoHkvwS0oDb6I4UHFswuGDw8+gPF8aPfu3a96ajOowALSO9mYNmnKg3CNBqStmOnFSNo4EjG+TsnNzY2iAWk4FyIPHDgwlZgN9+7de1N9NAPzKRBOYfBTBQJL29vb4/kYBX1zEL6+JaWlpSloowD33FBZCgRNiSguLk7BiiWOmADjkm4aGhpo0k2FRpAOk4cS/QtNujl9+vQ82II/qDqSbjCZ7b9+/brxk2540BUES/NqFrureC6kedWqE80ahS+Fa5X4oxYRs4EmFmLSoJH/Hk1oDxg3p+jN2OQIrDFNYqEImsoK+/D8I14Clsqq8KmsQizX8HCPf7ARp/8XydOsHKysrFxFzAyYFdFYodB8uoCm62N9nGM2rfMI+oIISDuh+u/i0iaYhrKyMnOOdQzu7nvx4sW3IXCXGhjYjx8//o6eH2DUd7ncUSPEaKkjIVByTEXceLaeGw3/9mBEREQgZVAQOx7Wc6PhiYuOjm5DQfcSIf6A1e+Piopq03O/4YmDCUEdo3fYi7o+g9W/U1dX10KCBXQTAjqy+5oUpBnUT7KZgeE1jgJO0WwUjfTdevLkyTsqy4lpyMzMzCHBBriW1kJpRrw4QyeA27Bl2GazrSVBBn6LoK9U5opXdYQuGWlj3d3d33hqLxjg3hcJbvWNqv5NqTocDsdm6vgU2gkquIWm25vZ7fZDbBs0GtfVlmS0HGTboP0kbIPm28NMAn4DPUtqampMfHz8EhD0Ms4jcPTBTrsNJ0EVNK0dmqZ4qCchISEhISEhISEhISEhISEhISEhYQ78AwLL51sWiMa6AAAAAElFTkSuQmCC",pzt=()=>{const t=ur(),e=r0(),{toast:n}=wa(),r=e.state||{amount:25,pointsEarned:.87,pointsValue:30.45,newBalance:9,transactionHash:"SDFSDF5484SD",orderId:"SDFSDF5484SD",date:new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})},[i,s]=x.useState(!0);x.useEffect(()=>{const u=setTimeout(()=>{s(!1)},3e3);return()=>clearTimeout(u)},[]);const o=async()=>{const u=` I just earned ${r.pointsEarned} Lighter Points worth $${r.pointsValue} on LighterFarm! `;if(navigator.share)try{await navigator.share({title:"Lighter Farm Achievement",text:u,url:window.location.origin}),n({title:" Shared!",description:"Achievement shared successfully"})}catch(h){console.log("Share cancelled or failed:",h)}else try{await navigator.clipboard.writeText(u),n({title:" Copied!",description:"Achievement copied to clipboard"})}catch{n({title:"Share Failed",description:"Unable to share achievement",variant:"destructive"})}},a=()=>{const u=`https://basescan.org/tx/${r.transactionHash}`;window.open(u,"_blank"),n({title:" Opening Explorer",description:"Transaction details will open in new tab"})},l=()=>{t("/dashboard")},c=()=>{t("/farm")};return d.jsxs(gu,{className:"bg-background min-h-screen pb-24 flex flex-col px-4",children:[i&&d.jsx(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:d.jsxs(me.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:.8},className:"text-center",children:[d.jsx("div",{className:"text-6xl mb-4",children:""}),d.jsx("h2",{className:"text-2xl font-bold text-golden-light mb-2",children:"Success!"}),d.jsx("p",{className:"text-golden-light",children:"Deposit completed successfully"})]})}),d.jsxs("header",{className:"flex items-center justify-center py-6 relative",children:[d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Deposit Complete"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"transaction successful"})]}),d.jsx("img",{src:Kr,alt:"",className:"h-8 w-auto absolute right-0"})]}),d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-4",children:[d.jsx(me.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.6,delay:.2},className:"mb-6 relative",children:d.jsxs("div",{className:"w-32 h-32 bg-gradient-to-r from-[#7D5A02] to-[#A07715] rounded-full flex items-center justify-center relative",children:[d.jsx(Ohe,{className:"w-16 h-16 text-white"}),d.jsx(me.div,{animate:{scale:[1,1.2,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 rounded-full border-4 border-golden-light"}),d.jsx(me.div,{animate:{scale:[1,1.4,1],opacity:[.3,0,.3]},transition:{duration:2,repeat:1/0,delay:.5},className:"absolute inset-0 rounded-full border-2 border-golden-light"})]})}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-center mb-8",children:[d.jsx("h2",{className:"text-3xl font-bold text-golden-light mb-3",children:"Congratulations!"}),d.jsx("p",{className:"text-lg text-golden-light mb-2",children:"You've successfully earned"}),d.jsxs("p",{className:"text-4xl font-bold text-golden-light mb-2",children:[r.pointsEarned," Lighter Points"]}),d.jsxs("p",{className:"text-sm text-golden-light font-extralight opacity-60",children:["Worth approximately $",r.pointsValue]})]}),d.jsxs(me.div,{className:"grid grid-cols-2 gap-4 w-full mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[d.jsxs("div",{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 text-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-golden-light mb-1",children:["$",r.amount]}),d.jsx("div",{className:"text-xs text-golden-light font-extralight opacity-60",children:"Deposited"})]}),d.jsxs("div",{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 text-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-golden-light mb-1",children:["$",r.newBalance.toFixed(2)]}),d.jsx("div",{className:"text-xs text-golden-light font-extralight opacity-60",children:"New Balance"})]})]}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-4 w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold",children:"Transaction Details"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),d.jsx("span",{className:"text-green-500 font-semibold text-sm",children:"Confirmed"})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Transaction Hash"}),d.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-foreground font-semibold hover:text-golden-light transition-colors",children:[d.jsxs("span",{className:"font-mono text-sm",children:[r.transactionHash.slice(0,8),"..."]}),d.jsx(E3,{className:"w-4 h-4"})]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Date & Time"}),d.jsx("span",{className:"text-foreground font-semibold text-sm",children:r.date})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Network"}),d.jsx("span",{className:"text-foreground font-semibold text-sm",children:"Base Mainnet"})]})]})]}),d.jsx(me.div,{className:"bg-gradient-to-r from-[#7D5A02]/20 to-[#A07715]/20 border border-golden-light/30 rounded-2xl p-4 mb-8 w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl mb-2",children:""}),d.jsx("h4",{className:"text-golden-light font-semibold mb-1",children:"Achievement Unlocked!"}),d.jsx("p",{className:"text-xs text-golden-light font-extralight opacity-80",children:"You're now actively farming on Lighter Farm"}),d.jsxs("div",{className:"mt-3 flex items-center justify-center gap-4 text-xs",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"text-golden-light font-bold",children:["+",r.pointsEarned]}),d.jsx("div",{className:"text-golden-light/60",children:"Points"})]}),d.jsx("div",{className:"w-px h-8 bg-golden-light/30"}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-golden-light font-bold",children:"Level 1"}),d.jsx("div",{className:"text-golden-light/60",children:"Farmer"})]})]})]})})]}),d.jsxs("div",{className:"space-y-3 px-4",children:[d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:d.jsxs(Vt,{onClick:o,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-md text-white",children:[d.jsx("img",{src:Bke,alt:"",className:"h-7 w-auto mr-2"}),"Share Achievement"]})}),d.jsxs(me.div,{className:"grid grid-cols-2 gap-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},children:[d.jsx(Vt,{onClick:c,className:"h-12 bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold rounded-md",children:"Start Farming"}),d.jsx(Vt,{onClick:l,className:"h-12 border border-golden-light/30 bg-transparent text-golden-light font-bold rounded-md hover:bg-golden-light/10",children:"View Dashboard"})]})]}),d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"bg-card/50 backdrop-blur-sm border border-border rounded-2xl p-4 mx-4 mt-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h5",{className:"text-golden-light font-semibold text-sm mb-2",children:"What's Next?"}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-8 h-8 bg-golden-light/20 rounded-full flex items-center justify-center mx-auto mb-1",children:d.jsx("span",{className:"text-golden-light",children:""})}),d.jsx("p",{className:"text-golden-light/80",children:"Start Farming"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-8 h-8 bg-golden-light/20 rounded-full flex items-center justify-center mx-auto mb-1",children:d.jsx("span",{className:"text-golden-light",children:""})}),d.jsx("p",{className:"text-golden-light/80",children:"Invite Friends"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-8 h-8 bg-golden-light/20 rounded-full flex items-center justify-center mx-auto mb-1",children:d.jsx("span",{className:"text-golden-light",children:""})}),d.jsx("p",{className:"text-golden-light/80",children:"Track Progress"})]})]})]})})]})},mzt=({isOpen:t,onClose:e,data:n,onStakeAgain:r})=>{const[i,s]=x.useState(!1),[o,a]=x.useState(0),{toast:l}=wa(),c=ur();x.useEffect(()=>{if(t&&n){const p=setTimeout(()=>a(1),300),m=setTimeout(()=>a(2),800),g=setTimeout(()=>{s(!0),navigator.vibrate&&navigator.vibrate([100,50,100])},1200);return()=>{clearTimeout(p),clearTimeout(m),clearTimeout(g)}}},[t,n]);const u=()=>{n!=null&&n.tx_hash&&(navigator.clipboard.writeText(n.tx_hash),l({title:"Copied!",description:"Transaction hash copied to clipboard",duration:2e3}))},h=p=>`${p.slice(0,6)}...${p.slice(-6)}`,f=()=>{e(),c("/dashboard")};return n?d.jsx(Sw,{children:t&&d.jsxs(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:[i&&d.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((p,m)=>d.jsx(me.div,{initial:{opacity:1,scale:0,x:Math.random()*window.innerWidth,y:window.innerHeight+50},animate:{opacity:0,scale:1,y:-100,rotate:360},transition:{duration:3,delay:Math.random()*.5,ease:"easeOut"},className:"absolute w-3 h-3 bg-gradient-to-r from-[#D4B679] to-[#A07715] rounded-full"},m))}),d.jsxs(me.div,{initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},transition:{type:"spring",damping:25,stiffness:300},className:"bg-background rounded-3xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl hide-scrollbar",onClick:p=>p.stopPropagation(),children:[d.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 w-8 h-8 bg-gray-800/80 hover:bg-gray-700 rounded-full flex items-center justify-center transition-colors",children:d.jsx(bA,{size:16,className:"text-gray-300"})}),d.jsxs("div",{className:"text-center pt-8 pb-6 px-6",children:[d.jsx(me.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",damping:15},className:"mx-auto mb-4 w-auto h-auto rounded-full flex items-start justify-end",children:d.jsx("img",{src:Kr,alt:"LighterFarm",className:"w-auto h-10"})}),d.jsx(me.div,{initial:{scale:0},animate:{scale:o>=1?1:0},transition:{type:"spring",damping:15,delay:.3},className:"mx-auto mb-4 w-20 h-20 bg-[#A07715]/5 rounded-full flex items-center justify-center border-4 border-[#A07715]",children:d.jsx(me.div,{initial:{scale:0,rotate:-90},animate:{scale:o>=2?1:0,rotate:o>=2?0:-90},transition:{delay:.8,type:"spring",damping:12},children:d.jsx(yA,{size:40,className:"text-[#A07715]",strokeWidth:3})})}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:o>=2?1:0,y:o>=2?0:20},transition:{delay:1},children:[d.jsx("h1",{className:"text-2xl font-bold text-[#A07715] mb-2",children:"Stake Successful!"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"Your USDL is now earning rewards"})]})]}),d.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.2},className:"px-6 mb-6",children:[d.jsx("div",{className:"bg-card rounded-xl p-4 mb-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:d.jsx("span",{className:"text-sm text-gray-400",children:"Amount Staked"})}),d.jsxs("p",{className:"text-4xl font-bold text-[#A07715] mb-1",children:["$",parseFloat(n.staked_amount).toLocaleString()]}),d.jsx("p",{className:"text-sm text-[#D4B679]",children:"USDL"})]})}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsx("div",{className:"flex items-center gap-2 mb-0",children:d.jsx("span",{className:"text-xs text-gray-400",children:"APY"})}),d.jsx("p",{className:"text-lg font-bold text-[#D4B679]",children:n.estimated_apy})]}),d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsx("div",{className:"flex items-center gap-2 mb-0",children:d.jsx("span",{className:"text-xs text-gray-400",children:"Daily Yield"})}),d.jsxs("p",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.estimated_daily_yield).toFixed(4)]})]})]}),d.jsxs("div",{className:"bg-card rounded-xl p-4 ",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"New USDL Balance"}),d.jsxs("span",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.new_usdl_balance).toLocaleString()]})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"Total Staked"}),d.jsxs("span",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.total_staked).toLocaleString()]})]})]})]}),d.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.4},className:"px-6 mb-6",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Transaction Details"}),d.jsx("div",{className:"space-y-3",children:d.jsxs("div",{className:"flex items-center justify-between bg-card rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(wA,{size:16,className:"text-gray-400"}),d.jsx("span",{className:"text-sm text-gray-400",children:"TX Hash"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm font-mono text-[#D4B679]",children:h(n.tx_hash)}),d.jsx("button",{onClick:u,className:"p-1 hover:bg-[#d4b679] rounded transition-colors",children:d.jsx(Cw,{size:14,className:"text-gray-400 hover:text-black"})})]})]})})]}),d.jsx(me.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.6},className:"px-6 pb-8 space-y-3",children:d.jsxs(Vt,{onClick:f,variant:"outline",className:"w-full h-12 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white font-semibold rounded-xl flex items-center justify-center gap-2",children:["Go to Dashboard",d.jsx(wp,{size:18})]})})]})]})}):null},Lke=({isOpen:t,onClose:e,data:n,onUnstakeAgain:r})=>{const[i,s]=x.useState(!1),[o,a]=x.useState(0),{toast:l}=wa(),c=ur();x.useEffect(()=>{if(t&&n){const m=setTimeout(()=>a(1),300),g=setTimeout(()=>a(2),800),y=setTimeout(()=>{s(!0),navigator.vibrate&&navigator.vibrate([100,50,100])},1200);return()=>{clearTimeout(m),clearTimeout(g),clearTimeout(y)}}},[t,n]);const u=()=>{n!=null&&n.tx_hash&&(navigator.clipboard.writeText(n.tx_hash),l({title:"Copied!",description:"Transaction hash copied to clipboard",duration:2e3}))},h=m=>new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),f=m=>`${m.slice(0,6)}...${m.slice(-6)}`,p=()=>{e(),c("/dashboard")};return n?d.jsx(Sw,{children:t&&d.jsxs(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:[i&&d.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((m,g)=>d.jsx(me.div,{initial:{opacity:1,scale:0,x:Math.random()*window.innerWidth,y:window.innerHeight+50},animate:{opacity:0,scale:1,y:-100,rotate:360},transition:{duration:3,delay:Math.random()*.5,ease:"easeOut"},className:"absolute w-3 h-3 bg-gradient-to-r from-[#D4B679] to-[#A07715] rounded-full"},g))}),d.jsxs(me.div,{initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},transition:{type:"spring",damping:25,stiffness:300},className:"bg-background rounded-3xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl hide-scrollbar",onClick:m=>m.stopPropagation(),children:[d.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 w-8 h-8 bg-gray-800/80 hover:bg-gray-700 rounded-full flex items-center justify-center transition-colors",children:d.jsx(bA,{size:16,className:"text-gray-300"})}),d.jsxs("div",{className:"text-center pt-8 pb-6 px-6",children:[d.jsx(me.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",damping:15},className:"mx-auto mb-4 w-auto h-auto rounded-full flex items-start justify-end",children:d.jsx("img",{src:Kr,alt:"LighterFarm",className:"w-auto h-10"})}),d.jsx(me.div,{initial:{scale:0},animate:{scale:o>=1?1:0},transition:{type:"spring",damping:15,delay:.3},className:"mx-auto mb-4 w-20 h-20 bg-[#A07715]/5 rounded-full flex items-center justify-center border-4 border-[#A07715]",children:d.jsx(me.div,{initial:{scale:0,rotate:-90},animate:{scale:o>=2?1:0,rotate:o>=2?0:-90},transition:{delay:.8,type:"spring",damping:12},children:d.jsx(yA,{size:40,className:"text-[#A07715]",strokeWidth:3})})}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:o>=2?1:0,y:o>=2?0:20},transition:{delay:1},children:[d.jsx("h1",{className:"text-2xl font-bold text-[#A07715] mb-2",children:"Unstake Successful!"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"Your USDL has been withdrawn with rewards"})]})]}),d.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.2},className:"px-6 mb-6",children:[d.jsx("div",{className:"bg-card rounded-xl p-4 mb-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:d.jsx("span",{className:"text-sm text-gray-400",children:"Total Received"})}),d.jsxs("p",{className:"text-4xl font-bold text-[#A07715] mb-1",children:["$",parseFloat(n.total_received).toLocaleString()]}),d.jsx("p",{className:"text-sm text-[#D4B679]",children:"USDL"})]})}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsx("div",{className:"flex items-center gap-2 mb-0",children:d.jsx("span",{className:"text-xs text-gray-400",children:"Unstaked Amount"})}),d.jsxs("p",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.unstaked_amount).toLocaleString()]})]}),d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsx("div",{className:"flex items-center gap-2 mb-0",children:d.jsx("span",{className:"text-xs text-gray-400",children:"Rewards Earned"})}),d.jsxs("p",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.rewards_earned).toLocaleString()]})]})]}),d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"New USDL Balance"}),d.jsxs("span",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.new_usdl_balance).toLocaleString()]})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"Remaining Staked"}),d.jsxs("span",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.remaining_staked).toLocaleString()]})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"Penalty Fee"}),d.jsx("span",{className:"text-sm font-bold text-gray-400",children:parseFloat(n.penalty_fee)>0?`$${parseFloat(n.penalty_fee).toLocaleString()}`:"None"})]})]})]}),d.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.4},className:"px-6 mb-6",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Transaction Details"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between bg-card rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(wA,{size:16,className:"text-gray-400"}),d.jsx("span",{className:"text-sm text-gray-400",children:"TX Hash"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm font-mono text-[#D4B679]",children:f(n.tx_hash)}),d.jsx("button",{onClick:u,className:"p-1 hover:bg-[#d4b679] rounded transition-colors",children:d.jsx(Cw,{size:14,className:"text-gray-400 hover:text-black"})})]})]}),d.jsxs("div",{className:"flex items-center justify-between bg-card rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(qW,{size:16,className:"text-gray-400"}),d.jsx("span",{className:"text-sm text-gray-400",children:"Completed At"})]}),d.jsx("span",{className:"text-sm text-[#D4B679]",children:h(n.timestamp)})]})]})]}),d.jsx(me.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.6},className:"px-6 pb-8 space-y-3",children:d.jsxs(Vt,{onClick:p,variant:"outline",className:"w-full h-12 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white font-semibold rounded-xl flex items-center justify-center gap-2",children:["Go to Dashboard",d.jsx(wp,{size:18})]})})]})]})}):null},gzt=()=>{const[t,e]=x.useState("stake"),[n,r]=x.useState(""),[i,s]=x.useState(""),[o,a]=x.useState(!1),[l,c]=x.useState(!1),{toast:u}=wa(),h=ur(),{user:f,authenticated:p,getAccessToken:m}=eo(),[g,y]=x.useState(!1),[w,v]=x.useState(null),[b,A]=x.useState(!1),[E,$]=x.useState(null),[N,R]=x.useState(0),[j,F]=x.useState(0),W=localStorage.getItem(f==null?void 0:f.id),V=W?JSON.parse(W):null,B=V==null?void 0:V.wallet_address,[k,C]=x.useState("");x.useEffect(()=>{(async()=>{if(!B){u({title:"Wallet Required",description:"Wallet address not found.",variant:"destructive"});return}R((V==null?void 0:V.usdl_balance)||0),F((V==null?void 0:V.staked_amount)||0)})()},[W]),x.useEffect(()=>{(async()=>{if(W){const he=JSON.parse(W);C(he.id)}})()},[B,f==null?void 0:f.id]);const S=ae=>{e(ae),r(""),s("")},T=async()=>{var ae,he,be,fe,ke,we,Ue,Me,_e;if(!n||parseFloat(n)<=0){u({title:"Invalid Amount",description:"Please enter a valid stake amount",variant:"destructive"});return}if(!p||!(f!=null&&f.id)){u({title:"Authentication Required",description:"Please authenticate with Privy first",variant:"destructive"});return}if(!B){u({title:"Wallet Required",description:"Please connect your wallet first",variant:"destructive"});return}if(!k){u({title:"User Data Missing",description:"Please complete registration first",variant:"destructive"});return}a(!0);try{const xe={wallet_address:B,amount:n,duration_days:0},Oe={"X-Privy-User-Id":k,"X-Wallet-Address":B,"Content-Type":"application/json",Accept:"application/json"},Le=await Yt.post("/api/stake",xe,{headers:Oe});if(Le.status===200&&((ae=Le.data)!=null&&ae.success)){if(v(Le.data.data),y(!0),r(""),window.Audio)try{const Ce=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApFn+DyvmMcBS2FzvLZiDYIG2m+7+WiTAwO");Ce.volume=.6,Ce.play().catch(()=>{})}catch{}}else u({title:"Stake failed",description:((be=(he=Le.data)==null?void 0:he.error)==null?void 0:be.message)||((fe=Le.data)==null?void 0:fe.error)||"Unexpected response from server",variant:"destructive"})}catch(xe){console.error(" Stake error details:",xe);let Oe="Network or server error",Le="Stake Error";if(Yt.isAxiosError(xe))if(xe.response){const Ce=xe.response.status,De=xe.response.data;Ce===400?(Le="Invalid Request",(we=(ke=De==null?void 0:De.detail)==null?void 0:ke.error)!=null&&we.message?Oe=De.detail.error.message:(Ue=De==null?void 0:De.error)!=null&&Ue.message?Oe=De.error.message:De!=null&&De.error?Oe=De.error:De!=null&&De.message?Oe=De.message:Oe="Please check your input and try again"):Ce===401?(Le="Authentication Failed",Oe=((Me=De==null?void 0:De.error)==null?void 0:Me.message)||"Wallet authentication failed. Please reconnect your wallet and try again."):Ce===404?(Le="API Endpoint Not Found",Oe="The API endpoint is not available. Please check if your server is running."):Ce>=500?(Le="Server Error",Oe="Server is temporarily unavailable. Please try again later"):Oe=((_e=De==null?void 0:De.error)==null?void 0:_e.message)||(De==null?void 0:De.error)||(De==null?void 0:De.message)||`Server error (${Ce})`}else xe.request?(Le="Connection Error",Oe="Unable to connect to server. Please check your internet connection."):Oe=xe.message||"Failed to make request";else xe.message&&xe.message.includes("access token")?(Le="Authentication Error",Oe="Failed to authenticate. Please try logging out and back in."):xe instanceof Error?Oe=xe.message:typeof xe=="string"&&(Oe=xe);u({title:Le,description:Oe,variant:"destructive"})}finally{a(!1)}},_=async()=>{var ae,he,be,fe,ke,we,Ue,Me,_e;if(!i||parseFloat(i)<=0){u({title:"Invalid Amount",description:"Please enter a valid unstake amount",variant:"destructive"});return}if(!p||!(f!=null&&f.id)){u({title:"Authentication Required",description:"Please authenticate with Privy first",variant:"destructive"});return}if(!B){u({title:"Wallet Required",description:"Please connect your wallet first",variant:"destructive"});return}if(!k){u({title:"User Data Missing",description:"Please complete registration first",variant:"destructive"});return}c(!0);try{const xe={wallet_address:B,amount:i,force_unlock:"false"},Oe={"X-Privy-User-Id":k,"X-Wallet-Address":B,"Content-Type":"application/json",Accept:"application/json"},Le=await Yt.post("/api/unstake",xe,{headers:Oe});if(Le.status===200&&((ae=Le.data)!=null&&ae.success)){if($(Le.data.data),A(!0),s(""),window.Audio)try{const Ce=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApFn+DyvmMcBS2FzvLZiDYIG2m+7+WiTAwO");Ce.volume=.6,Ce.play().catch(()=>{})}catch{}}else u({title:"Unstake failed",description:((be=(he=Le.data)==null?void 0:he.error)==null?void 0:be.message)||((fe=Le.data)==null?void 0:fe.error)||"Unexpected response from server",variant:"destructive"})}catch(xe){console.error(" Unstake error details:",xe);let Oe="Network or server error",Le="Unstake Error";if(Yt.isAxiosError(xe))if(xe.response){const Ce=xe.response.status,De=xe.response.data;Ce===400?(Le="Invalid Request",(we=(ke=De==null?void 0:De.detail)==null?void 0:ke.error)!=null&&we.message?Oe=De.detail.error.message:(Ue=De==null?void 0:De.error)!=null&&Ue.message?Oe=De.error.message:De!=null&&De.error?Oe=De.error:De!=null&&De.message?Oe=De.message:Oe="Please check your input and try again"):Ce===401?(Le="Authentication Failed",Oe=((Me=De==null?void 0:De.error)==null?void 0:Me.message)||"Wallet authentication failed. Please reconnect your wallet and try again."):Ce===404?(Le="API Endpoint Not Found",Oe="The API endpoint is not available. Please check if your server is running."):Ce>=500?(Le="Server Error",Oe="Server is temporarily unavailable. Please try again later"):Oe=((_e=De==null?void 0:De.error)==null?void 0:_e.message)||(De==null?void 0:De.error)||(De==null?void 0:De.message)||`Server error (${Ce})`}else xe.request?(Le="Connection Error",Oe="Unable to connect to server. Please check your internet connection."):Oe=xe.message||"Failed to make request";else xe.message&&xe.message.includes("access token")?(Le="Authentication Error",Oe="Failed to authenticate. Please try logging out and back in."):xe instanceof Error?Oe=xe.message:typeof xe=="string"&&(Oe=xe);u({title:Le,description:Oe,variant:"destructive"})}finally{c(!1)}},P=()=>{y(!1),v(null)},L=()=>{y(!1),v(null),setTimeout(()=>{const ae=document.querySelector('input[type="number"]');ae&&ae.focus()},100)},O=()=>{A(!1),$(null)},I=()=>{A(!1),$(null),setTimeout(()=>{const ae=document.querySelector('input[type="number"]');ae&&ae.focus()},100)},D=()=>{const ae=parseFloat(n)||0,he=ae/100*7.9,be=414,fe=ae/28450*100;return{weekly:he.toFixed(1),apy:be,poolShare:fe.toFixed(1)}},Y=()=>{const ae=parseFloat(i)||0,he=ae/100*7.9,be=414,fe=ae/28450*100;return{weeklyLoss:he.toFixed(1),apy:be,poolShareLoss:fe.toFixed(1)}},M=D(),Q=Y(),ee=ae=>{const he=(N*ae/100).toFixed(2);r(he)},J=ae=>{const he=(j*ae/100).toFixed(2);s(he)},oe=t==="stake"?n:i,de=t==="stake"?o:l;return d.jsxs(d.Fragment,{children:[d.jsxs(gu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs("header",{className:"flex items-center justify-between py-6 relative z-10",children:[d.jsx(Vt,{variant:"ghost",size:"icon",onClick:()=>h(-1),className:"h-10 w-10 bg-golden-light rounded-full hover:bg-golden-light/90",children:d.jsx(of,{className:"w-8 h-8 text-background"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Farm USDL"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"for points"})]}),d.jsx("img",{src:Kr,alt:"",className:"h-8 w-auto"})]}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-2 mb-4 relative z-10 grid grid-cols-2 gap-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsx("button",{onClick:()=>S("stake"),className:`relative py-3 px-4 rounded-xl font-bold text-sm transition-all ${t==="stake"?"bg-gradient-to-r from-[#7D5A02] to-[#A07715] text-white":"bg-transparent text-golden-light/60 hover:text-golden-light"}`,children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx(FQ,{className:"w-4 h-4"}),"Stake"]})}),d.jsx("button",{onClick:()=>S("unstake"),className:`relative py-3 px-4 rounded-xl font-bold text-sm transition-all ${t==="unstake"?"bg-gradient-to-r from-[#7D5A02] to-[#A07715] text-white":"bg-transparent text-golden-light/60 hover:text-golden-light"}`,children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx(BD,{className:"w-4 h-4"}),"Unstake"]})})]}),d.jsx(Sw,{mode:"wait",children:d.jsxs(me.div,{initial:{opacity:0,x:t==="stake"?-20:20},animate:{opacity:1,x:0},exit:{opacity:0,x:t==="stake"?20:-20},transition:{duration:.3},children:[d.jsxs("div",{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-4 relative z-10",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:t==="stake"?"Available":"Available to Unstake"}),d.jsxs("span",{className:"text-golden-light font-bold",children:[t==="stake"?N.toFixed(2):j.toFixed(2)," USDL"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:t==="stake"?"Total Farmed":"Current Balance"}),d.jsxs("span",{className:"text-golden-light font-bold",children:[t==="stake"?j.toFixed(2):N.toFixed(2)," USDL"]})]})]}),d.jsxs("div",{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6 relative z-10",children:[d.jsxs("label",{className:"text-golden-light text-lg font-semibold mb-4 block",children:[t==="stake"?"Stake":"Unstake"," Amount:"]}),d.jsxs("div",{className:"border-2 text-golden-light rounded-sm px-4 py-2 mb-4 flex items-center justify-between",children:[d.jsx(vC,{type:"number",value:oe,onChange:ae=>t==="stake"?r(ae.target.value):s(ae.target.value),placeholder:"0.00",className:"bg-transparent border-none text-golden-light text-2xl font-bold focus-visible:ring-0 focus-visible:ring-offset-0 p-0 h-auto [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),d.jsx("span",{className:"text-golden-light text-md font-semibold ml-2",children:"USDL"})]}),d.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[d.jsx(Vt,{onClick:()=>t==="stake"?ee(25):J(25),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"25%"}),d.jsx(Vt,{onClick:()=>t==="stake"?ee(50):J(50),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"50%"}),d.jsx(Vt,{onClick:()=>t==="stake"?ee(75):J(75),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"75%"}),d.jsx(Vt,{onClick:()=>t==="stake"?ee(100):J(100),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"MAX"})]})]}),d.jsx("div",{className:"mb-6 relative z-10",children:d.jsx(Vt,{onClick:t==="stake"?T:_,disabled:!oe||parseFloat(oe)<=0||t==="unstake"&&parseFloat(oe)>j||de||!p||!B||!k,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white text-lg font-bold rounded-xl disabled:opacity-50 flex items-center justify-center gap-2",children:de?d.jsxs(d.Fragment,{children:[d.jsx(me.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block",children:d.jsx(GW,{className:"w-5 h-5"})}),t==="stake"?"Staking...":"Unstaking..."]}):d.jsxs(d.Fragment,{children:[t==="stake"?d.jsx(FQ,{className:"w-5 h-5"}):d.jsx(BD,{className:"w-5 h-5"}),t==="stake"?"Stake Now":"Unstake Now"]})})}),oe&&parseFloat(oe)>0&&d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6 relative z-10",children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:t==="stake"?"Projections:":"Impact of Unstaking:"}),d.jsx("div",{className:"space-y-3",children:t==="stake"?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Weekly Points"}),d.jsxs("span",{className:"text-foreground font-semibold",children:["~",M.weekly," points"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"APY"}),d.jsxs("span",{className:"text-foreground font-semibold",children:[M.apy,"%"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Pool Share"}),d.jsxs("span",{className:"text-foreground font-semibold",children:[M.poolShare,"%"]})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Weekly Points Loss"}),d.jsxs("span",{className:"text-red-400 font-semibold",children:["-",Q.weeklyLoss," points"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"You'll Receive"}),d.jsxs("span",{className:"text-green-400 font-semibold",children:["$",i," USDC"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Remaining Staked"}),d.jsxs("span",{className:"text-foreground font-semibold",children:["$",(j-parseFloat(i||"0")).toFixed(2)," USDL"]})]})]})})]}),d.jsxs("div",{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 relative z-10",children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:"Pool Statistics:"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Total Staked"}),d.jsx("span",{className:"text-foreground font-semibold",children:"$28,450"})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:t==="stake"?"Your Share":"Your Current Share"}),d.jsxs("span",{className:"text-foreground font-semibold",children:[(j/28450*100).toFixed(2),"%"]})]})]})]})]},t)}),d.jsx(Rd,{})]}),d.jsx(mzt,{isOpen:g,onClose:P,data:w,onStakeAgain:L}),d.jsx(Lke,{isOpen:b,onClose:O,data:E,onUnstakeAgain:I})]})},IM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHsAAACeCAYAAAASTnVOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAuzSURBVHgB7Z17jFxVHcd/89qZ2Z19TaejVrCrIhoxWgG7+MAUS1ojYMEAAZUEG0tpJWhMMTExPgMm1r+sEIg0PCxFseoqqKU2xEcqKi1SG1JIK7UtEbszu93dzs7szs6D7+/OubvDLEt3Z+ee+/p9kpsz9+7s3b3ne3+/8zu/c+65RIIgCIIgCIIgCIIgCIIgCIIgCIIgCIIgCIIgCIIgCGchRP4ljC1GtTqoqs3T+FXsQDqdXh2NRr8ej8f7E4nEYD6fH6TWCh5sOF+AbMaXYi9duvSTgUDgB8FgcA22FdguDofD/5qcnHyFWgMLXens7Hx3d3f3xra2tpMTExMjZLPgQfIfbdi+gO0DVKv8jmq1+mFY+YeodVRSqdRF8Bov4POdEPsIRH8n2dxU+E3sUDKZ/BzKjzQch97Vbmoh5XL5K1zCg7DAYZS3ks2EyUfArfbAXd+Ij+c0/gxilMkaDNeNm6lENuMny26Hq14DUc8nPVQa9m2P9n0j9pIlS3oRiG2Chb1NHfJ8V6sRv4gd4sgb5UU0ExHb3hXSjS/E7urquhjumwOmGPkYXwRosVjsUhTvJ5/jectGW92P4ioSvC822urLUHycBG+LjQTKBWirP6V2fRd9N+JlscPoZm1E+TG177vouxGvBmghDHa8Dy58NQRnkdmqfS+2Jy0bgw5dEPlWbOeqQ74XmvGkZWOUaTnaak6idJIwjZcs27DeRCKxFELfgo9vUcd9H5iZeElsQ9RIJLIS7vvzNJMtExeu8JQbT6VSyxCUXU8z7lsCszo8FaCVSqXLYdWfoRnXLULX4RmxEYH3woWvQnudIOtEDtDscy+2Dl/vfJb8/54ROxqNXgWhrySLQQCYQh/+QDqdPt7b28sDLDxJodl6NHIAyN+vw3YC59zd19fXRhbhCbFR+WzNV/NHspZqe3v70ygvxHYuPMlfIDinY5sR3BAa//v6UCg0gO2taILW5nK5x8miHoQXxA5XKpWbUX5U7VvZ1eKAdhnVxA3wLEUI/jsEhlfSwgQ35pTj926BN9qO0/D8tyBPTkSA+V6yCNeLjQpLwypuwse0OmRlUFbCjfVNiML1VgqwOtVqBQI9Djd8Dc1PcGNOOb6/Cb93H/8+TsPz91nwAM5/B1mEq8XGqFYXKooruY/0EMxmsz9E+V2qWXmZhWfBcMP9Ci6Zu32Vs5yjgu99Cd+/hy1a3Tj8OyHs347z7yQJ0GYTDoe5jV5P1rfVJob7Hhwc/BYs8DtUe6JmWnCUP4enuUF9t7FuDQEh9G343o+V0CF1Tv792zKZzDb1PWmzG4iggvgxHm7jdPanjUQNLPDb7NKpJnjFFByu+VEEbRw/vFz/Szh+AkJfi+9tqxOaz8UabIbQd5OFQjOuzaChQnm60ZexRUk/puDfg4As3J1UJzhH6dg/Of3lapXTuFvw8e31QvPwK7YNOM/9ZLHQjFstO4DK4wn/7yL7smSG4LDIu1B+DaIZba9qg3lbrr7DT5uwq36H+sxtc1WNs69XQjc+8WkJrhQb2TKelOCESYSGG0YbvhX/zx2m4HU/N29Es56N7po6fjNulAfUz84W1LUEV4qN8epPwEJWkDMwAiwVpXOzMqd4ptAoPguhHyKNQhO5T+wAPwoLoS9T+04ZqzYEh4A/4qiaXkfEOqFvxI3xKGkWmsh9YnO2jB997Vf7ThrVMvrKHFXjf9xEde1wneu+DkL/jGwQmshdYvMkwn70rVeThsi1STgLFoKg90LwDVSzZA7amGtwI+wim4QmcpHYGIDgdOjtNDPdyKlj1abg90PoL3J0Xi6Xr0YQN0CqT0424RaxAxD7fFQcP9nhhofzDMFhyduLxWLf0NDQb6hW11Y98D8vXCF2PB4/Bxmo9bCUXnXIDZMIDWFHRkaOq33bLNrELWKvRHEdLNsc2JfpRk3geLF7enqWq3VQ4uqQTA1uEjdY9qfhvtfV7YtVN4mjxU4kEmnkwC+F+/bVqk5W4WixIfS1KC4noSU41WICGOzgNcuugFX3kgbQVEySx3Gq2OFoNLoBQl9SyzRa/2QH/layq6sriS5eBUmQlteLGhGrhkKh0ujo6On6P02agk5HBjtIi56HyueM0wWkB67sfRBkf20OYdWqBXyrOP8UymO4ofYj2XIQn7V5FMeJ3dnZuQRWvRmVsgVbF+mhfsDCcjiFiu2FqampbwwPD3N2TctSl45bghpt9XvgSu9CZbyJ9N6MAV2ov5eCS++LxWIvFQoFnsJkeYbNadE4J07WqBUTtApNejE9yUrc2BuTyWScNOAUsY3KRrbsElz8Zh/0q6eDMlxvPyw8TRpwSqUa0XZbW9sVdQvJ+gJ+gghFgjTgGDcOq+aU6DryD2bTMVYqlYZJA06xbLbqtSjPIx8Bq57C9uzp06fHSANOsOxgKpVahYvuJ/9gzic/AavmOWl50oATxOYxap6+80HyD+arJA7gRt+Nj0XSgN1uPJROp3mq0Sq174cFb8xr/A/E3nH06FFtGTRbLRsJFI68t+Cizacw/TBWbVxjpVIZyGazT5BG7LTsIIKyCzmxABceIf/Alv3fYrH4FGmedWObZSMHzpH39RC6nfwFW/aueDz+Z9KMbZYNkfmpxrXk0fVT54AtOTM5OflHDHOOk2bsbLN7ITi/Jc8P7bTprjnqvgdC/1Pta71228SG0Hzhtk6a14jZ1XoJG6+ZMqqO+6PNxkXzsN5z5B/BT+GaH8hkMv8nm7BN7LGxsedx8T/FVlCHvDof3LyuY8qqc2QTdk5e4Lzwy9FolMsVcOu6n+EyFpoj62EXPoau1sPIgXO2zLbHgGwPjniSXywW4ywav+Z4mRrys6pC2MoKuLFWkVrjxGLMB/D3YNz6plOnTg2Sjdgp9qxZlR0dHW+ORCJRVIxl7fjw8HAmmUw+GA6HbyAN8KuUkS376tDQ0DayGTv7uLPa6PHxcS3BCwQYJX38An9vgByAq1c4bBYLpwo3/h2eNrwH3uQkOQBfik16mi9uivaUy+VnyCH4VWwd8NDlQ7Dq58khiNgWAPfN2cG9iEH2qUOOSAmL2BaArt1JCL41n8+bAacjEkYidovhrhYKfrUEp4JtX0elHnnIvXUYCRRwGEHZg+hXT5DDELFbh9kuH4DQfyIHDvCIG28N5tRgtupHyKEjeSJ2azCsGkLvglXvJYcibrw18EP2hycmJhwrNCOW3RqqGOzYkcvl/kEORsReJLzqMIrjsOq/ksYlM5pBxG4eMyhjge89c+bMc+RwpM1uHnMS4eGpqanHyMbpRvNFLHtx/A9i3zcyMvIKuQARexFA6EPFYpHfDqDlKczFImI3Txbu+8mxsTGe9eKKmbEi9sIxVzp6OpFI8OuaXDPvXQK0hcOB2WSpVHoik8loWQulVYhlNwG6W4/Ahf+aXIaIvXDG2aqRLcuQyxCxFwYnUAZg1YfIhUibvQAQlPGEhJ2IwI+SCxHLnj9s1b8vFAr7yaWI2PMEVn0MxVY3ttUmIvY8UJMI96KrxXPAXftosYj9xpgjW89gvPph0rQIvFVIgPbGTK9EODQ0xG21qxcMEMueG1PYg+hq7SIPrAwhYs+NadWPYQhT+5plViBizw2/H+ZZbE+qfdcv4SViz80kArPt2Wz232pf3LgXgTXzsOWL4+Pjf0M5RR5BxH4tZlcrD8F/ArGPkIcQsV+LGZQdgtA8hKl9fVErEbFncwJi353P581lrDyztqqI3QCE/nskEuHVjczpRp5ZeVEyaHXweqpIoOxGDpyX2PTc8ppi2TVMYfcFg8FfkkfXUfWlZUNQcx008+UsvOVg1X9AtkzLO7bswK+L3plLYNQHXzuw/ZY8jC/FRj/6KQj+ItUsm2eg8GuXdsKqR8jDOO792TooFApH2tvbBzFG3QORD0L87yMo4zXLXD1efTb88H6OuYh3dHR0Q+hyLpfjdtrRz1YLgiAIgiAIgiAIgiAIgiAIgiAIgiAIgiAIgiAIgiAIQmt5FZ5CPjP3BSlzAAAAAElFTkSuQmCC",TM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHsAAACeCAYAAAASTnVOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAwxSURBVHgB7Z17jB1VHcd/Z+579+5273b3tkUERCQKRHloF1EIUCwERHxBMEiCROXxhxpCTFT+1j+IIfGJMUbA0mipsWqjUBtETalAW1ub0lYKjdRYu3d3u3t7d+/unTtz/J65Z9rb9z7mzvP3SWZndvY+duZ7fr/zO7/zGCKGYRiGYRiGYRiGYRiGYRiGYRiGYRiGYRiGYRiGYZizkKLkksaWp9Y9kHqLNUkVW5TL5RW5XO4bhUJhqFgsDk9NTQ2Tt4Ib+vMy2Gz1ncT4z+Dg4C3lJeXt2GxstSVLlry8aNGiq8g7DP09l6NQTWN7tz4fqOAGJY8s/NkXpKQPUOvmd9tSfhhW/iHyBnVPbQj8fiHEP6SUOWy7UaDeRS1LD0zwpImd6u/vvwdO9RrRdstxLKUhF9HCOSo09jsgsg3BlQtP4/hf2sIDEzxRYve8o6cvnUl/Dvf63BP/Jmxh0cJwhFaum44JrUQ1hFOapIqP9uLv76GW4L7f+ySJ3ZVr5lYKEhd3wKxcoa/QrtsV2v0qoQVXwu8ZGBi4mFpBm6/3PzFiL168uGRI4yFJ8jwtgVeRt/o0e+nSpcsh5LZTCH30dVpwYRjGHvw/7yOfBU+K2CkjY6zE/ioEZketjRaO+gyJ4Otq27ZfOYPQR1+vBadUKvU64odLyMdmWSLE7u3t/SDq5K/hluaFd7fVERqu+1qIt7lNaLfunyLtPaRSl2hSn7e14DKdTu8qlUqXkU91eCLEzufz1+JuqgjZq+t1hEbdez2E+6sSrk3oNKz8UdM0f6Bf55hzo9H4Js4/Qa1EluUKnslkdvb19almYMddeuzFRt04hN3tHvpJR2h87grUvX/WQqvzjtDYnhwZGfkuzi1pfxNetgTnH8F+rX6dElyo92ez2e0quKMOCx57sSHIDZDnOo9qRUdotJc/hjp3Y7vQyivDcn88PDz8kDqhIu8T/xX1o1Kp3Im/PUfHC65c+zZ4iiupg4LHWmwEQJfiJt4qW3G3F9G3sugbsd+gBVLnbCU09t+D5T5Mx4KtE7/P/V1A8Lvwnl/ptncTn2Ooz0PB3IqC5Lp0z4mz2Cpr9QBu/Ud1UOZJ9A2LXqMt2mlbK8GwPQEBv6q/42yFysmg4fV3432rdUGxtOCqfl9LHSKuYqdQB16GunCFbmp51qbW1qiQWujHVV1MNKfvcQTH++7B+1fpz3Tea1nWDHWIWIqNHqxe3MAHkUB5p4dWrUC1bN+MfQ2frwKyb0GwrxPNq0C5gt+rPIP2FiO1Wu1W6lC7O00xBBZ9Pm6cSqL0kLcYo6Ojr2JfWrZsWe7gwYOqLb0Qz+EKrjzDY9jq1EHiZNmONRSLxUEI/WX8tszDwMzFDZwsLbQXn+++303CdGzUTJzEdm4QkhTL4b4/j8O8xy488sTKjXcNDJyTSRt3Sfuo+w50sEDYiFWAlm02b0Kc82mVidSnWOg2YiM2IvBSJpe5nqQoEot8SmLjxnO53O3YfTz244EXQCwsGwmUImz5k4i+BwXb9GmJg9iqA+I+7D8ivB2BEjsi78bRU1Q2UgayUFTmptaZibRlo1erFwmUT+HwAlb47ERa7HQ6PQg7vh+Hg2zPZyfKYmekIW+BZV9CkqWeDZEVu1QqDUFk1YecY6lnR1TFFsiBr0QCRc2uYKlnSSTFRrZshRTydm5Tz41Iip3NZ28UUlxOzJyImtgC7eqrBIkbdOYkzAmU0PmdqImtsmUPYj8UgQTKcQkrtBpyFDBRElsNIhxKZ9JeDyLsCBB3ndrrqT+K31PAREbsrq6uMnZfwbYsAlZtjI2NrbEs6z6Ivgn7z4yPj79EAd/vqOTGBcS+WBjiOthzPgKNLWdWx+jo6NPYP63PGdShwf+zJRKWXSgUzjXSxv2SZEmfikLPln2W330nEmJnC4Xl0qY7EYVniXu25k3oxe7r6zs/l1broFBBn+L+6nkSBcv+BNz3HW3ZMrbqeRJqsYvFYjmTzVwLfWM5c8VvQi02Ojs+i//wJmI8IawWI9DZ0ZdKp29DDrzkh+NGx0rHZk+GhbCKnc7lcl9CQuJq25mz3PmZHShU/b29vf1Vw7B7LMvz+6JXYpCpVKo5MTFxuP2ryaegM5TBDtKiFyGBsg46X+pTN6ZKam6C4luEmoJNslOrNcOBCBP7/ciqbUHSZQeOffMooRO7p6dnca6QexhW/ShufC/5Q/sSVj4gDEOIPaZpPoa06m9xokk+ELr1xlFXv9cQxrf1akN+FkbhG+SUroF0KnVBPp9/q16vHyAfMmxhi8ZV4mSlWjHB50GE/no4PfEQ17ncSBkP9Pf3F8gHwiK2c7ORLbvaMAzlwtMxT50IvaolwYsNIWgrkw+ERWwn2s5ms7ch+j6PEpQlU4scYlckHwiNG4dV3wGJ70jQIEKn8kYprzabzTHygdC4cVj1zXBrF1GCgFWb0ra3HT58uEo+EAaxDbXgK4KVIUoOToAG0367KZu/pNbiOR0nDGJnceVfxIVfkSQXroIzFPCtA6WB5/F7g3wg6HRpqlwuX4f99eri/UiLhgC9aiW9aVty1b59+3zLoAVq2UignAd1H0UJH0zQ3GonMLOlvW5kZGQ9+UiQYhsIyq5EQV+OtGiGkoJ0vNf+xnTjRfJ51E1gYiMHfhG+/S4U8y5KELKVP1tbLRT+Qj4TWJ0NkS/ERd+MS497tqwdCRdemZme+RNNTEySzwTpxksQXD0lLwlSu/1pDRTwH6E/+1V93tdrD9KyVXNDLeOchCf9toIyW76Fi16N3yf0+WTU2SjqB1Cut9OxRyPFFm3Vh3Dw82ql8j8KiMDErlaruyD4L7DVyfulosOEe3X71WMicFSjgAjShSIvLP+Ty+VMtEYuh6fL+5xBUx7Fj8KuLqvaaDSeQQ5cZcsCmwYUeHCkBvnl83mVRbsG/805EN59knwnUFZWR7teZewu9KFwydb0YrkB/db3Hjp0aJgCJEixTxpV2d3dvTSTyeQMw+hYPT42Nlbp7+9/Kp1J300+ALWbtmU/Mjo6+n0KmCBz4yfV0ZOTk74EL5aUE35cuGxl+p+D4OsoBCTlKbvHIaT0KVaRJsTeAG9ygEJAIsUmf6ovC3d3g9WwXqOQkFSxO0urglJdl0/DqndRSGCxO4AUUmUHN05WJzfpU6FICbPYHuMMwiBxADmEx6emptyAMxQJIxbbc2QT0m7GgUoFB76OSjs8yd07nIYW2G01rafQrp6mkMFie4douXDaCqFfohB28LAb9wY9lQdWbVnPUkh78lhsb3D6qyH0Wlj1RgopLLYXoPcGEfjr09PToRVawXW2B0inxWWvqtVqr1CIYcteIKisbbjwf09PTf+NfFwyYz6w2PNHtmaxiBmY9pNHjhzZTiGH3fj8aU25teVu0zTXUIDDjWYLW/Y8cfqqJf0X5v2T8fHxgxQBWOwFgCB8Z6PRWEs+zcJcKCz2PIELHzEb5gvValWNAY/EyFgWe+5IPbd6c7FYVE8JiMy4dw7Q5o4KzGbMRnN95VDFl7VQvIIte47o/upnEYH/hiIGiz1HYNWTTdlcj2xZhSIGiz03VAJlnTlt7qQIwnX2bGkFZdP4sRoR+D6KIGzZs0U4Vv2Her2+hSIKiz0LdFNrPw4fj2Jd7cJizwrZJJs2VioVNQY8slOLWewz46xthIb1a7ZtP0M+LQLfKThAOzNCz6RXgwhVXR3pBQPYsk+PXl+Udpgz5lqKwcoQLPbpcdcXXYMuTN/XLOsELPapcFdBMeQ2ackX9NnIL+HFYp+KlqwzwhY/GxkZ+ac+y248jqAPU3Vb7p2cnHwZe5NiAot9PO4gwilpy59C7DcoRrDYx+MOItwJoVUXpu/ri3YSFrsNvRLh2zDvH05NTbnLWMVmbVUWuw1t1X/PZDJqdSN3uFFsVl7kDJqLdJbHOGCa5vPIgdcpRiK7sGW3cJ+4uskwjF9TDIVWJNOyDcNdB819AI0KzGqNGfOPyJb58oytIEjqonfuEhhO8KVXIlyFn7+jGJNMsYV4EfXzXmpZ9gwUf9O05GpY9TjFmCSs4n8S9Xr9ja5817At7T50dOywSHzncKWi1iyLdH/12UjOo1hOptDd3b0IVm7VajVVT4d6bjXDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDeMv/AX6FlrG4kvxPAAAAAElFTkSuQmCC",yzt=({isOpen:t,onClose:e,data:n,onBuyAgain:r})=>{const[i,s]=x.useState(!1),[o,a]=x.useState(0),{toast:l}=wa(),c=ur();x.useEffect(()=>{if(t&&n){const g=setTimeout(()=>a(1),300),y=setTimeout(()=>a(2),800),w=setTimeout(()=>{s(!0),navigator.vibrate&&navigator.vibrate([100,50,100])},1200);return()=>{clearTimeout(g),clearTimeout(y),clearTimeout(w)}}},[t,n]);const u=()=>{n!=null&&n.tx_hash&&(navigator.clipboard.writeText(n.tx_hash),l({title:"Copied!",description:"Transaction hash copied to clipboard",duration:2e3}))},h=()=>{n!=null&&n.tx_hash&&window.open(`https://basescan.org/tx/${n.tx_hash}`,"_blank")},f=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),p=g=>`${g.slice(0,6)}...${g.slice(-6)}`,m=()=>{e(),c("/dashboard")};return n?d.jsx(Sw,{children:t&&d.jsxs(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:[i&&d.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((g,y)=>d.jsx(me.div,{initial:{opacity:1,scale:0,x:Math.random()*window.innerWidth,y:window.innerHeight+50},animate:{opacity:0,scale:1,y:-100,rotate:360},transition:{duration:3,delay:Math.random()*.5,ease:"easeOut"},className:"absolute w-3 h-3 bg-gradient-to-r from-[#D4B679] to-[#A07715] rounded-full"},y))}),d.jsxs(me.div,{initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},transition:{type:"spring",damping:25,stiffness:300},className:"bg-background rounded-3xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl hide-scrollbar",onClick:g=>g.stopPropagation(),children:[d.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 w-8 h-8 bg-gray-800/80 hover:bg-gray-700 rounded-full flex items-center justify-center transition-colors",children:d.jsx(bA,{size:16,className:"text-gray-300"})}),d.jsxs("div",{className:"text-center pt-8 pb-6 px-6",children:[d.jsx(me.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",damping:15},className:"mx-auto mb-4 w-auto h-auto rounded-full flex items-start justify-end",children:d.jsx("img",{src:Kr,alt:"LighterFarm",className:"w-auto h-10"})}),d.jsx(me.div,{initial:{scale:0},animate:{scale:o>=1?1:0},transition:{type:"spring",damping:15,delay:.3},className:"mx-auto mb-4 w-20 h-20 bg-[#A07715]/5 rounded-full flex items-center justify-center border-4 border-[#A07715]",children:d.jsx(me.div,{initial:{scale:0,rotate:-90},animate:{scale:o>=2?1:0,rotate:o>=2?0:-90},transition:{delay:.8,type:"spring",damping:12},children:d.jsx(yA,{size:40,className:"text-[#A07715]",strokeWidth:3})})}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:o>=2?1:0,y:o>=2?0:20},transition:{delay:1},children:[d.jsx("h1",{className:"text-2xl font-bold text-[#A07715] mb-2",children:"Purchase Successful!"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"You've successfully bought Lighter Points"})]})]}),d.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.2},className:"px-6 mb-6",children:[d.jsx("div",{className:"bg-card rounded-xl p-4 mb-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:d.jsx("span",{className:"text-sm text-gray-400",children:"Points Received"})}),d.jsx("p",{className:"text-4xl font-bold text-[#A07715] mb-1",children:parseFloat(n.points_received).toFixed(2)}),d.jsx("p",{className:"text-sm text-[#D4B679]",children:"Lighter Points"})]})}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsx("div",{className:"flex items-center gap-2 mb-0",children:d.jsx("span",{className:"text-xs text-gray-400",children:"USDL Spent"})}),d.jsxs("p",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.usdl_spent).toFixed(2)]})]}),d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsx("div",{className:"flex items-center gap-2 mb-0",children:d.jsx("span",{className:"text-xs text-gray-400",children:"Exchange Rate"})}),d.jsxs("p",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.exchange_rate).toFixed(2)]})]})]}),d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"New USDL Balance"}),d.jsxs("span",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.new_usdl_balance).toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"New Points Balance"}),d.jsx("span",{className:"text-lg font-bold text-[#D4B679]",children:parseFloat(n.new_points_balance).toFixed(2)})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"Price Impact"}),d.jsx("span",{className:"text-lg font-bold text-[#D4B679]",children:n.price_impact})]})]})]}),d.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.4},className:"px-6 mb-6",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Transaction Details"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between bg-card rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(wA,{size:16,className:"text-gray-400"}),d.jsx("span",{className:"text-sm text-gray-400",children:"TX Hash"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm font-mono text-[#D4B679]",children:p(n.tx_hash)}),d.jsx("button",{onClick:u,className:"p-1 hover:bg-[#d4b679] rounded transition-colors",children:d.jsx(Cw,{size:14,className:"text-gray-400 hover:text-black"})}),d.jsx("button",{onClick:h,className:"p-1 hover:bg-[#d4b679] rounded transition-colors",children:d.jsx(E3,{size:14,className:"text-gray-400 hover:text-black"})})]})]}),d.jsxs("div",{className:"flex items-center justify-between bg-card rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(qW,{size:16,className:"text-gray-400"}),d.jsx("span",{className:"text-sm text-gray-400",children:"Completed At"})]}),d.jsx("span",{className:"text-sm text-[#D4B679]",children:f(n.timestamp)})]})]})]}),d.jsx(me.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.6},className:"px-6 pb-8 space-y-3",children:d.jsxs(Vt,{onClick:m,variant:"outline",className:"w-full h-12 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white font-semibold rounded-xl flex items-center justify-center gap-2",children:["Go to Dashboard",d.jsx(wp,{size:18})]})})]})]})}):null},wzt=({isOpen:t,onClose:e,data:n,onSellAgain:r})=>{const[i,s]=x.useState(!1),[o,a]=x.useState(0),{toast:l}=wa(),c=ur();x.useEffect(()=>{if(t&&n){const g=setTimeout(()=>a(1),300),y=setTimeout(()=>a(2),800),w=setTimeout(()=>{s(!0),navigator.vibrate&&navigator.vibrate([100,50,100])},1200);return()=>{clearTimeout(g),clearTimeout(y),clearTimeout(w)}}},[t,n]);const u=()=>{n!=null&&n.tx_hash&&(navigator.clipboard.writeText(n.tx_hash),l({title:"Copied!",description:"Transaction hash copied to clipboard",duration:2e3}))},h=()=>{n!=null&&n.tx_hash&&window.open(`https://basescan.org/tx/${n.tx_hash}`,"_blank")},f=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),p=g=>`${g.slice(0,6)}...${g.slice(-6)}`,m=()=>{e(),c("/dashboard")};return n?d.jsx(Sw,{children:t&&d.jsxs(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:[i&&d.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((g,y)=>d.jsx(me.div,{initial:{opacity:1,scale:0,x:Math.random()*window.innerWidth,y:window.innerHeight+50},animate:{opacity:0,scale:1,y:-100,rotate:360},transition:{duration:3,delay:Math.random()*.5,ease:"easeOut"},className:"absolute w-3 h-3 bg-gradient-to-r from-[#D4B679] to-[#A07715] rounded-full"},y))}),d.jsxs(me.div,{initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},transition:{type:"spring",damping:25,stiffness:300},className:"bg-background rounded-3xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl hide-scrollbar",onClick:g=>g.stopPropagation(),children:[d.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 w-8 h-8 bg-gray-800/80 hover:bg-gray-700 rounded-full flex items-center justify-center transition-colors",children:d.jsx(bA,{size:16,className:"text-gray-300"})}),d.jsxs("div",{className:"text-center pt-8 pb-6 px-6",children:[d.jsx(me.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",damping:15},className:"mx-auto mb-4 w-auto h-auto rounded-full flex items-start justify-end",children:d.jsx("img",{src:Kr,alt:"LighterFarm",className:"w-auto h-10"})}),d.jsx(me.div,{initial:{scale:0},animate:{scale:o>=1?1:0},transition:{type:"spring",damping:15,delay:.3},className:"mx-auto mb-4 w-20 h-20 bg-[#A07715]/5 rounded-full flex items-center justify-center border-4 border-[#A07715]",children:d.jsx(me.div,{initial:{scale:0,rotate:-90},animate:{scale:o>=2?1:0,rotate:o>=2?0:-90},transition:{delay:.8,type:"spring",damping:12},children:d.jsx(yA,{size:40,className:"text-[#A07715]",strokeWidth:3})})}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:o>=2?1:0,y:o>=2?0:20},transition:{delay:1},children:[d.jsx("h1",{className:"text-2xl font-bold text-[#A07715] mb-2",children:"Sale Successful!"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"You've successfully sold your Lighter Points"})]})]}),d.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.2},className:"px-6 mb-6",children:[d.jsx("div",{className:"bg-card rounded-xl p-4 mb-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:d.jsx("span",{className:"text-sm text-gray-400",children:"USDL Received"})}),d.jsxs("p",{className:"text-4xl font-bold text-[#A07715] mb-1",children:["$",parseFloat(n.usdl_received).toFixed(2)]}),d.jsx("p",{className:"text-sm text-[#D4B679]",children:"USDL"})]})}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsx("div",{className:"flex items-center gap-2 mb-0",children:d.jsx("span",{className:"text-xs text-gray-400",children:"Points Sold"})}),d.jsx("p",{className:"text-lg font-bold text-[#D4B679]",children:parseFloat(n.points_sold).toFixed(2)})]}),d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsx("div",{className:"flex items-center gap-2 mb-0",children:d.jsx("span",{className:"text-xs text-gray-400",children:"Exchange Rate"})}),d.jsxs("p",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.exchange_rate).toFixed(2)]})]})]}),d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"New Points Balance"}),d.jsx("span",{className:"text-lg font-bold text-[#D4B679]",children:parseFloat(n.new_points_balance).toFixed(2)})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"New USDL Balance"}),d.jsxs("span",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.new_usdl_balance).toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"Price Impact"}),d.jsx("span",{className:"text-sm font-bold text-[#D4B679]",children:n.price_impact})]})]})]}),d.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.4},className:"px-6 mb-6",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Transaction Details"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between bg-card rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(wA,{size:16,className:"text-gray-400"}),d.jsx("span",{className:"text-sm text-gray-400",children:"TX Hash"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm font-mono text-[#D4B679]",children:p(n.tx_hash)}),d.jsx("button",{onClick:u,className:"p-1 hover:bg-[#d4b679] rounded transition-colors",children:d.jsx(Cw,{size:14,className:"text-gray-400 hover:text-black"})}),d.jsx("button",{onClick:h,className:"p-1 hover:bg-[#d4b679] rounded transition-colors",children:d.jsx(E3,{size:14,className:"text-gray-400 hover:text-black"})})]})]}),d.jsxs("div",{className:"flex items-center justify-between bg-card rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(qW,{size:16,className:"text-gray-400"}),d.jsx("span",{className:"text-sm text-gray-400",children:"Completed At"})]}),d.jsx("span",{className:"text-sm text-[#D4B679]",children:f(n.timestamp)})]})]})]}),d.jsx(me.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.6},className:"px-6 pb-8 space-y-3",children:d.jsxs(Vt,{onClick:m,variant:"outline",className:"w-full h-12 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white font-semibold rounded-xl flex items-center justify-center gap-2",children:["Go to Dashboard",d.jsx(wp,{size:18})]})})]})]})}):null},bzt=()=>{const[t,e]=x.useState("buy"),[n,r]=x.useState(""),[i,s]=x.useState(!1),[o,a]=x.useState(!1),[l,c]=x.useState(!1),[u,h]=x.useState(null),[f,p]=x.useState(null),{toast:m}=wa(),g=ur(),{user:y,authenticated:w,getAccessToken:v}=eo();UAe();const[b,A]=x.useState(0),[E,$]=x.useState(0),[N,R]=x.useState(""),[j,F]=x.useState(""),[W,V]=x.useState(""),B=localStorage.getItem(y==null?void 0:y.id),k=B?JSON.parse(B):null,C=k==null?void 0:k.buyPrice,S=k==null?void 0:k.sellPrice,T=k==null?void 0:k.wallet_address,_=0;x.useEffect(()=>{(async()=>{if(B){const ae=JSON.parse(B);R(ae.id),A(ae.usdl_balance||0),$(ae.points_balance||0)}})()},[T,y==null?void 0:y.id]);const P=de=>{e(de),r("")},L=()=>{const de=parseFloat(n)||0;if(t==="buy"){const ae=de/C,he=de*(_/100);return{receive:ae.toFixed(2),fee:he.toFixed(2),total:(de+he).toFixed(2),receiveLabel:"points",totalLabel:"USDL"}}else{const ae=de*S,he=ae*(_/100);return{receive:(ae-he).toFixed(2),fee:he.toFixed(2),total:de.toFixed(2),receiveLabel:"USDL",totalLabel:"points"}}};x.useEffect(()=>{if(t==="buy"){const ae=(parseFloat(n)||0)/C;F(ae>0?ae.toFixed(2):"")}else if(t==="sell"){const ae=(parseFloat(n)||0)*S,he=ae*(_/100);V(ae>0?(ae-he).toFixed(2):"")}else F("")},[n,t,C,S]);const O=L(),I=de=>{r(((t==="buy"?b:E)*de/100).toFixed(2))},D=async()=>{var de,ae,he,be,fe,ke,we,Ue;if(!w||!(y!=null&&y.id)){m({title:"Authentication Required",description:"Please authenticate with Privy first",variant:"destructive"});return}if(!T){m({title:"Wallet Required",description:"Please connect your wallet first",variant:"destructive"});return}if(!N){m({title:"User Data Missing",description:"Please complete registration first",variant:"destructive"});return}s(!0);try{const Me={wallet_address:T,usdl_amount:n,expected_points:j},_e={"X-Privy-User-Id":N,"X-Wallet-Address":T,"Content-Type":"application/json",Accept:"application/json"},xe=await Yt.post("/api/points/buy",Me,{headers:_e});if(xe.status===200&&((de=xe.data)!=null&&de.success)){if(h(xe.data.data),a(!0),r(""),window.Audio)try{const Oe=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApFn+DyvmMcBS2FzvLZiDYIG2m+7+WiTAwO");Oe.volume=.6,Oe.play().catch(()=>{})}catch{}}else m({title:"Buy failed",description:((he=(ae=xe.data)==null?void 0:ae.error)==null?void 0:he.message)||((be=xe.data)==null?void 0:be.error)||"Unexpected response from server",variant:"destructive"})}catch(Me){console.error(" Buy error details:",Me);let _e="Network or server error",xe="Buy Error";if(Yt.isAxiosError(Me)&&Me.response){const Oe=Me.response.status,Le=Me.response.data;Oe===400?(xe="Invalid Request",_e=((ke=(fe=Le==null?void 0:Le.detail)==null?void 0:fe.error)==null?void 0:ke.message)||((we=Le==null?void 0:Le.error)==null?void 0:we.message)||(Le==null?void 0:Le.error)||(Le==null?void 0:Le.message)||"Please check your input and try again"):Oe===401?(xe="Authentication Failed",_e=((Ue=Le==null?void 0:Le.error)==null?void 0:Ue.message)||"Wallet authentication failed. Please reconnect your wallet and try again."):Oe>=500&&(xe="Server Error",_e="Server is temporarily unavailable. Please try again later")}m({title:xe,description:_e,variant:"destructive"})}finally{s(!1)}},Y=async()=>{var de,ae,he,be,fe,ke,we,Ue;if(!w||!(y!=null&&y.id)){m({title:"Authentication Required",description:"Please authenticate with Privy first",variant:"destructive"});return}if(!T){m({title:"Wallet Required",description:"Please connect your wallet first",variant:"destructive"});return}if(!N){m({title:"User Data Missing",description:"Please complete registration first",variant:"destructive"});return}s(!0);try{const Me={wallet_address:T,points_amount:n,expected_usdl:W},_e={"X-Privy-User-Id":N,"X-Wallet-Address":T,"Content-Type":"application/json",Accept:"application/json"},xe=await Yt.post("/api/points/sell",Me,{headers:_e});if(xe.status===200&&((de=xe.data)!=null&&de.success)){if(p(xe.data.data),c(!0),r(""),window.Audio)try{const Oe=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApFn+DyvmMcBS2FzvLZiDYIG2m+7+WiTAwO");Oe.volume=.6,Oe.play().catch(()=>{})}catch{}}else m({title:"Sell failed",description:((he=(ae=xe.data)==null?void 0:ae.error)==null?void 0:he.message)||((be=xe.data)==null?void 0:be.error)||"Unexpected response from server",variant:"destructive"})}catch(Me){console.error(" Sell error details:",Me);let _e="Network or server error",xe="Sell Error";if(Yt.isAxiosError(Me)&&Me.response){const Oe=Me.response.status,Le=Me.response.data;Oe===400?(xe="Invalid Request",_e=((ke=(fe=Le==null?void 0:Le.detail)==null?void 0:fe.error)==null?void 0:ke.message)||((we=Le==null?void 0:Le.error)==null?void 0:we.message)||(Le==null?void 0:Le.error)||(Le==null?void 0:Le.message)||"Please check your input and try again"):Oe===401?(xe="Authentication Failed",_e=((Ue=Le==null?void 0:Le.error)==null?void 0:Ue.message)||"Wallet authentication failed. Please reconnect your wallet and try again."):Oe>=500&&(xe="Server Error",_e="Server is temporarily unavailable. Please try again later")}m({title:xe,description:_e,variant:"destructive"})}finally{s(!1)}},M=async()=>{if(!n||parseFloat(n)<=0){m({title:"Invalid Amount",description:"Please enter a valid amount",variant:"destructive"});return}t==="buy"?await D():t==="sell"&&await Y()},Q=()=>{a(!1),h(null)},ee=()=>{c(!1),p(null)},J=()=>{a(!1),h(null),e("buy"),setTimeout(()=>{const de=document.querySelector('input[type="number"]');de&&de.focus()},100)},oe=()=>{c(!1),p(null),e("sell"),setTimeout(()=>{const de=document.querySelector('input[type="number"]');de&&de.focus()},100)};return d.jsxs(d.Fragment,{children:[d.jsxs(gu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs("header",{className:"flex items-center justify-between py-6 relative z-10",children:[d.jsx(Vt,{variant:"ghost",size:"icon",onClick:()=>g(-1),className:"h-10 w-10 bg-golden-light rounded-full hover:bg-golden-light/90",children:d.jsx(of,{className:"w-8 h-8 text-background"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Buy/Sell"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"with USDL"})]}),d.jsx("img",{src:Kr,alt:"",className:"h-8 w-auto"})]}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-2 mb-4 relative z-10 grid grid-cols-2 gap-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[d.jsx("button",{onClick:()=>P("buy"),className:`relative py-3 px-4 rounded-xl font-bold text-sm transition-all ${t==="buy"?"bg-gradient-to-r from-[#7D5A02] to-[#A07715] text-white":"bg-transparent text-golden-light/60 hover:text-golden-light"}`,children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("img",{src:IM,alt:"",className:`h-5 w-auto ${t==="buy"?"invert":"invert opacity-60"}`}),"Buy Points"]})}),d.jsx("button",{onClick:()=>P("sell"),className:`relative py-3 px-4 rounded-xl font-bold text-sm transition-all ${t==="sell"?"bg-gradient-to-r from-[#7D5A02] to-[#A07715] text-white":"bg-transparent text-golden-light/60 hover:text-golden-light"}`,children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("img",{src:TM,alt:"",className:`h-5 w-auto ${t==="sell"?"invert":"invert opacity-60"}`}),"Sell Points"]})})]}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-4 relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Available"}),d.jsxs("span",{className:"text-golden-light font-bold",children:[b.toFixed(2)," USDL"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Total Points"}),d.jsx("span",{className:"text-golden-light font-bold",children:E.toFixed(2)})]})]}),d.jsx(Sw,{mode:"wait",children:d.jsxs(me.div,{initial:{opacity:0,x:t==="buy"?-20:20},animate:{opacity:1,x:0},exit:{opacity:0,x:t==="buy"?20:-20},transition:{duration:.3},children:[d.jsxs("div",{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6 relative z-10",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-12 h-12 bg-golden-light rounded-md flex items-center justify-center",children:t==="buy"?d.jsx("img",{src:IM,alt:"",className:"h-12 w-auto"}):d.jsx("img",{src:TM,alt:"",className:"h-12 w-auto"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-semibold text-golden-light text-lg",children:[t==="buy"?"BUY":"SELL"," Points"]}),d.jsxs("div",{className:"text-sm text-golden-light font-extralight opacity-60",children:["$",t==="buy"?C:S,"/point"]})]})]}),d.jsx("label",{className:"text-golden-light text-lg font-semibold mb-4 block",children:t==="buy"?"Buy Amount:":"Sell Amount:"}),d.jsxs("div",{className:"border-2 text-golden-light rounded-sm px-4 py-2 mb-4 flex items-center justify-between",children:[d.jsx(vC,{type:"number",value:n,onChange:de=>r(de.target.value),placeholder:"0.00",className:"bg-transparent border-none text-golden-light text-2xl font-bold focus-visible:ring-0 focus-visible:ring-offset-0 p-0 h-auto [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("button",{onClick:()=>r((parseFloat(n||"0")+1).toFixed(2)),className:"text-golden-light hover:text-golden-light/70",children:d.jsx(eTe,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>r(Math.max(0,parseFloat(n||"0")-1).toFixed(2)),className:"text-golden-light hover:text-golden-light/70",children:d.jsx(XIe,{className:"w-4 h-4"})})]}),d.jsx("span",{className:"text-golden-light text-md font-semibold ml-2",children:t==="buy"?"USDL":"Points"})]})]}),d.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-4",children:[d.jsx(Vt,{onClick:()=>I(25),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"25%"}),d.jsx(Vt,{onClick:()=>I(50),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"50%"}),d.jsx(Vt,{onClick:()=>I(75),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"75%"}),d.jsx(Vt,{onClick:()=>I(100),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"MAX"})]}),d.jsxs("div",{className:"text-sm text-golden-light font-extralight opacity-60 mb-6",children:["Available: ",t==="buy"?`${b.toFixed(2)} USDL`:`${E.toFixed(2)} Points`]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"You'll receive"}),d.jsxs("span",{className:"text-foreground font-semibold",children:["~",O.receive," ",O.receiveLabel]})]}),d.jsxs("div",{className:"flex justify-between items-center pb-3",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Trading fee"}),d.jsxs("span",{className:"text-foreground font-semibold",children:["$",O.fee," USDL"]})]}),d.jsx("div",{className:"border-t border-golden-light/20 pt-3",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:t==="buy"?"Total cost":"You'll receive"}),d.jsxs("span",{className:"text-foreground font-semibold",children:["$",t==="buy"?O.total:O.receive," USDL"]})]})})]})]}),d.jsx(Vt,{onClick:M,disabled:!n||parseFloat(n)<=0||i||!w||!T||!N,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white text-lg font-bold rounded-xl mb-6 disabled:opacity-50 flex items-center justify-center gap-2",children:i?d.jsxs(d.Fragment,{children:[d.jsx(me.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block",children:d.jsx(GW,{className:"w-5 h-5"})}),"Processing..."]}):d.jsxs(d.Fragment,{children:[t==="buy"?d.jsx("img",{src:IM,alt:"",className:"h-5 invert w-auto"}):d.jsx("img",{src:TM,alt:"",className:"h-5 invert w-auto"}),t==="buy"?"BUY":"SELL"," Now"]})}),n&&parseFloat(n)>0&&d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6 relative z-10",children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:"Transaction Preview:"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Price per point"}),d.jsxs("span",{className:"text-foreground font-semibold",children:["$",t==="buy"?C:S]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:t==="buy"?"Points to receive":"USDL to receive"}),d.jsxs("span",{className:"font-semibold text-green-400",children:["~",O.receive," ",O.receiveLabel]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Total amount"}),d.jsx("span",{className:"text-foreground font-semibold",children:t==="buy"?`${n} USDL`:`${n} Points`})]})]})]})]},t)}),d.jsx(Rd,{})]}),d.jsx(yzt,{isOpen:o,onClose:Q,data:u,onBuyAgain:J}),d.jsx(wzt,{isOpen:l,onClose:ee,data:f,onSellAgain:oe})]})},vzt="/assets/referbox-CeCLsqk0.png",xzt="/assets/and-CJPallgC.png",Ezt=()=>{const[t,e]=x.useState(""),{toast:n}=wa(),r=ur(),{user:i}=eo(),[s,o]=x.useState(0),[a,l]=x.useState(0),[c,u]=x.useState(!1);x.useEffect(()=>{(async()=>{if(!(i!=null&&i.id))return;const m=localStorage.getItem(i.id),g=m?JSON.parse(m):null;g!=null&&g.referral_code&&e(g.referral_code),u(!0);try{const y=await Yt.post("/api/check_user_exist",{privy_id:i.id});y.data&&y.data.exists==="yes"&&(u(!1),o(y.data.user.referral_count||0),l(y.data.user.referral_rewards_earned||0))}catch(y){console.error(" Error fetching referral count:",y)}})()},[i==null?void 0:i.id]);const h=async()=>{try{await navigator.clipboard.writeText(t),n({title:" Code Copied!",description:"Referral code copied to clipboard"})}catch{n({title:"Copy Failed",description:"Unable to copy code",variant:"destructive"})}},f=async()=>{const p=`Join Lighter Farm with my referral code: ${t}`;if(navigator.share)try{await navigator.share({title:"Join Lighter Farm",text:p})}catch{h()}else h()};return d.jsxs(gu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs("header",{className:"flex items-center justify-between py-6",children:[d.jsx(Vt,{variant:"ghost",size:"icon",onClick:()=>r(-1),className:"h-10 w-10 bg-golden-light rounded-full hover:bg-golden-light/90",children:d.jsx(of,{className:"w-8 h-8 text-background"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Refer Stats"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"earn together"})]}),d.jsx("img",{src:Kr,alt:"",className:"h-8 w-auto"})]}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Points Earned"}),d.jsx("span",{className:"text-golden-light font-bold",children:c?d.jsx(eg,{className:"h-4 w-4 animate-spin"}):`${a}`})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Referrals used "}),d.jsx("span",{className:"text-golden-light font-bold",children:c?d.jsx(eg,{className:"h-4 w-4 animate-spin"}):`${s}/3`})]})]}),d.jsxs(me.div,{className:"mb-8 flex flex-col items-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},children:[d.jsx("div",{className:"relative w-full max-w-sm mb-6 items-center flex justify-center",children:d.jsx("img",{src:vzt,alt:"",className:"h-120 w-auto"})}),d.jsxs("p",{className:"text-lg text-golden-light text-center mb-8 font-extralight",children:["You get ",d.jsx("span",{className:"font-bold text-golden-light",children:"10%"})," of their earned points"]}),d.jsxs("div",{className:"flex items-center gap-4 w-full max-w-sm mb-8",children:[d.jsx("div",{className:"flex-1 h-px bg-golden-light/20"}),d.jsx("div",{className:"flex items-center gap",children:d.jsx("img",{src:xzt,alt:"",className:"h-18 w-auto"})}),d.jsx("div",{className:"flex-1 h-px bg-golden-light/20"})]}),d.jsxs("p",{className:"text-lg font-extralight text-foreground text-center mb-8",children:["Your friend gets ",d.jsx("span",{className:"font-bold text-golden-light",children:"1 bonus point"})," on signup"]})]}),d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-4",children:d.jsxs(Vt,{onClick:f,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-md text-white disabled:opacity-50",children:[d.jsx("img",{src:Bke,alt:"",className:"h-6 w-auto"}),"Share Invite"]})}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:"Your Referral Code:"}),d.jsxs("div",{className:"border-2 border-dashed border-golden-light/30 rounded-xl p-4 flex items-center justify-center gap-3 cursor-pointer hover:border-golden-light/50 transition-colors",onClick:h,children:[d.jsx(Cw,{className:"w-5 h-5 text-golden-light"}),d.jsx("span",{className:"text-xl font-mono font-bold text-golden-light tracking-wider",children:t})]}),d.jsx("p",{className:"text-sm text-golden-light font-extralight opacity-60 text-center mt-3",children:"Tap to copy code"})]}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:"How it works:"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-6 h-6 bg-golden-light/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:d.jsx("span",{className:"text-golden-light text-sm font-bold",children:"1"})}),d.jsx("p",{className:"text-foreground text-sm",children:"Share your referral code with friends"})]}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-6 h-6 bg-golden-light/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:d.jsx("span",{className:"text-golden-light text-sm font-bold",children:"2"})}),d.jsxs("p",{className:"text-foreground text-sm",children:["They sign up and get ",d.jsx("span",{className:"font-semibold text-golden-light",children:"1 bonus point"})]})]}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-6 h-6 bg-golden-light/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:d.jsx("span",{className:"text-golden-light text-sm font-bold",children:"3"})}),d.jsxs("p",{className:"text-foreground text-sm",children:["You earn ",d.jsx("span",{className:"font-semibold text-golden-light",children:"10% of their points"})," forever"]})]})]})]}),d.jsx(Rd,{})]})},PS=x.memo(({icon:t,label:e,description:n,href:r,index:i,onClick:s,disabled:o})=>{const a=ur(),l=x.useCallback(()=>{s?s():r&&a(r)},[s,r,a]);return d.jsxs(me.button,{onClick:l,disabled:o,className:`w-full bg-card backdrop-blur-sm border border-border rounded-2xl p-4 flex items-center gap-4 text-left hover:bg-card/80 transition-colors ${o?"opacity-50 cursor-not-allowed":""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1,duration:.3},whileHover:o?{}:{scale:1.02},whileTap:o?{}:{scale:.98},layoutId:`menu-card-${e.toLowerCase().replace(" ","-")}`,children:[d.jsx("div",{className:"w-12 h-12 bg-golden-light/20 rounded-xl flex items-center justify-center flex-shrink-0",children:typeof t=="string"?d.jsx("img",{src:t,alt:"",className:"w-6 h-6"}):d.jsx(t,{className:"w-6 h-6 text-golden-light"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-semibold text-golden-light mb-0.5",children:e}),d.jsx("div",{className:"text-sm text-golden-light font-extralight opacity-60",children:n})]}),d.jsx("div",{className:"w-8 h-8 bg-golden-light rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(wp,{className:"w-4 h-4 text-background"})})]})});PS.displayName="MenuCard";const Azt=()=>{var $;const{toast:t}=wa(),e=ur(),{address:n,logout:r,refetchBalance:i}=zN(),{ready:s,authenticated:o,user:a,exportWallet:l}=eo(),c=localStorage.getItem(a.id),u=JSON.parse(c),h=x.useMemo(()=>s&&o,[s,o]),f=x.useMemo(()=>a!=null&&a.linkedAccounts?!!a.linkedAccounts.find(N=>N.type==="wallet"&&N.walletClientType==="privy"&&N.chainType==="ethereum"):!1,[a==null?void 0:a.linkedAccounts]),p=x.useMemo(()=>u.wallet_address?`${u.wallet_address.slice(0,6)}...${u.wallet_address.slice(-4)}`:"",[n]),m=x.useMemo(()=>[{icon:CK,label:"Deposit",description:"Deposit and earn",href:"/deposit"},{icon:zAe,label:"Withdraw",description:"Withdraw money into any crypto account",href:"",disabled:!0}],[]),g=x.useMemo(()=>[{icon:Mhe,label:"Help and Support",description:"Get help and tutorials",href:"/help"},{icon:eT,label:"Community",description:"Join our telegram and X (formerly twitter)",href:"/community"}],[]),y=x.useCallback(()=>{n&&(navigator.clipboard.writeText(n),t({title:" Copied!",description:"Wallet address copied to clipboard"}))},[n,t]),w=x.useCallback(async()=>{try{localStorage.clear(),sessionStorage.clear(),await r(),t({title:" Logged out",description:"You have been logged out successfully",variant:"default"}),e("/wallet-connect")}catch(N){console.error("Logout error:",N),t({title:"Error",description:"Failed to logout. Please try again.",variant:"destructive"})}},[r,t,e]),v=x.useCallback(()=>{e(-1)},[e]),b=x.useCallback(()=>{h&&f&&l()},[h,f,l]),A={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,staggerChildren:.1}}},E={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}};return d.jsxs(gu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs(me.div,{initial:"hidden",animate:"visible",variants:A,children:[d.jsxs(me.header,{className:"flex items-center justify-between py-6",variants:E,children:[d.jsx(Vt,{variant:"ghost",size:"icon",onClick:v,className:"h-10 w-10 bg-golden-light rounded-full hover:bg-golden-light/90",children:d.jsx(of,{className:"w-8 h-8 text-background"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Profile"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"manage account"})]}),d.jsx("img",{src:Kr,alt:"",className:"h-8 w-auto"})]}),d.jsxs(me.div,{className:"p-6 mb-6 text-center",variants:E,layoutId:"user-greeting",children:[d.jsx("div",{className:"w-20 h-20 bg-[#a07715] rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(fTe,{className:"w-10 h-10 text-black"})}),d.jsxs("div",{className:"flex items-center justify-center gap-2 ml-2",children:[d.jsx("h2",{className:"text-2xl font-bold text-[#a07715] mb-1",children:p}),d.jsx(Vt,{variant:"ghost",size:"icon",onClick:y,className:"h-8 w-8 text-[#a07715] hover:bg-[#a07715] hover:text-black",children:d.jsx(Cw,{className:"w-4 h-4"})})]}),(($=a==null?void 0:a.email)==null?void 0:$.address)&&d.jsx("p",{className:"text-md text-[#a07715] font-extralight",children:a.email.address})]}),d.jsxs(me.div,{className:"mb-6",variants:E,layoutId:"payment-section",children:[d.jsx("h3",{className:"text-lg font-semibold text-golden-light mb-4 px-1",children:"Payment"}),d.jsx("div",{className:"space-y-3",children:m.map((N,R)=>d.jsx(PS,{...N,index:R},`payment-${R}`))})]}),d.jsxs(me.div,{className:"mb-6",variants:E,layoutId:"account-section",children:[d.jsx("h3",{className:"text-lg font-semibold text-golden-light mb-4 px-1",children:"Account"}),d.jsx("div",{className:"space-y-3",children:d.jsx(PS,{icon:Bhe,label:"Private Key",description:"Export private keys",index:m.length,onClick:b,disabled:!h||!f},"private-key")})]}),d.jsxs(me.div,{className:"mb-6",variants:E,layoutId:"support-section",children:[d.jsx("h3",{className:"text-lg font-semibold text-golden-light mb-4 px-1",children:"Support"}),d.jsx("div",{className:"space-y-3",children:g.map((N,R)=>d.jsx(PS,{...N,index:R+m.length+1},`support-${R}`))})]}),d.jsx(me.div,{variants:E,className:"mb-6",layoutId:"logout-section",children:d.jsxs("button",{onClick:w,className:"w-full bg-card backdrop-blur-sm border border-border rounded-2xl p-4 flex items-center gap-4 text-left hover:bg-card/80 transition-colors group",children:[d.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-xl flex items-center justify-center flex-shrink-0",children:d.jsx(cTe,{className:"w-6 h-6 text-red-500"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-semibold text-red-500 mb-0.5",children:"Log Out"}),d.jsx("div",{className:"text-sm text-golden-light font-extralight opacity-60",children:"Sign out of your account"})]}),d.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0 group-hover:bg-red-600 transition-colors",children:d.jsx(wp,{className:"w-4 h-4 text-white"})})]})}),d.jsxs(me.div,{variants:E,className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",layoutId:"app-info",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[d.jsx("img",{src:Kr,alt:"",className:"h-6 w-auto opacity-80"}),d.jsx("span",{className:"text-golden-light font-semibold",children:"Lighter Farm"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm text-golden-light font-extralight opacity-60 mb-1",children:"Version 1.0.0"}),d.jsx("p",{className:"text-xs text-golden-light font-extralight opacity-40",children:" 2025 Lighter Farm. All rights reserved."})]})]})]},"profile-container"),d.jsx(Rd,{})]})},Czt=()=>{const t=ur(),{user:e,authenticated:n}=eo(),r=localStorage.getItem((e==null?void 0:e.id)||""),i=r?JSON.parse(r):null,s=i==null?void 0:i.id,[o,a]=x.useState([]),[l,c]=x.useState([]),[u,h]=x.useState(!1),[f,p]=x.useState("all"),[m,g]=x.useState({totalBought:0,totalSold:0,totalTransactions:0,netChange:0}),y=async()=>{var j;if(!s){console.warn("User ID not found - cannot fetch points history");return}h(!0);try{const W=await Yt.get(`/api/points/history/${s}?limit=100`);if((j=W.data)!=null&&j.data&&Array.isArray(W.data.data)){const V=W.data.data;a(V),c(V),w(V)}}catch(F){console.error(" Error fetching points history:",F),s_({title:"History Error",description:"Could not fetch transaction history. Please try again.",variant:"destructive"})}finally{h(!1)}},w=j=>{const F=j.filter(V=>V.type==="buy_points").reduce((V,B)=>V+B.amount,0),W=j.filter(V=>V.type==="sell_points").reduce((V,B)=>V+B.amount,0);g({totalBought:F,totalSold:W,totalTransactions:j.length,netChange:F-W})},v=j=>{if(p(j),j==="all")c(o);else{const F=o.filter(W=>W.type===j);c(F)}},b=j=>{switch(j){case"buy_points":return"Bought Points";case"sell_points":return"Sold Points";case"stake":return"Staked";case"unstake":return"Unstaked";case"referral_reward":return"Referral Reward";default:return j.replace("_"," ").replace(/\b\w/g,F=>F.toUpperCase())}},A=j=>{const F=new Date(j),W=F.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),V=F.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return{date:W,time:V}},E=j=>{const F=new Date,W=new Date(j),V=Math.floor((F.getTime()-W.getTime())/1e3);if(V<60)return`${V}s ago`;const B=Math.floor(V/60);if(B<60)return`${B}m ago`;const k=Math.floor(B/60);if(k<24)return`${k}h ago`;const C=Math.floor(k/24);return C<30?`${C}d ago`:`${Math.floor(C/30)}mo ago`},$=j=>j==="buy_points"||j==="referral_reward"||j==="unstake"?{sign:"+",color:"text-green-400",icon:d.jsx(UD,{className:"w-4 h-4"})}:{sign:"-",color:"text-red-400",icon:d.jsx(FD,{className:"w-4 h-4"})},N=j=>{window.open(`https://etherscan.io/tx/${j}`,"_blank")};x.useEffect(()=>{n&&s&&y()},[n,s]);const R=[{value:"all",label:"All"},{value:"buy_points",label:"Buys"},{value:"sell_points",label:"Sells"},{value:"stake",label:"Stakes"},{value:"referral_reward",label:"Rewards"}];return d.jsxs(gu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs("header",{className:"flex items-center justify-between py-6 relative z-10",children:[d.jsx(Vt,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:"h-10 w-10 bg-golden-light rounded-full hover:bg-golden-light/90",children:d.jsx(of,{className:"w-8 h-8 text-background"})}),d.jsx("div",{className:"text-center flex-1",children:d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Transaction History"})}),d.jsx("img",{src:Kr,alt:"",className:"h-8 w-auto"})]}),d.jsxs(me.div,{className:"grid grid-cols-2 gap-4 mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(UD,{className:"w-4 h-4 text-green-400"}),d.jsx("p",{className:"text-xs font-extralight text-muted-foreground",children:"Total Bought"})]}),d.jsxs("p",{className:"text-2xl font-bold text-green-400",children:["+ $",m.totalBought.toFixed(2)]}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Of Points"})]}),d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(FD,{className:"w-4 h-4 text-red-400"}),d.jsx("p",{className:"text-xs font-extralight text-muted-foreground",children:"Total Sold"})]}),d.jsxs("p",{className:"text-2xl font-bold text-red-400",children:["- $",m.totalSold.toFixed(2)]}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Of Points"})]}),d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(nTe,{className:"w-4 h-4 text-golden-light"}),d.jsx("p",{className:"text-xs font-extralight text-muted-foreground",children:"Net Change"})]}),d.jsxs("p",{className:`text-2xl font-bold ${m.netChange>=0?"text-green-400":"text-red-400"}`,children:[m.netChange>=0?"+":""," $",m.netChange.toFixed(2)]}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Of Points"})]}),d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Dhe,{className:"w-4 h-4 text-golden-light"}),d.jsx("p",{className:"text-xs font-extralight text-muted-foreground",children:"Total Txns"})]}),d.jsx("p",{className:"text-2xl font-bold text-golden-light",children:m.totalTransactions}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Transactions"})]})]}),d.jsxs(me.div,{className:"bg-card border border-border rounded-2xl p-4 mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(rTe,{className:"w-4 h-4 text-golden-light"}),d.jsx("p",{className:"text-sm font-thin text-muted-foreground",children:"Filter by type:"})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:R.map(j=>d.jsx("button",{onClick:()=>v(j.value),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${f===j.value?"bg-golden-light text-black":"bg-[#31302F] text-golden-light hover:bg-golden-light/20"}`,children:j.label},j.value))})]}),d.jsx(me.div,{className:"space-y-3 ",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:u?d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-8 text-center",children:[d.jsx(me.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block mb-4",children:d.jsx(eg,{className:"w-8 h-8 text-golden-light"})}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading transactions..."})]}):l.length===0?d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-8 text-center",children:[d.jsx("p",{className:"text-lg font-bold text-golden-light mb-2",children:"No transactions found"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:f!=="all"?"Try changing the filter or make your first transaction":"Make your first transaction to see it here"})]}):l.map((j,F)=>{const{date:W,time:V}=A(j.created_at),{sign:B,color:k,icon:C}=$(j.type);return d.jsxs(me.div,{className:"bg-card border border-border rounded-2xl p-4 hover:border-golden-light/30 transition-colors ",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.05},children:[d.jsxs("div",{className:"flex justify-between items-start mb-3",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:`p-2 rounded-lg bg-[#31302F] ${k}`,children:C}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-bold text-golden-light mb-1",children:b(j.type)}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[W,"  ",V]}),d.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:E(j.created_at)})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:`text-xl font-bold ${k}`,children:[B,j.amount.toFixed(2)]}),d.jsx("div",{className:"flex items-center gap-1 mt-1",children:d.jsx("span",{className:`text-xs ${j.status==="success"?"text-green-400":j.status==="pending"?"text-yellow-400":"text-red-400"}`,children:j.status==="success"?" Success":j.status==="pending"?" Pending":" Failed"})})]})]}),j.tx_hash&&d.jsx("div",{className:"bg-[#31302F] rounded-lg p-3 mt-3",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Transaction Hash"}),d.jsx("p",{className:"text-xs font-mono text-golden-light truncate",children:j.tx_hash})]}),d.jsx("button",{onClick:()=>N(j.tx_hash),className:"ml-3 p-2 rounded-lg bg-golden-light/10 hover:bg-golden-light/20 transition-colors",children:d.jsx(E3,{className:"w-4 h-4 text-golden-light"})})]})})]},j.id)})}),l.length>=100&&d.jsx(me.div,{className:"mt-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:d.jsx("button",{onClick:y,className:"w-full bg-card border border-border rounded-2xl p-4 text-golden-light hover:border-golden-light/30 transition-colors",children:d.jsx("span",{className:"text-sm font-bold",children:"Load More Transactions"})})}),d.jsx(Rd,{})]})},kzt=()=>{const t=ur(),e=x.useCallback(()=>{t("/")},[t]),n=x.useCallback(()=>{t(-1)},[t]);return d.jsxs(gu,{className:"bg-background min-h-screen justify-start flex flex-col",children:[d.jsxs("header",{className:"flex items-center justify-between py-6 px-4",children:[d.jsx(Vt,{variant:"ghost",size:"icon",onClick:n,className:"h-10 w-10 bg-golden-light rounded-full hover:bg-golden-light/90",children:d.jsx(of,{className:"w-8 h-8 text-background"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Page Not Found"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"Lost in the farm?"})]}),d.jsx("img",{src:Kr,alt:"",className:"h-8 w-auto"})]}),d.jsxs("div",{className:"flex flex-col mt-16 items-center justify-center py-16 px-4 text-center relative z-10",children:[d.jsxs(me.div,{initial:{scale:.8,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"mb-8 max-w-sm",children:[d.jsx(me.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"text-4xl font-bold text-[#D4B679] mb-3",children:"404"}),d.jsx(me.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"text-xl font-semibold text-[#D4B679] mb-4",children:"Page Not Found"}),d.jsxs(me.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1,duration:.6},className:"flex items-center justify-center gap-2 mb-8 px-4 py-2 bg-[#D4B679]/10 rounded-full border border-[#D4B679]/20",children:[d.jsx(Lhe,{className:"w-4 h-4 text-[#D4B679]/70"}),d.jsx("span",{className:"text-[#D4B679]/70 text-sm font-medium",children:"Lost in the farm"})]})]}),d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.6},className:"w-full max-w-sm space-y-3",children:d.jsxs(Vt,{onClick:e,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white text-lg font-bold rounded-xl flex items-center justify-center gap-3 group",children:[d.jsx(oTe,{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-200"}),d.jsx("span",{children:"Return to Farm"})]})})]}),d.jsx(Rd,{})]})},Szt="cmg1ysrm0005xl70cpgxa39o6";let l5=class extends Error{constructor(n,r={}){super(n,r.cause?{cause:r.cause}:void 0);Ee(this,"name","BaseError");Ee(this,"cause");this.cause=r.cause}};class _zt extends l5{constructor(){super("Invalid domain manifest");Ee(this,"name","AddMiniApp.InvalidDomainManifest")}}let Izt=class extends l5{constructor(){super("Add miniapp rejected by user");Ee(this,"name","AddMiniApp.RejectedByUser")}},Fke=class extends l5{constructor(){super("Sign in rejected by user");Ee(this,"name","SignIn.RejectedByUser")}};class Tzt extends l5{constructor(){super("Sign manifest rejected by user");Ee(this,"name","SignManifest.RejectedByUser")}}class $zt extends l5{constructor(){super("Invalid domain provided");Ee(this,"name","SignManifest.InvalidDomain")}}class Nzt extends l5{constructor(n="Manifest signing failed"){super(n);Ee(this,"name","SignManifest.GenericError")}}const Pzt=/[@#$%^&*+=/\\|~]/,Rzt=/(!{2,}|\?{2,}|-{2,})/,jzt=/[\u{1F300}-\u{1F9FF}]|[\u{2702}-\u{27B0}]|[\u{2600}-\u{26FF}]|[\u{2B00}-\u{2BFF}]/u,c5=({max:t,noSpaces:e}={})=>(e?mi().max(t??Number.POSITIVE_INFINITY).regex(/^\S*$/,"Spaces are not allowed"):mi().max(t??Number.POSITIVE_INFINITY)).refine(r=>!jzt.test(r),{message:"Emojis and symbols are not allowed"}).refine(r=>!Pzt.test(r),{message:"Special characters (@, #, $, %, ^, &, *, +, =, /, \\, |, ~, , ) are not allowed"}).refine(r=>!Rzt.test(r),{message:"Repeated punctuations (!!, ??, --) are not allowed"}),qo=mi().url().startsWith("https://",{message:"Must be an https url"}).max(1024).refine(t=>!t.includes(" "),{message:"URL must not contain spaces"}).refine(t=>{try{const e=new URL(t).hostname;return!(e==="localhost"||e.endsWith(".localhost")||/^(\d{1,3}\.){3}\d{1,3}$/.test(e)||e.startsWith("[")&&e.endsWith("]"))}catch{return!1}},{message:"URL must not use IP addresses or localhost"}),HK=mi().max(32),Uke=mi().max(32),Ozt=/^[-a-z0-9]{3,8}:[-_a-zA-Z0-9]{1,32}\/(?:[-a-z0-9]{3,8}:[-.%a-zA-Z0-9]{1,128}(?:\/[-.%a-zA-Z0-9]{1,78})?|native)$/,Mzt=mi().regex(Ozt,{message:"Invalid CAIP-19 asset ID"}),VK=mi().regex(/^#([0-9A-F]{3}|[0-9A-F]{6})$/i,{message:"Invalid hex color code. It should be in the format #RRGGBB or #RGB."}),Dzt=/^(?!.*\.\.)([a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,Bzt=mi().max(1024).regex(Dzt,{message:"Must be a valid domain name (e.g., example.com, sub.example.com)"}).refine(t=>!t.includes("://"),{message:"Domain must not include protocol (http://, https://, etc.)"}).refine(t=>!t.includes("/"),{message:"Domain must not include path separators"}).refine(t=>!t.includes("@"),{message:"Domain must not include @ symbol"}).refine(t=>!t.includes(":"),{message:"Domain must not include port numbers"}),Lzt=z_([$o("1:1"),$o("3:2")]),Fzt=Gs({header:mi(),payload:mi(),signature:mi()});Gs({fid:Dye(),type:$o("app_key"),key:mi().startsWith("0x")});const Uzt=Gs({type:$o("launch_frame"),name:HK,url:qo.optional(),splashImageUrl:qo.optional(),splashBackgroundColor:VK.optional()}),zzt=Gs({type:$o("launch_miniapp"),name:HK,url:qo.optional(),splashImageUrl:qo.optional(),splashBackgroundColor:VK.optional()}),Wzt=Gs({type:$o("view_token"),token:Mzt}),Hzt=Bye("type",[zzt,Wzt,Uzt]),Vzt=Gs({title:Uke,action:Hzt});Gs({version:z_([mi(),Dye()]).transform(t=>String(t)).pipe(z_([$o("next"),$o("1")])),imageUrl:qo,aspectRatio:Lzt.optional(),button:Vzt});const zke=Gs({url:mi(),token:mi()});Gs({notificationId:mi().max(128),title:mi().max(32),body:mi().max(128),targetUrl:qo,tokens:mi().array().max(100)});Gs({result:Gs({successfulTokens:A1(mi()),invalidTokens:A1(mi()),rateLimitedTokens:A1(mi())})});const qzt=Gs({event:$o("miniapp_added"),notificationDetails:zke.optional()}),Gzt=Gs({event:$o("miniapp_removed")}),Kzt=Gs({event:$o("notifications_enabled"),notificationDetails:zke.required()}),Yzt=Gs({event:$o("notifications_disabled")});Bye("event",[qzt,Gzt,Kzt,Yzt]);const Qzt=["wallet.getEthereumProvider","wallet.getSolanaProvider","actions.ready","actions.openUrl","actions.close","actions.setPrimaryButton","actions.addMiniApp","actions.signIn","actions.viewCast","actions.viewProfile","actions.composeCast","actions.viewToken","actions.sendToken","actions.swapToken","actions.openMiniApp","actions.requestCameraAndMicrophoneAccess","experimental.signManifest","haptics.impactOccurred","haptics.notificationOccurred","haptics.selectionChanged","back"],Zzt=["games","social","finance","utility","productivity","health-fitness","news-media","music","shopping","education","developer-tools","entertainment","art-creativity"],Jzt=EV(Zzt),Xzt=z_([$o("0.0.0"),$o("0.0.1"),$o("1"),$o("next")]),eWt=c5({max:30}),tWt=c5({max:170}),nWt=A1(qo).max(3),rWt=A1(c5({max:20,noSpaces:!0})).max(5),iWt=c5({max:30}),sWt=c5({max:30}),oWt=c5({max:100}),aWt=jqe(),lWt=["eip155:1","eip155:8453","eip155:42161","eip155:421614","eip155:84532","eip155:666666666","eip155:100","eip155:10","eip155:11155420","eip155:137","eip155:11155111","eip155:7777777","eip155:130","eip155:10143","eip155:42220","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"];function Wke(t){const e=new Set(t);return Array.from(e)}const cWt=A1(EV(lWt)).transform(Wke),uWt=A1(EV(Qzt)).transform(Wke),oce=Gs({version:Xzt,name:HK,iconUrl:qo,homeUrl:qo,imageUrl:qo.optional(),buttonTitle:Uke.optional(),splashImageUrl:qo.optional(),splashBackgroundColor:VK.optional(),webhookUrl:qo.optional(),subtitle:eWt.optional(),description:tWt.optional(),screenshotUrls:nWt.optional(),primaryCategory:Jzt.optional(),tags:rWt.optional(),heroImageUrl:qo.optional(),tagline:iWt.optional(),ogTitle:sWt.optional(),ogDescription:oWt.optional(),ogImageUrl:qo.optional(),noindex:aWt.optional(),requiredChains:cWt.optional(),requiredCapabilities:uWt.optional(),castShareUrl:qo.optional(),canonicalDomain:Bzt.optional()}).refine(t=>{if(t.castShareUrl===void 0)return!0;try{const e=new URL(t.homeUrl).hostname,n=new URL(t.castShareUrl).hostname;return e===n}catch{return!1}},{message:"castShareUrl must have the same domain as homeUrl",path:["castShareUrl"]});Gs({accountAssociation:Fzt,miniapp:oce.optional(),frame:oce.optional()}).refine(t=>t.frame&&t.miniapp?JSON.stringify(t.frame)===JSON.stringify(t.miniapp):!0,{message:'If both "frame" and "miniapp" are provided, they must be identical',path:["frame","miniapp"]}).transform(t=>({...t,frame:t.frame??t.miniapp}));var yn={},iP={};iP.byteLength=fWt;iP.toByteArray=mWt;iP.fromByteArray=wWt;var kh=[],Tc=[],dWt=typeof Uint8Array<"u"?Uint8Array:Array,$M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ub=0,hWt=$M.length;Ub<hWt;++Ub)kh[Ub]=$M[Ub],Tc[$M.charCodeAt(Ub)]=Ub;Tc[45]=62;Tc[95]=63;function Hke(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function fWt(t){var e=Hke(t),n=e[0],r=e[1];return(n+r)*3/4-r}function pWt(t,e,n){return(e+n)*3/4-n}function mWt(t){var e,n=Hke(t),r=n[0],i=n[1],s=new dWt(pWt(t,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=Tc[t.charCodeAt(l)]<<18|Tc[t.charCodeAt(l+1)]<<12|Tc[t.charCodeAt(l+2)]<<6|Tc[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Tc[t.charCodeAt(l)]<<2|Tc[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=Tc[t.charCodeAt(l)]<<10|Tc[t.charCodeAt(l+1)]<<4|Tc[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function gWt(t){return kh[t>>18&63]+kh[t>>12&63]+kh[t>>6&63]+kh[t&63]}function yWt(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(gWt(r));return i.join("")}function wWt(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(yWt(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(kh[e>>2]+kh[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(kh[e>>10]+kh[e>>4&63]+kh[e<<2&63]+"=")),i.join("")}var qK={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */qK.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?i-1:0,f=n?-1:1,p=t[e+h];for(h+=f,s=p&(1<<-u)-1,p>>=-u,u+=a;u>0;s=s*256+t[e+h],h+=f,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=o*256+t[e+h],h+=f,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(p?-1:1)*o*Math.pow(2,s-r)};qK.write=function(t,e,n,r,i,s){var o,a,l,c=s*8-i-1,u=(1<<c)-1,h=u>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,m=r?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?e+=f/l:e+=f*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(e*l-1)*Math.pow(2,i),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[n+p]=a&255,p+=m,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+p]=o&255,p+=m,o/=256,c-=8);t[n+p-m]|=g*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=iP,n=qK,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const G=new Uint8Array(1),U={foo:function(){return 42}};return Object.setPrototypeOf(U,Uint8Array.prototype),Object.setPrototypeOf(G,U),G.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(G){if(G>i)throw new RangeError('The value "'+G+'" is invalid for option "size"');const U=new Uint8Array(G);return Object.setPrototypeOf(U,a.prototype),U}function a(G,U,z){if(typeof G=="number"){if(typeof U=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(G)}return l(G,U,z)}a.poolSize=8192;function l(G,U,z){if(typeof G=="string")return f(G,U);if(ArrayBuffer.isView(G))return m(G);if(G==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G);if(Le(G,ArrayBuffer)||G&&Le(G.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Le(G,SharedArrayBuffer)||G&&Le(G.buffer,SharedArrayBuffer)))return g(G,U,z);if(typeof G=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const X=G.valueOf&&G.valueOf();if(X!=null&&X!==G)return a.from(X,U,z);const ne=y(G);if(ne)return ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof G[Symbol.toPrimitive]=="function")return a.from(G[Symbol.toPrimitive]("string"),U,z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G)}a.from=function(G,U,z){return l(G,U,z)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(G){if(typeof G!="number")throw new TypeError('"size" argument must be of type number');if(G<0)throw new RangeError('The value "'+G+'" is invalid for option "size"')}function u(G,U,z){return c(G),G<=0?o(G):U!==void 0?typeof z=="string"?o(G).fill(U,z):o(G).fill(U):o(G)}a.alloc=function(G,U,z){return u(G,U,z)};function h(G){return c(G),o(G<0?0:w(G)|0)}a.allocUnsafe=function(G){return h(G)},a.allocUnsafeSlow=function(G){return h(G)};function f(G,U){if((typeof U!="string"||U==="")&&(U="utf8"),!a.isEncoding(U))throw new TypeError("Unknown encoding: "+U);const z=b(G,U)|0;let X=o(z);const ne=X.write(G,U);return ne!==z&&(X=X.slice(0,ne)),X}function p(G){const U=G.length<0?0:w(G.length)|0,z=o(U);for(let X=0;X<U;X+=1)z[X]=G[X]&255;return z}function m(G){if(Le(G,Uint8Array)){const U=new Uint8Array(G);return g(U.buffer,U.byteOffset,U.byteLength)}return p(G)}function g(G,U,z){if(U<0||G.byteLength<U)throw new RangeError('"offset" is outside of buffer bounds');if(G.byteLength<U+(z||0))throw new RangeError('"length" is outside of buffer bounds');let X;return U===void 0&&z===void 0?X=new Uint8Array(G):z===void 0?X=new Uint8Array(G,U):X=new Uint8Array(G,U,z),Object.setPrototypeOf(X,a.prototype),X}function y(G){if(a.isBuffer(G)){const U=w(G.length)|0,z=o(U);return z.length===0||G.copy(z,0,0,U),z}if(G.length!==void 0)return typeof G.length!="number"||Ce(G.length)?o(0):p(G);if(G.type==="Buffer"&&Array.isArray(G.data))return p(G.data)}function w(G){if(G>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return G|0}function v(G){return+G!=G&&(G=0),a.alloc(+G)}a.isBuffer=function(U){return U!=null&&U._isBuffer===!0&&U!==a.prototype},a.compare=function(U,z){if(Le(U,Uint8Array)&&(U=a.from(U,U.offset,U.byteLength)),Le(z,Uint8Array)&&(z=a.from(z,z.offset,z.byteLength)),!a.isBuffer(U)||!a.isBuffer(z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(U===z)return 0;let X=U.length,ne=z.length;for(let ie=0,ce=Math.min(X,ne);ie<ce;++ie)if(U[ie]!==z[ie]){X=U[ie],ne=z[ie];break}return X<ne?-1:ne<X?1:0},a.isEncoding=function(U){switch(String(U).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(U,z){if(!Array.isArray(U))throw new TypeError('"list" argument must be an Array of Buffers');if(U.length===0)return a.alloc(0);let X;if(z===void 0)for(z=0,X=0;X<U.length;++X)z+=U[X].length;const ne=a.allocUnsafe(z);let ie=0;for(X=0;X<U.length;++X){let ce=U[X];if(Le(ce,Uint8Array))ie+ce.length>ne.length?(a.isBuffer(ce)||(ce=a.from(ce)),ce.copy(ne,ie)):Uint8Array.prototype.set.call(ne,ce,ie);else if(a.isBuffer(ce))ce.copy(ne,ie);else throw new TypeError('"list" argument must be an Array of Buffers');ie+=ce.length}return ne};function b(G,U){if(a.isBuffer(G))return G.length;if(ArrayBuffer.isView(G)||Le(G,ArrayBuffer))return G.byteLength;if(typeof G!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof G);const z=G.length,X=arguments.length>2&&arguments[2]===!0;if(!X&&z===0)return 0;let ne=!1;for(;;)switch(U){case"ascii":case"latin1":case"binary":return z;case"utf8":case"utf-8":return Ue(G).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z*2;case"hex":return z>>>1;case"base64":return xe(G).length;default:if(ne)return X?-1:Ue(G).length;U=(""+U).toLowerCase(),ne=!0}}a.byteLength=b;function A(G,U,z){let X=!1;if((U===void 0||U<0)&&(U=0),U>this.length||((z===void 0||z>this.length)&&(z=this.length),z<=0)||(z>>>=0,U>>>=0,z<=U))return"";for(G||(G="utf8");;)switch(G){case"hex":return P(this,U,z);case"utf8":case"utf-8":return k(this,U,z);case"ascii":return T(this,U,z);case"latin1":case"binary":return _(this,U,z);case"base64":return B(this,U,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,U,z);default:if(X)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),X=!0}}a.prototype._isBuffer=!0;function E(G,U,z){const X=G[U];G[U]=G[z],G[z]=X}a.prototype.swap16=function(){const U=this.length;if(U%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let z=0;z<U;z+=2)E(this,z,z+1);return this},a.prototype.swap32=function(){const U=this.length;if(U%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let z=0;z<U;z+=4)E(this,z,z+3),E(this,z+1,z+2);return this},a.prototype.swap64=function(){const U=this.length;if(U%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let z=0;z<U;z+=8)E(this,z,z+7),E(this,z+1,z+6),E(this,z+2,z+5),E(this,z+3,z+4);return this},a.prototype.toString=function(){const U=this.length;return U===0?"":arguments.length===0?k(this,0,U):A.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(U){if(!a.isBuffer(U))throw new TypeError("Argument must be a Buffer");return this===U?!0:a.compare(this,U)===0},a.prototype.inspect=function(){let U="";const z=t.INSPECT_MAX_BYTES;return U=this.toString("hex",0,z).replace(/(.{2})/g,"$1 ").trim(),this.length>z&&(U+=" ... "),"<Buffer "+U+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(U,z,X,ne,ie){if(Le(U,Uint8Array)&&(U=a.from(U,U.offset,U.byteLength)),!a.isBuffer(U))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof U);if(z===void 0&&(z=0),X===void 0&&(X=U?U.length:0),ne===void 0&&(ne=0),ie===void 0&&(ie=this.length),z<0||X>U.length||ne<0||ie>this.length)throw new RangeError("out of range index");if(ne>=ie&&z>=X)return 0;if(ne>=ie)return-1;if(z>=X)return 1;if(z>>>=0,X>>>=0,ne>>>=0,ie>>>=0,this===U)return 0;let ce=ie-ne,Be=X-z;const Xe=Math.min(ce,Be),Ye=this.slice(ne,ie),et=U.slice(z,X);for(let Pe=0;Pe<Xe;++Pe)if(Ye[Pe]!==et[Pe]){ce=Ye[Pe],Be=et[Pe];break}return ce<Be?-1:Be<ce?1:0};function $(G,U,z,X,ne){if(G.length===0)return-1;if(typeof z=="string"?(X=z,z=0):z>2147483647?z=2147483647:z<-2147483648&&(z=-2147483648),z=+z,Ce(z)&&(z=ne?0:G.length-1),z<0&&(z=G.length+z),z>=G.length){if(ne)return-1;z=G.length-1}else if(z<0)if(ne)z=0;else return-1;if(typeof U=="string"&&(U=a.from(U,X)),a.isBuffer(U))return U.length===0?-1:N(G,U,z,X,ne);if(typeof U=="number")return U=U&255,typeof Uint8Array.prototype.indexOf=="function"?ne?Uint8Array.prototype.indexOf.call(G,U,z):Uint8Array.prototype.lastIndexOf.call(G,U,z):N(G,[U],z,X,ne);throw new TypeError("val must be string, number or Buffer")}function N(G,U,z,X,ne){let ie=1,ce=G.length,Be=U.length;if(X!==void 0&&(X=String(X).toLowerCase(),X==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(G.length<2||U.length<2)return-1;ie=2,ce/=2,Be/=2,z/=2}function Xe(et,Pe){return ie===1?et[Pe]:et.readUInt16BE(Pe*ie)}let Ye;if(ne){let et=-1;for(Ye=z;Ye<ce;Ye++)if(Xe(G,Ye)===Xe(U,et===-1?0:Ye-et)){if(et===-1&&(et=Ye),Ye-et+1===Be)return et*ie}else et!==-1&&(Ye-=Ye-et),et=-1}else for(z+Be>ce&&(z=ce-Be),Ye=z;Ye>=0;Ye--){let et=!0;for(let Pe=0;Pe<Be;Pe++)if(Xe(G,Ye+Pe)!==Xe(U,Pe)){et=!1;break}if(et)return Ye}return-1}a.prototype.includes=function(U,z,X){return this.indexOf(U,z,X)!==-1},a.prototype.indexOf=function(U,z,X){return $(this,U,z,X,!0)},a.prototype.lastIndexOf=function(U,z,X){return $(this,U,z,X,!1)};function R(G,U,z,X){z=Number(z)||0;const ne=G.length-z;X?(X=Number(X),X>ne&&(X=ne)):X=ne;const ie=U.length;X>ie/2&&(X=ie/2);let ce;for(ce=0;ce<X;++ce){const Be=parseInt(U.substr(ce*2,2),16);if(Ce(Be))return ce;G[z+ce]=Be}return ce}function j(G,U,z,X){return Oe(Ue(U,G.length-z),G,z,X)}function F(G,U,z,X){return Oe(Me(U),G,z,X)}function W(G,U,z,X){return Oe(xe(U),G,z,X)}function V(G,U,z,X){return Oe(_e(U,G.length-z),G,z,X)}a.prototype.write=function(U,z,X,ne){if(z===void 0)ne="utf8",X=this.length,z=0;else if(X===void 0&&typeof z=="string")ne=z,X=this.length,z=0;else if(isFinite(z))z=z>>>0,isFinite(X)?(X=X>>>0,ne===void 0&&(ne="utf8")):(ne=X,X=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ie=this.length-z;if((X===void 0||X>ie)&&(X=ie),U.length>0&&(X<0||z<0)||z>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let ce=!1;for(;;)switch(ne){case"hex":return R(this,U,z,X);case"utf8":case"utf-8":return j(this,U,z,X);case"ascii":case"latin1":case"binary":return F(this,U,z,X);case"base64":return W(this,U,z,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,U,z,X);default:if(ce)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),ce=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(G,U,z){return U===0&&z===G.length?e.fromByteArray(G):e.fromByteArray(G.slice(U,z))}function k(G,U,z){z=Math.min(G.length,z);const X=[];let ne=U;for(;ne<z;){const ie=G[ne];let ce=null,Be=ie>239?4:ie>223?3:ie>191?2:1;if(ne+Be<=z){let Xe,Ye,et,Pe;switch(Be){case 1:ie<128&&(ce=ie);break;case 2:Xe=G[ne+1],(Xe&192)===128&&(Pe=(ie&31)<<6|Xe&63,Pe>127&&(ce=Pe));break;case 3:Xe=G[ne+1],Ye=G[ne+2],(Xe&192)===128&&(Ye&192)===128&&(Pe=(ie&15)<<12|(Xe&63)<<6|Ye&63,Pe>2047&&(Pe<55296||Pe>57343)&&(ce=Pe));break;case 4:Xe=G[ne+1],Ye=G[ne+2],et=G[ne+3],(Xe&192)===128&&(Ye&192)===128&&(et&192)===128&&(Pe=(ie&15)<<18|(Xe&63)<<12|(Ye&63)<<6|et&63,Pe>65535&&Pe<1114112&&(ce=Pe))}}ce===null?(ce=65533,Be=1):ce>65535&&(ce-=65536,X.push(ce>>>10&1023|55296),ce=56320|ce&1023),X.push(ce),ne+=Be}return S(X)}const C=4096;function S(G){const U=G.length;if(U<=C)return String.fromCharCode.apply(String,G);let z="",X=0;for(;X<U;)z+=String.fromCharCode.apply(String,G.slice(X,X+=C));return z}function T(G,U,z){let X="";z=Math.min(G.length,z);for(let ne=U;ne<z;++ne)X+=String.fromCharCode(G[ne]&127);return X}function _(G,U,z){let X="";z=Math.min(G.length,z);for(let ne=U;ne<z;++ne)X+=String.fromCharCode(G[ne]);return X}function P(G,U,z){const X=G.length;(!U||U<0)&&(U=0),(!z||z<0||z>X)&&(z=X);let ne="";for(let ie=U;ie<z;++ie)ne+=De[G[ie]];return ne}function L(G,U,z){const X=G.slice(U,z);let ne="";for(let ie=0;ie<X.length-1;ie+=2)ne+=String.fromCharCode(X[ie]+X[ie+1]*256);return ne}a.prototype.slice=function(U,z){const X=this.length;U=~~U,z=z===void 0?X:~~z,U<0?(U+=X,U<0&&(U=0)):U>X&&(U=X),z<0?(z+=X,z<0&&(z=0)):z>X&&(z=X),z<U&&(z=U);const ne=this.subarray(U,z);return Object.setPrototypeOf(ne,a.prototype),ne};function O(G,U,z){if(G%1!==0||G<0)throw new RangeError("offset is not uint");if(G+U>z)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(U,z,X){U=U>>>0,z=z>>>0,X||O(U,z,this.length);let ne=this[U],ie=1,ce=0;for(;++ce<z&&(ie*=256);)ne+=this[U+ce]*ie;return ne},a.prototype.readUintBE=a.prototype.readUIntBE=function(U,z,X){U=U>>>0,z=z>>>0,X||O(U,z,this.length);let ne=this[U+--z],ie=1;for(;z>0&&(ie*=256);)ne+=this[U+--z]*ie;return ne},a.prototype.readUint8=a.prototype.readUInt8=function(U,z){return U=U>>>0,z||O(U,1,this.length),this[U]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(U,z){return U=U>>>0,z||O(U,2,this.length),this[U]|this[U+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(U,z){return U=U>>>0,z||O(U,2,this.length),this[U]<<8|this[U+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(U,z){return U=U>>>0,z||O(U,4,this.length),(this[U]|this[U+1]<<8|this[U+2]<<16)+this[U+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(U,z){return U=U>>>0,z||O(U,4,this.length),this[U]*16777216+(this[U+1]<<16|this[U+2]<<8|this[U+3])},a.prototype.readBigUInt64LE=Ve(function(U){U=U>>>0,be(U,"offset");const z=this[U],X=this[U+7];(z===void 0||X===void 0)&&fe(U,this.length-8);const ne=z+this[++U]*2**8+this[++U]*2**16+this[++U]*2**24,ie=this[++U]+this[++U]*2**8+this[++U]*2**16+X*2**24;return BigInt(ne)+(BigInt(ie)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ve(function(U){U=U>>>0,be(U,"offset");const z=this[U],X=this[U+7];(z===void 0||X===void 0)&&fe(U,this.length-8);const ne=z*2**24+this[++U]*2**16+this[++U]*2**8+this[++U],ie=this[++U]*2**24+this[++U]*2**16+this[++U]*2**8+X;return(BigInt(ne)<<BigInt(32))+BigInt(ie)}),a.prototype.readIntLE=function(U,z,X){U=U>>>0,z=z>>>0,X||O(U,z,this.length);let ne=this[U],ie=1,ce=0;for(;++ce<z&&(ie*=256);)ne+=this[U+ce]*ie;return ie*=128,ne>=ie&&(ne-=Math.pow(2,8*z)),ne},a.prototype.readIntBE=function(U,z,X){U=U>>>0,z=z>>>0,X||O(U,z,this.length);let ne=z,ie=1,ce=this[U+--ne];for(;ne>0&&(ie*=256);)ce+=this[U+--ne]*ie;return ie*=128,ce>=ie&&(ce-=Math.pow(2,8*z)),ce},a.prototype.readInt8=function(U,z){return U=U>>>0,z||O(U,1,this.length),this[U]&128?(255-this[U]+1)*-1:this[U]},a.prototype.readInt16LE=function(U,z){U=U>>>0,z||O(U,2,this.length);const X=this[U]|this[U+1]<<8;return X&32768?X|4294901760:X},a.prototype.readInt16BE=function(U,z){U=U>>>0,z||O(U,2,this.length);const X=this[U+1]|this[U]<<8;return X&32768?X|4294901760:X},a.prototype.readInt32LE=function(U,z){return U=U>>>0,z||O(U,4,this.length),this[U]|this[U+1]<<8|this[U+2]<<16|this[U+3]<<24},a.prototype.readInt32BE=function(U,z){return U=U>>>0,z||O(U,4,this.length),this[U]<<24|this[U+1]<<16|this[U+2]<<8|this[U+3]},a.prototype.readBigInt64LE=Ve(function(U){U=U>>>0,be(U,"offset");const z=this[U],X=this[U+7];(z===void 0||X===void 0)&&fe(U,this.length-8);const ne=this[U+4]+this[U+5]*2**8+this[U+6]*2**16+(X<<24);return(BigInt(ne)<<BigInt(32))+BigInt(z+this[++U]*2**8+this[++U]*2**16+this[++U]*2**24)}),a.prototype.readBigInt64BE=Ve(function(U){U=U>>>0,be(U,"offset");const z=this[U],X=this[U+7];(z===void 0||X===void 0)&&fe(U,this.length-8);const ne=(z<<24)+this[++U]*2**16+this[++U]*2**8+this[++U];return(BigInt(ne)<<BigInt(32))+BigInt(this[++U]*2**24+this[++U]*2**16+this[++U]*2**8+X)}),a.prototype.readFloatLE=function(U,z){return U=U>>>0,z||O(U,4,this.length),n.read(this,U,!0,23,4)},a.prototype.readFloatBE=function(U,z){return U=U>>>0,z||O(U,4,this.length),n.read(this,U,!1,23,4)},a.prototype.readDoubleLE=function(U,z){return U=U>>>0,z||O(U,8,this.length),n.read(this,U,!0,52,8)},a.prototype.readDoubleBE=function(U,z){return U=U>>>0,z||O(U,8,this.length),n.read(this,U,!1,52,8)};function I(G,U,z,X,ne,ie){if(!a.isBuffer(G))throw new TypeError('"buffer" argument must be a Buffer instance');if(U>ne||U<ie)throw new RangeError('"value" argument is out of bounds');if(z+X>G.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(U,z,X,ne){if(U=+U,z=z>>>0,X=X>>>0,!ne){const Be=Math.pow(2,8*X)-1;I(this,U,z,X,Be,0)}let ie=1,ce=0;for(this[z]=U&255;++ce<X&&(ie*=256);)this[z+ce]=U/ie&255;return z+X},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(U,z,X,ne){if(U=+U,z=z>>>0,X=X>>>0,!ne){const Be=Math.pow(2,8*X)-1;I(this,U,z,X,Be,0)}let ie=X-1,ce=1;for(this[z+ie]=U&255;--ie>=0&&(ce*=256);)this[z+ie]=U/ce&255;return z+X},a.prototype.writeUint8=a.prototype.writeUInt8=function(U,z,X){return U=+U,z=z>>>0,X||I(this,U,z,1,255,0),this[z]=U&255,z+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(U,z,X){return U=+U,z=z>>>0,X||I(this,U,z,2,65535,0),this[z]=U&255,this[z+1]=U>>>8,z+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(U,z,X){return U=+U,z=z>>>0,X||I(this,U,z,2,65535,0),this[z]=U>>>8,this[z+1]=U&255,z+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(U,z,X){return U=+U,z=z>>>0,X||I(this,U,z,4,4294967295,0),this[z+3]=U>>>24,this[z+2]=U>>>16,this[z+1]=U>>>8,this[z]=U&255,z+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(U,z,X){return U=+U,z=z>>>0,X||I(this,U,z,4,4294967295,0),this[z]=U>>>24,this[z+1]=U>>>16,this[z+2]=U>>>8,this[z+3]=U&255,z+4};function D(G,U,z,X,ne){he(U,X,ne,G,z,7);let ie=Number(U&BigInt(4294967295));G[z++]=ie,ie=ie>>8,G[z++]=ie,ie=ie>>8,G[z++]=ie,ie=ie>>8,G[z++]=ie;let ce=Number(U>>BigInt(32)&BigInt(4294967295));return G[z++]=ce,ce=ce>>8,G[z++]=ce,ce=ce>>8,G[z++]=ce,ce=ce>>8,G[z++]=ce,z}function Y(G,U,z,X,ne){he(U,X,ne,G,z,7);let ie=Number(U&BigInt(4294967295));G[z+7]=ie,ie=ie>>8,G[z+6]=ie,ie=ie>>8,G[z+5]=ie,ie=ie>>8,G[z+4]=ie;let ce=Number(U>>BigInt(32)&BigInt(4294967295));return G[z+3]=ce,ce=ce>>8,G[z+2]=ce,ce=ce>>8,G[z+1]=ce,ce=ce>>8,G[z]=ce,z+8}a.prototype.writeBigUInt64LE=Ve(function(U,z=0){return D(this,U,z,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ve(function(U,z=0){return Y(this,U,z,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(U,z,X,ne){if(U=+U,z=z>>>0,!ne){const Xe=Math.pow(2,8*X-1);I(this,U,z,X,Xe-1,-Xe)}let ie=0,ce=1,Be=0;for(this[z]=U&255;++ie<X&&(ce*=256);)U<0&&Be===0&&this[z+ie-1]!==0&&(Be=1),this[z+ie]=(U/ce>>0)-Be&255;return z+X},a.prototype.writeIntBE=function(U,z,X,ne){if(U=+U,z=z>>>0,!ne){const Xe=Math.pow(2,8*X-1);I(this,U,z,X,Xe-1,-Xe)}let ie=X-1,ce=1,Be=0;for(this[z+ie]=U&255;--ie>=0&&(ce*=256);)U<0&&Be===0&&this[z+ie+1]!==0&&(Be=1),this[z+ie]=(U/ce>>0)-Be&255;return z+X},a.prototype.writeInt8=function(U,z,X){return U=+U,z=z>>>0,X||I(this,U,z,1,127,-128),U<0&&(U=255+U+1),this[z]=U&255,z+1},a.prototype.writeInt16LE=function(U,z,X){return U=+U,z=z>>>0,X||I(this,U,z,2,32767,-32768),this[z]=U&255,this[z+1]=U>>>8,z+2},a.prototype.writeInt16BE=function(U,z,X){return U=+U,z=z>>>0,X||I(this,U,z,2,32767,-32768),this[z]=U>>>8,this[z+1]=U&255,z+2},a.prototype.writeInt32LE=function(U,z,X){return U=+U,z=z>>>0,X||I(this,U,z,4,2147483647,-2147483648),this[z]=U&255,this[z+1]=U>>>8,this[z+2]=U>>>16,this[z+3]=U>>>24,z+4},a.prototype.writeInt32BE=function(U,z,X){return U=+U,z=z>>>0,X||I(this,U,z,4,2147483647,-2147483648),U<0&&(U=4294967295+U+1),this[z]=U>>>24,this[z+1]=U>>>16,this[z+2]=U>>>8,this[z+3]=U&255,z+4},a.prototype.writeBigInt64LE=Ve(function(U,z=0){return D(this,U,z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ve(function(U,z=0){return Y(this,U,z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function M(G,U,z,X,ne,ie){if(z+X>G.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("Index out of range")}function Q(G,U,z,X,ne){return U=+U,z=z>>>0,ne||M(G,U,z,4),n.write(G,U,z,X,23,4),z+4}a.prototype.writeFloatLE=function(U,z,X){return Q(this,U,z,!0,X)},a.prototype.writeFloatBE=function(U,z,X){return Q(this,U,z,!1,X)};function ee(G,U,z,X,ne){return U=+U,z=z>>>0,ne||M(G,U,z,8),n.write(G,U,z,X,52,8),z+8}a.prototype.writeDoubleLE=function(U,z,X){return ee(this,U,z,!0,X)},a.prototype.writeDoubleBE=function(U,z,X){return ee(this,U,z,!1,X)},a.prototype.copy=function(U,z,X,ne){if(!a.isBuffer(U))throw new TypeError("argument should be a Buffer");if(X||(X=0),!ne&&ne!==0&&(ne=this.length),z>=U.length&&(z=U.length),z||(z=0),ne>0&&ne<X&&(ne=X),ne===X||U.length===0||this.length===0)return 0;if(z<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),U.length-z<ne-X&&(ne=U.length-z+X);const ie=ne-X;return this===U&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(z,X,ne):Uint8Array.prototype.set.call(U,this.subarray(X,ne),z),ie},a.prototype.fill=function(U,z,X,ne){if(typeof U=="string"){if(typeof z=="string"?(ne=z,z=0,X=this.length):typeof X=="string"&&(ne=X,X=this.length),ne!==void 0&&typeof ne!="string")throw new TypeError("encoding must be a string");if(typeof ne=="string"&&!a.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(U.length===1){const ce=U.charCodeAt(0);(ne==="utf8"&&ce<128||ne==="latin1")&&(U=ce)}}else typeof U=="number"?U=U&255:typeof U=="boolean"&&(U=Number(U));if(z<0||this.length<z||this.length<X)throw new RangeError("Out of range index");if(X<=z)return this;z=z>>>0,X=X===void 0?this.length:X>>>0,U||(U=0);let ie;if(typeof U=="number")for(ie=z;ie<X;++ie)this[ie]=U;else{const ce=a.isBuffer(U)?U:a.from(U,ne),Be=ce.length;if(Be===0)throw new TypeError('The value "'+U+'" is invalid for argument "value"');for(ie=0;ie<X-z;++ie)this[ie+z]=ce[ie%Be]}return this};const J={};function oe(G,U,z){J[G]=class extends z{constructor(){super(),Object.defineProperty(this,"message",{value:U.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${G}]`,this.stack,delete this.name}get code(){return G}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${G}]: ${this.message}`}}}oe("ERR_BUFFER_OUT_OF_BOUNDS",function(G){return G?`${G} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),oe("ERR_INVALID_ARG_TYPE",function(G,U){return`The "${G}" argument must be of type number. Received type ${typeof U}`},TypeError),oe("ERR_OUT_OF_RANGE",function(G,U,z){let X=`The value of "${G}" is out of range.`,ne=z;return Number.isInteger(z)&&Math.abs(z)>2**32?ne=de(String(z)):typeof z=="bigint"&&(ne=String(z),(z>BigInt(2)**BigInt(32)||z<-(BigInt(2)**BigInt(32)))&&(ne=de(ne)),ne+="n"),X+=` It must be ${U}. Received ${ne}`,X},RangeError);function de(G){let U="",z=G.length;const X=G[0]==="-"?1:0;for(;z>=X+4;z-=3)U=`_${G.slice(z-3,z)}${U}`;return`${G.slice(0,z)}${U}`}function ae(G,U,z){be(U,"offset"),(G[U]===void 0||G[U+z]===void 0)&&fe(U,G.length-(z+1))}function he(G,U,z,X,ne,ie){if(G>z||G<U){const ce=typeof U=="bigint"?"n":"";let Be;throw U===0||U===BigInt(0)?Be=`>= 0${ce} and < 2${ce} ** ${(ie+1)*8}${ce}`:Be=`>= -(2${ce} ** ${(ie+1)*8-1}${ce}) and < 2 ** ${(ie+1)*8-1}${ce}`,new J.ERR_OUT_OF_RANGE("value",Be,G)}ae(X,ne,ie)}function be(G,U){if(typeof G!="number")throw new J.ERR_INVALID_ARG_TYPE(U,"number",G)}function fe(G,U,z){throw Math.floor(G)!==G?(be(G,z),new J.ERR_OUT_OF_RANGE("offset","an integer",G)):U<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${U}`,G)}const ke=/[^+/0-9A-Za-z-_]/g;function we(G){if(G=G.split("=")[0],G=G.trim().replace(ke,""),G.length<2)return"";for(;G.length%4!==0;)G=G+"=";return G}function Ue(G,U){U=U||1/0;let z;const X=G.length;let ne=null;const ie=[];for(let ce=0;ce<X;++ce){if(z=G.charCodeAt(ce),z>55295&&z<57344){if(!ne){if(z>56319){(U-=3)>-1&&ie.push(239,191,189);continue}else if(ce+1===X){(U-=3)>-1&&ie.push(239,191,189);continue}ne=z;continue}if(z<56320){(U-=3)>-1&&ie.push(239,191,189),ne=z;continue}z=(ne-55296<<10|z-56320)+65536}else ne&&(U-=3)>-1&&ie.push(239,191,189);if(ne=null,z<128){if((U-=1)<0)break;ie.push(z)}else if(z<2048){if((U-=2)<0)break;ie.push(z>>6|192,z&63|128)}else if(z<65536){if((U-=3)<0)break;ie.push(z>>12|224,z>>6&63|128,z&63|128)}else if(z<1114112){if((U-=4)<0)break;ie.push(z>>18|240,z>>12&63|128,z>>6&63|128,z&63|128)}else throw new Error("Invalid code point")}return ie}function Me(G){const U=[];for(let z=0;z<G.length;++z)U.push(G.charCodeAt(z)&255);return U}function _e(G,U){let z,X,ne;const ie=[];for(let ce=0;ce<G.length&&!((U-=2)<0);++ce)z=G.charCodeAt(ce),X=z>>8,ne=z%256,ie.push(ne),ie.push(X);return ie}function xe(G){return e.toByteArray(we(G))}function Oe(G,U,z,X){let ne;for(ne=0;ne<X&&!(ne+z>=U.length||ne>=G.length);++ne)U[ne+z]=G[ne];return ne}function Le(G,U){return G instanceof U||G!=null&&G.constructor!=null&&G.constructor.name!=null&&G.constructor.name===U.name}function Ce(G){return G!==G}const De=function(){const G="0123456789abcdef",U=new Array(256);for(let z=0;z<16;++z){const X=z*16;for(let ne=0;ne<16;++ne)U[X+ne]=G[z]+G[ne]}return U}();function Ve(G){return typeof BigInt>"u"?rt:G}function rt(){throw new Error("BigInt not supported")}})(yn);function ace(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function bWt(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function sP(t,...e){if(!bWt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function vWt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ace(t.outputLen),ace(t.blockLen)}function hI(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function xWt(t,e){sP(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const zb=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const NM=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Yd=(t,e)=>t<<32-e|t>>>e;function EWt(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function GK(t){return typeof t=="string"&&(t=EWt(t)),sP(t),t}function AWt(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];sP(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let Vke=class{clone(){return this._cloneInto()}};function qke(t){const e=r=>t().update(GK(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Gke(t=32){if(zb&&typeof zb.getRandomValues=="function")return zb.getRandomValues(new Uint8Array(t));if(zb&&typeof zb.randomBytes=="function")return zb.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function CWt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}const kWt=(t,e,n)=>t&e^~t&n,SWt=(t,e,n)=>t&e^t&n^e&n;let Kke=class extends Vke{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=NM(this.buffer)}update(e){hI(this);const{view:n,buffer:r,blockLen:i}=this;e=GK(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=NM(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){hI(this),xWt(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;CWt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=NM(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const u9=BigInt(2**32-1),Dz=BigInt(32);function Yke(t,e=!1){return e?{h:Number(t&u9),l:Number(t>>Dz&u9)}:{h:Number(t>>Dz&u9)|0,l:Number(t&u9)|0}}function _Wt(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Yke(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const IWt=(t,e)=>BigInt(t>>>0)<<Dz|BigInt(e>>>0),TWt=(t,e,n)=>t>>>n,$Wt=(t,e,n)=>t<<32-n|e>>>n,NWt=(t,e,n)=>t>>>n|e<<32-n,PWt=(t,e,n)=>t<<32-n|e>>>n,RWt=(t,e,n)=>t<<64-n|e>>>n-32,jWt=(t,e,n)=>t>>>n-32|e<<64-n,OWt=(t,e)=>e,MWt=(t,e)=>t,DWt=(t,e,n)=>t<<n|e>>>32-n,BWt=(t,e,n)=>e<<n|t>>>32-n,LWt=(t,e,n)=>e<<n-32|t>>>64-n,FWt=(t,e,n)=>t<<n-32|e>>>64-n;function UWt(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const zWt=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),WWt=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,HWt=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),VWt=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,qWt=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),GWt=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,mn={fromBig:Yke,split:_Wt,toBig:IWt,shrSH:TWt,shrSL:$Wt,rotrSH:NWt,rotrSL:PWt,rotrBH:RWt,rotrBL:jWt,rotr32H:OWt,rotr32L:MWt,rotlSH:DWt,rotlSL:BWt,rotlBH:LWt,rotlBL:FWt,add:UWt,add3L:zWt,add3H:WWt,add4L:HWt,add4H:VWt,add5H:GWt,add5L:qWt},[KWt,YWt]=mn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),D0=new Uint32Array(80),B0=new Uint32Array(80);class QWt extends Kke{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:f,Gh:p,Gl:m,Hh:g,Hl:y}=this;return[e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y]}set(e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=m|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let b=0;b<16;b++,n+=4)D0[b]=e.getUint32(n),B0[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const A=D0[b-15]|0,E=B0[b-15]|0,$=mn.rotrSH(A,E,1)^mn.rotrSH(A,E,8)^mn.shrSH(A,E,7),N=mn.rotrSL(A,E,1)^mn.rotrSL(A,E,8)^mn.shrSL(A,E,7),R=D0[b-2]|0,j=B0[b-2]|0,F=mn.rotrSH(R,j,19)^mn.rotrBH(R,j,61)^mn.shrSH(R,j,6),W=mn.rotrSL(R,j,19)^mn.rotrBL(R,j,61)^mn.shrSL(R,j,6),V=mn.add4L(N,W,B0[b-7],B0[b-16]),B=mn.add4H(V,$,F,D0[b-7],D0[b-16]);D0[b]=B|0,B0[b]=V|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:f,Fh:p,Fl:m,Gh:g,Gl:y,Hh:w,Hl:v}=this;for(let b=0;b<80;b++){const A=mn.rotrSH(h,f,14)^mn.rotrSH(h,f,18)^mn.rotrBH(h,f,41),E=mn.rotrSL(h,f,14)^mn.rotrSL(h,f,18)^mn.rotrBL(h,f,41),$=h&p^~h&g,N=f&m^~f&y,R=mn.add5L(v,E,N,YWt[b],B0[b]),j=mn.add5H(R,w,A,$,KWt[b],D0[b]),F=R|0,W=mn.rotrSH(r,i,28)^mn.rotrBH(r,i,34)^mn.rotrBH(r,i,39),V=mn.rotrSL(r,i,28)^mn.rotrBL(r,i,34)^mn.rotrBL(r,i,39),B=r&s^r&a^s&a,k=i&o^i&l^o&l;w=g|0,v=y|0,g=p|0,y=m|0,p=h|0,m=f|0,{h,l:f}=mn.add(c|0,u|0,j|0,F|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const C=mn.add3L(F,V,k);r=mn.add3H(C,j,W,B),i=C|0}({h:r,l:i}=mn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=mn.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=mn.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=mn.add(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:f}=mn.add(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:m}=mn.add(this.Fh|0,this.Fl|0,p|0,m|0),{h:g,l:y}=mn.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:v}=mn.add(this.Hh|0,this.Hl|0,w|0,v|0),this.set(r,i,s,o,a,l,c,u,h,f,p,m,g,y,w,v)}roundClean(){D0.fill(0),B0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ZWt=qke(()=>new QWt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const oP=BigInt(0),aP=BigInt(1),JWt=BigInt(2);function ww(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function _C(t){if(!ww(t))throw new Error("Uint8Array expected")}function $p(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const XWt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bw(t){_C(t);let e="";for(let n=0;n<t.length;n++)e+=XWt[t[n]];return e}function Ov(t){const e=t.toString(16);return e.length&1?"0"+e:e}function KK(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?oP:BigInt("0x"+t)}const Tf={_0:48,_9:57,A:65,F:70,a:97,f:102};function lce(t){if(t>=Tf._0&&t<=Tf._9)return t-Tf._0;if(t>=Tf.A&&t<=Tf.F)return t-(Tf.A-10);if(t>=Tf.a&&t<=Tf.f)return t-(Tf.a-10)}function h3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=lce(t.charCodeAt(s)),a=lce(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function O1(t){return KK(bw(t))}function g2(t){return _C(t),KK(bw(Uint8Array.from(t).reverse()))}function f3(t,e){return h3(t.toString(16).padStart(e*2,"0"))}function jE(t,e){return f3(t,e).reverse()}function eHt(t){return h3(Ov(t))}function zi(t,e,n){let r;if(typeof e=="string")try{r=h3(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(ww(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function vw(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];_C(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function tHt(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function nHt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const PM=t=>typeof t=="bigint"&&oP<=t;function lP(t,e,n){return PM(t)&&PM(e)&&PM(n)&&e<=t&&t<n}function Vc(t,e,n,r){if(!lP(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Qke(t){let e;for(e=0;t>oP;t>>=aP,e+=1);return e}function rHt(t,e){return t>>BigInt(e)&aP}function iHt(t,e,n){return t|(n?aP:oP)<<BigInt(e)}const YK=t=>(JWt<<BigInt(t-1))-aP,RM=t=>new Uint8Array(t),cce=t=>Uint8Array.from(t);function Zke(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=RM(t),i=RM(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...h)=>n(i,r,...h),l=(h=RM())=>{i=a(cce([0]),h),r=a(),h.length!==0&&(i=a(cce([1]),h),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){r=a();const p=r.slice();f.push(p),h+=r.length}return vw(...f)};return(h,f)=>{o(),l(h);let p;for(;!(p=f(c()));)l();return o(),p}}const sHt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||ww(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function u5(t,e,n={}){const r=(i,s,o)=>{const a=sHt[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const oHt=()=>{throw new Error("not implemented")};function OE(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const aHt=Object.freeze(Object.defineProperty({__proto__:null,aInRange:Vc,abool:$p,abytes:_C,bitGet:rHt,bitLen:Qke,bitMask:YK,bitSet:iHt,bytesToHex:bw,bytesToNumberBE:O1,bytesToNumberLE:g2,concatBytes:vw,createHmacDrbg:Zke,ensureBytes:zi,equalBytes:tHt,hexToBytes:h3,hexToNumber:KK,inRange:lP,isBytes:ww,memoized:OE,notImplemented:oHt,numberToBytesBE:f3,numberToBytesLE:jE,numberToHexUnpadded:Ov,numberToVarBytesBE:eHt,utf8ToBytes:nHt,validateObject:u5},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const As=BigInt(0),ni=BigInt(1),by=BigInt(2),lHt=BigInt(3),Bz=BigInt(4),uce=BigInt(5),dce=BigInt(8);function Vr(t,e){const n=t%e;return n>=As?n:e+n}function cHt(t,e,n){if(e<As)throw new Error("invalid exponent, negatives unsupported");if(n<=As)throw new Error("invalid modulus");if(n===ni)return As;let r=ni;for(;e>As;)e&ni&&(r=r*t%n),t=t*t%n,e>>=ni;return r}function li(t,e,n){let r=t;for(;e-- >As;)r*=r,r%=n;return r}function Lz(t,e){if(t===As)throw new Error("invert: expected non-zero number");if(e<=As)throw new Error("invert: expected positive modulus, got "+e);let n=Vr(t,e),r=e,i=As,s=ni;for(;n!==As;){const a=r/n,l=r%n,c=i-s*a;r=n,n=l,i=s,s=c}if(r!==ni)throw new Error("invert: does not exist");return Vr(i,e)}function uHt(t){const e=(t-ni)/by;let n,r,i;for(n=t-ni,r=0;n%by===As;n/=by,r++);for(i=by;i<t&&cHt(i,e,t)!==t-ni;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+ni)/Bz;return function(l,c){const u=l.pow(c,o);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(n+ni)/by;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,u=a.pow(a.mul(a.ONE,i),n),h=a.pow(l,s),f=a.pow(l,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let p=1;for(let g=a.sqr(f);p<c&&!a.eql(g,a.ONE);p++)g=a.sqr(g);const m=a.pow(u,ni<<BigInt(c-p-1));u=a.sqr(m),h=a.mul(h,m),f=a.mul(f,u),c=p}return h}}function dHt(t){if(t%Bz===lHt){const e=(t+ni)/Bz;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%dce===uce){const e=(t-uce)/dce;return function(r,i){const s=r.mul(i,by),o=r.pow(s,e),a=r.mul(i,o),l=r.mul(r.mul(a,by),o),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return uHt(t)}const hHt=(t,e)=>(Vr(t,e)&ni)===ni,fHt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function pHt(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=fHt.reduce((r,i)=>(r[i]="function",r),e);return u5(t,n)}function mHt(t,e,n){if(n<As)throw new Error("invalid exponent, negatives unsupported");if(n===As)return t.ONE;if(n===ni)return e;let r=t.ONE,i=e;for(;n>As;)n&ni&&(r=t.mul(r,i)),i=t.sqr(i),n>>=ni;return r}function gHt(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function Jke(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function cP(t,e,n=!1,r={}){if(t<=As)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=Jke(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:YK(i),ZERO:As,ONE:ni,create:l=>Vr(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return As<=l&&l<t},is0:l=>l===As,isOdd:l=>(l&ni)===ni,neg:l=>Vr(-l,t),eql:(l,c)=>l===c,sqr:l=>Vr(l*l,t),add:(l,c)=>Vr(l+c,t),sub:(l,c)=>Vr(l-c,t),mul:(l,c)=>Vr(l*c,t),pow:(l,c)=>mHt(a,l,c),div:(l,c)=>Vr(l*Lz(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>Lz(l,t),sqrt:r.sqrt||(l=>(o||(o=dHt(t)),o(a,l))),invertBatch:l=>gHt(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?jE(l,s):f3(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return n?g2(l):O1(l)}});return Object.freeze(a)}function Xke(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function e9e(t){const e=Xke(t);return e+Math.ceil(e/2)}function yHt(t,e,n=!1){const r=t.length,i=Xke(e),s=e9e(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?g2(t):O1(t),a=Vr(o,e-ni)+ni;return n?jE(a,i):f3(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const hce=BigInt(0),d9=BigInt(1);function jM(t,e){const n=e.negate();return t?n:e}function t9e(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function OM(t,e){t9e(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function wHt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function bHt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const MM=new WeakMap,n9e=new WeakMap;function DM(t){return n9e.get(t)||1}function r9e(t,e){return{constTimeNegate:jM,hasPrecomputes(n){return DM(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>hce;)r&d9&&(i=i.add(s)),s=s.double(),r>>=d9;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=OM(r,e),o=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=OM(n,e);let a=t.ZERO,l=t.BASE;const c=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let f=0;f<s;f++){const p=f*o;let m=Number(i&c);i>>=h,m>o&&(m-=u,i+=d9);const g=p,y=p+Math.abs(m)-1,w=f%2!==0,v=m<0;m===0?l=l.add(jM(w,r[g])):a=a.add(jM(v,r[y]))}return{p:a,f:l}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=OM(n,e),l=BigInt(2**n-1),c=2**n,u=BigInt(n);for(let h=0;h<o;h++){const f=h*a;if(i===hce)break;let p=Number(i&l);if(i>>=u,p>a&&(p-=c,i+=d9),p===0)continue;let m=r[f+Math.abs(p)-1];p<0&&(m=m.negate()),s=s.add(m)}return s},getPrecomputes(n,r,i){let s=MM.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&MM.set(r,i(s))),s},wNAFCached(n,r,i){const s=DM(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=DM(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){t9e(r,e),n9e.set(n,r),MM.delete(n)}}}function i9e(t,e,n,r){if(wHt(n,t),bHt(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=Qke(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,l=new Array(a+1).fill(i),c=Math.floor((e.BITS-1)/o)*o;let u=i;for(let h=c;h>=0;h-=o){l.fill(i);for(let p=0;p<r.length;p++){const m=r[p],g=Number(m>>BigInt(h)&BigInt(a));l[g]=l[g].add(n[p])}let f=i;for(let p=l.length-1,m=i;p>0;p--)m=m.add(l[p]),f=f.add(m);if(u=u.add(f),h!==0)for(let p=0;p<o;p++)u=u.double()}return u}function QK(t){return pHt(t.Fp),u5(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Jke(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Cu=BigInt(0),Sa=BigInt(1),h9=BigInt(2),vHt=BigInt(8),xHt={zip215:!0};function EHt(t){const e=QK(t);return u5(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function AHt(t){const e=EHt(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=e,c=h9<<BigInt(a*8)-Sa,u=n.create,h=cP(e.n,e.nBitLength),f=e.uvRatio||((S,T)=>{try{return{isValid:!0,value:n.sqrt(S*n.inv(T))}}catch{return{isValid:!1,value:Cu}}}),p=e.adjustScalarBytes||(S=>S),m=e.domain||((S,T,_)=>{if($p("phflag",_),T.length||_)throw new Error("Contexts/pre-hash are not supported");return S});function g(S,T){Vc("coordinate "+S,T,Cu,c)}function y(S){if(!(S instanceof b))throw new Error("ExtendedPoint expected")}const w=OE((S,T)=>{const{ex:_,ey:P,ez:L}=S,O=S.is0();T==null&&(T=O?vHt:n.inv(L));const I=u(_*T),D=u(P*T),Y=u(L*T);if(O)return{x:Cu,y:Sa};if(Y!==Sa)throw new Error("invZ was invalid");return{x:I,y:D}}),v=OE(S=>{const{a:T,d:_}=e;if(S.is0())throw new Error("bad point: ZERO");const{ex:P,ey:L,ez:O,et:I}=S,D=u(P*P),Y=u(L*L),M=u(O*O),Q=u(M*M),ee=u(D*T),J=u(M*u(ee+Y)),oe=u(Q+u(_*u(D*Y)));if(J!==oe)throw new Error("bad point: equation left != right (1)");const de=u(P*L),ae=u(O*I);if(de!==ae)throw new Error("bad point: equation left != right (2)");return!0});class b{constructor(T,_,P,L){this.ex=T,this.ey=_,this.ez=P,this.et=L,g("x",T),g("y",_),g("z",P),g("t",L),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(T){if(T instanceof b)throw new Error("extended point not allowed");const{x:_,y:P}=T||{};return g("x",_),g("y",P),new b(_,P,Sa,u(_*P))}static normalizeZ(T){const _=n.invertBatch(T.map(P=>P.ez));return T.map((P,L)=>P.toAffine(_[L])).map(b.fromAffine)}static msm(T,_){return i9e(b,h,T,_)}_setWindowSize(T){$.setWindowSize(this,T)}assertValidity(){v(this)}equals(T){y(T);const{ex:_,ey:P,ez:L}=this,{ex:O,ey:I,ez:D}=T,Y=u(_*D),M=u(O*L),Q=u(P*D),ee=u(I*L);return Y===M&&Q===ee}is0(){return this.equals(b.ZERO)}negate(){return new b(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:T}=e,{ex:_,ey:P,ez:L}=this,O=u(_*_),I=u(P*P),D=u(h9*u(L*L)),Y=u(T*O),M=_+P,Q=u(u(M*M)-O-I),ee=Y+I,J=ee-D,oe=Y-I,de=u(Q*J),ae=u(ee*oe),he=u(Q*oe),be=u(J*ee);return new b(de,ae,be,he)}add(T){y(T);const{a:_,d:P}=e,{ex:L,ey:O,ez:I,et:D}=this,{ex:Y,ey:M,ez:Q,et:ee}=T;if(_===BigInt(-1)){const xe=u((O-L)*(M+Y)),Oe=u((O+L)*(M-Y)),Le=u(Oe-xe);if(Le===Cu)return this.double();const Ce=u(I*h9*ee),De=u(D*h9*Q),Ve=De+Ce,rt=Oe+xe,G=De-Ce,U=u(Ve*Le),z=u(rt*G),X=u(Ve*G),ne=u(Le*rt);return new b(U,z,ne,X)}const J=u(L*Y),oe=u(O*M),de=u(D*P*ee),ae=u(I*Q),he=u((L+O)*(Y+M)-J-oe),be=ae-de,fe=ae+de,ke=u(oe-_*J),we=u(he*be),Ue=u(fe*ke),Me=u(he*ke),_e=u(be*fe);return new b(we,Ue,_e,Me)}subtract(T){return this.add(T.negate())}wNAF(T){return $.wNAFCached(this,T,b.normalizeZ)}multiply(T){const _=T;Vc("scalar",_,Sa,r);const{p:P,f:L}=this.wNAF(_);return b.normalizeZ([P,L])[0]}multiplyUnsafe(T,_=b.ZERO){const P=T;return Vc("scalar",P,Cu,r),P===Cu?E:this.is0()||P===Sa?this:$.wNAFCachedUnsafe(this,P,b.normalizeZ,_)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return $.unsafeLadder(this,r).is0()}toAffine(T){return w(this,T)}clearCofactor(){const{h:T}=e;return T===Sa?this:this.multiplyUnsafe(T)}static fromHex(T,_=!1){const{d:P,a:L}=e,O=n.BYTES;T=zi("pointHex",T,O),$p("zip215",_);const I=T.slice(),D=T[O-1];I[O-1]=D&-129;const Y=g2(I),M=_?c:n.ORDER;Vc("pointHex.y",Y,Cu,M);const Q=u(Y*Y),ee=u(Q-Sa),J=u(P*Q-L);let{isValid:oe,value:de}=f(ee,J);if(!oe)throw new Error("Point.fromHex: invalid y coordinate");const ae=(de&Sa)===Sa,he=(D&128)!==0;if(!_&&de===Cu&&he)throw new Error("Point.fromHex: x=0 and x_0=1");return he!==ae&&(de=u(-de)),b.fromAffine({x:de,y:Y})}static fromPrivateKey(T){return j(T).point}toRawBytes(){const{x:T,y:_}=this.toAffine(),P=jE(_,n.BYTES);return P[P.length-1]|=T&Sa?128:0,P}toHex(){return bw(this.toRawBytes())}}b.BASE=new b(e.Gx,e.Gy,Sa,u(e.Gx*e.Gy)),b.ZERO=new b(Cu,Sa,Sa,Cu);const{BASE:A,ZERO:E}=b,$=r9e(b,a*8);function N(S){return Vr(S,r)}function R(S){return N(g2(S))}function j(S){const T=n.BYTES;S=zi("private key",S,T);const _=zi("hashed private key",s(S),2*T),P=p(_.slice(0,T)),L=_.slice(T,2*T),O=R(P),I=A.multiply(O),D=I.toRawBytes();return{head:P,prefix:L,scalar:O,point:I,pointBytes:D}}function F(S){return j(S).pointBytes}function W(S=new Uint8Array,...T){const _=vw(...T);return R(s(m(_,zi("context",S),!!i)))}function V(S,T,_={}){S=zi("message",S),i&&(S=i(S));const{prefix:P,scalar:L,pointBytes:O}=j(T),I=W(_.context,P,S),D=A.multiply(I).toRawBytes(),Y=W(_.context,D,O,S),M=N(I+Y*L);Vc("signature.s",M,Cu,r);const Q=vw(D,jE(M,n.BYTES));return zi("result",Q,n.BYTES*2)}const B=xHt;function k(S,T,_,P=B){const{context:L,zip215:O}=P,I=n.BYTES;S=zi("signature",S,2*I),T=zi("message",T),_=zi("publicKey",_,I),O!==void 0&&$p("zip215",O),i&&(T=i(T));const D=g2(S.slice(I,2*I));let Y,M,Q;try{Y=b.fromHex(_,O),M=b.fromHex(S.slice(0,I),O),Q=A.multiplyUnsafe(D)}catch{return!1}if(!O&&Y.isSmallOrder())return!1;const ee=W(L,M.toRawBytes(),Y.toRawBytes(),T);return M.add(Y.multiplyUnsafe(ee)).subtract(Q).clearCofactor().equals(b.ZERO)}return A._setWindowSize(8),{CURVE:e,getPublicKey:F,sign:V,verify:k,ExtendedPoint:b,utils:{getExtendedPublicKey:j,randomPrivateKey:()=>o(n.BYTES),precompute(S=8,T=b.BASE){return T._setWindowSize(S),T.multiply(BigInt(3)),T}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ZK=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),fce=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const CHt=BigInt(1),pce=BigInt(2);BigInt(3);const kHt=BigInt(5),SHt=BigInt(8);function _Ht(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=ZK,a=t*t%s*t%s,l=li(a,pce,s)*a%s,c=li(l,CHt,s)*t%s,u=li(c,kHt,s)*c%s,h=li(u,e,s)*u%s,f=li(h,n,s)*h%s,p=li(f,r,s)*f%s,m=li(p,i,s)*p%s,g=li(m,i,s)*p%s,y=li(g,e,s)*u%s;return{pow_p_5_8:li(y,pce,s)*t%s,b2:a}}function IHt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function THt(t,e){const n=ZK,r=Vr(e*e*e,n),i=Vr(r*r*e,n),s=_Ht(t*i).pow_p_5_8;let o=Vr(t*r*s,n);const a=Vr(e*o*o,n),l=o,c=Vr(o*fce,n),u=a===t,h=a===Vr(-t,n),f=a===Vr(-t*fce,n);return u&&(o=l),(h||f)&&(o=c),hHt(o,n)&&(o=Vr(-o,n)),{isValid:u||h,value:o}}const $Ht=cP(ZK,void 0,!0),NHt={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:$Ht,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:SHt,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:ZWt,randomBytes:Gke,adjustScalarBytes:IHt,uvRatio:THt},JK=AHt(NHt);var Fz={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=yn,r=n.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,l){return r(o,a,l)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(Fz,Fz.exports);var s9e=Fz.exports,f9=s9e.Buffer;function PHt(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(p){if((Array.isArray(p)||p instanceof Uint8Array)&&(p=f9.from(p)),!f9.isBuffer(p))throw new TypeError("Expected Buffer");if(p.length===0)return"";for(var m=0,g=0,y=0,w=p.length;y!==w&&p[y]===0;)y++,m++;for(var v=(w-y)*c+1>>>0,b=new Uint8Array(v);y!==w;){for(var A=p[y],E=0,$=v-1;(A!==0||E<g)&&$!==-1;$--,E++)A+=256*b[$]>>>0,b[$]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");g=E,y++}for(var N=v-g;N!==v&&b[N]===0;)N++;for(var R=a.repeat(m);N<v;++N)R+=t.charAt(b[N]);return R}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return f9.alloc(0);for(var m=0,g=0,y=0;p[m]===a;)g++,m++;for(var w=(p.length-m)*l+1>>>0,v=new Uint8Array(w);m<p.length;){var b=p.charCodeAt(m);if(b>255)return;var A=e[b];if(A===255)return;for(var E=0,$=w-1;(A!==0||E<y)&&$!==-1;$--,E++)A+=o*v[$]>>>0,v[$]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");y=E,m++}for(var N=w-y;N!==w&&v[N]===0;)N++;var R=f9.allocUnsafe(g+(w-N));R.fill(0,0,g);for(var j=g;N!==w;)R[j++]=v[N++];return R}function f(p){var m=h(p);if(m)return m;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:h,decode:f}}var RHt=PHt,jHt=RHt,OHt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",MHt=jHt(OHt);const Zo=Ks(MHt);function DHt(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function o9e(t,...e){if(!DHt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function mce(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function BHt(t,e){o9e(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const BM=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Qd=(t,e)=>t<<32-e|t>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function LHt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function a9e(t){return typeof t=="string"&&(t=LHt(t)),o9e(t),t}class FHt{clone(){return this._cloneInto()}}function UHt(t){const e=r=>t().update(a9e(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function zHt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}const WHt=(t,e,n)=>t&e^~t&n,HHt=(t,e,n)=>t&e^t&n^e&n;class VHt extends FHt{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=BM(this.buffer)}update(e){mce(this);const{view:n,buffer:r,blockLen:i}=this;e=a9e(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=BM(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){mce(this),BHt(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;zHt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=BM(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const qHt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),L0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),F0=new Uint32Array(64);let GHt=class extends VHt{constructor(){super(64,32,8,!1),this.A=L0[0]|0,this.B=L0[1]|0,this.C=L0[2]|0,this.D=L0[3]|0,this.E=L0[4]|0,this.F=L0[5]|0,this.G=L0[6]|0,this.H=L0[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)F0[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const f=F0[h-15],p=F0[h-2],m=Qd(f,7)^Qd(f,18)^f>>>3,g=Qd(p,17)^Qd(p,19)^p>>>10;F0[h]=g+F0[h-7]+m+F0[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=Qd(a,6)^Qd(a,11)^Qd(a,25),p=u+f+WHt(a,l,c)+qHt[h]+F0[h]|0,g=(Qd(r,2)^Qd(r,13)^Qd(r,22))+HHt(r,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=r,r=p+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){F0.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const gce=UHt(()=>new GHt);var Ls={},p9=s9e.Buffer;function KHt(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(p){if((Array.isArray(p)||p instanceof Uint8Array)&&(p=p9.from(p)),!p9.isBuffer(p))throw new TypeError("Expected Buffer");if(p.length===0)return"";for(var m=0,g=0,y=0,w=p.length;y!==w&&p[y]===0;)y++,m++;for(var v=(w-y)*c+1>>>0,b=new Uint8Array(v);y!==w;){for(var A=p[y],E=0,$=v-1;(A!==0||E<g)&&$!==-1;$--,E++)A+=256*b[$]>>>0,b[$]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");g=E,y++}for(var N=v-g;N!==v&&b[N]===0;)N++;for(var R=a.repeat(m);N<v;++N)R+=t.charAt(b[N]);return R}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return p9.alloc(0);for(var m=0,g=0,y=0;p[m]===a;)g++,m++;for(var w=(p.length-m)*l+1>>>0,v=new Uint8Array(w);m<p.length;){var b=p.charCodeAt(m);if(b>255)return;var A=e[b];if(A===255)return;for(var E=0,$=w-1;(A!==0||E<y)&&$!==-1;$--,E++)A+=o*v[$]>>>0,v[$]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");y=E,m++}for(var N=w-y;N!==w&&v[N]===0;)N++;var R=p9.allocUnsafe(g+(w-N));R.fill(0,0,g);for(var j=g;N!==w;)R[j++]=v[N++];return R}function f(p){var m=h(p);if(m)return m;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:h,decode:f}}var YHt=KHt,QHt=YHt,ZHt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",JHt=QHt(ZHt);function up(t,e,n){return e<=t&&t<=n}function uP(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function XHt(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=s&1023,l=o&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function eVt(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var fI=-1;function XK(t){this.tokens=[].slice.call(t)}XK.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():fI},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var p3=-1;function LM(t,e){if(t)throw TypeError("Decoder error");return e||65533}var pI="utf-8";function mI(t,e){if(!(this instanceof mI))return new mI(t,e);if(t=t!==void 0?String(t).toLowerCase():pI,t!==pI)throw new Error("Encoding not supported. Only utf-8 is supported");e=uP(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}mI.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=uP(n),this._streaming||(this._decoder=new tVt({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new XK(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==p3);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===p3)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),eVt(s)}};function gI(t,e){if(!(this instanceof gI))return new gI(t,e);if(t=t!==void 0?String(t).toLowerCase():pI,t!==pI)throw new Error("Encoding not supported. Only utf-8 is supported");e=uP(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}gI.prototype={encode:function(e,n){e=e?String(e):"",n=uP(n),this._streaming||(this._encoder=new nVt(this._options)),this._streaming=!!n.stream;for(var r=[],i=new XK(XHt(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==p3);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==p3;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function tVt(t){var e=t.fatal,n=0,r=0,i=0,s=128,o=191;this.handler=function(a,l){if(l===fI&&i!==0)return i=0,LM(e);if(l===fI)return p3;if(i===0){if(up(l,0,127))return l;if(up(l,194,223))i=1,n=l-192;else if(up(l,224,239))l===224&&(s=160),l===237&&(o=159),i=2,n=l-224;else if(up(l,240,244))l===240&&(s=144),l===244&&(o=143),i=3,n=l-240;else return LM(e);return n=n<<6*i,null}if(!up(l,s,o))return n=i=r=0,s=128,o=191,a.prepend(l),LM(e);if(s=128,o=191,r+=1,n+=l-128<<6*(i-r),r!==i)return null;var c=n;return n=i=r=0,c}}function nVt(t){t.fatal,this.handler=function(e,n){if(n===fI)return p3;if(up(n,0,127))return n;var r,i;up(n,128,2047)?(r=1,i=192):up(n,2048,65535)?(r=2,i=224):up(n,65536,1114111)&&(r=3,i=240);for(var s=[(n>>6*r)+i];r>0;){var o=n>>6*(r-1);s.push(128|o&63),r-=1}return s}}const rVt=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:mI,TextEncoder:gI},Symbol.toStringTag,{value:"Module"})),iVt=w3(rVt);var sVt=ql&&ql.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),oVt=ql&&ql.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ff=ql&&ql.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},aVt=ql&&ql.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&sVt(e,t,n);return oVt(e,t),e},l9e=ql&&ql.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ls,"__esModule",{value:!0});var c9e=Ls.deserializeUnchecked=m9e=Ls.deserialize=p9e=Ls.serialize=Ls.BinaryReader=Ls.BinaryWriter=Ls.BorshError=Ls.baseDecode=Ls.baseEncode=void 0;const Vm=l9e(M1e),u9e=l9e(JHt),lVt=aVt(iVt),cVt=typeof TextDecoder!="function"?lVt.TextDecoder:TextDecoder,uVt=new cVt("utf-8",{fatal:!0});function dVt(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),u9e.default.encode(Buffer.from(t))}Ls.baseEncode=dVt;function hVt(t){return Buffer.from(u9e.default.decode(t))}Ls.baseDecode=hVt;const FM=1024;class aa extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Ls.BorshError=aa;class d9e{constructor(){this.buf=Buffer.alloc(FM),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(FM)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Vm.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Vm.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Vm.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Vm.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(FM)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}Ls.BinaryWriter=d9e;function pf(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new aa("Reached the end of buffer when deserializing")}throw s}}}class cc{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Vm.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Vm.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Vm.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Vm.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new aa(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return uVt.decode(n)}catch(r){throw new aa(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}ff([pf],cc.prototype,"readU8",null);ff([pf],cc.prototype,"readU16",null);ff([pf],cc.prototype,"readU32",null);ff([pf],cc.prototype,"readU64",null);ff([pf],cc.prototype,"readU128",null);ff([pf],cc.prototype,"readU256",null);ff([pf],cc.prototype,"readU512",null);ff([pf],cc.prototype,"readString",null);ff([pf],cc.prototype,"readFixedArray",null);ff([pf],cc.prototype,"readArray",null);Ls.BinaryReader=cc;function h9e(t){return t.charAt(0).toUpperCase()+t.slice(1)}function vy(t,e,n,r,i){try{if(typeof r=="string")i[`write${h9e(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new aa(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new aa(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let s=0;s<r[1];s++)vy(t,null,n[s],r[0],i)}else i.writeArray(n,s=>{vy(t,e,s,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),vy(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((s,o)=>{vy(t,e,o,r.key,i),vy(t,e,s,r.value,i)});break}default:throw new aa(`FieldType ${r} unrecognized`)}else f9e(t,n,i)}catch(s){throw s instanceof aa&&s.addToFieldPath(e),s}}function f9e(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new aa(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,s])=>{vy(t,i,e[i],s,n)});else if(r.kind==="enum"){const i=e[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){n.writeU8(s),vy(t,o,e[o],a,n);break}}}else throw new aa(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function fVt(t,e,n=d9e){const r=new n;return f9e(t,e,r),r.toArray()}var p9e=Ls.serialize=fVt;function xy(t,e,n,r){try{if(typeof n=="string")return r[`read${h9e(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let s=0;s<n[1];s++)i.push(xy(t,null,n[0],r));return i}else return r.readArray(()=>xy(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?xy(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const a=xy(t,e,n.key,r),l=xy(t,e,n.value,r);i.set(a,l)}return i}return eY(t,n,r)}catch(i){throw i instanceof aa&&i.addToFieldPath(e),i}}function eY(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new aa(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[s,o]of t.get(e).fields)i[s]=xy(t,s,o,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new aa(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=xy(t,s,o,n);return new e({[s]:a})}throw new aa(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function pVt(t,e,n,r=cc){const i=new r(n),s=eY(t,e,i);if(i.offset<n.length)throw new aa(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return s}var m9e=Ls.deserialize=pVt;function mVt(t,e,n,r=cc){const i=new r(n);return eY(t,e,i)}c9e=Ls.deserializeUnchecked=mVt;var Te={};Object.defineProperty(Te,"__esModule",{value:!0});Te.s16=Te.s8=Te.nu64be=Te.u48be=Te.u40be=Te.u32be=Te.u24be=Te.u16be=Rs=Te.nu64=Te.u48=Te.u40=Ot=Te.u32=Te.u24=Lc=Te.u16=Xn=Te.u8=M1=Te.offset=Te.greedy=Te.Constant=Te.UTF8=Te.CString=Te.Blob=Te.Boolean=Te.BitField=Te.BitStructure=Te.VariantLayout=Te.Union=Te.UnionLayoutDiscriminator=Te.UnionDiscriminator=Te.Structure=Te.Sequence=Te.DoubleBE=Te.Double=Te.FloatBE=Te.Float=Te.NearInt64BE=Te.NearInt64=Te.NearUInt64BE=Te.NearUInt64=Te.IntBE=Te.Int=Te.UIntBE=Te.UInt=Te.OffsetLayout=Te.GreedyCount=Te.ExternalLayout=Te.bindConstructorLayout=Te.nameWithProperty=Te.Layout=Te.uint8ArrayToBuffer=Te.checkUint8Array=void 0;Te.constant=Te.utf8=Te.cstr=Br=Te.blob=Te.unionLayoutDiscriminator=Te.union=la=Te.seq=Te.bits=It=Te.struct=Te.f64be=Te.f64=Te.f32be=Te.f32=Te.ns64be=Te.s48be=Te.s40be=Te.s32be=Te.s24be=Te.s16be=Ol=Te.ns64=Te.s48=Te.s40=Te.s32=Te.s24=void 0;const tY=yn;function d5(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Te.checkUint8Array=d5;function Jn(t){return d5(t),tY.Buffer.from(t.buffer,t.byteOffset,t.length)}Te.uint8ArrayToBuffer=Jn;class cr{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}Te.Layout=cr;function nY(t,e){return e.property?t+"["+e.property+"]":t}Te.nameWithProperty=nY;function gVt(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof cr))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}Te.bindConstructorLayout=gVt;class Ua extends cr{isCount(){throw new Error("ExternalLayout is abstract")}}Te.ExternalLayout=Ua;class g9e extends Ua{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){d5(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}Te.GreedyCount=g9e;class rY extends Ua{constructor(e,n=0,r){if(!(e instanceof cr))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Qc||this.layout instanceof dd}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}Te.OffsetLayout=rY;class Qc extends cr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Jn(e).readUIntLE(n,this.span)}encode(e,n,r=0){return Jn(n).writeUIntLE(e,r,this.span),this.span}}Te.UInt=Qc;class dd extends cr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Jn(e).readUIntBE(n,this.span)}encode(e,n,r=0){return Jn(n).writeUIntBE(e,r,this.span),this.span}}Te.UIntBE=dd;class Xw extends cr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Jn(e).readIntLE(n,this.span)}encode(e,n,r=0){return Jn(n).writeIntLE(e,r,this.span),this.span}}Te.Int=Xw;class h5 extends cr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Jn(e).readIntBE(n,this.span)}encode(e,n,r=0){return Jn(n).writeIntBE(e,r,this.span),this.span}}Te.IntBE=h5;const Uz=Math.pow(2,32);function dP(t){const e=Math.floor(t/Uz),n=t-e*Uz;return{hi32:e,lo32:n}}function hP(t,e){return t*Uz+e}class y9e extends cr{constructor(e){super(8,e)}decode(e,n=0){const r=Jn(e),i=r.readUInt32LE(n),s=r.readUInt32LE(n+4);return hP(s,i)}encode(e,n,r=0){const i=dP(e),s=Jn(n);return s.writeUInt32LE(i.lo32,r),s.writeUInt32LE(i.hi32,r+4),8}}Te.NearUInt64=y9e;class w9e extends cr{constructor(e){super(8,e)}decode(e,n=0){const r=Jn(e),i=r.readUInt32BE(n),s=r.readUInt32BE(n+4);return hP(i,s)}encode(e,n,r=0){const i=dP(e),s=Jn(n);return s.writeUInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}Te.NearUInt64BE=w9e;class b9e extends cr{constructor(e){super(8,e)}decode(e,n=0){const r=Jn(e),i=r.readUInt32LE(n),s=r.readInt32LE(n+4);return hP(s,i)}encode(e,n,r=0){const i=dP(e),s=Jn(n);return s.writeUInt32LE(i.lo32,r),s.writeInt32LE(i.hi32,r+4),8}}Te.NearInt64=b9e;class v9e extends cr{constructor(e){super(8,e)}decode(e,n=0){const r=Jn(e),i=r.readInt32BE(n),s=r.readUInt32BE(n+4);return hP(i,s)}encode(e,n,r=0){const i=dP(e),s=Jn(n);return s.writeInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}Te.NearInt64BE=v9e;class x9e extends cr{constructor(e){super(4,e)}decode(e,n=0){return Jn(e).readFloatLE(n)}encode(e,n,r=0){return Jn(n).writeFloatLE(e,r),4}}Te.Float=x9e;class E9e extends cr{constructor(e){super(4,e)}decode(e,n=0){return Jn(e).readFloatBE(n)}encode(e,n,r=0){return Jn(n).writeFloatBE(e,r),4}}Te.FloatBE=E9e;class A9e extends cr{constructor(e){super(8,e)}decode(e,n=0){return Jn(e).readDoubleLE(n)}encode(e,n,r=0){return Jn(n).writeDoubleLE(e,r),8}}Te.Double=A9e;class C9e extends cr{constructor(e){super(8,e)}decode(e,n=0){return Jn(e).readDoubleBE(n)}encode(e,n,r=0){return Jn(n).writeDoubleBE(e,r),8}}Te.DoubleBE=C9e;class k9e extends cr{constructor(e,n,r){if(!(e instanceof cr))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof Ua&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof Ua)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof Ua&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(e,n+r),++s}return r}decode(e,n=0){const r=[];let i=0,s=this.count;for(s instanceof Ua&&(s=s.decode(e,n));i<s;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,n,r+o),0);return this.count instanceof Ua&&this.count.encode(e.length,n,r),s}}Te.Sequence=k9e;class S9e extends cr{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof cr,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,n);return n+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){d5(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let s=0,o=0;for(const a of this.fields){let l=a.span;if(o=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(o=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}s=r,r+=l}return s+o-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}Te.Structure=S9e;class iY{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}Te.UnionDiscriminator=iY;class yI extends iY{constructor(e,n){if(!(e instanceof Ua&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}Te.UnionLayoutDiscriminator=yI;class sY extends cr{constructor(e,n,r){let i;if(e instanceof Qc||e instanceof dd)i=new yI(new rY(e));else if(e instanceof Ua&&e.isCount())i=new yI(e);else if(e instanceof iY)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof cr))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let s=-1;n&&(s=n.span,0<=s&&(e instanceof Qc||e instanceof dd)&&(s+=i.layout.span)),super(s,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Qc||e instanceof dd,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,s=i.decode(e,n),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[a.property]=a.decode(e,n+l)}else r=o.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],n,r),a+o.encode(e[o.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new _9e(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}Te.Union=sY;class _9e extends cr{constructor(e,n,r,i){if(!(e instanceof sY))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof cr))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),s+=this.layout.getSpan(n,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}Te.VariantLayout=_9e;function Jb(t){return 0>t&&(t+=4294967296),t}class oY extends cr{constructor(e,n,r){if(!(e instanceof Qc||e instanceof dd))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Jb(s),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new aY(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new I9e(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}Te.BitStructure=oY;class aY{constructor(e,n,r){if(!(e instanceof oY))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(n+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-n),this.wordMask=Jb(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Jb(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Jb(e&this.valueMask))throw new TypeError(nY("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Jb(e<<this.start);this.container._packedSetValue(Jb(n&~this.wordMask)|r)}}Te.BitField=aY;let I9e=class extends aY{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Te.Boolean=I9e;let T9e=class extends cr{constructor(e,n){if(!(e instanceof Ua&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Ua||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),Jn(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof Ua&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(nY("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const s=Jn(e);return Jn(n).write(s.toString("hex"),r,i,"hex"),this.length instanceof Ua&&this.length.encode(i,n,r),i}};Te.Blob=T9e;class $9e extends cr{constructor(e){super(-1,e)}getSpan(e,n=0){d5(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return Jn(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=tY.Buffer.from(e,"utf8"),s=i.length;if(r+s>n.length)throw new RangeError("encoding overruns Buffer");const o=Jn(n);return i.copy(o,r),o[r+s]=0,s+1}}Te.CString=$9e;class N9e extends cr{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return d5(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return Jn(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=tY.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(Jn(n),r),s}}Te.UTF8=N9e;class P9e extends cr{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}Te.Constant=P9e;Te.greedy=(t,e)=>new g9e(t,e);var M1=Te.offset=(t,e,n)=>new rY(t,e,n),Xn=Te.u8=t=>new Qc(1,t),Lc=Te.u16=t=>new Qc(2,t);Te.u24=t=>new Qc(3,t);var Ot=Te.u32=t=>new Qc(4,t);Te.u40=t=>new Qc(5,t);Te.u48=t=>new Qc(6,t);var Rs=Te.nu64=t=>new y9e(t);Te.u16be=t=>new dd(2,t);Te.u24be=t=>new dd(3,t);Te.u32be=t=>new dd(4,t);Te.u40be=t=>new dd(5,t);Te.u48be=t=>new dd(6,t);Te.nu64be=t=>new w9e(t);Te.s8=t=>new Xw(1,t);Te.s16=t=>new Xw(2,t);Te.s24=t=>new Xw(3,t);Te.s32=t=>new Xw(4,t);Te.s40=t=>new Xw(5,t);Te.s48=t=>new Xw(6,t);var Ol=Te.ns64=t=>new b9e(t);Te.s16be=t=>new h5(2,t);Te.s24be=t=>new h5(3,t);Te.s32be=t=>new h5(4,t);Te.s40be=t=>new h5(5,t);Te.s48be=t=>new h5(6,t);Te.ns64be=t=>new v9e(t);Te.f32=t=>new x9e(t);Te.f32be=t=>new E9e(t);Te.f64=t=>new A9e(t);Te.f64be=t=>new C9e(t);var It=Te.struct=(t,e,n)=>new S9e(t,e,n);Te.bits=(t,e,n)=>new oY(t,e,n);var la=Te.seq=(t,e,n)=>new k9e(t,e,n);Te.union=(t,e,n)=>new sY(t,e,n);Te.unionLayoutDiscriminator=(t,e)=>new yI(t,e);var Br=Te.blob=(t,e)=>new T9e(t,e);Te.cstr=t=>new $9e(t);Te.utf8=(t,e)=>new N9e(t,e);Te.constant=(t,e)=>new P9e(t,e);var yVt=8078e3,wVt=8078001,bVt=8078004,vVt=8078005,xVt=8078006,EVt=8078011;function R9e(t){return Array.isArray(t)?"%5B"+t.map(R9e).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function AVt([t,e]){return`${t}=${R9e(e)}`}function CVt(t){const e=Object.entries(t).map(AVt).join("&");return btoa(e)}function kVt(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${CVt(e)}'`),`${n}\``}}var y2=class extends Error{constructor(...[e,n]){let r,i;if(n){const{cause:o,...a}=n;o&&(i={cause:o}),Object.keys(a).length>0&&(r=a)}const s=kVt(e,r);super(s,i);Ee(this,"cause",this.cause);Ee(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function SVt(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function _Vt(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(SVt(e,t));return t.write(e,n,0),n}})}function IVt(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Wb(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function TVt(t,e){if(Wb(t)!==Wb(e))throw new y2(bVt);if(Wb(t)&&Wb(e)&&t.fixedSize!==e.fixedSize)throw new y2(vVt,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Wb(t)&&!Wb(e)&&t.maxSize!==e.maxSize)throw new y2(xVt,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function $Vt(t,e,n=0){if(e.length-n<=0)throw new y2(yVt,{codecDescription:t})}function NVt(t,e,n,r=0){const i=n.length-r;if(i<e)throw new y2(wVt,{bytesLength:i,codecDescription:t,expected:e})}function PVt(t,e,n,r){if(r<e||r>n)throw new y2(EVt,{codecDescription:t,max:n,min:e,value:r})}function j9e(t){return(t==null?void 0:t.endian)!==1}function RVt(t){return _Vt({fixedSize:t.size,write(e,n,r){t.range&&PVt(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,j9e(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function jVt(t){return IVt({fixedSize:t.size,read(e,n=0){$Vt(t.name,e,n),NVt(t.name,t.size,e,n);const r=new DataView(OVt(e,n,t.size));return[t.get(r,j9e(t.config)),n+t.size]}})}function OVt(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var MVt=(t={})=>RVt({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),DVt=(t={})=>jVt({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),BVt=(t={})=>TVt(MVt(t),DVt(t));class LVt extends TypeError{constructor(e,n){let r;const{message:i,explanation:s,...o}=e,{path:a}=e,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??l),s!=null&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function FVt(t){return IC(t)&&typeof t[Symbol.iterator]=="function"}function IC(t){return typeof t=="object"&&t!=null}function wI(t){return IC(t)&&!Array.isArray(t)}function Td(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function UVt(t){const{done:e,value:n}=t.next();return e?void 0:n}function zVt(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:l=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Td(r)}\``}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:l}}function*yce(t,e,n,r){FVt(t)||(t=[t]);for(const i of t){const s=zVt(i,e,n,r);s&&(yield s)}}function*lY(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i,mask:o};s&&(t=e.coercer(t,a));let l="valid";for(const c of e.validator(t,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,u,h]of e.entries(t,a)){const f=lY(u,h,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,u],coerce:s,mask:o,message:n.message});for(const p of f)p[0]?(l=p[0].refinement!=null?"not_refined":"not_valid",yield[p[0],void 0]):s&&(u=p[1],c===void 0?t=u:t instanceof Map?t.set(c,u):t instanceof Set?t.add(u):IC(t)&&(u!==void 0||c in t)&&(t[c]=u))}if(l!=="not_valid")for(const c of e.refiner(t,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,t])}let mf=class{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(l,c)=>{const u=i(l,c);return yce(u,c,this,l)}:this.validator=()=>[],s?this.refiner=(l,c)=>{const u=s(l,c);return yce(u,c,this,l)}:this.refiner=()=>[]}assert(e,n){return WVt(e,this,n)}create(e,n){return ME(e,this,n)}is(e){return O9e(e,this)}mask(e,n){return HVt(e,this,n)}validate(e,n={}){return TC(e,this,n)}};function WVt(t,e,n){const r=TC(t,e,{message:n});if(r[0])throw r[0]}function ME(t,e,n){const r=TC(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function HVt(t,e,n){const r=TC(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function O9e(t,e){return!TC(t,e)[0]}function TC(t,e,n={}){const r=lY(t,e,n),i=UVt(r);return i[0]?[new LVt(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function eb(t,e){return new mf({type:t,schema:null,validator:e})}function VVt(){return eb("any",()=>!0)}function yt(t){return new mf({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Td(e)}`}})}function sf(){return eb("boolean",t=>typeof t=="boolean")}function cY(t){return eb("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Td(e)}`)}function ei(t){const e=Td(t),n=typeof t;return new mf({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${Td(r)}`}})}function qVt(){return eb("never",()=>!1)}function wt(t){return new mf({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function Se(){return eb("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Td(t)}`)}function Rt(t){return new mf({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function M9e(t,e){return new mf({type:"record",schema:null,*entries(n){if(IC(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return wI(n)||`Expected an object, but received: ${Td(n)}`},coercer(n){return wI(n)?{...n}:n}})}function nt(){return eb("string",t=>typeof t=="string"||`Expected a string, but received: ${Td(t)}`)}function uY(t){const e=qVt();return new mf({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Td(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function Ke(t){const e=Object.keys(t);return new mf({type:"type",schema:t,*entries(n){if(IC(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return wI(n)||`Expected an object, but received: ${Td(n)}`},coercer(n){return wI(n)?{...n}:n}})}function ma(t){const e=t.map(n=>n.type).join(" | ");return new mf({type:"union",schema:null,coercer(n,r){for(const i of t){const[s,o]=i.validate(n,{coerce:!0,mask:r.mask});if(!s)return o}return n},validator(n,r){const i=[];for(const s of t){const[...o]=lY(n,s,r),[a]=o;if(a[0])for(const[l]of o)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Td(n)}`,...i]}})}function f5(){return eb("unknown",()=>!0)}function $C(t,e,n){return new mf({...t,coercer:(r,i)=>O9e(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}const D9e=w3(lrt),GVt=D9e.v4,KVt=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return GVt()};s.id=o(s,r)}else i===2&&n===null?r.notificationIdNull&&(s.id=null):s.id=n;return s};var YVt=KVt;const QVt=D9e.v4,ZVt=YVt,bI=function(t,e){if(!(this instanceof bI))return new bI(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return QVt()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};bI.prototype.request=function(t,e,n,r){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,s=t;else{typeof n=="function"&&(r=n,n=void 0);const c=typeof r=="function";try{s=ZVt(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(u){if(c)return r(u);throw u}if(!c)return s}let l;try{l=JSON.stringify(s,this.options.replacer)}catch(c){return r(c)}return this.callServer(l,function(c,u){i._parseResponse(c,u,r)}),s};bI.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return n(null,r.filter(i),r.filter(s))}else return n(null,r.error,r.result);n(null,r)};var JVt={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,h||l,f),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},a.prototype.listenerCount=function(c){var u=n?n+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,f,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],w=arguments.length,v,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,h),!0;case 4:return y.fn.call(y.context,u,h,f),!0;case 5:return y.fn.call(y.context,u,h,f,p),!0;case 6:return y.fn.call(y.context,u,h,f,p,m),!0}for(b=1,v=new Array(w-1);b<w;b++)v[b-1]=arguments[b];y.fn.apply(y.context,v)}else{var A=y.length,E;for(b=0;b<A;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),w){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,h);break;case 4:y[b].fn.call(y[b].context,u,h,f);break;default:if(!v)for(E=1,v=new Array(w-1);E<w;E++)v[E-1]=arguments[E];y[b].fn.apply(y[b].context,v)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,f){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!h||m.context===h)&&o(this,p);else{for(var g=0,y=[],w=m.length;g<w;g++)(m[g].fn!==u||f&&!m[g].once||h&&m[g].context!==h)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(JVt);const XVt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),U0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),z0=new Uint32Array(64);class eqt extends Kke{constructor(){super(64,32,8,!1),this.A=U0[0]|0,this.B=U0[1]|0,this.C=U0[2]|0,this.D=U0[3]|0,this.E=U0[4]|0,this.F=U0[5]|0,this.G=U0[6]|0,this.H=U0[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)z0[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const f=z0[h-15],p=z0[h-2],m=Yd(f,7)^Yd(f,18)^f>>>3,g=Yd(p,17)^Yd(p,19)^p>>>10;z0[h]=g+z0[h-7]+m+z0[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=Yd(a,6)^Yd(a,11)^Yd(a,25),p=u+f+kWt(a,l,c)+XVt[h]+z0[h]|0,g=(Yd(r,2)^Yd(r,13)^Yd(r,22))+SWt(r,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=r,r=p+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){z0.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const tqt=qke(()=>new eqt);class B9e extends Vke{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,vWt(e);const r=GK(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return hI(this),this.iHash.update(e),this}digestInto(e){hI(this),sP(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const L9e=(t,e,n)=>new B9e(t,e).update(n).digest();L9e.create=(t,e)=>new B9e(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function wce(t){t.lowS!==void 0&&$p("lowS",t.lowS),t.prehash!==void 0&&$p("prehash",t.prehash)}function nqt(t){const e=QK(t);u5(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:rqt,hexToBytes:iqt}=aHt;class sqt extends Error{constructor(e=""){super(e)}}const Yf={Err:sqt,_tlv:{encode:(t,e)=>{const{Err:n}=Yf;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Ov(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Ov(i.length/2|128):"";return Ov(t)+s+i+e},decode(t,e){const{Err:n}=Yf;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(r+=l,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Yf;if(t<dp)throw new e("integer: negative integers are not allowed");let n=Ov(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Yf;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return rqt(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Yf,i=typeof t=="string"?iqt(t):t;_C(i);const{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,s),{v:c,l:u}=r.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=Yf,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},dp=BigInt(0),gs=BigInt(1);BigInt(2);const bce=BigInt(3);BigInt(4);function oqt(t){const e=nqt(t),{Fp:n}=e,r=cP(e.n,e.nBitLength),i=e.toBytes||((g,y,w)=>{const v=y.toAffine();return vw(Uint8Array.from([4]),n.toBytes(v.x),n.toBytes(v.y))}),s=e.fromBytes||(g=>{const y=g.subarray(1),w=n.fromBytes(y.subarray(0,n.BYTES)),v=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:w,y:v}});function o(g){const{a:y,b:w}=e,v=n.sqr(g),b=n.mul(v,g);return n.add(n.add(b,n.mul(g,y)),w)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return lP(g,gs,e.n)}function l(g){const{allowedPrivateKeyLengths:y,nByteLength:w,wrapPrivateKey:v,n:b}=e;if(y&&typeof g!="bigint"){if(ww(g)&&(g=bw(g)),typeof g!="string"||!y.includes(g.length))throw new Error("invalid private key");g=g.padStart(w*2,"0")}let A;try{A=typeof g=="bigint"?g:O1(zi("private key",g,w))}catch{throw new Error("invalid private key, expected hex or "+w+" bytes, got "+typeof g)}return v&&(A=Vr(A,b)),Vc("private key",A,gs,b),A}function c(g){if(!(g instanceof f))throw new Error("ProjectivePoint expected")}const u=OE((g,y)=>{const{px:w,py:v,pz:b}=g;if(n.eql(b,n.ONE))return{x:w,y:v};const A=g.is0();y==null&&(y=A?n.ONE:n.inv(b));const E=n.mul(w,y),$=n.mul(v,y),N=n.mul(b,y);if(A)return{x:n.ZERO,y:n.ZERO};if(!n.eql(N,n.ONE))throw new Error("invZ was invalid");return{x:E,y:$}}),h=OE(g=>{if(g.is0()){if(e.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:y,y:w}=g.toAffine();if(!n.isValid(y)||!n.isValid(w))throw new Error("bad point: x or y not FE");const v=n.sqr(w),b=o(y);if(!n.eql(v,b))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class f{constructor(y,w,v){if(this.px=y,this.py=w,this.pz=v,y==null||!n.isValid(y))throw new Error("x required");if(w==null||!n.isValid(w))throw new Error("y required");if(v==null||!n.isValid(v))throw new Error("z required");Object.freeze(this)}static fromAffine(y){const{x:w,y:v}=y||{};if(!y||!n.isValid(w)||!n.isValid(v))throw new Error("invalid affine point");if(y instanceof f)throw new Error("projective point not allowed");const b=A=>n.eql(A,n.ZERO);return b(w)&&b(v)?f.ZERO:new f(w,v,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const w=n.invertBatch(y.map(v=>v.pz));return y.map((v,b)=>v.toAffine(w[b])).map(f.fromAffine)}static fromHex(y){const w=f.fromAffine(s(zi("pointHex",y)));return w.assertValidity(),w}static fromPrivateKey(y){return f.BASE.multiply(l(y))}static msm(y,w){return i9e(f,r,y,w)}_setWindowSize(y){m.setWindowSize(this,y)}assertValidity(){h(this)}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){c(y);const{px:w,py:v,pz:b}=this,{px:A,py:E,pz:$}=y,N=n.eql(n.mul(w,$),n.mul(A,b)),R=n.eql(n.mul(v,$),n.mul(E,b));return N&&R}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:w}=e,v=n.mul(w,bce),{px:b,py:A,pz:E}=this;let $=n.ZERO,N=n.ZERO,R=n.ZERO,j=n.mul(b,b),F=n.mul(A,A),W=n.mul(E,E),V=n.mul(b,A);return V=n.add(V,V),R=n.mul(b,E),R=n.add(R,R),$=n.mul(y,R),N=n.mul(v,W),N=n.add($,N),$=n.sub(F,N),N=n.add(F,N),N=n.mul($,N),$=n.mul(V,$),R=n.mul(v,R),W=n.mul(y,W),V=n.sub(j,W),V=n.mul(y,V),V=n.add(V,R),R=n.add(j,j),j=n.add(R,j),j=n.add(j,W),j=n.mul(j,V),N=n.add(N,j),W=n.mul(A,E),W=n.add(W,W),j=n.mul(W,V),$=n.sub($,j),R=n.mul(W,F),R=n.add(R,R),R=n.add(R,R),new f($,N,R)}add(y){c(y);const{px:w,py:v,pz:b}=this,{px:A,py:E,pz:$}=y;let N=n.ZERO,R=n.ZERO,j=n.ZERO;const F=e.a,W=n.mul(e.b,bce);let V=n.mul(w,A),B=n.mul(v,E),k=n.mul(b,$),C=n.add(w,v),S=n.add(A,E);C=n.mul(C,S),S=n.add(V,B),C=n.sub(C,S),S=n.add(w,b);let T=n.add(A,$);return S=n.mul(S,T),T=n.add(V,k),S=n.sub(S,T),T=n.add(v,b),N=n.add(E,$),T=n.mul(T,N),N=n.add(B,k),T=n.sub(T,N),j=n.mul(F,S),N=n.mul(W,k),j=n.add(N,j),N=n.sub(B,j),j=n.add(B,j),R=n.mul(N,j),B=n.add(V,V),B=n.add(B,V),k=n.mul(F,k),S=n.mul(W,S),B=n.add(B,k),k=n.sub(V,k),k=n.mul(F,k),S=n.add(S,k),V=n.mul(B,S),R=n.add(R,V),V=n.mul(T,S),N=n.mul(C,N),N=n.sub(N,V),V=n.mul(C,B),j=n.mul(T,j),j=n.add(j,V),new f(N,R,j)}subtract(y){return this.add(y.negate())}is0(){return this.equals(f.ZERO)}wNAF(y){return m.wNAFCached(this,y,f.normalizeZ)}multiplyUnsafe(y){const{endo:w,n:v}=e;Vc("scalar",y,dp,v);const b=f.ZERO;if(y===dp)return b;if(this.is0()||y===gs)return this;if(!w||m.hasPrecomputes(this))return m.wNAFCachedUnsafe(this,y,f.normalizeZ);let{k1neg:A,k1:E,k2neg:$,k2:N}=w.splitScalar(y),R=b,j=b,F=this;for(;E>dp||N>dp;)E&gs&&(R=R.add(F)),N&gs&&(j=j.add(F)),F=F.double(),E>>=gs,N>>=gs;return A&&(R=R.negate()),$&&(j=j.negate()),j=new f(n.mul(j.px,w.beta),j.py,j.pz),R.add(j)}multiply(y){const{endo:w,n:v}=e;Vc("scalar",y,gs,v);let b,A;if(w){const{k1neg:E,k1:$,k2neg:N,k2:R}=w.splitScalar(y);let{p:j,f:F}=this.wNAF($),{p:W,f:V}=this.wNAF(R);j=m.constTimeNegate(E,j),W=m.constTimeNegate(N,W),W=new f(n.mul(W.px,w.beta),W.py,W.pz),b=j.add(W),A=F.add(V)}else{const{p:E,f:$}=this.wNAF(y);b=E,A=$}return f.normalizeZ([b,A])[0]}multiplyAndAddUnsafe(y,w,v){const b=f.BASE,A=($,N)=>N===dp||N===gs||!$.equals(b)?$.multiplyUnsafe(N):$.multiply(N),E=A(this,w).add(A(y,v));return E.is0()?void 0:E}toAffine(y){return u(this,y)}isTorsionFree(){const{h:y,isTorsionFree:w}=e;if(y===gs)return!0;if(w)return w(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:w}=e;return y===gs?this:w?w(f,this):this.multiplyUnsafe(e.h)}toRawBytes(y=!0){return $p("isCompressed",y),this.assertValidity(),i(f,this,y)}toHex(y=!0){return $p("isCompressed",y),bw(this.toRawBytes(y))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const p=e.nBitLength,m=r9e(f,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:a}}function aqt(t){const e=QK(t);return u5(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function lqt(t){const e=aqt(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(k){return Vr(k,r)}function a(k){return Lz(k,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:u,isWithinCurveOrder:h}=oqt({...e,toBytes(k,C,S){const T=C.toAffine(),_=n.toBytes(T.x),P=vw;return $p("isCompressed",S),S?P(Uint8Array.from([C.hasEvenY()?2:3]),_):P(Uint8Array.from([4]),_,n.toBytes(T.y))},fromBytes(k){const C=k.length,S=k[0],T=k.subarray(1);if(C===i&&(S===2||S===3)){const _=O1(T);if(!lP(_,gs,n.ORDER))throw new Error("Point is not on curve");const P=u(_);let L;try{L=n.sqrt(P)}catch(D){const Y=D instanceof Error?": "+D.message:"";throw new Error("Point is not on curve"+Y)}const O=(L&gs)===gs;return(S&1)===1!==O&&(L=n.neg(L)),{x:_,y:L}}else if(C===s&&S===4){const _=n.fromBytes(T.subarray(0,n.BYTES)),P=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:_,y:P}}else{const _=i,P=s;throw new Error("invalid Point, expected length of "+_+", or uncompressed "+P+", got "+C)}}}),f=k=>bw(f3(k,e.nByteLength));function p(k){const C=r>>gs;return k>C}function m(k){return p(k)?o(-k):k}const g=(k,C,S)=>O1(k.slice(C,S));class y{constructor(C,S,T){this.r=C,this.s=S,this.recovery=T,this.assertValidity()}static fromCompact(C){const S=e.nByteLength;return C=zi("compactSignature",C,S*2),new y(g(C,0,S),g(C,S,2*S))}static fromDER(C){const{r:S,s:T}=Yf.toSig(zi("DER",C));return new y(S,T)}assertValidity(){Vc("r",this.r,gs,r),Vc("s",this.s,gs,r)}addRecoveryBit(C){return new y(this.r,this.s,C)}recoverPublicKey(C){const{r:S,s:T,recovery:_}=this,P=$(zi("msgHash",C));if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");const L=_===2||_===3?S+e.n:S;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const O=_&1?"03":"02",I=l.fromHex(O+f(L)),D=a(L),Y=o(-P*D),M=o(T*D),Q=l.BASE.multiplyAndAddUnsafe(I,Y,M);if(!Q)throw new Error("point at infinify");return Q.assertValidity(),Q}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return h3(this.toDERHex())}toDERHex(){return Yf.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return h3(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const w={isValidPrivateKey(k){try{return c(k),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const k=e9e(e.n);return yHt(e.randomBytes(k),e.n)},precompute(k=8,C=l.BASE){return C._setWindowSize(k),C.multiply(BigInt(3)),C}};function v(k,C=!0){return l.fromPrivateKey(k).toRawBytes(C)}function b(k){const C=ww(k),S=typeof k=="string",T=(C||S)&&k.length;return C?T===i||T===s:S?T===2*i||T===2*s:k instanceof l}function A(k,C,S=!0){if(b(k))throw new Error("first arg must be private key");if(!b(C))throw new Error("second arg must be public key");return l.fromHex(C).multiply(c(k)).toRawBytes(S)}const E=e.bits2int||function(k){if(k.length>8192)throw new Error("input is too large");const C=O1(k),S=k.length*8-e.nBitLength;return S>0?C>>BigInt(S):C},$=e.bits2int_modN||function(k){return o(E(k))},N=YK(e.nBitLength);function R(k){return Vc("num < 2^"+e.nBitLength,k,dp,N),f3(k,e.nByteLength)}function j(k,C,S=F){if(["recovered","canonical"].some(J=>J in S))throw new Error("sign() legacy options not supported");const{hash:T,randomBytes:_}=e;let{lowS:P,prehash:L,extraEntropy:O}=S;P==null&&(P=!0),k=zi("msgHash",k),wce(S),L&&(k=zi("prehashed msgHash",T(k)));const I=$(k),D=c(C),Y=[R(D),R(I)];if(O!=null&&O!==!1){const J=O===!0?_(n.BYTES):O;Y.push(zi("extraEntropy",J))}const M=vw(...Y),Q=I;function ee(J){const oe=E(J);if(!h(oe))return;const de=a(oe),ae=l.BASE.multiply(oe).toAffine(),he=o(ae.x);if(he===dp)return;const be=o(de*o(Q+he*D));if(be===dp)return;let fe=(ae.x===he?0:2)|Number(ae.y&gs),ke=be;return P&&p(be)&&(ke=m(be),fe^=1),new y(he,ke,fe)}return{seed:M,k2sig:ee}}const F={lowS:e.lowS,prehash:!1},W={lowS:e.lowS,prehash:!1};function V(k,C,S=F){const{seed:T,k2sig:_}=j(k,C,S),P=e;return Zke(P.hash.outputLen,P.nByteLength,P.hmac)(T,_)}l.BASE._setWindowSize(8);function B(k,C,S,T=W){var fe;const _=k;C=zi("msgHash",C),S=zi("publicKey",S);const{lowS:P,prehash:L,format:O}=T;if(wce(T),"strict"in T)throw new Error("options.strict was renamed to lowS");if(O!==void 0&&O!=="compact"&&O!=="der")throw new Error("format must be compact or der");const I=typeof _=="string"||ww(_),D=!I&&!O&&typeof _=="object"&&_!==null&&typeof _.r=="bigint"&&typeof _.s=="bigint";if(!I&&!D)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Y,M;try{if(D&&(Y=new y(_.r,_.s)),I){try{O!=="compact"&&(Y=y.fromDER(_))}catch(ke){if(!(ke instanceof Yf.Err))throw ke}!Y&&O!=="der"&&(Y=y.fromCompact(_))}M=l.fromHex(S)}catch{return!1}if(!Y||P&&Y.hasHighS())return!1;L&&(C=e.hash(C));const{r:Q,s:ee}=Y,J=$(C),oe=a(ee),de=o(J*oe),ae=o(Q*oe),he=(fe=l.BASE.multiplyAndAddUnsafe(M,de,ae))==null?void 0:fe.toAffine();return he?o(he.x)===Q:!1}return{CURVE:e,getPublicKey:v,getSharedSecret:A,sign:V,verify:B,ProjectivePoint:l,Signature:y,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function cqt(t){return{hash:t,hmac:(e,...n)=>L9e(t,e,AWt(...n)),randomBytes:Gke}}function uqt(t,e){const n=r=>lqt({...t,...cqt(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const F9e=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),vce=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),dqt=BigInt(1),zz=BigInt(2),xce=(t,e)=>(t+e/zz)/e;function hqt(t){const e=F9e,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,h=li(u,n,e)*u%e,f=li(h,n,e)*u%e,p=li(f,zz,e)*c%e,m=li(p,i,e)*p%e,g=li(m,s,e)*m%e,y=li(g,a,e)*g%e,w=li(y,l,e)*y%e,v=li(w,a,e)*g%e,b=li(v,n,e)*u%e,A=li(b,o,e)*m%e,E=li(A,r,e)*c%e,$=li(E,zz,e);if(!Wz.eql(Wz.sqr($),t))throw new Error("Cannot find square root");return $}const Wz=cP(F9e,void 0,void 0,{sqrt:hqt}),fqt=uqt({a:BigInt(0),b:BigInt(7),Fp:Wz,n:vce,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=vce,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-dqt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=xce(s*t,e),l=xce(-r*t,e);let c=Vr(t-a*n-l*i,e),u=Vr(-a*r-l*s,e);const h=c>o,f=u>o;if(h&&(c=e-c),f&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:c,k2neg:f,k2:u}}}},tqt);BigInt(0);function Ece(t){try{return JK.ExtendedPoint.fromHex(t),!0}catch{return!1}}const U9e=(t,e)=>JK.sign(t,e.slice(0,32)),pqt=JK.verify,dY=t=>yn.Buffer.isBuffer(t)?t:t instanceof Uint8Array?yn.Buffer.from(t.buffer,t.byteOffset,t.byteLength):yn.Buffer.from(t);class mqt{constructor(e){Object.assign(this,e)}encode(){return yn.Buffer.from(p9e(RS,this))}static decode(e){return m9e(RS,this,e)}static decodeUnchecked(e){return c9e(RS,this,e)}}const RS=new Map;var z9e;const gqt=32,ag=32;function yqt(t){return t._bn!==void 0}let Ace=1;class nn extends mqt{constructor(e){if(super({}),this._bn=void 0,yqt(e))this._bn=e._bn;else{if(typeof e=="string"){const n=Zo.decode(e);if(n.length!=ag)throw new Error("Invalid public key input");this._bn=new zt(n)}else this._bn=new zt(e);if(this._bn.byteLength()>ag)throw new Error("Invalid public key input")}}static unique(){const e=new nn(Ace);return Ace+=1,new nn(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Zo.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(yn.Buffer);if(e.length===ag)return e;const n=yn.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=yn.Buffer.concat([e.toBuffer(),yn.Buffer.from(n),r.toBuffer()]),s=gce(i);return new nn(s)}static createProgramAddressSync(e,n){let r=yn.Buffer.alloc(0);e.forEach(function(s){if(s.length>gqt)throw new TypeError("Max seed length exceeded");r=yn.Buffer.concat([r,dY(s)])}),r=yn.Buffer.concat([r,n.toBuffer(),yn.Buffer.from("ProgramDerivedAddress")]);const i=gce(r);if(Ece(i))throw new Error("Invalid seeds, address must fall off the curve");return new nn(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const s=e.concat(yn.Buffer.from([r]));i=this.createProgramAddressSync(s,n)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new nn(e);return Ece(n.toBytes())}}z9e=nn;nn.default=new z9e("11111111111111111111111111111111");RS.set(nn,{kind:"struct",fields:[["_bn","u256"]]});new nn("BPFLoader1111111111111111111111111111111111");const w2=1232,hY=127,vI=64;class xI{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const Tn=(t="publicKey")=>Br(32,t),wqt=(t="signature")=>Br(64,t),Mv=(t="string")=>{const e=It([Ot("length"),Ot("lengthPadding"),Br(M1(Ot(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>n(s,o).chars.toString(),i.encode=(s,o,a)=>{const l={chars:yn.Buffer.from(s,"utf8")};return r(l,o,a)},i.alloc=s=>Ot().span+Ot().span+yn.Buffer.from(s,"utf8").length,i},bqt=(t="authorized")=>It([Tn("staker"),Tn("withdrawer")],t),vqt=(t="lockup")=>It([Ol("unixTimestamp"),Ol("epoch"),Tn("custodian")],t),xqt=(t="voteInit")=>It([Tn("nodePubkey"),Tn("authorizedVoter"),Tn("authorizedWithdrawer"),Xn("commission")],t),Eqt=(t="voteAuthorizeWithSeedArgs")=>It([Ot("voteAuthorizationType"),Tn("currentAuthorityDerivedKeyOwnerPubkey"),Mv("currentAuthorityDerivedKeySeed"),Tn("newAuthorized")],t);function Ml(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function Dl(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function es(t,e){if(!t)throw new Error(e||"Assertion failed")}class fP{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=o=>{const a=o.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},s=i(n);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new fP(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];es(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),s=e.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{es(n.length>0,"Expected at least one writable signer key");const[l]=n[0];es(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new nn(l)),...r.map(([l])=>new nn(l)),...i.map(([l])=>new nn(l)),...s.map(([l])=>new nn(l))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(n(o)){const a=new nn(s),l=e.findIndex(c=>c.equals(a));l>=0&&(es(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}}const W9e="Reached end of buffer unexpectedly";function hp(t){if(t.length===0)throw new Error(W9e);return t.shift()}function Bl(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(W9e);return t.splice(...e)}class m3{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new nn(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Zo.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new xI(this.staticAccountKeys)}static compile(e){const n=fP.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),o=new xI(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Zo.encode(a.data)}));return new m3({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,s=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];Dl(n,e);const r=this.instructions.map(h=>{const{accounts:f,programIdIndex:p}=h,m=Array.from(Zo.decode(h.data));let g=[];Dl(g,f.length);let y=[];return Dl(y,m.length),{programIdIndex:p,keyIndicesCount:yn.Buffer.from(g),keyIndices:f,dataLength:yn.Buffer.from(y),data:m}});let i=[];Dl(i,r.length);let s=yn.Buffer.alloc(w2);yn.Buffer.from(i).copy(s);let o=i.length;r.forEach(h=>{const p=It([Xn("programIdIndex"),Br(h.keyIndicesCount.length,"keyIndicesCount"),la(Xn("keyIndex"),h.keyIndices.length,"keyIndices"),Br(h.dataLength.length,"dataLength"),la(Xn("userdatum"),h.data.length,"data")]).encode(h,s,o);o+=p}),s=s.slice(0,o);const a=It([Br(1,"numRequiredSignatures"),Br(1,"numReadonlySignedAccounts"),Br(1,"numReadonlyUnsignedAccounts"),Br(n.length,"keyCount"),la(Tn("key"),e,"keys"),Tn("recentBlockhash")]),l={numRequiredSignatures:yn.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:yn.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:yn.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:yn.Buffer.from(n),keys:this.accountKeys.map(h=>dY(h.toBytes())),recentBlockhash:Zo.decode(this.recentBlockhash)};let c=yn.Buffer.alloc(2048);const u=a.encode(l,c);return s.copy(c,u),c.slice(0,u+s.length)}static from(e){let n=[...e];const r=hp(n);if(r!==(r&hY))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=hp(n),s=hp(n),o=Ml(n);let a=[];for(let f=0;f<o;f++){const p=Bl(n,0,ag);a.push(new nn(yn.Buffer.from(p)))}const l=Bl(n,0,ag),c=Ml(n);let u=[];for(let f=0;f<c;f++){const p=hp(n),m=Ml(n),g=Bl(n,0,m),y=Ml(n),w=Bl(n,0,y),v=Zo.encode(yn.Buffer.from(w));u.push({programIdIndex:p,accounts:g,data:v})}const h={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Zo.encode(yn.Buffer.from(l)),accountKeys:a,instructions:u};return new m3(h)}}class EI{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new xI(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)n.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)n.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=fP.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const u of s){const h=n.extractTableLookup(u);if(h!==void 0){const[f,{writable:p,readonly:m}]=h;r.push(f),i.writable.push(...p),i.readonly.push(...m)}}const[o,a]=n.getMessageComponents(),c=new xI(a,i).compileInstructions(e.instructions);return new EI({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const e=Array();Dl(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();Dl(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();Dl(s,this.addressTableLookups.length);const o=It([Xn("prefix"),It([Xn("numRequiredSignatures"),Xn("numReadonlySignedAccounts"),Xn("numReadonlyUnsignedAccounts")],"header"),Br(e.length,"staticAccountKeysLength"),la(Tn(),this.staticAccountKeys.length,"staticAccountKeys"),Tn("recentBlockhash"),Br(r.length,"instructionsLength"),Br(n.length,"serializedInstructions"),Br(s.length,"addressTableLookupsLength"),Br(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(w2),c=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(u=>u.toBytes()),recentBlockhash:Zo.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let e=0;const n=new Uint8Array(w2);for(const r of this.compiledInstructions){const i=Array();Dl(i,r.accountKeyIndexes.length);const s=Array();Dl(s,r.data.length);const o=It([Xn("programIdIndex"),Br(i.length,"encodedAccountKeyIndexesLength"),la(Xn(),r.accountKeyIndexes.length,"accountKeyIndexes"),Br(s.length,"encodedDataLength"),Br(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(w2);for(const r of this.addressTableLookups){const i=Array();Dl(i,r.writableIndexes.length);const s=Array();Dl(s,r.readonlyIndexes.length);const o=It([Tn("accountKey"),Br(i.length,"encodedWritableIndexesLength"),la(Xn(),r.writableIndexes.length,"writableIndexes"),Br(s.length,"encodedReadonlyIndexesLength"),la(Xn(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=hp(n),i=r&hY;es(r!==i,"Expected versioned message but received legacy message");const s=i;es(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:hp(n),numReadonlySignedAccounts:hp(n),numReadonlyUnsignedAccounts:hp(n)},a=[],l=Ml(n);for(let m=0;m<l;m++)a.push(new nn(Bl(n,0,ag)));const c=Zo.encode(Bl(n,0,ag)),u=Ml(n),h=[];for(let m=0;m<u;m++){const g=hp(n),y=Ml(n),w=Bl(n,0,y),v=Ml(n),b=new Uint8Array(Bl(n,0,v));h.push({programIdIndex:g,accountKeyIndexes:w,data:b})}const f=Ml(n),p=[];for(let m=0;m<f;m++){const g=new nn(Bl(n,0,ag)),y=Ml(n),w=Bl(n,0,y),v=Ml(n),b=Bl(n,0,v);p.push({accountKey:g,writableIndexes:w,readonlyIndexes:b})}return new EI({header:o,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:h,addressTableLookups:p})}}const fY={deserializeMessageVersion(t){const e=t[0],n=e&hY;return n===e?"legacy":n},deserialize:t=>{const e=fY.deserializeMessageVersion(t);if(e==="legacy")return m3.from(t);if(e===0)return EI.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}},Aqt=yn.Buffer.alloc(vI).fill(0);class Cce{constructor(e){this.keys=void 0,this.programId=void 0,this.data=yn.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class AI{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Cce(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let g=0;g<n.length;g++)if(n[g].programId===void 0)throw new Error(`Transaction instruction index ${g} has undefined program id`);const i=[],s=[];n.forEach(g=>{g.keys.forEach(w=>{s.push({...w})});const y=g.programId.toString();i.includes(y)||i.push(y)}),i.forEach(g=>{s.push({pubkey:new nn(g),isSigner:!1,isWritable:!1})});const o=[];s.forEach(g=>{const y=g.pubkey.toString(),w=o.findIndex(v=>v.pubkey.toString()===y);w>-1?(o[w].isWritable=o[w].isWritable||g.isWritable,o[w].isSigner=o[w].isSigner||g.isSigner):o.push(g)}),o.sort(function(g,y){if(g.isSigner!==y.isSigner)return g.isSigner?-1:1;if(g.isWritable!==y.isWritable)return g.isWritable?-1:1;const w={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return g.pubkey.toBase58().localeCompare(y.pubkey.toBase58(),"en",w)});const a=o.findIndex(g=>g.pubkey.equals(r));if(a>-1){const[g]=o.splice(a,1);g.isSigner=!0,g.isWritable=!0,o.unshift(g)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const g of this.signatures){const y=o.findIndex(w=>w.pubkey.equals(g.publicKey));if(y>-1)o[y].isSigner||(o[y].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${g.publicKey.toString()}`)}let l=0,c=0,u=0;const h=[],f=[];o.forEach(({pubkey:g,isSigner:y,isWritable:w})=>{y?(h.push(g.toString()),l+=1,w||(c+=1)):(f.push(g.toString()),w||(u+=1))});const p=h.concat(f),m=n.map(g=>{const{data:y,programId:w}=g;return{programIdIndex:p.indexOf(w.toString()),accounts:g.keys.map(v=>p.indexOf(v.pubkey.toString())),data:Zo.encode(y)}});return m.forEach(g=>{es(g.programIdIndex>=0),g.accounts.forEach(y=>es(y>=0))}),new m3({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:p,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,s)=>n[s].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const s=U9e(r,i.secretKey);this._addSignature(i.publicKey,dY(s))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){es(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=yn.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(s):pqt(i,e,s.toBytes())||(r.invalid||(r.invalid=[])).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,n);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];Dl(r,n.length);const i=r.length+n.length*64+e.length,s=yn.Buffer.alloc(i);return es(n.length<256),yn.Buffer.from(r).copy(s,0),n.forEach(({signature:o},a)=>{o!==null&&(es(o.length===64,"signature has invalid length"),yn.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+n.length*64),es(s.length<=w2,`Transaction too large: ${s.length} > ${w2}`),s}get keys(){return es(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return es(this.instructions.length===1),this.instructions[0].programId}get data(){return es(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Ml(n);let i=[];for(let s=0;s<r;s++){const o=Bl(n,0,vI);i.push(Zo.encode(yn.Buffer.from(o)))}return AI.populate(m3.from(n),i)}static populate(e,n=[]){const r=new AI;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,s)=>{const o={signature:i==Zo.encode(Aqt)?null:Zo.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Cce({keys:s,programId:e.accountKeys[i.programIdIndex],data:Zo.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class pY{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)es(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(vI));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();Dl(n,this.signatures.length);const r=It([Br(n.length,"encodedSignaturesLength"),la(wqt(),this.signatures.length,"signatures"),Br(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let n=[...e];const r=[],i=Ml(n);for(let o=0;o<i;o++)r.push(new Uint8Array(Bl(n,0,vI)));const s=fY.deserialize(new Uint8Array(n));return new pY(s,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));es(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=U9e(n,i.secretKey)}}addSignature(e,n){es(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));es(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}}new nn("SysvarC1ock11111111111111111111111111111111");new nn("SysvarEpochSchedu1e111111111111111111111111");new nn("Sysvar1nstructions1111111111111111111111111");new nn("SysvarRecentB1ockHashes11111111111111111111");new nn("SysvarRent111111111111111111111111111111111");new nn("SysvarRewards111111111111111111111111111111");new nn("SysvarS1otHashes111111111111111111111111111");new nn("SysvarS1otHistory11111111111111111111111111");new nn("SysvarStakeHistory1111111111111111111111111");const Cqt=Rs("lamportsPerSignature"),kqt=It([Ot("version"),Ot("state"),Tn("authorizedPubkey"),Tn("nonce"),It([Cqt],"feeCalculator")]);kqt.span;function g3(t){const e=Br(8,t),n=e.decode.bind(e),r=e.encode.bind(e),i=e,s=BVt();return i.decode=(o,a)=>{const l=n(o,a);return s.decode(l)},i.encode=(o,a,l)=>{const c=s.encode(o);return r(c,a,l)},i}Object.freeze({Create:{index:0,layout:It([Ot("instruction"),Ol("lamports"),Ol("space"),Tn("programId")])},Assign:{index:1,layout:It([Ot("instruction"),Tn("programId")])},Transfer:{index:2,layout:It([Ot("instruction"),g3("lamports")])},CreateWithSeed:{index:3,layout:It([Ot("instruction"),Tn("base"),Mv("seed"),Ol("lamports"),Ol("space"),Tn("programId")])},AdvanceNonceAccount:{index:4,layout:It([Ot("instruction")])},WithdrawNonceAccount:{index:5,layout:It([Ot("instruction"),Ol("lamports")])},InitializeNonceAccount:{index:6,layout:It([Ot("instruction"),Tn("authorized")])},AuthorizeNonceAccount:{index:7,layout:It([Ot("instruction"),Tn("authorized")])},Allocate:{index:8,layout:It([Ot("instruction"),Ol("space")])},AllocateWithSeed:{index:9,layout:It([Ot("instruction"),Tn("base"),Mv("seed"),Ol("space"),Tn("programId")])},AssignWithSeed:{index:10,layout:It([Ot("instruction"),Tn("base"),Mv("seed"),Tn("programId")])},TransferWithSeed:{index:11,layout:It([Ot("instruction"),g3("lamports"),Mv("seed"),Tn("programId")])},UpgradeNonceAccount:{index:12,layout:It([Ot("instruction")])}});new nn("11111111111111111111111111111111");new nn("BPFLoader2111111111111111111111111111111111");It([Ot("typeIndex"),g3("deactivationSlot"),Rs("lastExtendedSlot"),Xn("lastExtendedStartIndex"),Xn(),la(Tn(),M1(Xn(),-1),"authority")]);const wi=$C(cY(nn),nt(),t=>new nn(t)),H9e=uY([nt(),ei("base64")]),mY=$C(cY(yn.Buffer),H9e,t=>yn.Buffer.from(t[0],"base64"));function V9e(t){return ma([Ke({jsonrpc:ei("2.0"),id:nt(),result:t}),Ke({jsonrpc:ei("2.0"),id:nt(),error:Ke({code:f5(),message:nt(),data:Rt(VVt())})})])}const Sqt=V9e(f5());function Tr(t){return $C(V9e(t),Sqt,e=>"error"in e?e:{...e,result:ME(e.result,t)})}function Od(t){return Tr(Ke({context:Ke({slot:Se()}),value:t}))}function pP(t){return Ke({context:Ke({slot:Se()}),value:t})}const _qt=Ke({foundation:Se(),foundationTerm:Se(),initial:Se(),taper:Se(),terminal:Se()});Tr(yt(wt(Ke({epoch:Se(),effectiveSlot:Se(),amount:Se(),postBalance:Se(),commission:Rt(wt(Se()))}))));const Iqt=yt(Ke({slot:Se(),prioritizationFee:Se()})),Tqt=Ke({total:Se(),validator:Se(),foundation:Se(),epoch:Se()}),$qt=Ke({epoch:Se(),slotIndex:Se(),slotsInEpoch:Se(),absoluteSlot:Se(),blockHeight:Rt(Se()),transactionCount:Rt(Se())}),Nqt=Ke({slotsPerEpoch:Se(),leaderScheduleSlotOffset:Se(),warmup:sf(),firstNormalEpoch:Se(),firstNormalSlot:Se()}),Pqt=M9e(nt(),yt(Se())),tb=wt(ma([Ke({}),nt()])),Rqt=Ke({err:tb}),jqt=ei("receivedSignature");Ke({"solana-core":nt(),"feature-set":Rt(Se())});const Oqt=Ke({program:nt(),programId:wi,parsed:f5()}),Mqt=Ke({programId:wi,accounts:yt(wi),data:nt()});Od(Ke({err:wt(ma([Ke({}),nt()])),logs:wt(yt(nt())),accounts:Rt(wt(yt(wt(Ke({executable:sf(),owner:nt(),lamports:Se(),data:yt(nt()),rentEpoch:Rt(Se())}))))),unitsConsumed:Rt(Se()),returnData:Rt(wt(Ke({programId:nt(),data:uY([nt(),ei("base64")])}))),innerInstructions:Rt(wt(yt(Ke({index:Se(),instructions:yt(ma([Oqt,Mqt]))}))))}));Od(Ke({byIdentity:M9e(nt(),yt(Se())),range:Ke({firstSlot:Se(),lastSlot:Se()})}));Tr(_qt);Tr(Tqt);Tr(Iqt);Tr($qt);Tr(Nqt);Tr(Pqt);Tr(Se());Od(Ke({total:Se(),circulating:Se(),nonCirculating:Se(),nonCirculatingAccounts:yt(wi)}));const Dqt=Ke({amount:nt(),uiAmount:wt(Se()),decimals:Se(),uiAmountString:Rt(nt())});Od(yt(Ke({address:wi,amount:nt(),uiAmount:wt(Se()),decimals:Se(),uiAmountString:Rt(nt())})));Od(yt(Ke({pubkey:wi,account:Ke({executable:sf(),owner:wi,lamports:Se(),data:mY,rentEpoch:Se()})})));const Hz=Ke({program:nt(),parsed:f5(),space:Se()});Od(yt(Ke({pubkey:wi,account:Ke({executable:sf(),owner:wi,lamports:Se(),data:Hz,rentEpoch:Se()})})));Od(yt(Ke({lamports:Se(),address:wi})));const gY=Ke({executable:sf(),owner:wi,lamports:Se(),data:mY,rentEpoch:Se()});Ke({pubkey:wi,account:gY});const Bqt=$C(ma([cY(yn.Buffer),Hz]),ma([H9e,Hz]),t=>Array.isArray(t)?ME(t,mY):t),Lqt=Ke({executable:sf(),owner:wi,lamports:Se(),data:Bqt,rentEpoch:Se()});Ke({pubkey:wi,account:Lqt});Ke({state:ma([ei("active"),ei("inactive"),ei("activating"),ei("deactivating")]),active:Se(),inactive:Se()});Tr(yt(Ke({signature:nt(),slot:Se(),err:tb,memo:wt(nt()),blockTime:Rt(wt(Se()))})));Tr(yt(Ke({signature:nt(),slot:Se(),err:tb,memo:wt(nt()),blockTime:Rt(wt(Se()))})));Ke({subscription:Se(),result:pP(gY)});const Fqt=Ke({pubkey:wi,account:gY});Ke({subscription:Se(),result:pP(Fqt)});const Uqt=Ke({parent:Se(),slot:Se(),root:Se()});Ke({subscription:Se(),result:Uqt});const zqt=ma([Ke({type:ma([ei("firstShredReceived"),ei("completed"),ei("optimisticConfirmation"),ei("root")]),slot:Se(),timestamp:Se()}),Ke({type:ei("createdBank"),parent:Se(),slot:Se(),timestamp:Se()}),Ke({type:ei("frozen"),slot:Se(),timestamp:Se(),stats:Ke({numTransactionEntries:Se(),numSuccessfulTransactions:Se(),numFailedTransactions:Se(),maxTransactionsPerEntry:Se()})}),Ke({type:ei("dead"),slot:Se(),timestamp:Se(),err:nt()})]);Ke({subscription:Se(),result:zqt});Ke({subscription:Se(),result:pP(ma([Rqt,jqt]))});Ke({subscription:Se(),result:Se()});Ke({pubkey:nt(),gossip:wt(nt()),tpu:wt(nt()),rpc:wt(nt()),version:wt(nt())});const kce=Ke({votePubkey:nt(),nodePubkey:nt(),activatedStake:Se(),epochVoteAccount:sf(),epochCredits:yt(uY([Se(),Se(),Se()])),commission:Se(),lastVote:Se(),rootSlot:wt(Se())});Tr(Ke({current:yt(kce),delinquent:yt(kce)}));const Wqt=ma([ei("processed"),ei("confirmed"),ei("finalized")]),Hqt=Ke({slot:Se(),confirmations:wt(Se()),err:tb,confirmationStatus:Rt(Wqt)});Od(yt(wt(Hqt)));Tr(Se());const q9e=Ke({accountKey:wi,writableIndexes:yt(Se()),readonlyIndexes:yt(Se())}),yY=Ke({signatures:yt(nt()),message:Ke({accountKeys:yt(nt()),header:Ke({numRequiredSignatures:Se(),numReadonlySignedAccounts:Se(),numReadonlyUnsignedAccounts:Se()}),instructions:yt(Ke({accounts:yt(Se()),data:nt(),programIdIndex:Se()})),recentBlockhash:nt(),addressTableLookups:Rt(yt(q9e))})}),G9e=Ke({pubkey:wi,signer:sf(),writable:sf(),source:Rt(ma([ei("transaction"),ei("lookupTable")]))}),K9e=Ke({accountKeys:yt(G9e),signatures:yt(nt())}),Y9e=Ke({parsed:f5(),program:nt(),programId:wi}),Q9e=Ke({accounts:yt(wi),data:nt(),programId:wi}),Vqt=ma([Q9e,Y9e]),qqt=ma([Ke({parsed:f5(),program:nt(),programId:nt()}),Ke({accounts:yt(nt()),data:nt(),programId:nt()})]),Z9e=$C(Vqt,qqt,t=>"accounts"in t?ME(t,Q9e):ME(t,Y9e)),J9e=Ke({signatures:yt(nt()),message:Ke({accountKeys:yt(G9e),instructions:yt(Z9e),recentBlockhash:nt(),addressTableLookups:Rt(wt(yt(q9e)))})}),CI=Ke({accountIndex:Se(),mint:nt(),owner:Rt(nt()),programId:Rt(nt()),uiTokenAmount:Dqt}),X9e=Ke({writable:yt(wi),readonly:yt(wi)}),mP=Ke({err:tb,fee:Se(),innerInstructions:Rt(wt(yt(Ke({index:Se(),instructions:yt(Ke({accounts:yt(Se()),data:nt(),programIdIndex:Se()}))})))),preBalances:yt(Se()),postBalances:yt(Se()),logMessages:Rt(wt(yt(nt()))),preTokenBalances:Rt(wt(yt(CI))),postTokenBalances:Rt(wt(yt(CI))),loadedAddresses:Rt(X9e),computeUnitsConsumed:Rt(Se()),costUnits:Rt(Se())}),wY=Ke({err:tb,fee:Se(),innerInstructions:Rt(wt(yt(Ke({index:Se(),instructions:yt(Z9e)})))),preBalances:yt(Se()),postBalances:yt(Se()),logMessages:Rt(wt(yt(nt()))),preTokenBalances:Rt(wt(yt(CI))),postTokenBalances:Rt(wt(yt(CI))),loadedAddresses:Rt(X9e),computeUnitsConsumed:Rt(Se()),costUnits:Rt(Se())}),p5=ma([ei(0),ei("legacy")]),nb=Ke({pubkey:nt(),lamports:Se(),postBalance:wt(Se()),rewardType:wt(nt()),commission:Rt(wt(Se()))});Tr(wt(Ke({blockhash:nt(),previousBlockhash:nt(),parentSlot:Se(),transactions:yt(Ke({transaction:yY,meta:wt(mP),version:Rt(p5)})),rewards:Rt(yt(nb)),blockTime:wt(Se()),blockHeight:wt(Se())})));Tr(wt(Ke({blockhash:nt(),previousBlockhash:nt(),parentSlot:Se(),rewards:Rt(yt(nb)),blockTime:wt(Se()),blockHeight:wt(Se())})));Tr(wt(Ke({blockhash:nt(),previousBlockhash:nt(),parentSlot:Se(),transactions:yt(Ke({transaction:K9e,meta:wt(mP),version:Rt(p5)})),rewards:Rt(yt(nb)),blockTime:wt(Se()),blockHeight:wt(Se())})));Tr(wt(Ke({blockhash:nt(),previousBlockhash:nt(),parentSlot:Se(),transactions:yt(Ke({transaction:J9e,meta:wt(wY),version:Rt(p5)})),rewards:Rt(yt(nb)),blockTime:wt(Se()),blockHeight:wt(Se())})));Tr(wt(Ke({blockhash:nt(),previousBlockhash:nt(),parentSlot:Se(),transactions:yt(Ke({transaction:K9e,meta:wt(wY),version:Rt(p5)})),rewards:Rt(yt(nb)),blockTime:wt(Se()),blockHeight:wt(Se())})));Tr(wt(Ke({blockhash:nt(),previousBlockhash:nt(),parentSlot:Se(),rewards:Rt(yt(nb)),blockTime:wt(Se()),blockHeight:wt(Se())})));Tr(wt(Ke({blockhash:nt(),previousBlockhash:nt(),parentSlot:Se(),transactions:yt(Ke({transaction:yY,meta:wt(mP)})),rewards:Rt(yt(nb)),blockTime:wt(Se())})));Tr(wt(Ke({blockhash:nt(),previousBlockhash:nt(),parentSlot:Se(),signatures:yt(nt()),blockTime:wt(Se())})));Tr(wt(Ke({slot:Se(),meta:wt(mP),blockTime:Rt(wt(Se())),transaction:yY,version:Rt(p5)})));Tr(wt(Ke({slot:Se(),transaction:J9e,meta:wt(wY),blockTime:Rt(wt(Se())),version:Rt(p5)})));Od(Ke({blockhash:nt(),lastValidBlockHeight:Se()}));Od(sf());const Gqt=Ke({slot:Se(),numTransactions:Se(),numSlots:Se(),samplePeriodSecs:Se()});Tr(yt(Gqt));Od(wt(Ke({feeCalculator:Ke({lamportsPerSignature:Se()})})));Tr(nt());Tr(nt());const Kqt=Ke({err:tb,logs:yt(nt()),signature:nt()});Ke({result:pP(Kqt),subscription:Se()});Object.freeze({CreateLookupTable:{index:0,layout:It([Ot("instruction"),g3("recentSlot"),Xn("bumpSeed")])},FreezeLookupTable:{index:1,layout:It([Ot("instruction")])},ExtendLookupTable:{index:2,layout:It([Ot("instruction"),g3(),la(Tn(),M1(Ot(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:It([Ot("instruction")])},CloseLookupTable:{index:4,layout:It([Ot("instruction")])}});new nn("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:It([Xn("instruction"),Ot("units"),Ot("additionalFee")])},RequestHeapFrame:{index:1,layout:It([Xn("instruction"),Ot("bytes")])},SetComputeUnitLimit:{index:2,layout:It([Xn("instruction"),Ot("units")])},SetComputeUnitPrice:{index:3,layout:It([Xn("instruction"),g3("microLamports")])}});new nn("ComputeBudget111111111111111111111111111111");It([Xn("numSignatures"),Xn("padding"),Lc("signatureOffset"),Lc("signatureInstructionIndex"),Lc("publicKeyOffset"),Lc("publicKeyInstructionIndex"),Lc("messageDataOffset"),Lc("messageDataSize"),Lc("messageInstructionIndex")]);new nn("Ed25519SigVerify111111111111111111111111111");fqt.utils.isValidPrivateKey;It([Xn("numSignatures"),Lc("signatureOffset"),Xn("signatureInstructionIndex"),Lc("ethAddressOffset"),Xn("ethAddressInstructionIndex"),Lc("messageDataOffset"),Lc("messageDataSize"),Xn("messageInstructionIndex"),Br(20,"ethAddress"),Br(64,"signature"),Xn("recoveryId")]);new nn("KeccakSecp256k11111111111111111111111111111");var eSe;new nn("StakeConfig11111111111111111111111111111111");class tSe{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}eSe=tSe;tSe.default=new eSe(0,0,nn.default);Object.freeze({Initialize:{index:0,layout:It([Ot("instruction"),bqt(),vqt()])},Authorize:{index:1,layout:It([Ot("instruction"),Tn("newAuthorized"),Ot("stakeAuthorizationType")])},Delegate:{index:2,layout:It([Ot("instruction")])},Split:{index:3,layout:It([Ot("instruction"),Ol("lamports")])},Withdraw:{index:4,layout:It([Ot("instruction"),Ol("lamports")])},Deactivate:{index:5,layout:It([Ot("instruction")])},Merge:{index:7,layout:It([Ot("instruction")])},AuthorizeWithSeed:{index:8,layout:It([Ot("instruction"),Tn("newAuthorized"),Ot("stakeAuthorizationType"),Mv("authoritySeed"),Tn("authorityOwner")])}});new nn("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:It([Ot("instruction"),xqt()])},Authorize:{index:1,layout:It([Ot("instruction"),Tn("newAuthorized"),Ot("voteAuthorizationType")])},Withdraw:{index:3,layout:It([Ot("instruction"),Ol("lamports")])},UpdateValidatorIdentity:{index:4,layout:It([Ot("instruction")])},AuthorizeWithSeed:{index:10,layout:It([Ot("instruction"),Eqt()])}});new nn("Vote111111111111111111111111111111111111111");new nn("Va1idator1nfo111111111111111111111111111111");Ke({name:nt(),website:Rt(nt()),details:Rt(nt()),iconUrl:Rt(nt()),keybaseUsername:Rt(nt())});new nn("Vote111111111111111111111111111111111111111");It([Tn("nodePubkey"),Tn("authorizedWithdrawer"),Xn("commission"),Rs(),la(It([Rs("slot"),Ot("confirmationCount")]),M1(Ot(),-8),"votes"),Xn("rootSlotValid"),Rs("rootSlot"),Rs(),la(It([Rs("epoch"),Tn("authorizedVoter")]),M1(Ot(),-8),"authorizedVoters"),It([la(It([Tn("authorizedPubkey"),Rs("epochOfLastAuthorizedSwitch"),Rs("targetEpoch")]),32,"buf"),Rs("idx"),Xn("isEmpty")],"priorVoters"),Rs(),la(It([Rs("epoch"),Rs("credits"),Rs("prevCredits")]),M1(Ot(),-8),"epochCredits"),It([Rs("slot"),Rs("timestamp")],"lastTimestamp")]);const Yqt=t=>({request:t,signMessage:e=>t({method:"signMessage",params:{message:e}}),signTransaction:e=>t({method:"signTransaction",params:{transaction:e}}),signAndSendTransaction:e=>t({method:"signAndSendTransaction",params:e})});function Sce(t){return Buffer.from(t.serialize({verifySignatures:!1})).toString("base64")}function Qqt(t){const e=Buffer.from(t,"base64");return fY.deserializeMessageVersion(e)==="legacy"?pY.deserialize(e):AI.from(e)}function Zqt(t){return async n=>{if(n.method==="connect")return await t(n);if(n.method==="signMessage")return await t(n);if(n.method==="signAndSendTransaction"){const{transaction:r}=n.params,i={transaction:Sce(r)};return await t({method:"signAndSendTransaction",params:i})}if(n.method==="signTransaction"){const{transaction:r}=n.params,i={transaction:Sce(r)},{signedTransaction:s}=await t({method:"signTransaction",params:i});return{signedTransaction:Qqt(s)}}}}const Jqt=({miniAppHost:t,emitter:e})=>{let n,r=null;return{visible:!1,get onback(){return r},set onback(i){r&&e.removeListener("backNavigationTriggered",r),r=i,i&&e.addListener("backNavigationTriggered",i)},async show(){await t.updateBackState({visible:!0}),this.visible=!0},async hide(){await t.updateBackState({visible:!1}),this.visible=!1},async enableWebNavigation(){n=Xqt({back:this,emitter:e})},async disableWebNavigation(){n==null||n(),n=void 0}}};function Xqt({emitter:t,back:e}){const n=eGt();if(n)return tGt({emitter:t,back:e,navigation:n});if(typeof window<"u")return nGt({emitter:t,back:e,window})}function eGt(){if(typeof window<"u"&&window.navigation!==void 0)return window.navigation}function tGt({emitter:t,back:e,navigation:n}){function r(){n.canGoBack?e.show():e.hide()}function i(){e.visible&&n.canGoBack&&n.back()}return n.addEventListener("navigatesuccess",r),t.addListener("backNavigationTriggered",i),()=>{n.removeEventListener("navigatesuccess",r),t.removeListener("backNavigationTriggered",i)}}function nGt({emitter:t,back:e,window:n}){e.show();function r(){e.visible&&n.history.back()}return t.addListener("backNavigationTriggered",r),()=>{t.removeListener("backNavigationTriggered",r)}}var nSe={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,h||l,f),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},a.prototype.listenerCount=function(c){var u=n?n+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,f,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],w=arguments.length,v,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,h),!0;case 4:return y.fn.call(y.context,u,h,f),!0;case 5:return y.fn.call(y.context,u,h,f,p),!0;case 6:return y.fn.call(y.context,u,h,f,p,m),!0}for(b=1,v=new Array(w-1);b<w;b++)v[b-1]=arguments[b];y.fn.apply(y.context,v)}else{var A=y.length,E;for(b=0;b<A;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),w){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,h);break;case 4:y[b].fn.call(y[b].context,u,h,f);break;default:if(!v)for(E=1,v=new Array(w-1);E<w;E++)v[E-1]=arguments[E];y[b].fn.apply(y[b].context,v)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,f){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!h||m.context===h)&&o(this,p);else{for(var g=0,y=[],w=m.length;g<w;g++)(m[g].fn!==u||f&&!m[g].once||h&&m[g].context!==h)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(nSe);var rGt=nSe.exports;const rSe=Ks(rGt),iGt="0.1.1";function sGt(){return iGt}let oGt=class Vz extends Error{constructor(e,n={}){const r=(()=>{var l;if(n.cause instanceof Vz){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),i=n.cause instanceof Vz&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${sGt()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return iSe(this,e)}};function iSe(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?iSe(t.cause,e):e?null:t}function sSe(t,e={}){const{raw:n=!1}=e,r=t;if(n)return t;if(r.error){const{code:i}=r.error,s=i===y3.code?y3:i===DE.code?DE:i===qE.code?qE:i===HE.code?HE:i===zE.code?zE:i===VE.code?VE:i===UE.code?UE:i===GE.code?GE:i===BE.code?BE:i===LE.code?LE:i===FE.code?FE:i===WE.code?WE:hl;throw new s(r.error)}return r.result}let hl=class extends Error{constructor(e){const{code:n,message:r,data:i}=e;super(r),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.BaseError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n,this.data=i}};class DE extends hl{constructor(e={}){super({message:"Missing or invalid parameters.",...e,code:DE.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidInputError"})}}Object.defineProperty(DE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class BE extends hl{constructor(e={}){super({message:"Requested resource not found.",...e,code:BE.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceNotFoundError"})}}Object.defineProperty(BE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class LE extends hl{constructor(e={}){super({message:"Requested resource not available.",...e,code:LE.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceUnavailableError"})}}Object.defineProperty(LE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class FE extends hl{constructor(e={}){super({message:"Transaction creation failed.",...e,code:FE.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.TransactionRejectedError"})}}Object.defineProperty(FE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class UE extends hl{constructor(e={}){super({message:"Method is not implemented.",...e,code:UE.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotSupportedError"})}}Object.defineProperty(UE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class zE extends hl{constructor(e={}){super({message:"Rate limit exceeded.",...e,code:zE.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.LimitExceededError"})}}Object.defineProperty(zE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class WE extends hl{constructor(e={}){super({message:"JSON-RPC version not supported.",...e,code:WE.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.VersionNotSupportedError"})}}Object.defineProperty(WE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class HE extends hl{constructor(e={}){super({message:"Input is not a valid JSON-RPC request.",...e,code:HE.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidRequestError"})}}Object.defineProperty(HE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class VE extends hl{constructor(e={}){super({message:"Method does not exist.",...e,code:VE.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotFoundError"})}}Object.defineProperty(VE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class qE extends hl{constructor(e={}){super({message:"Invalid method parameters.",...e,code:qE.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidParamsError"})}}Object.defineProperty(qE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class y3 extends hl{constructor(e={}){super({message:"Internal JSON-RPC error.",...e,code:y3.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InternalErrorError"})}}Object.defineProperty(y3,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class GE extends hl{constructor(e={}){super({message:"Failed to parse JSON-RPC response.",...e,code:GE.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ParseError"})}}Object.defineProperty(GE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class rb extends Error{constructor(e,n){super(n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e,this.details=n}}class oSe extends rb{constructor({message:e="The user rejected the request."}={}){super(4001,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UserRejectedRequestError"})}}Object.defineProperty(oSe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class aSe extends rb{constructor({message:e="The requested method and/or account has not been authorized by the user."}={}){super(4100,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnauthorizedError"})}}Object.defineProperty(aSe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class lSe extends rb{constructor({message:e="The provider does not support the requested method."}={}){super(4200,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedMethodError"})}}Object.defineProperty(lSe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class cSe extends rb{constructor({message:e="The provider is disconnected from all chains."}={}){super(4900,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DisconnectedError"})}}Object.defineProperty(cSe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class uSe extends rb{constructor({message:e="The provider is not connected to the requested chain."}={}){super(4901,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.ChainDisconnectedError"})}}Object.defineProperty(uSe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});function aGt(){const t=new rSe;return{get eventNames(){return t.eventNames.bind(t)},get listenerCount(){return t.listenerCount.bind(t)},get listeners(){return t.listeners.bind(t)},addListener:t.addListener.bind(t),emit:t.emit.bind(t),off:t.off.bind(t),on:t.on.bind(t),once:t.once.bind(t),removeAllListeners:t.removeAllListeners.bind(t),removeListener:t.removeListener.bind(t)}}function lGt(t,e={}){var r,i;const{includeEvents:n=!0}=e;if(!t)throw new cGt;return{...n?{on:(r=t.on)==null?void 0:r.bind(t),removeListener:(i=t.removeListener)==null?void 0:i.bind(t)}:{},async request(s){const o=await t.request(s);return o&&typeof o=="object"&&"jsonrpc"in o?sSe(o):o}}}class cGt extends oGt{constructor(){super("`provider` is undefined."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.IsUndefinedError"})}}function uGt(t={}){let e=t.id??0;return{prepare(n){return dGt({id:e++,...n})},get id(){return e}}}function dGt(t){return{...t,jsonrpc:"2.0"}}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dSe=Symbol("Comlink.proxy"),hGt=Symbol("Comlink.endpoint"),fGt=Symbol("Comlink.releaseProxy"),UM=Symbol("Comlink.finalizer"),jS=Symbol("Comlink.thrown"),hSe=t=>typeof t=="object"&&t!==null||typeof t=="function",pGt={canHandle:t=>hSe(t)&&t[dSe],serialize(t){const{port1:e,port2:n}=new MessageChannel;return pSe(t,e),[n,[n]]},deserialize(t){return t.start(),gSe(t)}},mGt={canHandle:t=>hSe(t)&&jS in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},fSe=new Map([["proxy",pGt],["throw",mGt]]);function gGt(t,e){for(const n of t)if(e===n||n==="*"||n instanceof RegExp&&n.test(e))return!0;return!1}function pSe(t,e=globalThis,n=["*"]){e.addEventListener("message",function r(i){if(!i||!i.data)return;if(!gGt(n,i.origin)){console.warn(`Invalid origin '${i.origin}' for comlink proxy`);return}const{id:s,type:o,path:a}=Object.assign({path:[]},i.data),l=(i.data.argumentList||[]).map(Ey);let c;try{const u=a.slice(0,-1).reduce((f,p)=>f[p],t),h=a.reduce((f,p)=>f[p],t);switch(o){case"GET":c=h;break;case"SET":u[a.slice(-1)[0]]=Ey(i.data.value),c=!0;break;case"APPLY":c=h.apply(u,l);break;case"CONSTRUCT":{const f=new h(...l);c=EGt(f)}break;case"ENDPOINT":{const{port1:f,port2:p}=new MessageChannel;pSe(t,p),c=xGt(f,[f])}break;case"RELEASE":c=void 0;break;default:return}}catch(u){c={value:u,[jS]:0}}Promise.resolve(c).catch(u=>({value:u,[jS]:0})).then(u=>{const[h,f]=_I(u);e.postMessage(Object.assign(Object.assign({},h),{id:s}),f),o==="RELEASE"&&(e.removeEventListener("message",r),mSe(e),UM in t&&typeof t[UM]=="function"&&t[UM]())}).catch(u=>{const[h,f]=_I({value:new TypeError("Unserializable return value"),[jS]:0});e.postMessage(Object.assign(Object.assign({},h),{id:s}),f)})}),e.start&&e.start()}function yGt(t){return t.constructor.name==="MessagePort"}function mSe(t){yGt(t)&&t.close()}function gSe(t,e){const n=new Map;return t.addEventListener("message",function(i){const{data:s}=i;if(!s||!s.id)return;const o=n.get(s.id);if(o)try{o(s)}finally{n.delete(s.id)}}),qz(t,n,[],e)}function m9(t){if(t)throw new Error("Proxy has been released and is not useable")}function ySe(t){return Xb(t,new Map,{type:"RELEASE"}).then(()=>{mSe(t)})}const kI=new WeakMap,SI="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{const e=(kI.get(t)||0)-1;kI.set(t,e),e===0&&ySe(t)});function wGt(t,e){const n=(kI.get(e)||0)+1;kI.set(e,n),SI&&SI.register(t,e,t)}function bGt(t){SI&&SI.unregister(t)}function qz(t,e,n=[],r=function(){}){let i=!1;const s=new Proxy(r,{get(o,a){if(m9(i),a===fGt)return()=>{bGt(s),ySe(t),e.clear(),i=!0};if(a==="then"){if(n.length===0)return{then:()=>s};const l=Xb(t,e,{type:"GET",path:n.map(c=>c.toString())}).then(Ey);return l.then.bind(l)}return qz(t,e,[...n,a])},set(o,a,l){m9(i);const[c,u]=_I(l);return Xb(t,e,{type:"SET",path:[...n,a].map(h=>h.toString()),value:c},u).then(Ey)},apply(o,a,l){m9(i);const c=n[n.length-1];if(c===hGt)return Xb(t,e,{type:"ENDPOINT"}).then(Ey);if(c==="bind")return qz(t,e,n.slice(0,-1));const[u,h]=_ce(l);return Xb(t,e,{type:"APPLY",path:n.map(f=>f.toString()),argumentList:u},h).then(Ey)},construct(o,a){m9(i);const[l,c]=_ce(a);return Xb(t,e,{type:"CONSTRUCT",path:n.map(u=>u.toString()),argumentList:l},c).then(Ey)}});return wGt(s,t),s}function vGt(t){return Array.prototype.concat.apply([],t)}function _ce(t){const e=t.map(_I);return[e.map(n=>n[0]),vGt(e.map(n=>n[1]))]}const wSe=new WeakMap;function xGt(t,e){return wSe.set(t,e),t}function EGt(t){return Object.assign(t,{[dSe]:!0})}function AGt(t,e=globalThis,n="*"){return{postMessage:(r,i)=>t.postMessage(r,n,i),addEventListener:e.addEventListener.bind(e),removeEventListener:e.removeEventListener.bind(e)}}function _I(t){for(const[e,n]of fSe)if(n.canHandle(t)){const[r,i]=n.serialize(t);return[{type:"HANDLER",name:e,value:r},i]}return[{type:"RAW",value:t},wSe.get(t)||[]]}function Ey(t){switch(t.type){case"HANDLER":return fSe.get(t.name).deserialize(t.value);case"RAW":return t.value}}function Xb(t,e,n,r){return new Promise(i=>{const s=CGt();e.set(s,i),t.start&&t.start(),t.postMessage(Object.assign({id:s},n),r)})}function CGt(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}const kGt={postMessage(){},addEventListener:()=>{},removeEventListener:()=>{}},SGt={postMessage:t=>{window.ReactNativeWebView.postMessage(JSON.stringify(t))},addEventListener:(t,e,...n)=>{document.addEventListener("FarcasterFrameCallback",e,...n)},removeEventListener:(t,e)=>{document.removeEventListener("FarcasterFrameCallback",e)}},_Gt=typeof window>"u"?kGt:window!=null&&window.ReactNativeWebView?SGt:AGt((window==null?void 0:window.parent)??window),tn=gSe(_Gt),bY=aGt(),IGt=uGt();function TGt({code:t,details:e}){switch(t){case 4001:return new oSe;case 4100:return new aSe;case 4200:return new lSe;case 4900:return new cSe;case 4901:return new uSe;default:return new rb(t,e??"Unknown provider RPC error")}}const KE=lGt({...bY,async request(t){const e=IGt.prepare(t);try{const n=await tn.ethProviderRequestV2(e).then(r=>sSe(r,{request:e,raw:!0}));if(n.error)throw TGt(n.error);return n.result}catch(n){if(n instanceof Error&&n.message.match(/cannot read property 'apply'/i))return await tn.ethProviderRequest(e);throw n instanceof rb||n instanceof hl?n:new y3({message:n instanceof Error?n.message:void 0})}}});async function $Gt(){try{const t=await tn.getCapabilities();return!t.includes("wallet.getEthereumProvider")&&!t.includes("wallet.getEvmProvider")?void 0:KE}catch{return KE}}function bSe(t){const e=new CustomEvent("eip6963:announceProvider",{detail:Object.freeze(t)});window.dispatchEvent(e);const n=()=>window.dispatchEvent(e);return window.addEventListener("eip6963:requestProvider",n),()=>window.removeEventListener("eip6963:requestProvider",n)}typeof document<"u"&&(document.addEventListener("eip6963:requestProvider",()=>{tn.eip6963RequestProvider()}),document.addEventListener("FarcasterFrameEthProviderEvent",t=>{if(t instanceof MessageEvent){const e=t.data;bY.emit(e.event,...e.params)}}),document.addEventListener("FarcasterFrameEvent",t=>{if(t instanceof MessageEvent){const e=t.data;e.event==="eip6963:announceProvider"&&bSe({info:e.info,provider:KE})}}));typeof window<"u"&&(window.addEventListener("eip6963:requestProvider",()=>{tn.eip6963RequestProvider()}),window.addEventListener("message",t=>{if(t instanceof MessageEvent&&t.data.type==="frameEthProviderEvent"){const e=t.data;bY.emit(e.event,...e.params)}}),window.addEventListener("message",t=>{if(t instanceof MessageEvent&&t.data.type==="frameEvent"){const e=t.data.event;e.event==="eip6963:announceProvider"&&bSe({info:e.info,provider:KE})}}));new TextEncoder;const vSe=new TextDecoder,NGt=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},PGt=t=>{let e=t;e instanceof Uint8Array&&(e=vSe.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return NGt(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}},RGt=PGt;function jGt(t){return typeof t=="object"&&t!==null}function OGt(t){if(!jGt(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}class xa extends Error{constructor(e,n){var r;super(e,n),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}xa.code="ERR_JOSE_GENERIC";class MGt extends xa{constructor(e,n,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=i,this.payload=n}}MGt.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class DGt extends xa{constructor(e,n,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=i,this.payload=n}}DGt.code="ERR_JWT_EXPIRED";class BGt extends xa{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}BGt.code="ERR_JOSE_ALG_NOT_ALLOWED";class LGt extends xa{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}LGt.code="ERR_JOSE_NOT_SUPPORTED";class FGt extends xa{constructor(e="decryption operation failed",n){super(e,n),this.code="ERR_JWE_DECRYPTION_FAILED"}}FGt.code="ERR_JWE_DECRYPTION_FAILED";class UGt extends xa{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}UGt.code="ERR_JWE_INVALID";class zGt extends xa{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}zGt.code="ERR_JWS_INVALID";class G0 extends xa{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}G0.code="ERR_JWT_INVALID";class WGt extends xa{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}WGt.code="ERR_JWK_INVALID";class HGt extends xa{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}HGt.code="ERR_JWKS_INVALID";class VGt extends xa{constructor(e="no applicable key found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_NO_MATCHING_KEY"}}VGt.code="ERR_JWKS_NO_MATCHING_KEY";class qGt extends xa{constructor(e="multiple matching keys found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}qGt.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class GGt extends xa{constructor(e="request timed out",n){super(e,n),this.code="ERR_JWKS_TIMEOUT"}}GGt.code="ERR_JWKS_TIMEOUT";class KGt extends xa{constructor(e="signature verification failed",n){super(e,n),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}KGt.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function YGt(t){if(typeof t!="string")throw new G0("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:n}=t.split(".");if(n===5)throw new G0("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new G0("Invalid JWT");if(!e)throw new G0("JWTs must contain a payload");let r;try{r=RGt(e)}catch{throw new G0("Failed to base64url decode the payload")}let i;try{i=JSON.parse(vSe.decode(r))}catch{throw new G0("Failed to parse the decoded payload as JSON")}if(!OGt(i))throw new G0("Invalid JWT Claims Set");return i}function QGt(t){return YGt(t)}class gP extends Error{constructor(e,n={}){const r=(()=>{var s;if(n.cause instanceof gP){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(s=n.cause)!=null&&s.message?n.cause.message:n.details})(),i=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r?["",r?`Details: ${r}`:void 0]:[]].filter(s=>typeof s=="string").join(`
`);super(i,n.cause?{cause:n.cause}:void 0),this.name="BaseError",this.cause=n.cause,this.details=r,this.shortMessage=e}}class xSe extends gP{constructor({status:e}){super(`Request failed with status ${e}`),this.name="RequestFailedError"}}class ZGt extends gP{constructor(e){super(e),this.name="InvalidToken"}}async function JGt({origin:t}){const e=await fetch(`${t}/nonce`,{method:"POST"});if(!e.ok)throw new xSe({status:e.status});return await e.json()}async function XGt({origin:t},e){const n=await fetch(`${t}/verify-siwf`,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)});if(!n.ok)throw new xSe({status:n.status});const r=await n.json();if(r.valid===!1)throw new ZGt(r.message??"unknown");return{token:r.token}}function eKt(t={}){return{origin:t.origin??"https://auth.farcaster.xyz"}}function tKt(t={}){const e=eKt(t);return{generateNonce:()=>JGt(e),verifySiwf:n=>XGt(e,n)}}const nKt=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,rKt=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function iKt(t){var h,f,p;const{scheme:e,statement:n,...r}=((h=t.match(nKt))==null?void 0:h.groups)??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:l,...c}=((f=t.match(rKt))==null?void 0:f.groups)??{},u=(p=t.split("Resources:")[1])==null?void 0:p.split(`
- `).slice(1);return{...r,...c,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...l?{requestId:l}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const Ice=(()=>{let t,e;async function n(r){const i=tKt({origin:r.quickAuthServerOrigin}),{nonce:s}=await i.generateNonce(),o=await tn.signIn({nonce:s,acceptAuthAddress:!0});if(o.result){const a=iKt(o.result.message);if(!a.domain)throw new Error("Missing domain on SIWE message");const l=await i.verifySiwf({domain:a.domain,message:o.result.message,signature:o.result.signature});return t={token:l.token,payload:QGt(l.token)},l}throw o.error.type==="rejected_by_user"?new Fke:new Error("Unreachable")}return{get token(){if(t&&new Date(t.payload.exp*1e3)>new Date(Date.now()+15e3))return t.token},async getToken(r={}){const i=r.force??!1;return t&&!i&&new Date(t.payload.exp*1e3)>new Date(Date.now()+15e3)?{token:t.token}:(e||(e=n(r)),e.finally(()=>{e=void 0}),e)},async fetch(r,i){const{token:s}=await this.getToken(),o=new Headers(i==null?void 0:i.headers);return o.set("Authorization",`Bearer ${s}`),fetch(r,{...i,headers:o})}}})();function sKt(){const t=new rSe;return{get eventNames(){return t.eventNames.bind(t)},get listenerCount(){return t.listenerCount.bind(t)},get listeners(){return t.listeners.bind(t)},addListener:t.addListener.bind(t),emit:t.emit.bind(t),off:t.off.bind(t),on:t.on.bind(t),once:t.once.bind(t),removeAllListeners:t.removeAllListeners.bind(t),removeListener:t.removeListener.bind(t)}}const Co=sKt(),{solanaProviderRequest:Tce}=tn;let ESe;Tce&&(ESe=Yqt(Zqt(Tce)));async function $ce(){let t;try{t=await tn.getCapabilities()}catch{}if(t!=null&&t.includes("wallet.getSolanaProvider"))return ESe}let Nce=null;async function oKt(t=1e3){if(Nce===!0)return!0;if(typeof window>"u"||!window.ReactNativeWebView&&window===window.parent)return!1;const e=await Promise.race([tn.context.then(n=>!!n),new Promise(n=>{setTimeout(()=>n(!1),t)})]).catch(()=>!1);return e&&(Nce=!0),e}const Pce=async()=>{const t=await tn.addFrame();if(t.result)return t.result;throw t.error.type==="invalid_domain_manifest"?new _zt:t.error.type==="rejected_by_user"?new Izt:new Error("Unreachable")},ASe={...Co,getCapabilities:tn.getCapabilities,getChains:tn.getChains,isInMiniApp:oKt,context:tn.context,back:Jqt({miniAppHost:tn,emitter:Co}),quickAuth:Ice,actions:{setPrimaryButton:tn.setPrimaryButton.bind(tn),ready:async(t={})=>await tn.ready(t),close:tn.close.bind(tn),viewCast:tn.viewCast.bind(tn),viewProfile:tn.viewProfile.bind(tn),openMiniApp:tn.openMiniApp.bind(tn),signIn:async t=>{const e=await tn.signIn({...t,acceptAuthAddress:t.acceptAuthAddress??!0});if(e.result)return e.result;throw e.error.type==="rejected_by_user"?new Fke:new Error("Unreachable")},openUrl:t=>{const e=typeof t=="string"?t:t.url;return tn.openUrl(e.trim())},addFrame:Pce,addMiniApp:Pce,composeCast(t={}){return tn.composeCast(t)},viewToken:tn.viewToken.bind(tn),sendToken:tn.sendToken.bind(tn),swapToken:tn.swapToken.bind(tn),requestCameraAndMicrophoneAccess:tn.requestCameraAndMicrophoneAccess.bind(tn)},experimental:{getSolanaProvider:$ce,signManifest:async t=>{const e=await tn.signManifest(t);if(e.result)return e.result;throw e.error.type==="rejected_by_user"?new Tzt:e.error.type==="invalid_domain"?new $zt:e.error.type==="generic_error"?new Nzt(e.error.message):new Error("Unreachable")},quickAuth(t){return Ice.getToken(t)}},wallet:{ethProvider:KE,getEthereumProvider:$Gt,getSolanaProvider:$ce},haptics:{impactOccurred:tn.impactOccurred.bind(tn),notificationOccurred:tn.notificationOccurred.bind(tn),selectionChanged:tn.selectionChanged.bind(tn)}};typeof document<"u"&&document.addEventListener("FarcasterFrameEvent",t=>{if(t instanceof MessageEvent){const e=t.data;e.event==="primary_button_clicked"?Co.emit("primaryButtonClicked"):e.event==="miniapp_added"?Co.emit("miniAppAdded",{notificationDetails:e.notificationDetails}):e.event==="miniapp_add_rejected"?Co.emit("miniAppAddRejected",{reason:e.reason}):e.event==="miniapp_removed"?Co.emit("miniAppRemoved"):e.event==="notifications_enabled"?Co.emit("notificationsEnabled",{notificationDetails:e.notificationDetails}):e.event==="notifications_disabled"?Co.emit("notificationsDisabled"):e.event==="back_navigation_triggered"&&Co.emit("backNavigationTriggered")}});typeof window<"u"&&window.addEventListener("message",t=>{if(t instanceof MessageEvent&&t.data.type==="frameEvent"){const e=t.data.event;e.event==="primary_button_clicked"?Co.emit("primaryButtonClicked"):e.event==="miniapp_added"?Co.emit("miniAppAdded",{notificationDetails:e.notificationDetails}):e.event==="miniapp_add_rejected"?Co.emit("miniAppAddRejected",{reason:e.reason}):e.event==="miniapp_removed"?Co.emit("miniAppRemoved"):e.event==="notifications_enabled"?Co.emit("notificationsEnabled",{notificationDetails:e.notificationDetails}):e.event==="notifications_disabled"?Co.emit("notificationsDisabled"):e.event==="back_navigation_triggered"&&Co.emit("backNavigationTriggered")}});function aKt(){return x.useEffect(()=>{ASe.actions.ready()},[]),null}const lKt=()=>{const t=ur();wa();const[e,n]=x.useState(!1),[r,i]=x.useState(0);x.useEffect(()=>{const a=setTimeout(()=>{n(!0)},500),l=setInterval(()=>{i(c=>(c+1)%3)},2e3);return()=>{clearTimeout(a),clearInterval(l)}},[]);const s=x.useCallback(()=>{t("/deposit")},[t]),o=[{icon:zQ,text:"Welcome Bonus Ready"},{icon:UQ,text:"1 Lighter Point Waiting"},{icon:hTe,text:"Join Elite Farmers"}];return d.jsxs("div",{className:"min-h-screen bg-background overflow-hidden relative",children:[d.jsx(Sw,{children:e&&d.jsx(d.Fragment,{children:[...Array(20)].map((a,l)=>d.jsx(me.div,{className:"absolute w-2 h-2 bg-[#D4B679] rounded-full z-10",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},initial:{scale:0,rotate:0,opacity:0},animate:{scale:[0,1,0],rotate:[0,360,720],opacity:[0,1,0],y:[-50,50,-50],x:[-25,25,-25]},transition:{duration:3,repeat:1/0,delay:l*.1,ease:"easeInOut"}},l))})}),d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 py-6 relative z-20",children:[d.jsxs(me.div,{initial:{opacity:0,y:-50,scale:.5},animate:{opacity:1,y:0,scale:1},transition:{duration:.8,ease:"easeOut"},className:"text-center mb-8",children:[d.jsx("div",{className:"relative mb-6",children:d.jsx("img",{src:Kr,alt:"LighterFarm",className:"w-auto h-20 mx-auto"})}),d.jsx(me.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"text-4xl font-bold text-[#D4B679] mb-2",children:"Congratulations!"}),d.jsx(me.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"text-lg text-[#D4B679]/80",children:"Welcome to the LighterFarm Elite!"})]}),d.jsxs(me.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.7,duration:.8,ease:"easeOut"},className:"bg-gradient-to-br from-[#D4B679]/20 to-[#7D5A02]/10 border-2 border-[#D4B679]/30 rounded-3xl p-8 mb-8 max-w-sm w-full relative overflow-hidden",children:[d.jsx(me.div,{animate:{opacity:[.3,.6,.3],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-gradient-to-br from-[#D4B679]/10 to-transparent rounded-3xl"}),d.jsxs("div",{className:"relative z-10 text-center",children:[d.jsx(me.div,{animate:{scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,ease:"linear"},className:"w-20 h-20 bg-[#D4B679]/20 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(zQ,{className:"w-10 h-10 text-[#D4B679]"})}),d.jsx("h2",{className:"text-2xl font-bold text-[#D4B679] mb-2",children:"Welcome Bonus"}),d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[d.jsx(me.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},children:d.jsx(UQ,{className:"w-8 h-8 text-[#D4B679]"})}),d.jsx("span",{className:"text-3xl font-bold text-[#D4B679]",children:"1"}),d.jsx("span",{className:"text-xl text-[#D4B679]/80",children:"Lighter Point"})]}),d.jsx("p",{className:"text-sm text-[#D4B679]/70 leading-relaxed",children:"Your exclusive welcome bonus is ready to claim! Make your first deposit to unlock this reward."})]})]}),d.jsx(me.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1,duration:.6},className:"flex items-center justify-center gap-4 mb-8 max-w-sm w-full",children:o.map((a,l)=>d.jsxs(me.div,{className:`flex flex-col items-center gap-2 ${r===l?"opacity-100":"opacity-50"}`,animate:{scale:r===l?1.1:1,opacity:r===l?1:.5},transition:{duration:.3},children:[d.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${r===l?"bg-[#D4B679]/30 border-2 border-[#D4B679]":"bg-[#D4B679]/10 border border-[#D4B679]/30"}`,children:d.jsx(a.icon,{className:"w-6 h-6 text-[#D4B679]"})}),d.jsx("span",{className:"text-xs text-[#D4B679]/70 text-center max-w-[80px]",children:a.text})]},l))}),d.jsx(me.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.4,duration:.6},className:"w-full max-w-sm space-y-3",children:d.jsxs(Vt,{onClick:s,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white text-lg font-bold rounded-xl flex items-center justify-center gap-3 group relative overflow-hidden",children:[d.jsx(me.div,{animate:{x:[-100,100]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent"}),d.jsx("span",{className:"relative z-10",children:"Claim My Bonus Now!"}),d.jsx(me.div,{animate:{x:[0,5,0]},transition:{duration:1,repeat:1/0},children:d.jsx(jhe,{className:"w-5 h-5 relative z-10"})})]})}),d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2,duration:.6},className:"text-center mt-6 max-w-sm",children:d.jsxs("p",{className:"text-[#D4B679]/60 text-sm leading-relaxed",children:[" Limited time offer for new members only!",d.jsx("br",{}),d.jsx("span",{className:"text-[#D4B679] font-semibold",children:"Start farming now to maximize your rewards."})]})}),[...Array(8)].map((a,l)=>d.jsx(me.div,{className:"absolute w-1 h-1 bg-[#D4B679]/40 rounded-full",style:{left:`${20+l*10}%`,top:`${30+l%3*20}%`},animate:{y:[-20,-40,-20],opacity:[0,1,0],scale:[.5,1.5,.5]},transition:{duration:3+l*.2,repeat:1/0,delay:l*.3,ease:"easeInOut"}},l))]})]})},cKt=()=>{const[t,e]=x.useState(""),[n,r]=x.useState(!1),[i,s]=x.useState(!1),[o,a]=x.useState(null),{toast:l}=wa(),c=ur(),{user:u,authenticated:h,getAccessToken:f}=eo(),p=localStorage.getItem(u.id),m=JSON.parse(p),g=m.wallet_address;UAe();const[y,w]=x.useState(""),[v,b]=x.useState(0),[A,E]=x.useState(0);x.useEffect(()=>{(async()=>{if(p){const B=JSON.parse(p);B.referral_code,w(B.id)}b(m.usdl_balance||0),E(m.staked_amount||0)})()},[g,u==null?void 0:u.id]);const N=(()=>{const V=parseFloat(t)||0,B=V/100*7.9,k=414,C=V/28450*100;return{weeklyLoss:B.toFixed(1),apy:k,poolShareLoss:C.toFixed(1)}})(),R=V=>{const B=(A*V/100).toFixed(2);e(B)},j=async()=>{var V,B,k,C,S,T,_,P,L;if(!t||parseFloat(t)<=0){l({title:"Invalid Amount",description:"Please enter a valid unstake amount",variant:"destructive"});return}if(!h||!(u!=null&&u.id)){l({title:"Authentication Required",description:"Please authenticate with Privy first",variant:"destructive"});return}if(!g){l({title:"Wallet Required",description:"Please connect your wallet first",variant:"destructive"});return}if(!y){l({title:"User Data Missing",description:"Please complete registration first",variant:"destructive"});return}r(!0);try{const O={wallet_address:g,amount:t,force_unlock:"false"},I={"X-Privy-User-Id":y,"X-Wallet-Address":g,"Content-Type":"application/json",Accept:"application/json"},D=await Yt.post("/api/unstake",O,{headers:I});if(D.status===200&&((V=D.data)!=null&&V.success)){if(a(D.data.data),s(!0),e(""),window.Audio)try{const Y=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApFn+DyvmMcBS2FzvLZiDYIG2m+7+WiTAwO");Y.volume=.6,Y.play().catch(()=>{})}catch{}}else l({title:"Unstake failed",description:((k=(B=D.data)==null?void 0:B.error)==null?void 0:k.message)||((C=D.data)==null?void 0:C.error)||"Unexpected response from server",variant:"destructive"})}catch(O){console.error(" Unstake error details:",{error:O,message:O.message,name:O.name,code:O.code,isAxiosError:Yt.isAxiosError(O)});let I="Network or server error",D="Unstake Error";if(Yt.isAxiosError(O))if(O.response){const Y=O.response.status,M=O.response.data;Y===400?(D="Invalid Request",(T=(S=M==null?void 0:M.detail)==null?void 0:S.error)!=null&&T.message?I=M.detail.error.message:(_=M==null?void 0:M.error)!=null&&_.message?I=M.error.message:M!=null&&M.error?I=M.error:M!=null&&M.message?I=M.message:I="Please check your input and try again"):Y===401?(D="Authentication Failed",I=((P=M==null?void 0:M.error)==null?void 0:P.message)||"Wallet authentication failed. Please reconnect your wallet and try again."):Y===404?(D="API Endpoint Not Found",I="The API endpoint is not available. Please check if your server is running."):Y>=500?(D="Server Error",I="Server is temporarily unavailable. Please try again later"):I=((L=M==null?void 0:M.error)==null?void 0:L.message)||(M==null?void 0:M.error)||(M==null?void 0:M.message)||`Server error (${Y})`}else O.request?(D="Connection Error",I="Unable to connect to server. Please check your internet connection."):I=O.message||"Failed to make request";else O.message&&O.message.includes("access token")?(D="Authentication Error",I="Failed to authenticate. Please try logging out and back in."):O instanceof Error?I=O.message:typeof O=="string"&&(I=O);l({title:D,description:I,variant:"destructive"})}finally{r(!1)}},F=()=>{s(!1),a(null)},W=()=>{s(!1),a(null),setTimeout(()=>{const V=document.querySelector('input[type="number"]');V&&V.focus()},100)};return d.jsxs(d.Fragment,{children:[d.jsxs(gu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs("header",{className:"flex items-center justify-between py-6 relative z-10",children:[d.jsx(Vt,{variant:"ghost",size:"icon",onClick:()=>c("/farm"),className:"h-10 w-10 bg-golden-light rounded-full hover:bg-golden-light/90",children:d.jsx(of,{className:"w-8 h-8 text-background"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Unstake USDL"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"withdraw from farm"})]}),d.jsx("img",{src:Kr,alt:"",className:"h-8 w-auto"})]}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-4 relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Available to Unstake"}),d.jsxs("span",{className:"text-golden-light font-bold",children:[A.toFixed(2)," USDL"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Current Balance"}),d.jsxs("span",{className:"text-golden-light font-bold",children:[v.toFixed(2)," USDL"]})]})]}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6 relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[d.jsx("label",{className:"text-golden-light text-lg font-semibold mb-4 block",children:"Unstake Amount:"}),d.jsxs("div",{className:"border-2 text-golden-light rounded-sm px-4 py-2 mb-4 flex items-center justify-between",children:[d.jsx(vC,{type:"number",value:t,onChange:V=>e(V.target.value),placeholder:"0.00",className:"bg-transparent border-none text-golden-light text-2xl font-bold focus-visible:ring-0 focus-visible:ring-offset-0 p-0 h-auto [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),d.jsx("span",{className:"text-golden-light text-md font-semibold ml-2",children:"USDL"})]}),d.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[d.jsx(Vt,{onClick:()=>R(25),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"25%"}),d.jsx(Vt,{onClick:()=>R(50),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"50%"}),d.jsx(Vt,{onClick:()=>R(75),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"75%"}),d.jsx(Vt,{onClick:()=>R(100),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"MAX"})]})]}),d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-6 relative z-10",children:d.jsx(Vt,{onClick:j,disabled:!t||parseFloat(t)<=0||parseFloat(t)>A||n||!h||!g||!y,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white text-lg font-bold rounded-xl disabled:opacity-50 flex items-center justify-center gap-2",children:n?d.jsxs(d.Fragment,{children:[d.jsx(me.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block",children:d.jsx(GW,{className:"w-5 h-5"})}),"Unstaking..."]}):d.jsxs(d.Fragment,{children:[d.jsx(BD,{className:"w-5 h-5"}),"Unstake Now"]})})}),t&&parseFloat(t)>0&&d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6 relative z-10",children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:"Impact of Unstaking:"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Weekly Points Loss"}),d.jsxs("span",{className:"text-red-400 font-semibold",children:["-",N.weeklyLoss," points"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"You'll Receive"}),d.jsxs("span",{className:"text-green-400 font-semibold",children:["$",t," USDC"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Remaining Staked"}),d.jsxs("span",{className:"text-foreground font-semibold",children:["$",(A-parseFloat(t)).toFixed(2)," USDL"]})]})]})]}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:"Pool Statistics:"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Total Staked"}),d.jsx("span",{className:"text-foreground font-semibold",children:"$28,450"})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Your Current Share"}),d.jsxs("span",{className:"text-foreground font-semibold",children:[(A/28450*100).toFixed(2),"%"]})]})]})]}),d.jsx(Rd,{})]}),d.jsx(Lke,{isOpen:i,onClose:F,data:o,onUnstakeAgain:W})]})},uKt=()=>{const t=ur(),e=[{title:"Getting Started",description:"Learn the basics of LighterFarm",icon:d.jsx(JIe,{className:"w-6 h-6"}),items:["How to create an account","Connecting your wallet","Making your first deposit","Understanding USDL tokens"]},{title:"Farming & Staking",description:"Maximize your rewards",icon:d.jsx(dTe,{className:"w-6 h-6"}),items:["How to stake USDL","Understanding APY rates","Unstaking process","Reward calculations"]},{title:"Trading Points",description:"Buy and sell Lighter Points",icon:d.jsx(eT,{className:"w-6 h-6"}),items:["How to buy points","Selling your points","Understanding price impact","Market analysis tools"]}],n=[{title:"Contact Support",description:"Get direct help from our team",icon:d.jsx(uTe,{className:"w-5 h-5"}),action:()=>window.open("mailto:bd@melloai.health","_blank")},{title:"Documentation",description:"Read detailed guides",icon:d.jsx(Dhe,{className:"w-5 h-5"}),action:()=>window.open("https://docs.lighterfarm.com","_blank")}];return d.jsxs(gu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs("header",{className:"flex items-center justify-between py-6",children:[d.jsx(Vt,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:"h-10 w-10 bg-[#D4B679] rounded-full hover:bg-[#A07715]",children:d.jsx(of,{className:"w-8 h-8 text-black"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-[#D4B679]",children:"Help and Support"}),d.jsx("p",{className:"text-sm text-[#D4B679]/80",children:"Get help and tutorials"})]}),d.jsx("img",{src:Kr,alt:"",className:"h-8 w-auto"})]}),d.jsxs(me.div,{className:"bg-[#2a2929] border border-[#a07715]/20 rounded-2xl p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-12 h-12 bg-[#a07715] rounded-full flex items-center justify-center",children:d.jsx(Mhe,{className:"w-6 h-6 text-black"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold text-[#a07715]",children:"Need Help?"}),d.jsx("p",{className:"text-sm text-gray-400",children:"We're here to help you succeed"})]})]}),d.jsx("p",{className:"text-[#a07715] text-sm",children:"Find answers to common questions, watch tutorials, or contact our support team directly."})]}),d.jsxs(me.div,{className:"mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[d.jsx("h3",{className:"text-lg font-bold text-[#D4B679] mb-4",children:"Quick Actions"}),d.jsx("div",{className:"grid gap-3",children:n.map((r,i)=>d.jsxs(me.button,{onClick:r.action,className:"bg-[#2a2929] border border-[#D4B679]/20 rounded-xl p-4 flex items-center gap-4 hover:bg-[#3a3939] transition-colors group",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx("div",{className:"w-10 h-10 bg-[#D4B679]/20 rounded-full flex items-center justify-center group-hover:bg-[#D4B679]/30 transition-colors",children:r.icon}),d.jsxs("div",{className:"flex-1 text-left",children:[d.jsx("h4",{className:"text-[#D4B679] font-semibold",children:r.title}),d.jsx("p",{className:"text-gray-400 text-sm",children:r.description})]}),d.jsx("div",{className:"w-6 h-6 bg-[#D4B679] rounded-full flex items-center justify-center",children:d.jsx(E3,{className:"w-3 h-3 text-black"})})]},i))})]}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsx("h3",{className:"text-lg font-bold text-[#D4B679] mb-4",children:"Help Topics"}),d.jsx("div",{className:"space-y-4",children:e.map((r,i)=>d.jsxs(me.div,{className:"bg-[#2a2929] border border-[#D4B679]/20 rounded-xl p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+i*.1},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-10 h-10 bg-[#D4B679]/20 rounded-full flex items-center justify-center",children:r.icon}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-[#D4B679] font-semibold",children:r.title}),d.jsx("p",{className:"text-gray-400 text-sm",children:r.description})]})]}),d.jsx("div",{className:"space-y-2",children:r.items.map((s,o)=>d.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-[#3a3939] transition-colors cursor-pointer",children:[d.jsx("div",{className:"w-2 h-2 bg-[#D4B679] rounded-full"}),d.jsx("span",{className:"text-gray-300 text-sm",children:s})]},o))})]},i))})]}),d.jsxs(me.div,{className:"mt-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[d.jsx("h3",{className:"text-lg font-bold text-[#D4B679] mb-4",children:"Frequently Asked Questions"}),d.jsx("div",{className:"bg-[#2a2929] border border-[#D4B679]/20 rounded-xl p-6",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"border-b border-[#D4B679]/10 pb-4",children:[d.jsx("h4",{className:"text-[#D4B679] font-semibold mb-2",children:"What is USDL?"}),d.jsx("p",{className:"text-gray-300 text-sm",children:"USDL is our platform token used for farming and earning rewards on LighterFarm."})]}),d.jsxs("div",{className:"border-b border-[#D4B679]/10 pb-4",children:[d.jsx("h4",{className:"text-[#D4B679] font-semibold mb-2",children:"How do I earn rewards?"}),d.jsx("p",{className:"text-gray-300 text-sm",children:"Stake your USDL tokens to earn points and participate in our farming ecosystem."})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-[#D4B679] font-semibold mb-2",children:"Is my wallet secure?"}),d.jsx("p",{className:"text-gray-300 text-sm",children:"Yes, we use industry-standard security measures and your private keys remain in your control."})]})]})})]}),d.jsx(Rd,{})]})},dKt=()=>{const t=ur(),e=[{name:"Telegram",description:"Join our main community chat",icon:d.jsx("svg",{className:"w-8 h-8 ",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z"})}),members:"12.5K",url:"https://t.me/+sKmppf_5gNo5YzRl",color:"bg-blue-500"},{name:"Twitter (X)",description:"Follow us for latest updates",icon:d.jsx("svg",{className:"w-6 h-6 ",viewBox:"0 0 23 24",fill:"currentColor",children:d.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),members:"8.2K",url:"https://x.com/LighterFarm",color:"bg-black"},{name:"Website",description:"Visit our official website",icon:d.jsx(iTe,{className:"w-6 h-6"}),members:"Official",url:"https://lighter.farm",color:"bg-[#D4B679]"}],n=[{title:"Community Rewards",description:"Earn points for active participation",icon:d.jsx(WQ,{className:"w-5 h-5"}),reward:"+50 points"},{title:"Daily Discussions",description:"Join daily market discussions",icon:d.jsx(eT,{className:"w-5 h-5"}),reward:"+10 points"},{title:"Event Notifications",description:"Get notified about special events",icon:d.jsx(ZIe,{className:"w-5 h-5"}),reward:"Exclusive"}],r=[{type:"announcement",title:"New Staking Rewards Program",time:"2 hours ago",preview:"Introducing enhanced APY rates for long-term stakers..."},{type:"update",title:"Platform Maintenance Complete",time:"6 hours ago",preview:"All systems are now running smoothly after the scheduled update..."},{type:"event",title:"Community AMA Session",time:"1 day ago",preview:"Join us for a live Q&A session with the development team..."}],i=s=>{window.open(s,"_blank")};return d.jsxs(gu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs("header",{className:"flex items-center justify-between py-6",children:[d.jsx(Vt,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:"h-10 w-10 bg-[#D4B679] rounded-full hover:bg-[#A07715]",children:d.jsx(of,{className:"w-8 h-8 text-black"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-[#D4B679]",children:"Community"}),d.jsx("p",{className:"text-sm text-[#D4B679]/80",children:"Join our telegram and X (formerly twitter)"})]}),d.jsx("img",{src:Kr,alt:"",className:"h-8 w-auto"})]}),d.jsxs(me.div,{className:"bg-[#2a2929] border border-[#a07715]/20 rounded-2xl p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-12 h-12 bg-[#a07715] rounded-full flex items-center justify-center",children:d.jsx(WQ,{className:"w-6 h-6 text-black"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold text-[#a07715]",children:"Join Our Community"}),d.jsx("p",{className:"text-sm text-gray-400",children:"Connect with fellow farmers"})]})]}),d.jsx("p",{className:"text-[#a07715] text-sm",children:"Be part of our growing community! Get the latest updates, participate in discussions, and earn rewards."})]}),d.jsxs(me.div,{className:"mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[d.jsx("h3",{className:"text-lg font-bold text-[#D4B679] mb-4",children:"Connect With Us"}),d.jsx("div",{className:"grid gap-3",children:e.map((s,o)=>d.jsxs(me.button,{onClick:()=>i(s.url),className:"bg-[#2a2929] border border-[#D4B679]/20 rounded-xl p-4 flex items-center gap-4 hover:bg-[#3a3939] transition-colors group",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx("div",{className:"w-12 h-12 bg-[#D4B679]/20 rounded-full flex items-center justify-center",children:s.icon}),d.jsxs("div",{className:"flex-1 text-left",children:[d.jsx("h4",{className:"text-[#D4B679] font-semibold",children:s.name}),d.jsx("p",{className:"text-gray-400 text-sm",children:s.description})]}),d.jsx("div",{className:"w-6 h-6 bg-[#D4B679] rounded-full flex items-center justify-center",children:d.jsx(E3,{className:"w-3 h-3 text-black"})})]},o))})]}),d.jsxs(me.div,{className:"mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsx("h3",{className:"text-lg font-bold text-[#D4B679] mb-4",children:"Community Benefits"}),d.jsx("div",{className:"grid gap-3",children:n.map((s,o)=>d.jsxs(me.div,{className:"bg-[#2a2929] border border-[#D4B679]/20 rounded-xl p-4 flex items-center gap-4",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+o*.1},children:[d.jsx("div",{className:"w-10 h-10 bg-[#D4B679]/20 rounded-full flex items-center justify-center",children:s.icon}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"text-[#D4B679] font-semibold",children:s.title}),d.jsx("p",{className:"text-gray-400 text-sm",children:s.description})]}),d.jsx("div",{className:"bg-[#D4B679]/10 text-gray-400 px-3 py-1 rounded-full text-xs font-extalight",children:s.reward})]},o))})]}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[d.jsx("h3",{className:"text-lg font-bold text-[#D4B679] mb-4",children:"Recent Updates"}),d.jsx("div",{className:"bg-[#2a2929] border border-[#D4B679]/20 rounded-xl p-6",children:d.jsx("div",{className:"space-y-4",children:r.map((s,o)=>d.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-[#3a3939] transition-colors cursor-pointer",children:[d.jsx("div",{className:"w-8 h-8 bg-[#D4B679]/20 rounded-full flex items-center justify-center mt-1",children:d.jsx(wA,{className:"w-4 h-4 text-[#D4B679]"})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("h4",{className:"text-[#D4B679] font-semibold text-sm",children:s.title}),d.jsx("span",{className:"text-gray-500 text-xs",children:s.time})]}),d.jsx("p",{className:"text-gray-300 text-sm",children:s.preview})]})]},o))})})]}),d.jsx(Rd,{})]})},hKt=new PPe,Ec=({children:t})=>{const{authenticated:e,ready:n}=eo(),r=r0();return n?e?d.jsx(d.Fragment,{children:t}):d.jsx(XD,{to:"/",state:{from:r},replace:!0}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-golden-light mx-auto mb-4"}),d.jsx("p",{className:"text-golden-light font-extralight",children:"Loading..."})]})})},Xg=({children:t})=>{const{authenticated:e,ready:n}=eo(),r=r0();if(!n)return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-golden-light mx-auto mb-4"}),d.jsx("p",{className:"text-golden-light font-extralight",children:"Loading..."})]})});if(e){const i=["/onboarding/1","/onboarding/2","/onboarding/3","/wallet-connect","/wallet-connect/success","/invite-only"];if(r.pathname==="/")return d.jsx(XD,{to:"/dashboard",replace:!0});if(!i.includes(r.pathname))return d.jsx(XD,{to:"/dashboard",replace:!0})}return d.jsx(d.Fragment,{children:t})},fKt=({children:t})=>{const{authenticated:e,ready:n,user:r}=eo(),i=ur(),s=r0(),[o,a]=x.useState(!1),l=x.useRef(s.pathname),c=["/","/onboarding/1","/onboarding/2","/onboarding/3","/wallet-connect","/wallet-connect/success","/invite-only"],u=["/welcome-congratulations","/dashboard","/deposit","/farm","unstake","/trade","/referrals","/profile","/help","/community","/history"],h=p=>c.includes(p),f=p=>u.some(m=>p.startsWith(m));return x.useEffect(()=>{var p,m;if(n&&!o){if(console.log("Auth state changed:",{authenticated:e,ready:n,user:!!r,currentPath:s.pathname,previousPath:l.current}),e&&r){const g=(m=(p=s.state)==null?void 0:p.from)==null?void 0:m.pathname;g&&f(g)?(console.log("Redirecting to intended protected destination:",g),i(g,{replace:!0})):s.pathname==="/"&&(console.log("Authenticated user on splash, redirecting to dashboard"),i("/dashboard",{replace:!0})),a(!0)}else if(!e&&n){const g=s.pathname,y=l.current;f(g)&&(console.log("Unauthenticated user accessing protected route:",g),h(y)?(console.log("Redirecting back to previous public page:",y),i(y,{replace:!0,state:{from:s}})):(console.log("Redirecting to splash page"),i("/",{replace:!0,state:{from:s}}))),a(!0)}}l.current=s.pathname},[e,n,r,i,s,o]),x.useEffect(()=>{const p=h(s.pathname),m=f(s.pathname),g=h(l.current),y=f(l.current);(p&&y||m&&g)&&a(!1)},[s.pathname]),d.jsx(d.Fragment,{children:t})},pKt=({children:t})=>{const{authenticated:e,ready:n}=eo(),r=r0(),i=ur(),[s,o]=x.useState("/"),a=["/","/onboarding/1","/onboarding/2","/onboarding/3","/wallet-connect","/wallet-connect/success","/invite-only"],l=["/welcome-congratulations","/dashboard","/deposit","/farm","unstake","/trade","/referrals","/profile","/help","/community","/history"],c=h=>a.includes(h),u=h=>l.some(f=>h.startsWith(f));return x.useEffect(()=>{c(r.pathname)&&(o(r.pathname),console.log("Updated last public route:",r.pathname))},[r.pathname]),x.useEffect(()=>{n&&!e&&u(r.pathname)&&(console.log("Intercepting navigation to protected route:",r.pathname),console.log("Redirecting back to last public route:",s),i(s,{replace:!0,state:{from:r,message:"Please complete authentication to access this page"}}))},[n,e,r.pathname,s,i]),d.jsx(d.Fragment,{children:t})},mKt=()=>d.jsx(pKt,{children:d.jsx(fKt,{children:d.jsxs(ERe,{children:[d.jsx(xi,{path:"/",element:d.jsx(Xg,{children:d.jsx(ZDe,{})})}),d.jsx(xi,{path:"/onboarding/1",element:d.jsx(Xg,{children:d.jsx(eBe,{})})}),d.jsx(xi,{path:"/onboarding/2",element:d.jsx(Xg,{children:d.jsx(tBe,{})})}),d.jsx(xi,{path:"/onboarding/3",element:d.jsx(Xg,{children:d.jsx(nBe,{})})}),d.jsx(xi,{path:"/wallet-connect",element:d.jsx(Xg,{children:d.jsx(BOt,{})})}),d.jsx(xi,{path:"/wallet-connect/success",element:d.jsx(Xg,{children:d.jsx(bDt,{})})}),d.jsx(xi,{path:"/invite-only",element:d.jsx(Xg,{children:d.jsx(vDt,{})})}),d.jsx(xi,{path:"/welcome-congratulations",element:d.jsx(Ec,{children:d.jsx(lKt,{})})}),d.jsx(xi,{path:"/dashboard",element:d.jsx(Ec,{children:d.jsx(TDt,{})})}),d.jsx(xi,{path:"/deposit",element:d.jsx(Ec,{children:d.jsx(fzt,{})})}),d.jsx(xi,{path:"/deposit/success",element:d.jsx(Ec,{children:d.jsx(pzt,{})})}),d.jsx(xi,{path:"/farm",element:d.jsx(Ec,{children:d.jsx(gzt,{})})}),d.jsx(xi,{path:"/unstake",element:d.jsx(Ec,{children:d.jsx(cKt,{})})}),d.jsx(xi,{path:"/trade",element:d.jsx(Ec,{children:d.jsx(bzt,{})})}),d.jsx(xi,{path:"/referrals",element:d.jsx(Ec,{children:d.jsx(Ezt,{})})}),d.jsx(xi,{path:"/history",element:d.jsx(Ec,{children:d.jsx(Czt,{})})}),d.jsx(xi,{path:"/profile",element:d.jsx(Ec,{children:d.jsx(Azt,{})})}),d.jsx(xi,{path:"/help",element:d.jsx(Ec,{children:d.jsx(uKt,{})})}),d.jsx(xi,{path:"/community",element:d.jsx(Ec,{children:d.jsx(dKt,{})})}),d.jsx(xi,{path:"*",element:d.jsx(kzt,{})})]})})}),gKt=()=>d.jsxs(d.Fragment,{children:[d.jsx(aKt,{}),d.jsx(MOt,{appId:Szt,config:{appearance:{theme:"dark",accentColor:"#D4B679",logo:Kr},loginMethods:["email","wallet"],embeddedWallets:{ethereum:{createOnLogin:"users-without-wallets"}}},children:d.jsx(jPe,{client:hKt,children:d.jsxs(sPe,{children:[d.jsx(YTe,{}),d.jsx(_$e,{}),d.jsx(kRe,{children:d.jsx(mKt,{})})]})})})]});ASe.actions.ready();nhe(document.getElementById("root")).render(d.jsx(gKt,{}));export{Vp as $,rUe as A,lUe as B,Qa as C,FUe as D,hWe as E,HB as F,Hge as G,Zl as H,mg as I,Rw as J,ol as K,wT as L,cQe as M,E1e as N,Oi as O,D3 as P,uV as Q,Lp as R,_We as S,WZt as T,MKt as U,ss as V,Wp as W,B3 as X,c1e as Y,Hp as Z,hr as _,rge as a,nh as a$,Ro as a0,C5e as a1,_ie as a2,V3t as a3,H3t as a4,eye as a5,EQe as a6,Tx as a7,_i as a8,x1 as a9,oxe as aA,xF as aB,va as aC,ul as aD,lc as aE,J$ as aF,R5t as aG,$3t as aH,s5t as aI,aC as aJ,pu as aK,U6t as aL,bG as aM,eN as aN,fE as aO,zw as aP,zq as aQ,vh as aR,kre as aS,a3e as aT,rwt as aU,Yp as aV,ow as aW,zm as aX,X$ as aY,rh as aZ,Mc as a_,xp as aa,oge as ab,pi as ac,vFe as ad,j3 as ae,YKt as af,pd as ag,RA as ah,JH as ai,Wa as aj,oVe as ak,C1e as al,m8 as am,O9 as an,wv as ao,FB as ap,Sre as aq,Uw as ar,Mh as as,axe as at,tt as au,iw as av,Wq as aw,XA as ax,ebt as ay,Npt as az,Lme as b,$d as b0,nV as b1,$T as b2,xWe as b3,TT as b4,r4 as b5,gxe as b6,aQt as b7,B$ as b8,sE as b9,x7 as ba,sw as bb,v7 as bc,lQt as bd,uQt as be,kmt as bf,ZA as bg,R3 as c,wUe as d,FKt as e,Iw as f,_ye as g,md as h,nl as i,FU as j,tae as k,Fr as l,Ks as m,$t as n,Xc as o,N3 as p,BWe as q,Ws as r,kx as s,bd as t,Rme as u,Pt as v,hL as w,ze as x,vPt as y,jA as z};
